var LW=Object.defineProperty;var UW=(t,e,n)=>e in t?LW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var HA=(t,e,n)=>UW(t,typeof e!="symbol"?e+"":e,n);function FW(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function fl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qA={exports:{}},c0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function kW(){if(n3)return c0;n3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var s in r)s!=="key"&&(a[s]=r[s])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:a}}return c0.Fragment=e,c0.jsx=n,c0.jsxs=n,c0}var i3;function BW(){return i3||(i3=1,qA.exports=kW()),qA.exports}var re=BW(),WA={exports:{}},ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function zW(){if(r3)return ln;r3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function A(H,te,ie){this.props=H,this.context=te,this.refs=S,this.updater=ie||b}A.prototype.isReactComponent={},A.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=A.prototype;function I(H,te,ie){this.props=H,this.context=te,this.refs=S,this.updater=ie||b}var N=I.prototype=new R;N.constructor=I,T(N,A.prototype),N.isPureReactComponent=!0;var D=Array.isArray;function O(){}var F={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U(H,te,ie){var ce=ie.ref;return{$$typeof:t,type:H,key:te,ref:ce!==void 0?ce:null,props:ie}}function B(H,te){return U(H.type,te,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function W(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return te[ie]})}var Y=/\/+/g;function Q(H,te){return typeof H=="object"&&H!==null&&H.key!=null?W(""+H.key):te.toString(36)}function ae(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(O,O):(H.status="pending",H.then(function(te){H.status==="pending"&&(H.status="fulfilled",H.value=te)},function(te){H.status==="pending"&&(H.status="rejected",H.reason=te)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function X(H,te,ie,ce,ye){var oe=typeof H;(oe==="undefined"||oe==="boolean")&&(H=null);var le=!1;if(H===null)le=!0;else switch(oe){case"bigint":case"string":case"number":le=!0;break;case"object":switch(H.$$typeof){case t:case e:le=!0;break;case d:return le=H._init,X(le(H._payload),te,ie,ce,ye)}}if(le)return ye=ye(H),le=ce===""?"."+Q(H,0):ce,D(ye)?(ie="",le!=null&&(ie=le.replace(Y,"$&/")+"/"),X(ye,te,ie,"",function(De){return De})):ye!=null&&(j(ye)&&(ye=B(ye,ie+(ye.key==null||H&&H.key===ye.key?"":(""+ye.key).replace(Y,"$&/")+"/")+le)),te.push(ye)),1;le=0;var Se=ce===""?".":ce+":";if(D(H))for(var he=0;he<H.length;he++)ce=H[he],oe=Se+Q(ce,he),le+=X(ce,te,ie,oe,ye);else if(he=y(H),typeof he=="function")for(H=he.call(H),he=0;!(ce=H.next()).done;)ce=ce.value,oe=Se+Q(ce,he++),le+=X(ce,te,ie,oe,ye);else if(oe==="object"){if(typeof H.then=="function")return X(ae(H),te,ie,ce,ye);throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return le}function ne(H,te,ie){if(H==null)return H;var ce=[],ye=0;return X(H,ce,"","",function(oe){return te.call(ie,oe,ye++)}),ce}function ge(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var pe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},de={map:ne,forEach:function(H,te,ie){ne(H,function(){te.apply(this,arguments)},ie)},count:function(H){var te=0;return ne(H,function(){te++}),te},toArray:function(H){return ne(H,function(te){return te})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ln.Activity=p,ln.Children=de,ln.Component=A,ln.Fragment=n,ln.Profiler=r,ln.PureComponent=I,ln.StrictMode=i,ln.Suspense=u,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ln.__COMPILER_RUNTIME={__proto__:null,c:function(H){return F.H.useMemoCache(H)}},ln.cache=function(H){return function(){return H.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(H,te,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ce=T({},H.props),ye=H.key;if(te!=null)for(oe in te.key!==void 0&&(ye=""+te.key),te)!z.call(te,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&te.ref===void 0||(ce[oe]=te[oe]);var oe=arguments.length-2;if(oe===1)ce.children=ie;else if(1<oe){for(var le=Array(oe),Se=0;Se<oe;Se++)le[Se]=arguments[Se+2];ce.children=le}return U(H.type,ye,ce)},ln.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},ln.createElement=function(H,te,ie){var ce,ye={},oe=null;if(te!=null)for(ce in te.key!==void 0&&(oe=""+te.key),te)z.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=te[ce]);var le=arguments.length-2;if(le===1)ye.children=ie;else if(1<le){for(var Se=Array(le),he=0;he<le;he++)Se[he]=arguments[he+2];ye.children=Se}if(H&&H.defaultProps)for(ce in le=H.defaultProps,le)ye[ce]===void 0&&(ye[ce]=le[ce]);return U(H,oe,ye)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(H){return{$$typeof:s,render:H}},ln.isValidElement=j,ln.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:ge}},ln.memo=function(H,te){return{$$typeof:c,type:H,compare:te===void 0?null:te}},ln.startTransition=function(H){var te=F.T,ie={};F.T=ie;try{var ce=H(),ye=F.S;ye!==null&&ye(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(O,pe)}catch(oe){pe(oe)}finally{te!==null&&ie.types!==null&&(te.types=ie.types),F.T=te}},ln.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ln.use=function(H){return F.H.use(H)},ln.useActionState=function(H,te,ie){return F.H.useActionState(H,te,ie)},ln.useCallback=function(H,te){return F.H.useCallback(H,te)},ln.useContext=function(H){return F.H.useContext(H)},ln.useDebugValue=function(){},ln.useDeferredValue=function(H,te){return F.H.useDeferredValue(H,te)},ln.useEffect=function(H,te){return F.H.useEffect(H,te)},ln.useEffectEvent=function(H){return F.H.useEffectEvent(H)},ln.useId=function(){return F.H.useId()},ln.useImperativeHandle=function(H,te,ie){return F.H.useImperativeHandle(H,te,ie)},ln.useInsertionEffect=function(H,te){return F.H.useInsertionEffect(H,te)},ln.useLayoutEffect=function(H,te){return F.H.useLayoutEffect(H,te)},ln.useMemo=function(H,te){return F.H.useMemo(H,te)},ln.useOptimistic=function(H,te){return F.H.useOptimistic(H,te)},ln.useReducer=function(H,te,ie){return F.H.useReducer(H,te,ie)},ln.useRef=function(H){return F.H.useRef(H)},ln.useState=function(H){return F.H.useState(H)},ln.useSyncExternalStore=function(H,te,ie){return F.H.useSyncExternalStore(H,te,ie)},ln.useTransition=function(){return F.H.useTransition()},ln.version="19.2.3",ln}var a3;function Tg(){return a3||(a3=1,WA.exports=zW()),WA.exports}var G=Tg();const Ul=fl(G),GW=FW({__proto__:null,default:Ul},[G]);var jA={exports:{}},f0={},XA={exports:{}},YA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function VW(){return o3||(o3=1,(function(t){function e(X,ne){var ge=X.length;X.push(ne);e:for(;0<ge;){var pe=ge-1>>>1,de=X[pe];if(0<r(de,ne))X[pe]=ne,X[ge]=de,ge=pe;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ne=X[0],ge=X.pop();if(ge!==ne){X[0]=ge;e:for(var pe=0,de=X.length,H=de>>>1;pe<H;){var te=2*(pe+1)-1,ie=X[te],ce=te+1,ye=X[ce];if(0>r(ie,ge))ce<de&&0>r(ye,ie)?(X[pe]=ye,X[ce]=ge,pe=ce):(X[pe]=ie,X[te]=ge,pe=te);else if(ce<de&&0>r(ye,ge))X[pe]=ye,X[ce]=ge,pe=ce;else break e}}return ne}function r(X,ne){var ge=X.sortIndex-ne.sortIndex;return ge!==0?ge:X.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],c=[],d=1,p=null,v=3,y=!1,b=!1,T=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var ne=n(c);ne!==null;){if(ne.callback===null)i(c);else if(ne.startTime<=X)i(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function D(X){if(T=!1,N(X),!b)if(n(u)!==null)b=!0,O||(O=!0,W());else{var ne=n(c);ne!==null&&ae(D,ne.startTime-X)}}var O=!1,F=-1,z=5,U=-1;function B(){return S?!0:!(t.unstable_now()-U<z)}function j(){if(S=!1,O){var X=t.unstable_now();U=X;var ne=!0;try{e:{b=!1,T&&(T=!1,R(F),F=-1),y=!0;var ge=v;try{t:{for(N(X),p=n(u);p!==null&&!(p.expirationTime>X&&B());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,v=p.priorityLevel;var de=pe(p.expirationTime<=X);if(X=t.unstable_now(),typeof de=="function"){p.callback=de,N(X),ne=!0;break t}p===n(u)&&i(u),N(X)}else i(u);p=n(u)}if(p!==null)ne=!0;else{var H=n(c);H!==null&&ae(D,H.startTime-X),ne=!1}}break e}finally{p=null,v=ge,y=!1}ne=void 0}}finally{ne?W():O=!1}}}var W;if(typeof I=="function")W=function(){I(j)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=j,W=function(){Q.postMessage(null)}}else W=function(){A(j,0)};function ae(X,ne){F=A(function(){X(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ge=v;v=ne;try{return X()}finally{v=ge}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=v;v=X;try{return ne()}finally{v=ge}},t.unstable_scheduleCallback=function(X,ne,ge){var pe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?pe+ge:pe):ge=pe,X){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ge+de,X={id:d++,callback:ne,priorityLevel:X,startTime:ge,expirationTime:de,sortIndex:-1},ge>pe?(X.sortIndex=ge,e(c,X),n(u)===null&&X===n(c)&&(T?(R(F),F=-1):T=!0,ae(D,ge-pe))):(X.sortIndex=de,e(u,X),b||y||(b=!0,O||(O=!0,W()))),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var ne=v;return function(){var ge=v;v=ne;try{return X.apply(this,arguments)}finally{v=ge}}}})(YA)),YA}var s3;function BB(){return s3||(s3=1,XA.exports=VW()),XA.exports}var $A={exports:{}},za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3;function HW(){if(l3)return za;l3=1;var t=Tg();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,c,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,za.createPortal=function(u,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,d)},za.flushSync=function(u){var c=o.T,d=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=c,i.p=d,i.d.f()}},za.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(u,c))},za.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},za.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var d=c.as,p=s(d,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?i.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:y}):d==="script"&&i.d.X(u,{crossOrigin:p,integrity:v,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},za.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);i.d.M(u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(u)},za.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,p=s(d,c.crossOrigin);i.d.L(u,d,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},za.preloadModule=function(u,c){if(typeof u=="string")if(c){var d=s(c.as,c.crossOrigin);i.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(u)},za.requestFormReset=function(u){i.d.r(u)},za.unstable_batchedUpdates=function(u,c){return u(c)},za.useFormState=function(u,c,d){return o.H.useFormState(u,c,d)},za.useFormStatus=function(){return o.H.useHostTransitionStatus()},za.version="19.2.3",za}var u3;function zB(){if(u3)return $A.exports;u3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$A.exports=HW(),$A.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function qW(){if(c3)return f0;c3=1;var t=BB(),e=Tg(),n=zB();function i(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function o(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function s(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(i(188))}function c(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(i(188));return f!==l?null:l}for(var g=l,_=f;;){var C=g.return;if(C===null)break;var P=C.alternate;if(P===null){if(_=C.return,_!==null){g=_;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===g)return u(C),l;if(P===_)return u(C),f;P=P.sibling}throw Error(i(188))}if(g.return!==_.return)g=C,_=P;else{for(var V=!1,ee=C.child;ee;){if(ee===g){V=!0,g=C,_=P;break}if(ee===_){V=!0,_=C,g=P;break}ee=ee.sibling}if(!V){for(ee=P.child;ee;){if(ee===g){V=!0,g=P,_=C;break}if(ee===_){V=!0,_=P,g=C;break}ee=ee.sibling}if(!V)throw Error(i(189))}}if(g.alternate!==_)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function W(l){return l===null||typeof l!="object"?null:(l=j&&l[j]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function Q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case U:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case I:return l.displayName||"Context";case R:return(l._context.displayName||"Context")+".Consumer";case N:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return f=l.displayName||null,f!==null?f:Q(l.type)||"Memo";case z:f=l._payload,l=l._init;try{return Q(l(f))}catch{}}return null}var ae=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},pe=[],de=-1;function H(l){return{current:l}}function te(l){0>de||(l.current=pe[de],pe[de]=null,de--)}function ie(l,f){de++,pe[de]=l.current,l.current=f}var ce=H(null),ye=H(null),oe=H(null),le=H(null);function Se(l,f){switch(ie(oe,f),ie(ye,l),ie(ce,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?AD(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=AD(f),l=MD(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}te(ce),ie(ce,l)}function he(){te(ce),te(ye),te(oe)}function De(l){l.memoizedState!==null&&ie(le,l);var f=ce.current,g=MD(f,l.type);f!==g&&(ie(ye,l),ie(ce,g))}function Fe(l){ye.current===l&&(te(ce),te(ye)),le.current===l&&(te(le),o0._currentValue=ge)}var ve,ct;function Ee(l){if(ve===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ve=f&&f[1]||"",ct=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+l+ct}var Oe=!1;function Me(l,f){if(!l||Oe)return"";Oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Qe){var qe=Qe}Reflect.construct(l,[],ft)}else{try{ft.call()}catch(Qe){qe=Qe}l.call(ft.prototype)}}else{try{throw Error()}catch(Qe){qe=Qe}(ft=l())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Qe){if(Qe&&qe&&typeof Qe.stack=="string")return[Qe.stack,qe.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=_.DetermineComponentFrameRoot(),V=P[0],ee=P[1];if(V&&ee){var _e=V.split(`
`),ze=ee.split(`
`);for(C=_=0;_<_e.length&&!_e[_].includes("DetermineComponentFrameRoot");)_++;for(;C<ze.length&&!ze[C].includes("DetermineComponentFrameRoot");)C++;if(_===_e.length||C===ze.length)for(_=_e.length-1,C=ze.length-1;1<=_&&0<=C&&_e[_]!==ze[C];)C--;for(;1<=_&&0<=C;_--,C--)if(_e[_]!==ze[C]){if(_!==1||C!==1)do if(_--,C--,0>C||_e[_]!==ze[C]){var rt=`
`+_e[_].replace(" at new "," at ");return l.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",l.displayName)),rt}while(1<=_&&0<=C);break}}}finally{Oe=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Ee(g):""}function Je(l,f){switch(l.tag){case 26:case 27:case 5:return Ee(l.type);case 16:return Ee("Lazy");case 13:return l.child!==f&&f!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Me(l.type,!1);case 11:return Me(l.type.render,!1);case 1:return Me(l.type,!0);case 31:return Ee("Activity");default:return""}}function K(l){try{var f="",g=null;do f+=Je(l,g),g=l,l=l.return;while(l);return f}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var at=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,$=t.unstable_requestPaint,q=t.unstable_now,fe=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,Te=t.unstable_NormalPriority,ot=t.unstable_LowPriority,it=t.unstable_IdlePriority,mt=t.log,xt=t.unstable_setDisableYieldValue,We=null,Ke=null;function et(l){if(typeof mt=="function"&&xt(l),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(We,l)}catch{}}var ue=Math.clz32?Math.clz32:me,we=Math.log,ht=Math.LN2;function me(l){return l>>>=0,l===0?32:31-(we(l)/ht|0)|0}var Ye=256,tt=262144,vt=4194304;function nt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Be(l,f,g){var _=l.pendingLanes;if(_===0)return 0;var C=0,P=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var ee=_&134217727;return ee!==0?(_=ee&~P,_!==0?C=nt(_):(V&=ee,V!==0?C=nt(V):g||(g=ee&~l,g!==0&&(C=nt(g))))):(ee=_&~P,ee!==0?C=nt(ee):V!==0?C=nt(V):g||(g=_&~l,g!==0&&(C=nt(g)))),C===0?0:f!==0&&f!==C&&(f&P)===0&&(P=C&-C,g=f&-f,P>=g||P===32&&(g&4194048)!==0)?f:C}function lt(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function Et(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function St(){var l=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),l}function Lt(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function vn(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function wn(l,f,g,_,C,P){var V=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ee=l.entanglements,_e=l.expirationTimes,ze=l.hiddenUpdates;for(g=V&~g;0<g;){var rt=31-ue(g),ft=1<<rt;ee[rt]=0,_e[rt]=-1;var qe=ze[rt];if(qe!==null)for(ze[rt]=null,rt=0;rt<qe.length;rt++){var Qe=qe[rt];Qe!==null&&(Qe.lane&=-536870913)}g&=~ft}_!==0&&Qn(l,_,0),P!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=P&~(V&~f))}function Qn(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var _=31-ue(f);l.entangledLanes|=f,l.entanglements[_]=l.entanglements[_]|1073741824|g&261930}function nr(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var _=31-ue(g),C=1<<_;C&f|l[_]&f&&(l[_]|=f),g&=~C}}function Jr(l,f){var g=f&-f;return g=(g&42)!==0?1:xr(g),(g&(l.suspendedLanes|f))!==0?0:g}function xr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Sr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function pa(){var l=ne.p;return l!==0?l:(l=window.event,l===void 0?32:$D(l.type))}function ai(l,f){var g=ne.p;try{return ne.p=l,f()}finally{ne.p=g}}var $n=Math.random().toString(36).slice(2),zn="__reactFiber$"+$n,Di="__reactProps$"+$n,Fr="__reactContainer$"+$n,ma="__reactEvents$"+$n,Zr="__reactListeners$"+$n,$a="__reactHandles$"+$n,es="__reactResources$"+$n,Ka="__reactMarker$"+$n;function So(l){delete l[zn],delete l[Di],delete l[ma],delete l[Zr],delete l[$a]}function Ra(l){var f=l[zn];if(f)return f;for(var g=l.parentNode;g;){if(f=g[Fr]||g[zn]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=DD(l);l!==null;){if(g=l[zn])return g;l=DD(l)}return f}l=g,g=l.parentNode}return null}function Ja(l){if(l=l[zn]||l[Fr]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Eo(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(i(33))}function Ot(l){var f=l[es];return f||(f=l[es]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Z(l){l[Ka]=!0}var Ae=new Set,He={};function Ue(l,f){Ie(l,f),Ie(l+"Capture",f)}function Ie(l,f){for(He[l]=f,l=0;l<f.length;l++)Ae.add(f[l])}var yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),At={},pt={};function Pt(l){return at.call(pt,l)?!0:at.call(At,l)?!1:yt.test(l)?pt[l]=!0:(At[l]=!0,!1)}function Nt(l,f,g){if(Pt(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function Vt(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function Dt(l,f,g,_){if(_===null)l.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+_)}}function qt(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function yn(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function qn(l,f,g){var _=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var C=_.get,P=_.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return C.call(this)},set:function(V){g=""+V,P.call(this,V)}}),Object.defineProperty(l,f,{enumerable:_.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Pn(l){if(!l._valueTracker){var f=yn(l)?"checked":"value";l._valueTracker=qn(l,f,""+l[f])}}function Jt(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),_="";return l&&(_=yn(l)?l.checked?"true":"false":l.value),l=_,l!==g?(f.setValue(l),!0):!1}function Tt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var xn=/[\n"\\]/g;function Bt(l){return l.replace(xn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Oi(l,f,g,_,C,P,V,ee){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),f!=null?V==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+qt(f)):l.value!==""+qt(f)&&(l.value=""+qt(f)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),f!=null?Gn(l,V,qt(f)):g!=null?Gn(l,V,qt(g)):_!=null&&l.removeAttribute("value"),C==null&&P!=null&&(l.defaultChecked=!!P),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?l.name=""+qt(ee):l.removeAttribute("name")}function Qr(l,f,g,_,C,P,V,ee){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),f!=null||g!=null){if(!(P!=="submit"&&P!=="reset"||f!=null)){Pn(l);return}g=g!=null?""+qt(g):"",f=f!=null?""+qt(f):g,ee||f===l.value||(l.value=f),l.defaultValue=f}_=_??C,_=typeof _!="function"&&typeof _!="symbol"&&!!_,l.checked=ee?l.checked:!!_,l.defaultChecked=!!_,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),Pn(l)}function Gn(l,f,g){f==="number"&&Tt(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Er(l,f,g,_){if(l=l.options,f){f={};for(var C=0;C<g.length;C++)f["$"+g[C]]=!0;for(g=0;g<l.length;g++)C=f.hasOwnProperty("$"+l[g].value),l[g].selected!==C&&(l[g].selected=C),C&&_&&(l[g].defaultSelected=!0)}else{for(g=""+qt(g),f=null,C=0;C<l.length;C++){if(l[C].value===g){l[C].selected=!0,_&&(l[C].defaultSelected=!0);return}f!==null||l[C].disabled||(f=l[C])}f!==null&&(f.selected=!0)}}function Cn(l,f,g){if(f!=null&&(f=""+qt(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+qt(g):""}function gi(l,f,g,_){if(f==null){if(_!=null){if(g!=null)throw Error(i(92));if(ae(_)){if(1<_.length)throw Error(i(93));_=_[0]}g=_}g==null&&(g=""),f=g}g=qt(f),l.defaultValue=g,_=l.textContent,_===g&&_!==""&&_!==null&&(l.value=_),Pn(l)}function vi(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var Vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hi(l,f,g){var _=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?_?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":_?l.setProperty(f,g):typeof g!="number"||g===0||Vi.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function ts(l,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(l=l.style,g!=null){for(var _ in g)!g.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?l.setProperty(_,""):_==="float"?l.cssFloat="":l[_]="");for(var C in f)_=f[C],f.hasOwnProperty(C)&&g[C]!==_&&Hi(l,C,_)}else for(var P in f)f.hasOwnProperty(P)&&Hi(l,P,f[P])}function Tr(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(l){return eu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ea(){}var Ts=null;function Ju(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Za=null,Ao=null;function Zu(l){var f=Ja(l);if(f&&(l=f.stateNode)){var g=l[Di]||null;e:switch(l=f.stateNode,f.type){case"input":if(Oi(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Bt(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var _=g[f];if(_!==l&&_.form===l.form){var C=_[Di]||null;if(!C)throw Error(i(90));Oi(_,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<g.length;f++)_=g[f],_.form===l.form&&Jt(_)}break e;case"textarea":Cn(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Er(l,!!g.multiple,f,!1)}}}var Qu=!1;function tu(l,f,g){if(Qu)return l(f,g);Qu=!0;try{var _=l(f);return _}finally{if(Qu=!1,(Za!==null||Ao!==null)&&(us(),Za&&(f=Za,l=Ao,Ao=Za=null,Zu(f),l)))for(f=0;f<l.length;f++)Zu(l[f])}}function As(l,f){var g=l.stateNode;if(g===null)return null;var _=g[Di]||null;if(_===null)return null;g=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(l=l.type,_=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!_;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(Qa)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{ga=!1}var ta=null,ec=null,ns=null;function nu(){if(ns)return ns;var l,f=ec,g=f.length,_,C="value"in ta?ta.value:ta.textContent,P=C.length;for(l=0;l<g&&f[l]===C[l];l++);var V=g-l;for(_=1;_<=V&&f[g-_]===C[P-_];_++);return ns=C.slice(l,1<_?1-_:void 0)}function iu(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Mo(){return!0}function ru(){return!1}function yi(l){function f(g,_,C,P,V){this._reactName=g,this._targetInst=C,this.type=_,this.nativeEvent=P,this.target=V,this.currentTarget=null;for(var ee in l)l.hasOwnProperty(ee)&&(g=l[ee],this[ee]=g?g(P):P[ee]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Mo:ru,this.isPropagationStopped=ru,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),f}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=yi(is),ws=p({},is,{view:0,detail:0}),au=yi(ws),ou,Cs,Rs,ir=p({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Rs&&(Rs&&l.type==="mousemove"?(ou=l.screenX-Rs.screenX,Cs=l.screenY-Rs.screenY):Cs=ou=0,Rs=l),ou)},movementY:function(l){return"movementY"in l?l.movementY:Cs}}),Ud=yi(ir),tc=p({},ir,{dataTransfer:0}),nc=yi(tc),gf=p({},ws,{relatedTarget:0}),vf=yi(gf),kr=p({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=yi(kr),na=p({},is,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rs=yi(na),su=p({},is,{data:0}),_p=yi(su),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=x_[l])?!!f[l]:!1}function xp(){return jg}var S_=p({},ws,{key:function(l){if(l.key){var f=bp[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=iu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?b_[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(l){return l.type==="keypress"?iu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?iu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ic=yi(S_),Sp=p({},ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=yi(Sp),Yg=p({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),E_=yi(Yg),T_=p({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),fA=yi(T_),Br=p({},ir,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),A_=yi(Br),M_=p({},is,{newState:0,oldState:0}),w_=yi(M_),C_=[9,13,27,32],rc=Qa&&"CompositionEvent"in window,yf=null;Qa&&"documentMode"in document&&(yf=document.documentMode);var Ep=Qa&&"TextEvent"in window&&!yf,$g=Qa&&(!rc||yf&&8<yf&&11>=yf),R_=" ",Fd=!1;function Tp(l,f){switch(l){case"keyup":return C_.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kg(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ac=!1;function I_(l,f){switch(l){case"compositionend":return Kg(f);case"keypress":return f.which!==32?null:(Fd=!0,R_);case"textInput":return l=f.data,l===R_&&Fd?null:l;default:return null}}function Jg(l,f){if(ac)return l==="compositionend"||!rc&&Tp(l,f)?(l=nu(),ns=ec=ta=null,ac=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return $g&&f.locale!=="ko"?null:f.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!Zg[l.type]:f==="textarea"}function Ap(l,f,g,_){Za?Ao?Ao.push(_):Ao=[_]:Za=_,f=Lb(f,"onChange"),0<f.length&&(g=new ml("onChange","change",null,g,_),l.push({event:g,listeners:f}))}var lu=null,oc=null;function P_(l){_D(l,0)}function _f(l){var f=Eo(l);if(Jt(f))return l}function ev(l,f){if(l==="change")return f}var Is=!1;if(Qa){var kd;if(Qa){var tv="oninput"in document;if(!tv){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),tv=typeof nv.oninput=="function"}kd=tv}else kd=!1;Is=kd&&(!document.documentMode||9<document.documentMode)}function wo(){lu&&(lu.detachEvent("onpropertychange",Bd),oc=lu=null)}function Bd(l){if(l.propertyName==="value"&&_f(oc)){var f=[];Ap(f,oc,l,Ju(l)),tu(P_,f)}}function N_(l,f,g){l==="focusin"?(wo(),lu=f,oc=g,lu.attachEvent("onpropertychange",Bd)):l==="focusout"&&wo()}function iv(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return _f(oc)}function D_(l,f){if(l==="click")return _f(f)}function O_(l,f){if(l==="input"||l==="change")return _f(f)}function rv(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var va=typeof Object.is=="function"?Object.is:rv;function bf(l,f){if(va(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),_=Object.keys(f);if(g.length!==_.length)return!1;for(_=0;_<g.length;_++){var C=g[_];if(!at.call(f,C)||!va(l[C],f[C]))return!1}return!0}function zd(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function xf(l,f){var g=zd(l);l=0;for(var _;g;){if(g.nodeType===3){if(_=l+g.textContent.length,l<=f&&_>=f)return{node:g,offset:f-l};l=_}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=zd(g)}}function oi(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?oi(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function L_(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Tt(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=Tt(l.document)}return f}function av(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var U_=Qa&&"documentMode"in document&&11>=document.documentMode,Ps=null,Ns=null,Sf=null,Mp=!1;function Ef(l,f,g){var _=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Mp||Ps==null||Ps!==Tt(_)||(_=Ps,"selectionStart"in _&&av(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Sf&&bf(Sf,_)||(Sf=_,_=Lb(Ns,"onSelect"),0<_.length&&(f=new ml("onSelect","select",null,f,g),l.push({event:f,listeners:_}),f.target=Ps)))}function ia(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var sc={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Gd={},ov={};Qa&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function gl(l){if(Gd[l])return Gd[l];if(!sc[l])return l;var f=sc[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in ov)return Gd[l]=f[g];return l}var wp=gl("animationend"),Vd=gl("animationiteration"),sv=gl("animationstart"),F_=gl("transitionrun"),dA=gl("transitionstart"),k_=gl("transitioncancel"),lv=gl("transitionend"),Co=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function Ro(l,f){Co.set(l,f),Ue(f,[l])}var qd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Io=[],vl=0,Ar=0;function Wd(){for(var l=vl,f=Ar=vl=0;f<l;){var g=Io[f];Io[f++]=null;var _=Io[f];Io[f++]=null;var C=Io[f];Io[f++]=null;var P=Io[f];if(Io[f++]=null,_!==null&&C!==null){var V=_.pending;V===null?C.next=C:(C.next=V.next,V.next=C),_.pending=C}P!==0&&uu(g,C,P)}}function Mr(l,f,g,_){Io[vl++]=l,Io[vl++]=f,Io[vl++]=g,Io[vl++]=_,Ar|=_,l.lanes|=_,l=l.alternate,l!==null&&(l.lanes|=_)}function Cp(l,f,g,_){return Mr(l,f,g,_),Po(l)}function ya(l,f){return Mr(l,null,null,f),Po(l)}function uu(l,f,g){l.lanes|=g;var _=l.alternate;_!==null&&(_.lanes|=g);for(var C=!1,P=l.return;P!==null;)P.childLanes|=g,_=P.alternate,_!==null&&(_.childLanes|=g),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(C=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,C&&f!==null&&(C=31-ue(g),l=P.hiddenUpdates,_=l[C],_===null?l[C]=[f]:_.push(f),f.lane=g|536870912),P):null}function Po(l){if(50<Cu)throw Cu=0,Mc=null,Error(i(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var cu={};function uv(l,f,g,_){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(l,f,g,_){return new uv(l,f,g,_)}function Rp(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ia(l,f){var g=l.alternate;return g===null?(g=Ai(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Tf(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Ds(l,f,g,_,C,P){var V=0;if(_=l,typeof l=="function")Rp(l)&&(V=1);else if(typeof l=="string")V=EW(l,g,ce.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case U:return l=Ai(31,g,f,C),l.elementType=U,l.lanes=P,l;case T:return fu(g.children,C,P,f);case S:V=8,C|=24;break;case A:return l=Ai(12,g,f,C|2),l.elementType=A,l.lanes=P,l;case D:return l=Ai(13,g,f,C),l.elementType=D,l.lanes=P,l;case O:return l=Ai(19,g,f,C),l.elementType=O,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:V=10;break e;case R:V=9;break e;case N:V=11;break e;case F:V=14;break e;case z:V=16,_=null;break e}V=29,g=Error(i(130,l===null?"null":typeof l,"")),_=null}return f=Ai(V,g,f,C),f.elementType=l,f.type=_,f.lanes=P,f}function fu(l,f,g,_){return l=Ai(7,l,_,f),l.lanes=g,l}function Ip(l,f,g){return l=Ai(6,l,null,f),l.lanes=g,l}function Af(l){var f=Ai(18,null,null,0);return f.stateNode=l,f}function Pp(l,f,g){return f=Ai(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var jd=new WeakMap;function to(l,f){if(typeof l=="object"&&l!==null){var g=jd.get(l);return g!==void 0?g:(f={value:l,source:f,stack:K(f)},jd.set(l,f),f)}return{value:l,source:f,stack:K(f)}}var du=[],hu=0,Mf=null,wf=0,Pa=[],_i=0,yl=null,Mi=1,as="";function Os(l,f){du[hu++]=wf,du[hu++]=Mf,Mf=l,wf=f}function B_(l,f,g){Pa[_i++]=Mi,Pa[_i++]=as,Pa[_i++]=yl,yl=l;var _=Mi;l=as;var C=32-ue(_)-1;_&=~(1<<C),g+=1;var P=32-ue(f)+C;if(30<P){var V=C-C%5;P=(_&(1<<V)-1).toString(32),_>>=V,C-=V,Mi=1<<32-ue(f)+C|g<<C|_,as=P+l}else Mi=1<<P|g<<C|_,as=l}function Ls(l){l.return!==null&&(Os(l,1),B_(l,1,0))}function Np(l){for(;l===Mf;)Mf=du[--hu],du[hu]=null,wf=du[--hu],du[hu]=null;for(;l===yl;)yl=Pa[--_i],Pa[_i]=null,as=Pa[--_i],Pa[_i]=null,Mi=Pa[--_i],Pa[_i]=null}function Dp(l,f){Pa[_i++]=Mi,Pa[_i++]=as,Pa[_i++]=yl,Mi=f.id,as=f.overflow,yl=l}var Li=null,si=null,Rn=!1,_l=null,no=!1,Cf=Error(i(519));function Us(l){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(to(f,l)),Cf}function z_(l){var f=l.stateNode,g=l.type,_=l.memoizedProps;switch(f[zn]=l,f[Di]=_,g){case"dialog":Dn("cancel",f),Dn("close",f);break;case"iframe":case"object":case"embed":Dn("load",f);break;case"video":case"audio":for(g=0;g<qo.length;g++)Dn(qo[g],f);break;case"source":Dn("error",f);break;case"img":case"image":case"link":Dn("error",f),Dn("load",f);break;case"details":Dn("toggle",f);break;case"input":Dn("invalid",f),Qr(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":Dn("invalid",f);break;case"textarea":Dn("invalid",f),gi(f,_.value,_.defaultValue,_.children)}g=_.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||_.suppressHydrationWarning===!0||ED(f.textContent,g)?(_.popover!=null&&(Dn("beforetoggle",f),Dn("toggle",f)),_.onScroll!=null&&Dn("scroll",f),_.onScrollEnd!=null&&Dn("scrollend",f),_.onClick!=null&&(f.onclick=ea),f=!0):f=!1,f||Us(l,!0)}function G_(l){for(Li=l.return;Li;)switch(Li.tag){case 5:case 31:case 13:no=!1;return;case 27:case 3:no=!0;return;default:Li=Li.return}}function Rf(l){if(l!==Li)return!1;if(!Rn)return G_(l),Rn=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||CA(l.type,l.memoizedProps)),g=!g),g&&si&&Us(l),G_(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));si=ND(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));si=ND(l)}else f===27?(f=si,$f(l.type)?(l=DA,DA=null,si=l):si=f):si=Li?Js(l.stateNode.nextSibling):null;return!0}function pu(){si=Li=null,Rn=!1}function Op(){var l=_l;return l!==null&&(Fi===null?Fi=l:Fi.push.apply(Fi,l),_l=null),l}function Fs(l){_l===null?_l=[l]:_l.push(l)}var If=H(null),mu=null,ks=null;function bl(l,f,g){ie(If,f._currentValue),f._currentValue=g}function Bs(l){l._currentValue=If.current,te(If)}function Lp(l,f,g){for(;l!==null;){var _=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),l===g)break;l=l.return}}function Up(l,f,g,_){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var P=C.dependencies;if(P!==null){var V=C.child;P=P.firstContext;e:for(;P!==null;){var ee=P;P=C;for(var _e=0;_e<f.length;_e++)if(ee.context===f[_e]){P.lanes|=g,ee=P.alternate,ee!==null&&(ee.lanes|=g),Lp(P.return,g,l),_||(V=null);break e}P=ee.next}}else if(C.tag===18){if(V=C.return,V===null)throw Error(i(341));V.lanes|=g,P=V.alternate,P!==null&&(P.lanes|=g),Lp(V,g,l),V=null}else V=C.child;if(V!==null)V.return=C;else for(V=C;V!==null;){if(V===l){V=null;break}if(C=V.sibling,C!==null){C.return=V.return,V=C;break}V=V.return}C=V}}function zs(l,f,g,_){l=null;for(var C=f,P=!1;C!==null;){if(!P){if((C.flags&524288)!==0)P=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var V=C.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var ee=C.type;va(C.pendingProps.value,V.value)||(l!==null?l.push(ee):l=[ee])}}else if(C===le.current){if(V=C.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(o0):l=[o0])}C=C.return}l!==null&&Up(f,l,g,_),f.flags|=262144}function Xd(l){for(l=l.firstContext;l!==null;){if(!va(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function gu(l){mu=l,ks=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Zt(l){return V_(mu,l)}function Pf(l,f){return mu===null&&gu(l),V_(l,f)}function V_(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},ks===null){if(l===null)throw Error(i(308));ks=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else ks=ks.next=f;return g}var H_=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,_){l.push(_)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},hA=t.unstable_scheduleCallback,pA=t.unstable_NormalPriority,rr={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cv(){return{controller:new H_,data:new Map,refCount:0}}function lc(l){l.refCount--,l.refCount===0&&hA(pA,function(){l.controller.abort()})}var io=null,Fp=0,xl=0,No=null;function fv(l,f){if(io===null){var g=io=[];Fp=0,xl=$e(),No={status:"pending",value:void 0,then:function(_){g.push(_)}}}return Fp++,f.then(dv,dv),f}function dv(){if(--Fp===0&&io!==null){No!==null&&(No.status="fulfilled");var l=io;io=null,xl=0,No=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function hv(l,f){var g=[],_={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return l.then(function(){_.status="fulfilled",_.value=f;for(var C=0;C<g.length;C++)(0,g[C])(f)},function(C){for(_.status="rejected",_.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),_}var q_=X.S;X.S=function(l,f){e0=q(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&fv(l,f),q_!==null&&q_(l,f)};var vu=H(null);function kp(){var l=vu.current;return l!==null?l:tn.pooledCache}function Yd(l,f){f===null?ie(vu,vu.current):ie(vu,f.pool)}function pv(){var l=kp();return l===null?null:{parent:rr._currentValue,pool:l}}var uc=Error(i(460)),$d=Error(i(474)),dn=Error(i(542)),Bp={then:function(){}};function Na(l){return l=l.status,l==="fulfilled"||l==="rejected"}function zp(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(ea,ea),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,dc(l),l;default:if(typeof f.status=="string")f.then(ea,ea);else{if(l=tn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=f,l.status="pending",l.then(function(_){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=_}},function(_){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,dc(l),l}throw Gs=f,uc}}function cc(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Gs=g,uc):g}}var Gs=null;function fc(){if(Gs===null)throw Error(i(459));var l=Gs;return Gs=null,l}function dc(l){if(l===uc||l===dn)throw Error(i(483))}var hc=null,pc=0;function Kd(l){var f=pc;return pc+=1,hc===null&&(hc=[]),zp(hc,l,f)}function Do(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Nf(l,f){throw f.$$typeof===v?Error(i(525)):(l=Object.prototype.toString.call(f),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Gp(l){function f(Pe,xe){if(l){var ke=Pe.deletions;ke===null?(Pe.deletions=[xe],Pe.flags|=16):ke.push(xe)}}function g(Pe,xe){if(!l)return null;for(;xe!==null;)f(Pe,xe),xe=xe.sibling;return null}function _(Pe){for(var xe=new Map;Pe!==null;)Pe.key!==null?xe.set(Pe.key,Pe):xe.set(Pe.index,Pe),Pe=Pe.sibling;return xe}function C(Pe,xe){return Pe=Ia(Pe,xe),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,xe,ke){return Pe.index=ke,l?(ke=Pe.alternate,ke!==null?(ke=ke.index,ke<xe?(Pe.flags|=67108866,xe):ke):(Pe.flags|=67108866,xe)):(Pe.flags|=1048576,xe)}function V(Pe){return l&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function ee(Pe,xe,ke,ut){return xe===null||xe.tag!==6?(xe=Ip(ke,Pe.mode,ut),xe.return=Pe,xe):(xe=C(xe,ke),xe.return=Pe,xe)}function _e(Pe,xe,ke,ut){var jt=ke.type;return jt===T?rt(Pe,xe,ke.props.children,ut,ke.key):xe!==null&&(xe.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===z&&cc(jt)===xe.type)?(xe=C(xe,ke.props),Do(xe,ke),xe.return=Pe,xe):(xe=Ds(ke.type,ke.key,ke.props,null,Pe.mode,ut),Do(xe,ke),xe.return=Pe,xe)}function ze(Pe,xe,ke,ut){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==ke.containerInfo||xe.stateNode.implementation!==ke.implementation?(xe=Pp(ke,Pe.mode,ut),xe.return=Pe,xe):(xe=C(xe,ke.children||[]),xe.return=Pe,xe)}function rt(Pe,xe,ke,ut,jt){return xe===null||xe.tag!==7?(xe=fu(ke,Pe.mode,ut,jt),xe.return=Pe,xe):(xe=C(xe,ke),xe.return=Pe,xe)}function ft(Pe,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Ip(""+xe,Pe.mode,ke),xe.return=Pe,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case y:return ke=Ds(xe.type,xe.key,xe.props,null,Pe.mode,ke),Do(ke,xe),ke.return=Pe,ke;case b:return xe=Pp(xe,Pe.mode,ke),xe.return=Pe,xe;case z:return xe=cc(xe),ft(Pe,xe,ke)}if(ae(xe)||W(xe))return xe=fu(xe,Pe.mode,ke,null),xe.return=Pe,xe;if(typeof xe.then=="function")return ft(Pe,Kd(xe),ke);if(xe.$$typeof===I)return ft(Pe,Pf(Pe,xe),ke);Nf(Pe,xe)}return null}function qe(Pe,xe,ke,ut){var jt=xe!==null?xe.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return jt!==null?null:ee(Pe,xe,""+ke,ut);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ke.key===jt?_e(Pe,xe,ke,ut):null;case b:return ke.key===jt?ze(Pe,xe,ke,ut):null;case z:return ke=cc(ke),qe(Pe,xe,ke,ut)}if(ae(ke)||W(ke))return jt!==null?null:rt(Pe,xe,ke,ut,null);if(typeof ke.then=="function")return qe(Pe,xe,Kd(ke),ut);if(ke.$$typeof===I)return qe(Pe,xe,Pf(Pe,ke),ut);Nf(Pe,ke)}return null}function Qe(Pe,xe,ke,ut,jt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Pe=Pe.get(ke)||null,ee(xe,Pe,""+ut,jt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case y:return Pe=Pe.get(ut.key===null?ke:ut.key)||null,_e(xe,Pe,ut,jt);case b:return Pe=Pe.get(ut.key===null?ke:ut.key)||null,ze(xe,Pe,ut,jt);case z:return ut=cc(ut),Qe(Pe,xe,ke,ut,jt)}if(ae(ut)||W(ut))return Pe=Pe.get(ke)||null,rt(xe,Pe,ut,jt,null);if(typeof ut.then=="function")return Qe(Pe,xe,ke,Kd(ut),jt);if(ut.$$typeof===I)return Qe(Pe,xe,ke,Pf(xe,ut),jt);Nf(xe,ut)}return null}function kt(Pe,xe,ke,ut){for(var jt=null,Wn=null,zt=xe,_n=xe=0,Un=null;zt!==null&&_n<ke.length;_n++){zt.index>_n?(Un=zt,zt=null):Un=zt.sibling;var jn=qe(Pe,zt,ke[_n],ut);if(jn===null){zt===null&&(zt=Un);break}l&&zt&&jn.alternate===null&&f(Pe,zt),xe=P(jn,xe,_n),Wn===null?jt=jn:Wn.sibling=jn,Wn=jn,zt=Un}if(_n===ke.length)return g(Pe,zt),Rn&&Os(Pe,_n),jt;if(zt===null){for(;_n<ke.length;_n++)zt=ft(Pe,ke[_n],ut),zt!==null&&(xe=P(zt,xe,_n),Wn===null?jt=zt:Wn.sibling=zt,Wn=zt);return Rn&&Os(Pe,_n),jt}for(zt=_(zt);_n<ke.length;_n++)Un=Qe(zt,Pe,_n,ke[_n],ut),Un!==null&&(l&&Un.alternate!==null&&zt.delete(Un.key===null?_n:Un.key),xe=P(Un,xe,_n),Wn===null?jt=Un:Wn.sibling=Un,Wn=Un);return l&&zt.forEach(function(ed){return f(Pe,ed)}),Rn&&Os(Pe,_n),jt}function Kt(Pe,xe,ke,ut){if(ke==null)throw Error(i(151));for(var jt=null,Wn=null,zt=xe,_n=xe=0,Un=null,jn=ke.next();zt!==null&&!jn.done;_n++,jn=ke.next()){zt.index>_n?(Un=zt,zt=null):Un=zt.sibling;var ed=qe(Pe,zt,jn.value,ut);if(ed===null){zt===null&&(zt=Un);break}l&&zt&&ed.alternate===null&&f(Pe,zt),xe=P(ed,xe,_n),Wn===null?jt=ed:Wn.sibling=ed,Wn=ed,zt=Un}if(jn.done)return g(Pe,zt),Rn&&Os(Pe,_n),jt;if(zt===null){for(;!jn.done;_n++,jn=ke.next())jn=ft(Pe,jn.value,ut),jn!==null&&(xe=P(jn,xe,_n),Wn===null?jt=jn:Wn.sibling=jn,Wn=jn);return Rn&&Os(Pe,_n),jt}for(zt=_(zt);!jn.done;_n++,jn=ke.next())jn=Qe(zt,Pe,_n,jn.value,ut),jn!==null&&(l&&jn.alternate!==null&&zt.delete(jn.key===null?_n:jn.key),xe=P(jn,xe,_n),Wn===null?jt=jn:Wn.sibling=jn,Wn=jn);return l&&zt.forEach(function(OW){return f(Pe,OW)}),Rn&&Os(Pe,_n),jt}function ci(Pe,xe,ke,ut){if(typeof ke=="object"&&ke!==null&&ke.type===T&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:e:{for(var jt=ke.key;xe!==null;){if(xe.key===jt){if(jt=ke.type,jt===T){if(xe.tag===7){g(Pe,xe.sibling),ut=C(xe,ke.props.children),ut.return=Pe,Pe=ut;break e}}else if(xe.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===z&&cc(jt)===xe.type){g(Pe,xe.sibling),ut=C(xe,ke.props),Do(ut,ke),ut.return=Pe,Pe=ut;break e}g(Pe,xe);break}else f(Pe,xe);xe=xe.sibling}ke.type===T?(ut=fu(ke.props.children,Pe.mode,ut,ke.key),ut.return=Pe,Pe=ut):(ut=Ds(ke.type,ke.key,ke.props,null,Pe.mode,ut),Do(ut,ke),ut.return=Pe,Pe=ut)}return V(Pe);case b:e:{for(jt=ke.key;xe!==null;){if(xe.key===jt)if(xe.tag===4&&xe.stateNode.containerInfo===ke.containerInfo&&xe.stateNode.implementation===ke.implementation){g(Pe,xe.sibling),ut=C(xe,ke.children||[]),ut.return=Pe,Pe=ut;break e}else{g(Pe,xe);break}else f(Pe,xe);xe=xe.sibling}ut=Pp(ke,Pe.mode,ut),ut.return=Pe,Pe=ut}return V(Pe);case z:return ke=cc(ke),ci(Pe,xe,ke,ut)}if(ae(ke))return kt(Pe,xe,ke,ut);if(W(ke)){if(jt=W(ke),typeof jt!="function")throw Error(i(150));return ke=jt.call(ke),Kt(Pe,xe,ke,ut)}if(typeof ke.then=="function")return ci(Pe,xe,Kd(ke),ut);if(ke.$$typeof===I)return ci(Pe,xe,Pf(Pe,ke),ut);Nf(Pe,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,xe!==null&&xe.tag===6?(g(Pe,xe.sibling),ut=C(xe,ke),ut.return=Pe,Pe=ut):(g(Pe,xe),ut=Ip(ke,Pe.mode,ut),ut.return=Pe,Pe=ut),V(Pe)):g(Pe,xe)}return function(Pe,xe,ke,ut){try{pc=0;var jt=ci(Pe,xe,ke,ut);return hc=null,jt}catch(zt){if(zt===uc||zt===dn)throw zt;var Wn=Ai(29,zt,null,Pe.mode);return Wn.lanes=ut,Wn.return=Pe,Wn}finally{}}}var Sl=Gp(!0),Vp=Gp(!1),_a=!1;function Jd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mv(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function El(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function yu(l,f,g){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,(Gt&2)!==0){var C=_.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),_.pending=f,f=Po(l),uu(l,null,g),f}return Mr(l,_,f,g),Po(l)}function _u(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var _=f.lanes;_&=l.pendingLanes,g|=_,f.lanes=g,nr(l,g)}}function Wt(l,f){var g=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,g===_)){var C=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};P===null?C=P=V:P=P.next=V,g=g.next}while(g!==null);P===null?C=P=f:P=P.next=f}else C=P=f;g={baseState:_.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:_.shared,callbacks:_.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var gv=!1;function Zd(){if(gv){var l=No;if(l!==null)throw l}}function Df(l,f,g,_){gv=!1;var C=l.updateQueue;_a=!1;var P=C.firstBaseUpdate,V=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var _e=ee,ze=_e.next;_e.next=null,V===null?P=ze:V.next=ze,V=_e;var rt=l.alternate;rt!==null&&(rt=rt.updateQueue,ee=rt.lastBaseUpdate,ee!==V&&(ee===null?rt.firstBaseUpdate=ze:ee.next=ze,rt.lastBaseUpdate=_e))}if(P!==null){var ft=C.baseState;V=0,rt=ze=_e=null,ee=P;do{var qe=ee.lane&-536870913,Qe=qe!==ee.lane;if(Qe?(fn&qe)===qe:(_&qe)===qe){qe!==0&&qe===xl&&(gv=!0),rt!==null&&(rt=rt.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var kt=l,Kt=ee;qe=f;var ci=g;switch(Kt.tag){case 1:if(kt=Kt.payload,typeof kt=="function"){ft=kt.call(ci,ft,qe);break e}ft=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Kt.payload,qe=typeof kt=="function"?kt.call(ci,ft,qe):kt,qe==null)break e;ft=p({},ft,qe);break e;case 2:_a=!0}}qe=ee.callback,qe!==null&&(l.flags|=64,Qe&&(l.flags|=8192),Qe=C.callbacks,Qe===null?C.callbacks=[qe]:Qe.push(qe))}else Qe={lane:qe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},rt===null?(ze=rt=Qe,_e=ft):rt=rt.next=Qe,V|=qe;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;Qe=ee,ee=Qe.next,Qe.next=null,C.lastBaseUpdate=Qe,C.shared.pending=null}}while(!0);rt===null&&(_e=ft),C.baseState=_e,C.firstBaseUpdate=ze,C.lastBaseUpdate=rt,P===null&&(C.shared.lanes=0),Ys|=V,l.lanes=V,l.memoizedState=ft}}function Of(l,f){if(typeof l!="function")throw Error(i(191,l));l.call(f)}function W_(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Of(g[l],f)}var Lf=H(null),Hp=H(0);function j_(l,f){l=so,ie(Hp,l),ie(Lf,f),so=l|f.baseLanes}function vv(){ie(Hp,so),ie(Lf,Lf.current)}function Qd(){so=Hp.current,te(Lf),te(Hp)}var Da=H(null),ba=null;function Tl(l){var f=l.alternate;ie(In,In.current&1),ie(Da,l),ba===null&&(f===null||Lf.current!==null||f.memoizedState!==null)&&(ba=l)}function yv(l){ie(In,In.current),ie(Da,l),ba===null&&(ba=l)}function X_(l){l.tag===22?(ie(In,In.current),ie(Da,l),ba===null&&(ba=l)):Oa()}function Oa(){ie(In,In.current),ie(Da,Da.current)}function qi(l){te(Da),ba===l&&(ba=null),te(In)}var In=H(0);function ro(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||PA(g)||NA(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var bi=0,on=null,ei=null,Tn=null,Oo=!1,Uf=!1,mc=!1,qp=0,eh=0,Ff=null,_v=0;function wi(){throw Error(i(321))}function bv(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!va(l[g],f[g]))return!1;return!0}function Wp(l,f,g,_,C,P){return bi=P,on=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=l===null||l.memoizedState===null?Ab:zv,mc=!1,P=g(_,C),mc=!1,Uf&&(P=gc(f,g,_,C)),Y_(l),P}function Y_(l){X.H=kf;var f=ei!==null&&ei.next!==null;if(bi=0,Tn=ei=on=null,Oo=!1,eh=0,Ff=null,f)throw Error(i(300));l===null||ar||(l=l.dependencies,l!==null&&Xd(l)&&(ar=!0))}function gc(l,f,g,_){on=l;var C=0;do{if(Uf&&(Ff=null),eh=0,Uf=!1,25<=C)throw Error(i(301));if(C+=1,Tn=ei=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}X.H=Lo,P=f(g,_)}while(Uf);return P}function vc(){var l=X.H,f=l.useState()[0];return f=typeof f.then=="function"?th(f):f,l=l.useState()[0],(ei!==null?ei.memoizedState:null)!==l&&(on.flags|=1024),f}function xv(){var l=qp!==0;return qp=0,l}function Sv(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function Ev(l){if(Oo){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Oo=!1}bi=0,Tn=ei=on=null,Uf=!1,eh=qp=0,Ff=null}function hr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?on.memoizedState=Tn=l:Tn=Tn.next=l,Tn}function Wi(){if(ei===null){var l=on.alternate;l=l!==null?l.memoizedState:null}else l=ei.next;var f=Tn===null?on.memoizedState:Tn.next;if(f!==null)Tn=f,ei=l;else{if(l===null)throw on.alternate===null?Error(i(467)):Error(i(310));ei=l,l={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},Tn===null?on.memoizedState=Tn=l:Tn=Tn.next=l}return Tn}function jp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(l){var f=eh;return eh+=1,Ff===null&&(Ff=[]),l=zp(Ff,l,f),f=on,(Tn===null?f.memoizedState:Tn.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?Ab:zv),l}function bu(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return th(l);if(l.$$typeof===I)return Zt(l)}throw Error(i(438,String(l)))}function Tv(l){var f=null,g=on.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var _=on.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=jp(),on.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),_=0;_<l;_++)g[_]=B;return f.index++,g}function Al(l,f){return typeof f=="function"?f(l):f}function Xp(l){var f=Wi();return Av(f,ei,l)}function Av(l,f,g){var _=l.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=g;var C=l.baseQueue,P=_.pending;if(P!==null){if(C!==null){var V=C.next;C.next=P.next,P.next=V}f.baseQueue=C=P,_.pending=null}if(P=l.baseState,C===null)l.memoizedState=P;else{f=C.next;var ee=V=null,_e=null,ze=f,rt=!1;do{var ft=ze.lane&-536870913;if(ft!==ze.lane?(fn&ft)===ft:(bi&ft)===ft){var qe=ze.revertLane;if(qe===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),ft===xl&&(rt=!0);else if((bi&qe)===qe){ze=ze.next,qe===xl&&(rt=!0);continue}else ft={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},_e===null?(ee=_e=ft,V=P):_e=_e.next=ft,on.lanes|=qe,Ys|=qe;ft=ze.action,mc&&g(P,ft),P=ze.hasEagerState?ze.eagerState:g(P,ft)}else qe={lane:ft,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},_e===null?(ee=_e=qe,V=P):_e=_e.next=qe,on.lanes|=ft,Ys|=ft;ze=ze.next}while(ze!==null&&ze!==f);if(_e===null?V=P:_e.next=ee,!va(P,l.memoizedState)&&(ar=!0,rt&&(g=No,g!==null)))throw g;l.memoizedState=P,l.baseState=V,l.baseQueue=_e,_.lastRenderedState=P}return C===null&&(_.lanes=0),[l.memoizedState,_.dispatch]}function Mv(l){var f=Wi(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var _=g.dispatch,C=g.pending,P=f.memoizedState;if(C!==null){g.pending=null;var V=C=C.next;do P=l(P,V.action),V=V.next;while(V!==C);va(P,f.memoizedState)||(ar=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),g.lastRenderedState=P}return[P,_]}function $_(l,f,g){var _=on,C=Wi(),P=Rn;if(P){if(g===void 0)throw Error(i(407));g=g()}else g=f();var V=!va((ei||C).memoizedState,g);if(V&&(C.memoizedState=g,ar=!0),C=C.queue,Ov(Z_.bind(null,_,C,l),[l]),C.getSnapshot!==f||V||Tn!==null&&Tn.memoizedState.tag&1){if(_.flags|=2048,xu(9,{destroy:void 0},J_.bind(null,_,C,g,f),null),tn===null)throw Error(i(349));P||(bi&127)!==0||K_(_,f,g)}return g}function K_(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=on.updateQueue,f===null?(f=jp(),on.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function J_(l,f,g,_){f.value=g,f.getSnapshot=_,Q_(f)&&eb(l)}function Z_(l,f,g){return g(function(){Q_(f)&&eb(l)})}function Q_(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!va(l,g)}catch{return!0}}function eb(l){var f=ya(l,2);f!==null&&pn(f,l,2)}function wv(l){var f=hr();if(typeof l=="function"){var g=l;if(l=g(),mc){et(!0);try{g()}finally{et(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:l},f}function Cv(l,f,g,_){return l.baseState=g,Av(l,ei,typeof _=="function"?_:Al)}function mA(l,f,g,_,C){if(Jp(l))throw Error(i(485));if(l=f.action,l!==null){var P={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){P.listeners.push(V)}};X.T!==null?g(!0):P.isTransition=!1,_(P),g=f.pending,g===null?(P.next=f.pending=P,tb(f,P)):(P.next=g.next,f.pending=g.next=P)}}function tb(l,f){var g=f.action,_=f.payload,C=l.state;if(f.isTransition){var P=X.T,V={};X.T=V;try{var ee=g(C,_),_e=X.S;_e!==null&&_e(V,ee),nb(l,f,ee)}catch(ze){Rv(l,f,ze)}finally{P!==null&&V.types!==null&&(P.types=V.types),X.T=P}}else try{P=g(C,_),nb(l,f,P)}catch(ze){Rv(l,f,ze)}}function nb(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(_){ib(l,f,_)},function(_){return Rv(l,f,_)}):ib(l,f,g)}function ib(l,f,g){f.status="fulfilled",f.value=g,rb(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,tb(l,g)))}function Rv(l,f,g){var _=l.pending;if(l.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=g,rb(f),f=f.next;while(f!==_)}l.action=null}function rb(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function Iv(l,f){return f}function Pv(l,f){if(Rn){var g=tn.formState;if(g!==null){e:{var _=on;if(Rn){if(si){t:{for(var C=si,P=no;C.nodeType!==8;){if(!P){C=null;break t}if(C=Js(C.nextSibling),C===null){C=null;break t}}P=C.data,C=P==="F!"||P==="F"?C:null}if(C){si=Js(C.nextSibling),_=C.data==="F!";break e}}Us(_)}_=!1}_&&(f=g[0])}}return g=hr(),g.memoizedState=g.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iv,lastRenderedState:f},g.queue=_,g=Sb.bind(null,on,_),_.dispatch=g,_=wv(!1),P=Bv.bind(null,on,!1,_.queue),_=hr(),C={state:f,dispatch:null,action:l,pending:null},_.queue=C,g=mA.bind(null,on,C,P,g),C.dispatch=g,_.memoizedState=l,[f,g,!1]}function ab(l){var f=Wi();return Nv(f,ei,l)}function Nv(l,f,g){if(f=Av(l,f,Iv)[0],l=Xp(Al)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var _=th(f)}catch(V){throw V===uc?dn:V}else _=f;f=Wi();var C=f.queue,P=C.dispatch;return g!==f.memoizedState&&(on.flags|=2048,xu(9,{destroy:void 0},ob.bind(null,C,g),null)),[_,P,l]}function ob(l,f){l.action=f}function Dv(l){var f=Wi(),g=ei;if(g!==null)return Nv(f,g,l);Wi(),f=f.memoizedState,g=Wi();var _=g.queue.dispatch;return g.memoizedState=l,[f,_,!1]}function xu(l,f,g,_){return l={tag:l,create:g,deps:_,inst:f,next:null},f=on.updateQueue,f===null&&(f=jp(),on.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(_=g.next,g.next=l,l.next=_,f.lastEffect=l),l}function Yp(){return Wi().memoizedState}function $p(l,f,g,_){var C=hr();on.flags|=l,C.memoizedState=xu(1|f,{destroy:void 0},g,_===void 0?null:_)}function Kp(l,f,g,_){var C=Wi();_=_===void 0?null:_;var P=C.memoizedState.inst;ei!==null&&_!==null&&bv(_,ei.memoizedState.deps)?C.memoizedState=xu(f,P,g,_):(on.flags|=l,C.memoizedState=xu(1|f,P,g,_))}function sb(l,f){$p(8390656,8,l,f)}function Ov(l,f){Kp(2048,8,l,f)}function lb(l){on.flags|=4;var f=on.updateQueue;if(f===null)f=jp(),on.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function ub(l){var f=Wi().memoizedState;return lb({ref:f,nextImpl:l}),function(){if((Gt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function cb(l,f){return Kp(4,2,l,f)}function fb(l,f){return Kp(4,4,l,f)}function db(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function hb(l,f,g){g=g!=null?g.concat([l]):null,Kp(4,4,db.bind(null,f,l),g)}function Lv(){}function pb(l,f){var g=Wi();f=f===void 0?null:f;var _=g.memoizedState;return f!==null&&bv(f,_[1])?_[0]:(g.memoizedState=[l,f],l)}function mb(l,f){var g=Wi();f=f===void 0?null:f;var _=g.memoizedState;if(f!==null&&bv(f,_[1]))return _[0];if(_=l(),mc){et(!0);try{l()}finally{et(!1)}}return g.memoizedState=[_,f],_}function Uv(l,f,g){return g===void 0||(bi&1073741824)!==0&&(fn&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=Sn(),on.lanes|=l,Ys|=l,g)}function gb(l,f,g,_){return va(g,f)?g:Lf.current!==null?(l=Uv(l,g,_),va(l,f)||(ar=!0),l):(bi&42)===0||(bi&1073741824)!==0&&(fn&261930)===0?(ar=!0,l.memoizedState=g):(l=Sn(),on.lanes|=l,Ys|=l,f)}function vb(l,f,g,_,C){var P=ne.p;ne.p=P!==0&&8>P?P:8;var V=X.T,ee={};X.T=ee,Bv(l,!1,f,g);try{var _e=C(),ze=X.S;if(ze!==null&&ze(ee,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var rt=hv(_e,_);nh(l,f,rt,uo(l))}else nh(l,f,_,uo(l))}catch(ft){nh(l,f,{then:function(){},status:"rejected",reason:ft},uo())}finally{ne.p=P,V!==null&&ee.types!==null&&(V.types=ee.types),X.T=V}}function gA(){}function Fv(l,f,g,_){if(l.tag!==5)throw Error(i(476));var C=yb(l).queue;vb(l,C,f,ge,g===null?gA:function(){return _b(l),g(_)})}function yb(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:ge},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function _b(l){var f=yb(l);f.next===null&&(f=l.alternate.memoizedState),nh(l,f.next.queue,{},uo())}function kv(){return Zt(o0)}function bb(){return Wi().memoizedState}function xb(){return Wi().memoizedState}function vA(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=uo();l=El(g);var _=yu(f,l,g);_!==null&&(pn(_,f,g),_u(_,f,g)),f={cache:cv()},l.payload=f;return}f=f.return}}function yA(l,f,g){var _=uo();g={lane:_,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Jp(l)?Eb(f,g):(g=Cp(l,f,g,_),g!==null&&(pn(g,l,_),Tb(g,f,_)))}function Sb(l,f,g){var _=uo();nh(l,f,g,_)}function nh(l,f,g,_){var C={lane:_,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Jp(l))Eb(f,C);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var V=f.lastRenderedState,ee=P(V,g);if(C.hasEagerState=!0,C.eagerState=ee,va(ee,V))return Mr(l,f,C,0),tn===null&&Wd(),!1}catch{}finally{}if(g=Cp(l,f,C,_),g!==null)return pn(g,l,_),Tb(g,f,_),!0}return!1}function Bv(l,f,g,_){if(_={lane:2,revertLane:$e(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},Jp(l)){if(f)throw Error(i(479))}else f=Cp(l,g,_,2),f!==null&&pn(f,l,2)}function Jp(l){var f=l.alternate;return l===on||f!==null&&f===on}function Eb(l,f){Uf=Oo=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function Tb(l,f,g){if((g&4194048)!==0){var _=f.lanes;_&=l.pendingLanes,g|=_,f.lanes=g,nr(l,g)}}var kf={readContext:Zt,use:bu,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useLayoutEffect:wi,useInsertionEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useSyncExternalStore:wi,useId:wi,useHostTransitionStatus:wi,useFormState:wi,useActionState:wi,useOptimistic:wi,useMemoCache:wi,useCacheRefresh:wi};kf.useEffectEvent=wi;var Ab={readContext:Zt,use:bu,useCallback:function(l,f){return hr().memoizedState=[l,f===void 0?null:f],l},useContext:Zt,useEffect:sb,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,$p(4194308,4,db.bind(null,f,l),g)},useLayoutEffect:function(l,f){return $p(4194308,4,l,f)},useInsertionEffect:function(l,f){$p(4,2,l,f)},useMemo:function(l,f){var g=hr();f=f===void 0?null:f;var _=l();if(mc){et(!0);try{l()}finally{et(!1)}}return g.memoizedState=[_,f],_},useReducer:function(l,f,g){var _=hr();if(g!==void 0){var C=g(f);if(mc){et(!0);try{g(f)}finally{et(!1)}}}else C=f;return _.memoizedState=_.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},_.queue=l,l=l.dispatch=yA.bind(null,on,l),[_.memoizedState,l]},useRef:function(l){var f=hr();return l={current:l},f.memoizedState=l},useState:function(l){l=wv(l);var f=l.queue,g=Sb.bind(null,on,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:Lv,useDeferredValue:function(l,f){var g=hr();return Uv(g,l,f)},useTransition:function(){var l=wv(!1);return l=vb.bind(null,on,l.queue,!0,!1),hr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var _=on,C=hr();if(Rn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),tn===null)throw Error(i(349));(fn&127)!==0||K_(_,f,g)}C.memoizedState=g;var P={value:g,getSnapshot:f};return C.queue=P,sb(Z_.bind(null,_,P,l),[l]),_.flags|=2048,xu(9,{destroy:void 0},J_.bind(null,_,P,g,f),null),g},useId:function(){var l=hr(),f=tn.identifierPrefix;if(Rn){var g=as,_=Mi;g=(_&~(1<<32-ue(_)-1)).toString(32)+g,f="_"+f+"R_"+g,g=qp++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=_v++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:kv,useFormState:Pv,useActionState:Pv,useOptimistic:function(l){var f=hr();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Bv.bind(null,on,!0,g),g.dispatch=f,[l,f]},useMemoCache:Tv,useCacheRefresh:function(){return hr().memoizedState=vA.bind(null,on)},useEffectEvent:function(l){var f=hr(),g={impl:l};return f.memoizedState=g,function(){if((Gt&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},zv={readContext:Zt,use:bu,useCallback:pb,useContext:Zt,useEffect:Ov,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:fb,useMemo:mb,useReducer:Xp,useRef:Yp,useState:function(){return Xp(Al)},useDebugValue:Lv,useDeferredValue:function(l,f){var g=Wi();return gb(g,ei.memoizedState,l,f)},useTransition:function(){var l=Xp(Al)[0],f=Wi().memoizedState;return[typeof l=="boolean"?l:th(l),f]},useSyncExternalStore:$_,useId:bb,useHostTransitionStatus:kv,useFormState:ab,useActionState:ab,useOptimistic:function(l,f){var g=Wi();return Cv(g,ei,l,f)},useMemoCache:Tv,useCacheRefresh:xb};zv.useEffectEvent=ub;var Lo={readContext:Zt,use:bu,useCallback:pb,useContext:Zt,useEffect:Ov,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:fb,useMemo:mb,useReducer:Mv,useRef:Yp,useState:function(){return Mv(Al)},useDebugValue:Lv,useDeferredValue:function(l,f){var g=Wi();return ei===null?Uv(g,l,f):gb(g,ei.memoizedState,l,f)},useTransition:function(){var l=Mv(Al)[0],f=Wi().memoizedState;return[typeof l=="boolean"?l:th(l),f]},useSyncExternalStore:$_,useId:bb,useHostTransitionStatus:kv,useFormState:Dv,useActionState:Dv,useOptimistic:function(l,f){var g=Wi();return ei!==null?Cv(g,ei,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:Tv,useCacheRefresh:xb};Lo.useEffectEvent=ub;function Zp(l,f,g,_){f=l.memoizedState,g=g(_,f),g=g==null?f:p({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var ih={enqueueSetState:function(l,f,g){l=l._reactInternals;var _=uo(),C=El(_);C.payload=f,g!=null&&(C.callback=g),f=yu(l,C,_),f!==null&&(pn(f,l,_),_u(f,l,_))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var _=uo(),C=El(_);C.tag=1,C.payload=f,g!=null&&(C.callback=g),f=yu(l,C,_),f!==null&&(pn(f,l,_),_u(f,l,_))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=uo(),_=El(g);_.tag=2,f!=null&&(_.callback=f),f=yu(l,_,g),f!==null&&(pn(f,l,g),_u(f,l,g))}};function Gv(l,f,g,_,C,P,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,P,V):f.prototype&&f.prototype.isPureReactComponent?!bf(g,_)||!bf(C,P):!0}function Vv(l,f,g,_){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,_),f.state!==l&&ih.enqueueReplaceState(f,f.state,null)}function Su(l,f){var g=f;if("ref"in f){g={};for(var _ in f)_!=="ref"&&(g[_]=f[_])}if(l=l.defaultProps){g===f&&(g=p({},g));for(var C in l)g[C]===void 0&&(g[C]=l[C])}return g}function Mb(l){qd(l)}function Hv(l){console.error(l)}function qv(l){qd(l)}function Qp(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function wb(l,f,g){try{var _=l.onCaughtError;_(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Wv(l,f,g){return g=El(g),g.tag=3,g.payload={element:null},g.callback=function(){Qp(l,f)},g}function jv(l){return l=El(l),l.tag=3,l}function Cb(l,f,g,_){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var P=_.value;l.payload=function(){return C(P)},l.callback=function(){wb(f,g,_)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){wb(f,g,_),typeof C!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var ee=_.stack;this.componentDidCatch(_.value,{componentStack:ee!==null?ee:""})})}function pr(l,f,g,_,C){if(g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=g.alternate,f!==null&&zs(f,g,C,!0),g=Da.current,g!==null){switch(g.tag){case 31:case 13:return ba===null?Wf():g.alternate===null&&Ci===0&&(Ci=3),g.flags&=-257,g.flags|=65536,g.lanes=C,_===Bp?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([_]):f.add(_),mh(l,_,C)),!1;case 22:return g.flags|=65536,_===Bp?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([_]):g.add(_)),mh(l,_,C)),!1}throw Error(i(435,g.tag))}return mh(l,_,C),Wf(),!1}if(Rn)return f=Da.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,_!==Cf&&(l=Error(i(422),{cause:_}),Fs(to(l,g)))):(_!==Cf&&(f=Error(i(423),{cause:_}),Fs(to(f,g))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,_=to(_,g),C=Wv(l.stateNode,_,C),Wt(l,C),Ci!==4&&(Ci=2)),!1;var P=Error(i(520),{cause:_});if(P=to(P,g),Ac===null?Ac=[P]:Ac.push(P),Ci!==4&&(Ci=2),f===null)return!0;_=to(_,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=C&-C,g.lanes|=l,l=Wv(g.stateNode,_,l),Wt(g,l),!1;case 1:if(f=g.type,P=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Yi===null||!Yi.has(P))))return g.flags|=65536,C&=-C,g.lanes|=C,C=jv(C),Cb(C,l,g,_),Wt(g,C),!1}g=g.return}while(g!==null);return!1}var em=Error(i(461)),ar=!1;function wr(l,f,g,_){f.child=l===null?Vp(f,null,g,_):Sl(f,l.child,g,_)}function Xv(l,f,g,_,C){g=g.render;var P=f.ref;if("ref"in _){var V={};for(var ee in _)ee!=="ref"&&(V[ee]=_[ee])}else V=_;return gu(f),_=Wp(l,f,g,V,P,C),ee=xv(),l!==null&&!ar?(Sv(l,f,C),ji(l,f,C)):(Rn&&ee&&Ls(f),f.flags|=1,wr(l,f,_,C),f.child)}function yc(l,f,g,_,C){if(l===null){var P=g.type;return typeof P=="function"&&!Rp(P)&&P.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=P,tm(l,f,P,_,C)):(l=Ds(g.type,null,_,f,f.mode,C),l.ref=f.ref,l.return=f,f.child=l)}if(P=l.child,!sm(l,C)){var V=P.memoizedProps;if(g=g.compare,g=g!==null?g:bf,g(V,_)&&l.ref===f.ref)return ji(l,f,C)}return f.flags|=1,l=Ia(P,_),l.ref=f.ref,l.return=f,f.child=l}function tm(l,f,g,_,C){if(l!==null){var P=l.memoizedProps;if(bf(P,_)&&l.ref===f.ref)if(ar=!1,f.pendingProps=_=P,sm(l,C))(l.flags&131072)!==0&&(ar=!0);else return f.lanes=l.lanes,ji(l,f,C)}return Bf(l,f,g,_,C)}function _c(l,f,g,_){var C=_.children,P=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((f.flags&128)!==0){if(P=P!==null?P.baseLanes|g:g,l!==null){for(_=f.child=l.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;_=C&~P}else _=0,f.child=null;return La(l,f,P,g,_)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Yd(f,P!==null?P.cachePool:null),P!==null?j_(f,P):vv(),X_(f);else return _=f.lanes=536870912,La(l,f,P!==null?P.baseLanes|g:g,g,_)}else P!==null?(Yd(f,P.cachePool),j_(f,P),Oa(),f.memoizedState=null):(l!==null&&Yd(f,null),vv(),Oa());return wr(l,f,C,g),f.child}function Vs(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function La(l,f,g,_,C){var P=kp();return P=P===null?null:{parent:rr._currentValue,pool:P},f.memoizedState={baseLanes:g,cachePool:P},l!==null&&Yd(f,null),vv(),X_(f),l!==null&&zs(l,f,_,!0),f.childLanes=C,null}function nm(l,f){return f=om({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function Rb(l,f,g){return Sl(f,l.child,null,g),l=nm(f,f.pendingProps),l.flags|=2,qi(f),f.memoizedState=null,l}function im(l,f,g){var _=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Rn){if(_.mode==="hidden")return l=nm(f,_),f.lanes=536870912,Vs(null,l);if(yv(f),(l=si)?(l=PD(l,no),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:yl!==null?{id:Mi,overflow:as}:null,retryLane:536870912,hydrationErrors:null},g=Af(l),g.return=f,f.child=g,Li=f,si=null)):l=null,l===null)throw Us(f);return f.lanes=536870912,null}return nm(f,_)}var P=l.memoizedState;if(P!==null){var V=P.dehydrated;if(yv(f),C)if(f.flags&256)f.flags&=-257,f=Rb(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(i(558));else if(ar||zs(l,f,g,!1),C=(g&l.childLanes)!==0,ar||C){if(_=tn,_!==null&&(V=Jr(_,g),V!==0&&V!==P.retryLane))throw P.retryLane=V,ya(l,V),pn(_,l,V),em;Wf(),f=Rb(l,f,g)}else l=P.treeContext,si=Js(V.nextSibling),Li=f,Rn=!0,_l=null,no=!1,l!==null&&Dp(f,l),f=nm(f,_),f.flags|=4096;return f}return l=Ia(l.child,{mode:_.mode,children:_.children}),l.ref=f.ref,f.child=l,l.return=f,l}function bc(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function Bf(l,f,g,_,C){return gu(f),g=Wp(l,f,g,_,void 0,C),_=xv(),l!==null&&!ar?(Sv(l,f,C),ji(l,f,C)):(Rn&&_&&Ls(f),f.flags|=1,wr(l,f,g,C),f.child)}function rh(l,f,g,_,C,P){return gu(f),f.updateQueue=null,g=gc(f,_,g,C),Y_(l),_=xv(),l!==null&&!ar?(Sv(l,f,P),ji(l,f,P)):(Rn&&_&&Ls(f),f.flags|=1,wr(l,f,g,P),f.child)}function rm(l,f,g,_,C){if(gu(f),f.stateNode===null){var P=cu,V=g.contextType;typeof V=="object"&&V!==null&&(P=Zt(V)),P=new g(_,P),f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=ih,f.stateNode=P,P._reactInternals=f,P=f.stateNode,P.props=_,P.state=f.memoizedState,P.refs={},Jd(f),V=g.contextType,P.context=typeof V=="object"&&V!==null?Zt(V):cu,P.state=f.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(Zp(f,g,V,_),P.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(V=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),V!==P.state&&ih.enqueueReplaceState(P,P.state,null),Df(f,_,P,C),Zd(),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(l===null){P=f.stateNode;var ee=f.memoizedProps,_e=Su(g,ee);P.props=_e;var ze=P.context,rt=g.contextType;V=cu,typeof rt=="object"&&rt!==null&&(V=Zt(rt));var ft=g.getDerivedStateFromProps;rt=typeof ft=="function"||typeof P.getSnapshotBeforeUpdate=="function",ee=f.pendingProps!==ee,rt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ee||ze!==V)&&Vv(f,P,_,V),_a=!1;var qe=f.memoizedState;P.state=qe,Df(f,_,P,C),Zd(),ze=f.memoizedState,ee||qe!==ze||_a?(typeof ft=="function"&&(Zp(f,g,ft,_),ze=f.memoizedState),(_e=_a||Gv(f,g,_e,_,qe,ze,V))?(rt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(f.flags|=4194308)):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=ze),P.props=_,P.state=ze,P.context=V,_=_e):(typeof P.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{P=f.stateNode,mv(l,f),V=f.memoizedProps,rt=Su(g,V),P.props=rt,ft=f.pendingProps,qe=P.context,ze=g.contextType,_e=cu,typeof ze=="object"&&ze!==null&&(_e=Zt(ze)),ee=g.getDerivedStateFromProps,(ze=typeof ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(V!==ft||qe!==_e)&&Vv(f,P,_,_e),_a=!1,qe=f.memoizedState,P.state=qe,Df(f,_,P,C),Zd();var Qe=f.memoizedState;V!==ft||qe!==Qe||_a||l!==null&&l.dependencies!==null&&Xd(l.dependencies)?(typeof ee=="function"&&(Zp(f,g,ee,_),Qe=f.memoizedState),(rt=_a||Gv(f,g,rt,_,qe,Qe,_e)||l!==null&&l.dependencies!==null&&Xd(l.dependencies))?(ze||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(_,Qe,_e),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(_,Qe,_e)),typeof P.componentDidUpdate=="function"&&(f.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof P.componentDidUpdate!="function"||V===l.memoizedProps&&qe===l.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&qe===l.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=Qe),P.props=_,P.state=Qe,P.context=_e,_=rt):(typeof P.componentDidUpdate!="function"||V===l.memoizedProps&&qe===l.memoizedState||(f.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&qe===l.memoizedState||(f.flags|=1024),_=!1)}return P=_,bc(l,f),_=(f.flags&128)!==0,P||_?(P=f.stateNode,g=_&&typeof g.getDerivedStateFromError!="function"?null:P.render(),f.flags|=1,l!==null&&_?(f.child=Sl(f,l.child,null,C),f.child=Sl(f,null,g,C)):wr(l,f,g,C),f.memoizedState=P.state,l=f.child):l=ji(l,f,C),l}function Ib(l,f,g,_){return pu(),f.flags|=256,wr(l,f,g,_),f.child}var Yv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ra(l){return{baseLanes:l,cachePool:pv()}}function am(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=Ea),l}function Pb(l,f,g){var _=f.pendingProps,C=!1,P=(f.flags&128)!==0,V;if((V=P)||(V=l!==null&&l.memoizedState===null?!1:(In.current&2)!==0),V&&(C=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,l===null){if(Rn){if(C?Tl(f):Oa(),(l=si)?(l=PD(l,no),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:yl!==null?{id:Mi,overflow:as}:null,retryLane:536870912,hydrationErrors:null},g=Af(l),g.return=f,f.child=g,Li=f,si=null)):l=null,l===null)throw Us(f);return NA(l)?f.lanes=32:f.lanes=536870912,null}var ee=_.children;return _=_.fallback,C?(Oa(),C=f.mode,ee=om({mode:"hidden",children:ee},C),_=fu(_,C,g,null),ee.return=f,_.return=f,ee.sibling=_,f.child=ee,_=f.child,_.memoizedState=ra(g),_.childLanes=am(l,V,g),f.memoizedState=Yv,Vs(null,_)):(Tl(f),ah(f,ee))}var _e=l.memoizedState;if(_e!==null&&(ee=_e.dehydrated,ee!==null)){if(P)f.flags&256?(Tl(f),f.flags&=-257,f=$v(l,f,g)):f.memoizedState!==null?(Oa(),f.child=l.child,f.flags|=128,f=null):(Oa(),ee=_.fallback,C=f.mode,_=om({mode:"visible",children:_.children},C),ee=fu(ee,C,g,null),ee.flags|=2,_.return=f,ee.return=f,_.sibling=ee,f.child=_,Sl(f,l.child,null,g),_=f.child,_.memoizedState=ra(g),_.childLanes=am(l,V,g),f.memoizedState=Yv,f=Vs(null,_));else if(Tl(f),NA(ee)){if(V=ee.nextSibling&&ee.nextSibling.dataset,V)var ze=V.dgst;V=ze,_=Error(i(419)),_.stack="",_.digest=V,Fs({value:_,source:null,stack:null}),f=$v(l,f,g)}else if(ar||zs(l,f,g,!1),V=(g&l.childLanes)!==0,ar||V){if(V=tn,V!==null&&(_=Jr(V,g),_!==0&&_!==_e.retryLane))throw _e.retryLane=_,ya(l,_),pn(V,l,_),em;PA(ee)||Wf(),f=$v(l,f,g)}else PA(ee)?(f.flags|=192,f.child=l.child,f=null):(l=_e.treeContext,si=Js(ee.nextSibling),Li=f,Rn=!0,_l=null,no=!1,l!==null&&Dp(f,l),f=ah(f,_.children),f.flags|=4096);return f}return C?(Oa(),ee=_.fallback,C=f.mode,_e=l.child,ze=_e.sibling,_=Ia(_e,{mode:"hidden",children:_.children}),_.subtreeFlags=_e.subtreeFlags&65011712,ze!==null?ee=Ia(ze,ee):(ee=fu(ee,C,g,null),ee.flags|=2),ee.return=f,_.return=f,_.sibling=ee,f.child=_,Vs(null,_),_=f.child,ee=l.child.memoizedState,ee===null?ee=ra(g):(C=ee.cachePool,C!==null?(_e=rr._currentValue,C=C.parent!==_e?{parent:_e,pool:_e}:C):C=pv(),ee={baseLanes:ee.baseLanes|g,cachePool:C}),_.memoizedState=ee,_.childLanes=am(l,V,g),f.memoizedState=Yv,Vs(l.child,_)):(Tl(f),g=l.child,l=g.sibling,g=Ia(g,{mode:"visible",children:_.children}),g.return=f,g.sibling=null,l!==null&&(V=f.deletions,V===null?(f.deletions=[l],f.flags|=16):V.push(l)),f.child=g,f.memoizedState=null,g)}function ah(l,f){return f=om({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function om(l,f){return l=Ai(22,l,null,f),l.lanes=0,l}function $v(l,f,g){return Sl(f,l.child,null,g),l=ah(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function Nb(l,f,g){l.lanes|=f;var _=l.alternate;_!==null&&(_.lanes|=f),Lp(l.return,f,g)}function xc(l,f,g,_,C,P){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:g,tailMode:C,treeForkCount:P}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=_,V.tail=g,V.tailMode=C,V.treeForkCount=P)}function Ua(l,f,g){var _=f.pendingProps,C=_.revealOrder,P=_.tail;_=_.children;var V=In.current,ee=(V&2)!==0;if(ee?(V=V&1|2,f.flags|=128):V&=1,ie(In,V),wr(l,f,_,g),_=Rn?wf:0,!ee&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Nb(l,g,f);else if(l.tag===19)Nb(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(C){case"forwards":for(g=f.child,C=null;g!==null;)l=g.alternate,l!==null&&ro(l)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),xc(f,!1,C,g,P,_);break;case"backwards":case"unstable_legacy-backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(l=C.alternate,l!==null&&ro(l)===null){f.child=C;break}l=C.sibling,C.sibling=g,g=C,C=l}xc(f,!0,g,null,P,_);break;case"together":xc(f,!1,null,null,void 0,_);break;default:f.memoizedState=null}return f.child}function ji(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),Ys|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(zs(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(i(153));if(f.child!==null){for(l=f.child,g=Ia(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=Ia(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function sm(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Xd(l)))}function _A(l,f,g){switch(f.tag){case 3:Se(f,f.stateNode.containerInfo),bl(f,rr,l.memoizedState.cache),pu();break;case 27:case 5:De(f);break;case 4:Se(f,f.stateNode.containerInfo);break;case 10:bl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,yv(f),null;break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(Tl(f),f.flags|=128,null):(g&f.child.childLanes)!==0?Pb(l,f,g):(Tl(f),l=ji(l,f,g),l!==null?l.sibling:null);Tl(f);break;case 19:var C=(l.flags&128)!==0;if(_=(g&f.childLanes)!==0,_||(zs(l,f,g,!1),_=(g&f.childLanes)!==0),C){if(_)return Ua(l,f,g);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ie(In,In.current),_)break;return null;case 22:return f.lanes=0,_c(l,f,g,f.pendingProps);case 24:bl(f,rr,l.memoizedState.cache)}return ji(l,f,g)}function lm(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)ar=!0;else{if(!sm(l,g)&&(f.flags&128)===0)return ar=!1,_A(l,f,g);ar=(l.flags&131072)!==0}else ar=!1,Rn&&(f.flags&1048576)!==0&&B_(f,wf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var _=f.pendingProps;if(l=cc(f.elementType),f.type=l,typeof l=="function")Rp(l)?(_=Su(l,_),f.tag=1,f=rm(null,f,l,_,g)):(f.tag=0,f=Bf(null,f,l,_,g));else{if(l!=null){var C=l.$$typeof;if(C===N){f.tag=11,f=Xv(null,f,l,_,g);break e}else if(C===F){f.tag=14,f=yc(null,f,l,_,g);break e}}throw f=Q(l)||l,Error(i(306,f,""))}}return f;case 0:return Bf(l,f,f.type,f.pendingProps,g);case 1:return _=f.type,C=Su(_,f.pendingProps),rm(l,f,_,C,g);case 3:e:{if(Se(f,f.stateNode.containerInfo),l===null)throw Error(i(387));_=f.pendingProps;var P=f.memoizedState;C=P.element,mv(l,f),Df(f,_,null,g);var V=f.memoizedState;if(_=V.cache,bl(f,rr,_),_!==P.cache&&Up(f,[rr],g,!0),Zd(),_=V.element,P.isDehydrated)if(P={element:_,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){f=Ib(l,f,_,g);break e}else if(_!==C){C=to(Error(i(424)),f),Fs(C),f=Ib(l,f,_,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(si=Js(l.firstChild),Li=f,Rn=!0,_l=null,no=!0,g=Vp(f,null,_,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(pu(),_===C){f=ji(l,f,g);break e}wr(l,f,_,g)}f=f.child}return f;case 26:return bc(l,f),l===null?(g=FD(f.type,null,f.pendingProps,null))?f.memoizedState=g:Rn||(g=f.type,l=f.pendingProps,_=Ub(oe.current).createElement(g),_[zn]=f,_[Di]=l,Aa(_,g,l),Z(_),f.stateNode=_):f.memoizedState=FD(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return De(f),l===null&&Rn&&(_=f.stateNode=OD(f.type,f.pendingProps,oe.current),Li=f,no=!0,C=si,$f(f.type)?(DA=C,si=Js(_.firstChild)):si=C),wr(l,f,f.pendingProps.children,g),bc(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Rn&&((C=_=si)&&(_=cW(_,f.type,f.pendingProps,no),_!==null?(f.stateNode=_,Li=f,si=Js(_.firstChild),no=!1,C=!0):C=!1),C||Us(f)),De(f),C=f.type,P=f.pendingProps,V=l!==null?l.memoizedProps:null,_=P.children,CA(C,P)?_=null:V!==null&&CA(C,V)&&(f.flags|=32),f.memoizedState!==null&&(C=Wp(l,f,vc,null,null,g),o0._currentValue=C),bc(l,f),wr(l,f,_,g),f.child;case 6:return l===null&&Rn&&((l=g=si)&&(g=fW(g,f.pendingProps,no),g!==null?(f.stateNode=g,Li=f,si=null,l=!0):l=!1),l||Us(f)),null;case 13:return Pb(l,f,g);case 4:return Se(f,f.stateNode.containerInfo),_=f.pendingProps,l===null?f.child=Sl(f,null,_,g):wr(l,f,_,g),f.child;case 11:return Xv(l,f,f.type,f.pendingProps,g);case 7:return wr(l,f,f.pendingProps,g),f.child;case 8:return wr(l,f,f.pendingProps.children,g),f.child;case 12:return wr(l,f,f.pendingProps.children,g),f.child;case 10:return _=f.pendingProps,bl(f,f.type,_.value),wr(l,f,_.children,g),f.child;case 9:return C=f.type._context,_=f.pendingProps.children,gu(f),C=Zt(C),_=_(C),f.flags|=1,wr(l,f,_,g),f.child;case 14:return yc(l,f,f.type,f.pendingProps,g);case 15:return tm(l,f,f.type,f.pendingProps,g);case 19:return Ua(l,f,g);case 31:return im(l,f,g);case 22:return _c(l,f,g,f.pendingProps);case 24:return gu(f),_=Zt(rr),l===null?(C=kp(),C===null&&(C=tn,P=cv(),C.pooledCache=P,P.refCount++,P!==null&&(C.pooledCacheLanes|=g),C=P),f.memoizedState={parent:_,cache:C},Jd(f),bl(f,rr,C)):((l.lanes&g)!==0&&(mv(l,f),Df(f,null,null,g),Zd()),C=l.memoizedState,P=f.memoizedState,C.parent!==_?(C={parent:_,cache:_},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),bl(f,rr,_)):(_=P.cache,bl(f,rr,_),_!==C.cache&&Up(f,[rr],g,!0))),wr(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Hs(l){l.flags|=4}function oh(l,f,g,_,C){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(C&335544128)===C)if(l.stateNode.complete)l.flags|=8192;else if(Ii())l.flags|=8192;else throw Gs=Bp,$d}else l.flags&=-16777217}function Kv(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!VD(f))if(Ii())l.flags|=8192;else throw Gs=Bp,$d}function Ml(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?St():536870912,l.lanes|=f,hi|=f)}function qs(l,f){if(!Rn)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function ti(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,_=0;if(f)for(var C=l.child;C!==null;)g|=C.lanes|C.childLanes,_|=C.subtreeFlags&65011712,_|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)g|=C.lanes|C.childLanes,_|=C.subtreeFlags,_|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=_,l.childLanes=g,f}function sh(l,f,g){var _=f.pendingProps;switch(Np(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(f),null;case 1:return ti(f),null;case 3:return g=f.stateNode,_=null,l!==null&&(_=l.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),Bs(rr),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Rf(f)?Hs(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Op())),ti(f),null;case 26:var C=f.type,P=f.memoizedState;return l===null?(Hs(f),P!==null?(ti(f),Kv(f,P)):(ti(f),oh(f,C,null,_,g))):P?P!==l.memoizedState?(Hs(f),ti(f),Kv(f,P)):(ti(f),f.flags&=-16777217):(l=l.memoizedProps,l!==_&&Hs(f),ti(f),oh(f,C,l,_,g)),null;case 27:if(Fe(f),g=oe.current,C=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==_&&Hs(f);else{if(!_){if(f.stateNode===null)throw Error(i(166));return ti(f),null}l=ce.current,Rf(f)?z_(f):(l=OD(C,_,g),f.stateNode=l,Hs(f))}return ti(f),null;case 5:if(Fe(f),C=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==_&&Hs(f);else{if(!_){if(f.stateNode===null)throw Error(i(166));return ti(f),null}if(P=ce.current,Rf(f))z_(f);else{var V=Ub(oe.current);switch(P){case 1:P=V.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:P=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":P=V.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":P=V.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":P=V.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof _.is=="string"?V.createElement("select",{is:_.is}):V.createElement("select"),_.multiple?P.multiple=!0:_.size&&(P.size=_.size);break;default:P=typeof _.is=="string"?V.createElement(C,{is:_.is}):V.createElement(C)}}P[zn]=f,P[Di]=_;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)P.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=P;e:switch(Aa(P,C,_),C){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}_&&Hs(f)}}return ti(f),oh(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==_&&Hs(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(i(166));if(l=oe.current,Rf(f)){if(l=f.stateNode,g=f.memoizedProps,_=null,C=Li,C!==null)switch(C.tag){case 27:case 5:_=C.memoizedProps}l[zn]=f,l=!!(l.nodeValue===g||_!==null&&_.suppressHydrationWarning===!0||ED(l.nodeValue,g)),l||Us(f,!0)}else l=Ub(l).createTextNode(_),l[zn]=f,f.stateNode=l}return ti(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(_=Rf(f),g!==null){if(l===null){if(!_)throw Error(i(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[zn]=f}else pu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ti(f),l=!1}else g=Op(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(qi(f),f):(qi(f),null);if((f.flags&128)!==0)throw Error(i(558))}return ti(f),null;case 13:if(_=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=Rf(f),_!==null&&_.dehydrated!==null){if(l===null){if(!C)throw Error(i(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[zn]=f}else pu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ti(f),C=!1}else C=Op(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(qi(f),f):(qi(f),null)}return qi(f),(f.flags&128)!==0?(f.lanes=g,f):(g=_!==null,l=l!==null&&l.memoizedState!==null,g&&(_=f.child,C=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(C=_.alternate.memoizedState.cachePool.pool),P=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(P=_.memoizedState.cachePool.pool),P!==C&&(_.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),Ml(f,f.updateQueue),ti(f),null);case 4:return he(),l===null&&EA(f.stateNode.containerInfo),ti(f),null;case 10:return Bs(f.type),ti(f),null;case 19:if(te(In),_=f.memoizedState,_===null)return ti(f),null;if(C=(f.flags&128)!==0,P=_.rendering,P===null)if(C)qs(_,!1);else{if(Ci!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(P=ro(l),P!==null){for(f.flags|=128,qs(_,!1),l=P.updateQueue,f.updateQueue=l,Ml(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)Tf(g,l),g=g.sibling;return ie(In,In.current&1|2),Rn&&Os(f,_.treeForkCount),f.child}l=l.sibling}_.tail!==null&&q()>Xi&&(f.flags|=128,C=!0,qs(_,!1),f.lanes=4194304)}else{if(!C)if(l=ro(P),l!==null){if(f.flags|=128,C=!0,l=l.updateQueue,f.updateQueue=l,Ml(f,l),qs(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!Rn)return ti(f),null}else 2*q()-_.renderingStartTime>Xi&&g!==536870912&&(f.flags|=128,C=!0,qs(_,!1),f.lanes=4194304);_.isBackwards?(P.sibling=f.child,f.child=P):(l=_.last,l!==null?l.sibling=P:f.child=P,_.last=P)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=q(),l.sibling=null,g=In.current,ie(In,C?g&1|2:g&1),Rn&&Os(f,_.treeForkCount),l):(ti(f),null);case 22:case 23:return qi(f),Qd(),_=f.memoizedState!==null,l!==null?l.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(g&536870912)!==0&&(f.flags&128)===0&&(ti(f),f.subtreeFlags&6&&(f.flags|=8192)):ti(f),g=f.updateQueue,g!==null&&Ml(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048),l!==null&&te(vu),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Bs(rr),ti(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Uo(l,f){switch(Np(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return Bs(rr),he(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return Fe(f),null;case 31:if(f.memoizedState!==null){if(qi(f),f.alternate===null)throw Error(i(340));pu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(qi(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(i(340));pu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return te(In),null;case 4:return he(),null;case 10:return Bs(f.type),null;case 22:case 23:return qi(f),Qd(),l!==null&&te(vu),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return Bs(rr),null;case 25:return null;default:return null}}function ao(l,f){switch(Np(f),f.tag){case 3:Bs(rr),he();break;case 26:case 27:case 5:Fe(f);break;case 4:he();break;case 31:f.memoizedState!==null&&qi(f);break;case 13:qi(f);break;case 19:te(In);break;case 10:Bs(f.type);break;case 22:case 23:qi(f),Qd(),l!==null&&te(vu);break;case 24:Bs(rr)}}function Fo(l,f){try{var g=f.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var C=_.next;g=C;do{if((g.tag&l)===l){_=void 0;var P=g.create,V=g.inst;_=P(),V.destroy=_}g=g.next}while(g!==C)}}catch(ee){kn(f,f.return,ee)}}function zr(l,f,g){try{var _=f.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var P=C.next;_=P;do{if((_.tag&l)===l){var V=_.inst,ee=V.destroy;if(ee!==void 0){V.destroy=void 0,C=f;var _e=g,ze=ee;try{ze()}catch(rt){kn(C,_e,rt)}}}_=_.next}while(_!==P)}}catch(rt){kn(f,f.return,rt)}}function os(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{W_(f,g)}catch(_){kn(l,l.return,_)}}}function Cr(l,f,g){g.props=Su(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(_){kn(l,f,_)}}function wl(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var _=l.stateNode;break;case 30:_=l.stateNode;break;default:_=l.stateNode}typeof g=="function"?l.refCleanup=g(_):g.current=_}}catch(C){kn(l,f,C)}}function Gr(l,f){var g=l.ref,_=l.refCleanup;if(g!==null)if(typeof _=="function")try{_()}catch(C){kn(l,f,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){kn(l,f,C)}else g.current=null}function lh(l){var f=l.type,g=l.memoizedProps,_=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&_.focus();break e;case"img":g.src?_.src=g.src:g.srcSet&&(_.srcset=g.srcSet)}}catch(C){kn(l,l.return,C)}}function mr(l,f,g){try{var _=l.stateNode;rW(_,l.type,g,f),_[Di]=f}catch(C){kn(l,l.return,C)}}function xi(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&$f(l.type)||l.tag===4}function An(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xi(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&$f(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ws(l,f,g){var _=l.tag;if(_===5||_===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=ea));else if(_!==4&&(_===27&&$f(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(Ws(l,f,g),l=l.sibling;l!==null;)Ws(l,f,g),l=l.sibling}function xa(l,f,g){var _=l.tag;if(_===5||_===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(_!==4&&(_===27&&$f(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(xa(l,f,g),l=l.sibling;l!==null;)xa(l,f,g),l=l.sibling}function um(l){var f=l.stateNode,g=l.memoizedProps;try{for(var _=l.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);Aa(f,_,g),f[zn]=l,f[Di]=g}catch(P){kn(l,l.return,P)}}var ko=!1,li=!1,ss=!1,Db=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function bA(l,f){if(l=l.containerInfo,MA=Hb,l=L_(l),av(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var _=g.getSelection&&g.getSelection();if(_&&_.rangeCount!==0){g=_.anchorNode;var C=_.anchorOffset,P=_.focusNode;_=_.focusOffset;try{g.nodeType,P.nodeType}catch{g=null;break e}var V=0,ee=-1,_e=-1,ze=0,rt=0,ft=l,qe=null;t:for(;;){for(var Qe;ft!==g||C!==0&&ft.nodeType!==3||(ee=V+C),ft!==P||_!==0&&ft.nodeType!==3||(_e=V+_),ft.nodeType===3&&(V+=ft.nodeValue.length),(Qe=ft.firstChild)!==null;)qe=ft,ft=Qe;for(;;){if(ft===l)break t;if(qe===g&&++ze===C&&(ee=V),qe===P&&++rt===_&&(_e=V),(Qe=ft.nextSibling)!==null)break;ft=qe,qe=ft.parentNode}ft=Qe}g=ee===-1||_e===-1?null:{start:ee,end:_e}}else g=null}g=g||{start:0,end:0}}else g=null;for(wA={focusedElem:l,selectionRange:g},Hb=!1,Rr=f;Rr!==null;)if(f=Rr,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Rr=l;else for(;Rr!==null;){switch(f=Rr,P=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)C=l[g],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,g=f,C=P.memoizedProps,P=P.memoizedState,_=g.stateNode;try{var kt=Su(g.type,C);l=_.getSnapshotBeforeUpdate(kt,P),_.__reactInternalSnapshotBeforeUpdate=l}catch(Kt){kn(g,g.return,Kt)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)IA(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":IA(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=f.sibling,l!==null){l.return=f.return,Rr=l;break}Rr=f.return}}function Si(l,f,g){var _=g.flags;switch(g.tag){case 0:case 11:case 15:Go(l,g),_&4&&Fo(5,g);break;case 1:if(Go(l,g),_&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(V){kn(g,g.return,V)}else{var C=Su(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(C,f,l.__reactInternalSnapshotBeforeUpdate)}catch(V){kn(g,g.return,V)}}_&64&&os(g),_&512&&wl(g,g.return);break;case 3:if(Go(l,g),_&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{W_(l,f)}catch(V){kn(g,g.return,V)}}break;case 27:f===null&&_&4&&um(g);case 26:case 5:Go(l,g),f===null&&_&4&&lh(g),_&512&&wl(g,g.return);break;case 12:Go(l,g);break;case 31:Go(l,g),_&4&&Eu(l,g);break;case 13:Go(l,g),_&4&&zf(l,g),_&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=x.bind(null,g),dW(l,g))));break;case 22:if(_=g.memoizedState!==null||ko,!_){f=f!==null&&f.memoizedState!==null||li,C=ko;var P=li;ko=_,(li=f)&&!P?Sa(l,g,(g.subtreeFlags&8772)!==0):Go(l,g),ko=C,li=P}break;case 30:break;default:Go(l,g)}}function uh(l){var f=l.alternate;f!==null&&(l.alternate=null,uh(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&So(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Kn=null,aa=!1;function Bo(l,f,g){for(g=g.child;g!==null;)cm(l,f,g),g=g.sibling}function cm(l,f,g){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(We,g)}catch{}switch(g.tag){case 26:li||Gr(g,f),Bo(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:li||Gr(g,f);var _=Kn,C=aa;$f(g.type)&&(Kn=g.stateNode,aa=!1),Bo(l,f,g),i0(g.stateNode),Kn=_,aa=C;break;case 5:li||Gr(g,f);case 6:if(_=Kn,C=aa,Kn=null,Bo(l,f,g),Kn=_,aa=C,Kn!==null)if(aa)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(g.stateNode)}catch(P){kn(g,f,P)}else try{Kn.removeChild(g.stateNode)}catch(P){kn(g,f,P)}break;case 18:Kn!==null&&(aa?(l=Kn,RD(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),ym(l)):RD(Kn,g.stateNode));break;case 4:_=Kn,C=aa,Kn=g.stateNode.containerInfo,aa=!0,Bo(l,f,g),Kn=_,aa=C;break;case 0:case 11:case 14:case 15:zr(2,g,f),li||zr(4,g,f),Bo(l,f,g);break;case 1:li||(Gr(g,f),_=g.stateNode,typeof _.componentWillUnmount=="function"&&Cr(g,f,_)),Bo(l,f,g);break;case 21:Bo(l,f,g);break;case 22:li=(_=li)||g.memoizedState!==null,Bo(l,f,g),li=_;break;default:Bo(l,f,g)}}function Eu(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{ym(l)}catch(g){kn(f,f.return,g)}}}function zf(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{ym(l)}catch(g){kn(f,f.return,g)}}function Jv(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new Db),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new Db),f;default:throw Error(i(435,l.tag))}}function Cl(l,f){var g=Jv(l);f.forEach(function(_){if(!g.has(_)){g.add(_);var C=w.bind(null,l,_);_.then(C,C)}})}function gr(l,f){var g=f.deletions;if(g!==null)for(var _=0;_<g.length;_++){var C=g[_],P=l,V=f,ee=V;e:for(;ee!==null;){switch(ee.tag){case 27:if($f(ee.type)){Kn=ee.stateNode,aa=!1;break e}break;case 5:Kn=ee.stateNode,aa=!1;break e;case 3:case 4:Kn=ee.stateNode.containerInfo,aa=!0;break e}ee=ee.return}if(Kn===null)throw Error(i(160));cm(P,V,C),Kn=null,aa=!1,P=C.alternate,P!==null&&(P.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Tu(f,l),f=f.sibling}var zo=null;function Tu(l,f){var g=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:gr(f,l),vr(l),_&4&&(zr(3,l,l.return),Fo(3,l),zr(5,l,l.return));break;case 1:gr(f,l),vr(l),_&512&&(li||g===null||Gr(g,g.return)),_&64&&ko&&(l=l.updateQueue,l!==null&&(_=l.callbacks,_!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?_:g.concat(_))));break;case 26:var C=zo;if(gr(f,l),vr(l),_&512&&(li||g===null||Gr(g,g.return)),_&4){var P=g!==null?g.memoizedState:null;if(_=l.memoizedState,g===null)if(_===null)if(l.stateNode===null){e:{_=l.type,g=l.memoizedProps,C=C.ownerDocument||C;t:switch(_){case"title":P=C.getElementsByTagName("title")[0],(!P||P[Ka]||P[zn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=C.createElement(_),C.head.insertBefore(P,C.querySelector("head > title"))),Aa(P,_,g),P[zn]=l,Z(P),_=P;break e;case"link":var V=zD("link","href",C).get(_+(g.href||""));if(V){for(var ee=0;ee<V.length;ee++)if(P=V[ee],P.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&P.getAttribute("rel")===(g.rel==null?null:g.rel)&&P.getAttribute("title")===(g.title==null?null:g.title)&&P.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(ee,1);break t}}P=C.createElement(_),Aa(P,_,g),C.head.appendChild(P);break;case"meta":if(V=zD("meta","content",C).get(_+(g.content||""))){for(ee=0;ee<V.length;ee++)if(P=V[ee],P.getAttribute("content")===(g.content==null?null:""+g.content)&&P.getAttribute("name")===(g.name==null?null:g.name)&&P.getAttribute("property")===(g.property==null?null:g.property)&&P.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&P.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(ee,1);break t}}P=C.createElement(_),Aa(P,_,g),C.head.appendChild(P);break;default:throw Error(i(468,_))}P[zn]=l,Z(P),_=P}l.stateNode=_}else GD(C,l.type,l.stateNode);else l.stateNode=BD(C,_,l.memoizedProps);else P!==_?(P===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):P.count--,_===null?GD(C,l.type,l.stateNode):BD(C,_,l.memoizedProps)):_===null&&l.stateNode!==null&&mr(l,l.memoizedProps,g.memoizedProps)}break;case 27:gr(f,l),vr(l),_&512&&(li||g===null||Gr(g,g.return)),g!==null&&_&4&&mr(l,l.memoizedProps,g.memoizedProps);break;case 5:if(gr(f,l),vr(l),_&512&&(li||g===null||Gr(g,g.return)),l.flags&32){C=l.stateNode;try{vi(C,"")}catch(kt){kn(l,l.return,kt)}}_&4&&l.stateNode!=null&&(C=l.memoizedProps,mr(l,C,g!==null?g.memoizedProps:C)),_&1024&&(ss=!0);break;case 6:if(gr(f,l),vr(l),_&4){if(l.stateNode===null)throw Error(i(162));_=l.memoizedProps,g=l.stateNode;try{g.nodeValue=_}catch(kt){kn(l,l.return,kt)}}break;case 3:if(Bb=null,C=zo,zo=Fb(f.containerInfo),gr(f,l),zo=C,vr(l),_&4&&g!==null&&g.memoizedState.isDehydrated)try{ym(f.containerInfo)}catch(kt){kn(l,l.return,kt)}ss&&(ss=!1,fm(l));break;case 4:_=zo,zo=Fb(l.stateNode.containerInfo),gr(f,l),vr(l),zo=_;break;case 12:gr(f,l),vr(l);break;case 31:gr(f,l),vr(l),_&4&&(_=l.updateQueue,_!==null&&(l.updateQueue=null,Cl(l,_)));break;case 13:gr(f,l),vr(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Gf=q()),_&4&&(_=l.updateQueue,_!==null&&(l.updateQueue=null,Cl(l,_)));break;case 22:C=l.memoizedState!==null;var _e=g!==null&&g.memoizedState!==null,ze=ko,rt=li;if(ko=ze||C,li=rt||_e,gr(f,l),li=rt,ko=ze,vr(l),_&8192)e:for(f=l.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(g===null||_e||ko||li||js(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){_e=g=f;try{if(P=_e.stateNode,C)V=P.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ee=_e.stateNode;var ft=_e.memoizedProps.style,qe=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;ee.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(kt){kn(_e,_e.return,kt)}}}else if(f.tag===6){if(g===null){_e=f;try{_e.stateNode.nodeValue=C?"":_e.memoizedProps}catch(kt){kn(_e,_e.return,kt)}}}else if(f.tag===18){if(g===null){_e=f;try{var Qe=_e.stateNode;C?ID(Qe,!0):ID(_e.stateNode,!1)}catch(kt){kn(_e,_e.return,kt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=l.updateQueue,_!==null&&(g=_.retryQueue,g!==null&&(_.retryQueue=null,Cl(l,g))));break;case 19:gr(f,l),vr(l),_&4&&(_=l.updateQueue,_!==null&&(l.updateQueue=null,Cl(l,_)));break;case 30:break;case 21:break;default:gr(f,l),vr(l)}}function vr(l){var f=l.flags;if(f&2){try{for(var g,_=l.return;_!==null;){if(xi(_)){g=_;break}_=_.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var C=g.stateNode,P=An(l);xa(l,P,C);break;case 5:var V=g.stateNode;g.flags&32&&(vi(V,""),g.flags&=-33);var ee=An(l);xa(l,ee,V);break;case 3:case 4:var _e=g.stateNode.containerInfo,ze=An(l);Ws(l,ze,_e);break;default:throw Error(i(161))}}catch(rt){kn(l,l.return,rt)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function fm(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;fm(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Go(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Si(l,f.alternate,f),f=f.sibling}function js(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:zr(4,f,f.return),js(f);break;case 1:Gr(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Cr(f,f.return,g),js(f);break;case 27:i0(f.stateNode);case 26:case 5:Gr(f,f.return),js(f);break;case 22:f.memoizedState===null&&js(f);break;case 30:js(f);break;default:js(f)}l=l.sibling}}function Sa(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,C=l,P=f,V=P.flags;switch(P.tag){case 0:case 11:case 15:Sa(C,P,g),Fo(4,P);break;case 1:if(Sa(C,P,g),_=P,C=_.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ze){kn(_,_.return,ze)}if(_=P,C=_.updateQueue,C!==null){var ee=_.stateNode;try{var _e=C.shared.hiddenCallbacks;if(_e!==null)for(C.shared.hiddenCallbacks=null,C=0;C<_e.length;C++)Of(_e[C],ee)}catch(ze){kn(_,_.return,ze)}}g&&V&64&&os(P),wl(P,P.return);break;case 27:um(P);case 26:case 5:Sa(C,P,g),g&&_===null&&V&4&&lh(P),wl(P,P.return);break;case 12:Sa(C,P,g);break;case 31:Sa(C,P,g),g&&V&4&&Eu(C,P);break;case 13:Sa(C,P,g),g&&V&4&&zf(C,P);break;case 22:P.memoizedState===null&&Sa(C,P,g),wl(P,P.return);break;case 30:break;default:Sa(C,P,g)}f=f.sibling}}function Au(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&lc(g))}function Sc(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&lc(l))}function Vr(l,f,g,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Zv(l,f,g,_),f=f.sibling}function Zv(l,f,g,_){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Vr(l,f,g,_),C&2048&&Fo(9,f);break;case 1:Vr(l,f,g,_);break;case 3:Vr(l,f,g,_),C&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&lc(l)));break;case 12:if(C&2048){Vr(l,f,g,_),l=f.stateNode;try{var P=f.memoizedProps,V=P.id,ee=P.onPostCommit;typeof ee=="function"&&ee(V,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(_e){kn(f,f.return,_e)}}else Vr(l,f,g,_);break;case 31:Vr(l,f,g,_);break;case 13:Vr(l,f,g,_);break;case 23:break;case 22:P=f.stateNode,V=f.alternate,f.memoizedState!==null?P._visibility&2?Vr(l,f,g,_):Xs(l,f):P._visibility&2?Vr(l,f,g,_):(P._visibility|=2,Hr(l,f,g,_,(f.subtreeFlags&10256)!==0||!1)),C&2048&&Au(V,f);break;case 24:Vr(l,f,g,_),C&2048&&Sc(f.alternate,f);break;default:Vr(l,f,g,_)}}function Hr(l,f,g,_,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var P=l,V=f,ee=g,_e=_,ze=V.flags;switch(V.tag){case 0:case 11:case 15:Hr(P,V,ee,_e,C),Fo(8,V);break;case 23:break;case 22:var rt=V.stateNode;V.memoizedState!==null?rt._visibility&2?Hr(P,V,ee,_e,C):Xs(P,V):(rt._visibility|=2,Hr(P,V,ee,_e,C)),C&&ze&2048&&Au(V.alternate,V);break;case 24:Hr(P,V,ee,_e,C),C&&ze&2048&&Sc(V.alternate,V);break;default:Hr(P,V,ee,_e,C)}f=f.sibling}}function Xs(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,_=f,C=_.flags;switch(_.tag){case 22:Xs(g,_),C&2048&&Au(_.alternate,_);break;case 24:Xs(g,_),C&2048&&Sc(_.alternate,_);break;default:Xs(g,_)}f=f.sibling}}var Ec=8192;function oo(l,f,g){if(l.subtreeFlags&Ec)for(l=l.child;l!==null;)dm(l,f,g),l=l.sibling}function dm(l,f,g){switch(l.tag){case 26:oo(l,f,g),l.flags&Ec&&l.memoizedState!==null&&TW(g,zo,l.memoizedState,l.memoizedProps);break;case 5:oo(l,f,g);break;case 3:case 4:var _=zo;zo=Fb(l.stateNode.containerInfo),oo(l,f,g),zo=_;break;case 22:l.memoizedState===null&&(_=l.alternate,_!==null&&_.memoizedState!==null?(_=Ec,Ec=16777216,oo(l,f,g),Ec=_):oo(l,f,g));break;default:oo(l,f,g)}}function Tc(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function Mu(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Rr=_,Ui(_,l)}Tc(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Fa(l),l=l.sibling}function Fa(l){switch(l.tag){case 0:case 11:case 15:Mu(l),l.flags&2048&&zr(9,l,l.return);break;case 3:Mu(l);break;case 12:Mu(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,ka(l)):Mu(l);break;default:Mu(l)}}function ka(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];Rr=_,Ui(_,l)}Tc(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:zr(8,f,f.return),ka(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,ka(f));break;default:ka(f)}l=l.sibling}}function Ui(l,f){for(;Rr!==null;){var g=Rr;switch(g.tag){case 0:case 11:case 15:zr(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var _=g.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:lc(g.memoizedState.cache)}if(_=g.child,_!==null)_.return=g,Rr=_;else e:for(g=l;Rr!==null;){_=Rr;var C=_.sibling,P=_.return;if(uh(_),_===g){Rr=null;break e}if(C!==null){C.return=P,Rr=C;break e}Rr=P}}}var Rl={getCacheForType:function(l){var f=Zt(rr),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return Zt(rr).controller.signal}},sn=typeof WeakMap=="function"?WeakMap:Map,Gt=0,tn=null,hn=null,fn=0,Nn=0,oa=null,Vo=!1,ls=!1,Qv=!1,so=0,Ci=0,Ys=0,wu=0,ch=0,Ea=0,hi=0,Ac=null,Fi=null,ki=!1,Gf=0,e0=0,Xi=1/0,Ri=null,Yi=null,Jn=0,lo=null,Vf=null,Ho=0,Hf=0,qf=null,fh=null,Cu=0,Mc=null;function uo(){return(Gt&2)!==0&&fn!==0?fn&-fn:X.T!==null?$e():pa()}function Sn(){if(Ea===0)if((fn&536870912)===0||Rn){var l=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),Ea=l}else Ea=536870912;return l=Da.current,l!==null&&(l.flags|=32),Ea}function pn(l,f,g){(l===tn&&(Nn===2||Nn===9)||l.cancelPendingCommit!==null)&&(Iu(l,0),or(l,fn,Ea,!1)),vn(l,g),((Gt&2)===0||l!==tn)&&(l===tn&&((Gt&2)===0&&(wu|=g),Ci===4&&or(l,fn,Ea,!1)),gt(l))}function En(l,f,g){if((Gt&6)!==0)throw Error(i(327));var _=!g&&(f&127)===0&&(f&l.expiredLanes)===0||lt(l,f),C=_?dh(l,f):Ta(l,f,!0),P=_;do{if(C===0){ls&&!_&&or(l,f,0,!1);break}else{if(g=l.current.alternate,P&&!Zn(g)){C=Ta(l,f,!1),P=!1;continue}if(C===2){if(P=f,l.errorRecoveryDisabledLanes&P)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var ee=l;C=Ac;var _e=ee.current.memoizedState.isDehydrated;if(_e&&(Iu(ee,V).flags|=256),V=Ta(ee,V,!1),V!==2){if(Qv&&!_e){ee.errorRecoveryDisabledLanes|=P,wu|=P,C=4;break e}P=Fi,Fi=C,P!==null&&(Fi===null?Fi=P:Fi.push.apply(Fi,P))}C=V}if(P=!1,C!==2)continue}}if(C===1){Iu(l,0),or(l,f,0,!0);break}e:{switch(_=l,P=C,P){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:or(_,f,Ea,!Vo);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(C=Gf+300-q(),10<C)){if(or(_,f,Ea,!Vo),Be(_,0,!0)!==0)break e;Ho=f,_.timeoutHandle=wD(Mn.bind(null,_,g,Fi,Ri,ki,f,Ea,wu,hi,Vo,P,"Throttled",-0,0),C);break e}Mn(_,g,Fi,Ri,ki,f,Ea,wu,hi,Vo,P,null,-0,0)}}break}while(!0);gt(l)}function Mn(l,f,g,_,C,P,V,ee,_e,ze,rt,ft,qe,Qe){if(l.timeoutHandle=-1,ft=f.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},dm(f,P,ft);var kt=(P&62914560)===P?Gf-q():(P&4194048)===P?e0-q():0;if(kt=AW(ft,kt),kt!==null){Ho=P,l.cancelPendingCommit=kt(Pl.bind(null,l,f,P,g,_,C,V,ee,_e,rt,ft,null,qe,Qe)),or(l,P,V,!ze);return}}Pl(l,f,P,g,_,C,V,ee,_e)}function Zn(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var _=0;_<g.length;_++){var C=g[_],P=C.getSnapshot;C=C.value;try{if(!va(P(),C))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function or(l,f,g,_){f&=~ch,f&=~wu,l.suspendedLanes|=f,l.pingedLanes&=~f,_&&(l.warmLanes|=f),_=l.expirationTimes;for(var C=f;0<C;){var P=31-ue(C),V=1<<P;_[P]=-1,C&=~V}g!==0&&Qn(l,g,f)}function us(){return(Gt&6)===0?(Rt(0),!1):!0}function Ru(){if(hn!==null){if(Nn===0)var l=hn.return;else l=hn,ks=mu=null,Ev(l),hc=null,pc=0,l=hn;for(;l!==null;)ao(l.alternate,l),l=l.return;hn=null}}function Iu(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,sW(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Ho=0,Ru(),tn=l,hn=g=Ia(l.current,null),fn=f,Nn=0,oa=null,Vo=!1,ls=lt(l,f),Qv=!1,hi=Ea=ch=wu=Ys=Ci=0,Fi=Ac=null,ki=!1,(f&8)!==0&&(f|=f&32);var _=l.entangledLanes;if(_!==0)for(l=l.entanglements,_&=f;0<_;){var C=31-ue(_),P=1<<C;f|=l[C],_&=~P}return so=f,Wd(),g}function $s(l,f){on=null,X.H=kf,f===uc||f===dn?(f=fc(),Nn=3):f===$d?(f=fc(),Nn=4):Nn=f===em?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,oa=f,hn===null&&(Ci=1,Qp(l,to(f,l.current)))}function Ii(){var l=Da.current;return l===null?!0:(fn&4194048)===fn?ba===null:(fn&62914560)===fn||(fn&536870912)!==0?l===ba:!1}function Il(){var l=X.H;return X.H=kf,l===null?kf:l}function Pu(){var l=X.A;return X.A=Rl,l}function Wf(){Ci=4,Vo||(fn&4194048)!==fn&&Da.current!==null||(ls=!0),(Ys&134217727)===0&&(wu&134217727)===0||tn===null||or(tn,fn,Ea,!1)}function Ta(l,f,g){var _=Gt;Gt|=2;var C=Il(),P=Pu();(tn!==l||fn!==f)&&(Ri=null,Iu(l,f)),f=!1;var V=Ci;e:do try{if(Nn!==0&&hn!==null){var ee=hn,_e=oa;switch(Nn){case 8:Ru(),V=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(f=!0);var ze=Nn;if(Nn=0,oa=null,wc(l,ee,_e,ze),g&&ls){V=0;break e}break;default:ze=Nn,Nn=0,oa=null,wc(l,ee,_e,ze)}}jf(),V=Ci;break}catch(rt){$s(l,rt)}while(!0);return f&&l.shellSuspendCounter++,ks=mu=null,Gt=_,X.H=C,X.A=P,hn===null&&(tn=null,fn=0,Wd()),V}function jf(){for(;hn!==null;)hm(hn)}function dh(l,f){var g=Gt;Gt|=2;var _=Il(),C=Pu();tn!==l||fn!==f?(Ri=null,Xi=q()+500,Iu(l,f)):ls=lt(l,f);e:do try{if(Nn!==0&&hn!==null){f=hn;var P=oa;t:switch(Nn){case 1:Nn=0,oa=null,wc(l,f,P,1);break;case 2:case 9:if(Na(P)){Nn=0,oa=null,hh(f);break}f=function(){Nn!==2&&Nn!==9||tn!==l||(Nn=7),gt(l)},P.then(f,f);break e;case 3:Nn=7;break e;case 4:Nn=5;break e;case 7:Na(P)?(Nn=0,oa=null,hh(f)):(Nn=0,oa=null,wc(l,f,P,7));break;case 5:var V=null;switch(hn.tag){case 26:V=hn.memoizedState;case 5:case 27:var ee=hn;if(V?VD(V):ee.stateNode.complete){Nn=0,oa=null;var _e=ee.sibling;if(_e!==null)hn=_e;else{var ze=ee.return;ze!==null?(hn=ze,Nu(ze)):hn=null}break t}}Nn=0,oa=null,wc(l,f,P,5);break;case 6:Nn=0,oa=null,wc(l,f,P,6);break;case 8:Ru(),Ci=6;break e;default:throw Error(i(462))}}Ba();break}catch(rt){$s(l,rt)}while(!0);return ks=mu=null,X.H=_,X.A=C,Gt=g,hn!==null?0:(tn=null,fn=0,Wd(),Ci)}function Ba(){for(;hn!==null&&!Ve();)hm(hn)}function hm(l){var f=lm(l.alternate,l,so);l.memoizedProps=l.pendingProps,f===null?Nu(l):hn=f}function hh(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=rh(g,f,f.pendingProps,f.type,void 0,fn);break;case 11:f=rh(g,f,f.pendingProps,f.type.render,f.ref,fn);break;case 5:Ev(f);default:ao(g,f),f=hn=Tf(f,so),f=lm(g,f,so)}l.memoizedProps=l.pendingProps,f===null?Nu(l):hn=f}function wc(l,f,g,_){ks=mu=null,Ev(f),hc=null,pc=0;var C=f.return;try{if(pr(l,C,f,g,fn)){Ci=1,Qp(l,to(g,l.current)),hn=null;return}}catch(P){if(C!==null)throw hn=C,P;Ci=1,Qp(l,to(g,l.current)),hn=null;return}f.flags&32768?(Rn||_===1?l=!0:ls||(fn&536870912)!==0?l=!1:(Vo=l=!0,(_===2||_===9||_===3||_===6)&&(_=Da.current,_!==null&&_.tag===13&&(_.flags|=16384))),ph(f,l)):Nu(f)}function Nu(l){var f=l;do{if((f.flags&32768)!==0){ph(f,Vo);return}l=f.return;var g=sh(f.alternate,f,so);if(g!==null){hn=g;return}if(f=f.sibling,f!==null){hn=f;return}hn=f=l}while(f!==null);Ci===0&&(Ci=5)}function ph(l,f){do{var g=Uo(l.alternate,l);if(g!==null){g.flags&=32767,hn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){hn=l;return}hn=l=g}while(l!==null);Ci=6,hn=null}function Pl(l,f,g,_,C,P,V,ee,_e){l.cancelPendingCommit=null;do Xf();while(Jn!==0);if((Gt&6)!==0)throw Error(i(327));if(f!==null){if(f===l.current)throw Error(i(177));if(P=f.lanes|f.childLanes,P|=Ar,wn(l,g,P,V,ee,_e),l===tn&&(hn=tn=null,fn=0),Vf=f,lo=l,Ho=g,Hf=P,qf=C,fh=_,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,L(Te,function(){return pm(),null})):(l.callbackNode=null,l.callbackPriority=0),_=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||_){_=X.T,X.T=null,C=ne.p,ne.p=2,V=Gt,Gt|=4;try{bA(l,f,g)}finally{Gt=V,ne.p=C,X.T=_}}Jn=1,sr(),Nl(),Cc()}}function sr(){if(Jn===1){Jn=0;var l=lo,f=Vf,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=X.T,X.T=null;var _=ne.p;ne.p=2;var C=Gt;Gt|=4;try{Tu(f,l);var P=wA,V=L_(l.containerInfo),ee=P.focusedElem,_e=P.selectionRange;if(V!==ee&&ee&&ee.ownerDocument&&oi(ee.ownerDocument.documentElement,ee)){if(_e!==null&&av(ee)){var ze=_e.start,rt=_e.end;if(rt===void 0&&(rt=ze),"selectionStart"in ee)ee.selectionStart=ze,ee.selectionEnd=Math.min(rt,ee.value.length);else{var ft=ee.ownerDocument||document,qe=ft&&ft.defaultView||window;if(qe.getSelection){var Qe=qe.getSelection(),kt=ee.textContent.length,Kt=Math.min(_e.start,kt),ci=_e.end===void 0?Kt:Math.min(_e.end,kt);!Qe.extend&&Kt>ci&&(V=ci,ci=Kt,Kt=V);var Pe=xf(ee,Kt),xe=xf(ee,ci);if(Pe&&xe&&(Qe.rangeCount!==1||Qe.anchorNode!==Pe.node||Qe.anchorOffset!==Pe.offset||Qe.focusNode!==xe.node||Qe.focusOffset!==xe.offset)){var ke=ft.createRange();ke.setStart(Pe.node,Pe.offset),Qe.removeAllRanges(),Kt>ci?(Qe.addRange(ke),Qe.extend(xe.node,xe.offset)):(ke.setEnd(xe.node,xe.offset),Qe.addRange(ke))}}}}for(ft=[],Qe=ee;Qe=Qe.parentNode;)Qe.nodeType===1&&ft.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<ft.length;ee++){var ut=ft[ee];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Hb=!!MA,wA=MA=null}finally{Gt=C,ne.p=_,X.T=g}}l.current=f,Jn=2}}function Nl(){if(Jn===2){Jn=0;var l=lo,f=Vf,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=X.T,X.T=null;var _=ne.p;ne.p=2;var C=Gt;Gt|=4;try{Si(l,f.alternate,f)}finally{Gt=C,ne.p=_,X.T=g}}Jn=3}}function Cc(){if(Jn===4||Jn===3){Jn=0,$();var l=lo,f=Vf,g=Ho,_=fh;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Jn=5:(Jn=0,Vf=lo=null,Ks(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(Yi=null),Sr(g),f=f.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(We,f,void 0,(f.current.flags&128)===128)}catch{}if(_!==null){f=X.T,C=ne.p,ne.p=2,X.T=null;try{for(var P=l.onRecoverableError,V=0;V<_.length;V++){var ee=_[V];P(ee.value,{componentStack:ee.stack})}}finally{X.T=f,ne.p=C}}(Ho&3)!==0&&Xf(),gt(l),C=l.pendingLanes,(g&261930)!==0&&(C&42)!==0?l===Mc?Cu++:(Cu=0,Mc=l):Cu=0,Rt(0)}}function Ks(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,lc(f)))}function Xf(){return sr(),Nl(),Cc(),pm()}function pm(){if(Jn!==5)return!1;var l=lo,f=Hf;Hf=0;var g=Sr(Ho),_=X.T,C=ne.p;try{ne.p=32>g?32:g,X.T=null,g=qf,qf=null;var P=lo,V=Ho;if(Jn=0,Vf=lo=null,Ho=0,(Gt&6)!==0)throw Error(i(331));var ee=Gt;if(Gt|=4,Fa(P.current),Zv(P,P.current,V,g),Gt=ee,Rt(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(We,P)}catch{}return!0}finally{ne.p=C,X.T=_,Ks(l,f)}}function t0(l,f,g){f=to(g,f),f=Wv(l.stateNode,f,2),l=yu(l,f,2),l!==null&&(vn(l,2),gt(l))}function kn(l,f,g){if(l.tag===3)t0(l,l,g);else for(;f!==null;){if(f.tag===3){t0(f,l,g);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Yi===null||!Yi.has(_))){l=to(g,l),g=jv(2),_=yu(f,g,2),_!==null&&(Cb(g,_,f,l),vn(_,2),gt(_));break}}f=f.return}}function mh(l,f,g){var _=l.pingCache;if(_===null){_=l.pingCache=new sn;var C=new Set;_.set(f,C)}else C=_.get(f),C===void 0&&(C=new Set,_.set(f,C));C.has(g)||(Qv=!0,C.add(g),l=h.bind(null,l,f,g),f.then(l,l))}function h(l,f,g){var _=l.pingCache;_!==null&&_.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,tn===l&&(fn&g)===g&&(Ci===4||Ci===3&&(fn&62914560)===fn&&300>q()-Gf?(Gt&2)===0&&Iu(l,0):ch|=g,hi===fn&&(hi=0)),gt(l)}function m(l,f){f===0&&(f=St()),l=ya(l,f),l!==null&&(vn(l,f),gt(l))}function x(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),m(l,g)}function w(l,f){var g=0;switch(l.tag){case 31:case 13:var _=l.stateNode,C=l.memoizedState;C!==null&&(g=C.retryLane);break;case 19:_=l.stateNode;break;case 22:_=l.stateNode._retryCache;break;default:throw Error(i(314))}_!==null&&_.delete(f),m(l,g)}function L(l,f){return je(l,f)}var k=null,J=null,be=!1,Ze=!1,dt=!1,bt=0;function gt(l){l!==J&&l.next===null&&(J===null?k=J=l:J=J.next=l),Ze=!0,be||(be=!0,Ne())}function Rt(l,f){if(!dt&&Ze){dt=!0;do for(var g=!1,_=k;_!==null;){if(l!==0){var C=_.pendingLanes;if(C===0)var P=0;else{var V=_.suspendedLanes,ee=_.pingedLanes;P=(1<<31-ue(42|l)+1)-1,P&=C&~(V&~ee),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(g=!0,Ge(_,P))}else P=fn,P=Be(_,_===tn?P:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(P&3)===0||lt(_,P)||(g=!0,Ge(_,P));_=_.next}while(g);dt=!1}}function rn(){$i()}function $i(){Ze=be=!1;var l=0;bt!==0&&oW()&&(l=bt);for(var f=q(),g=null,_=k;_!==null;){var C=_.next,P=Yf(_,f);P===0?(_.next=null,g===null?k=C:g.next=C,C===null&&(J=g)):(g=_,(l!==0||(P&3)!==0)&&(Ze=!0)),_=C}Jn!==0&&Jn!==5||Rt(l),bt!==0&&(bt=0)}function Yf(l,f){for(var g=l.suspendedLanes,_=l.pingedLanes,C=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var V=31-ue(P),ee=1<<V,_e=C[V];_e===-1?((ee&g)===0||(ee&_)!==0)&&(C[V]=Et(ee,f)):_e<=f&&(l.expiredLanes|=ee),P&=~ee}if(f=tn,g=fn,g=Be(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),_=l.callbackNode,g===0||l===f&&(Nn===2||Nn===9)||l.cancelPendingCommit!==null)return _!==null&&_!==null&&Re(_),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||lt(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(_!==null&&Re(_),Sr(g)){case 2:case 8:g=Ce;break;case 32:g=Te;break;case 268435456:g=it;break;default:g=Te}return _=Du.bind(null,l),g=je(g,_),l.callbackPriority=f,l.callbackNode=g,f}return _!==null&&_!==null&&Re(_),l.callbackPriority=2,l.callbackNode=null,2}function Du(l,f){if(Jn!==0&&Jn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Xf()&&l.callbackNode!==g)return null;var _=fn;return _=Be(l,l===tn?_:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),_===0?null:(En(l,_,f),Yf(l,q()),l.callbackNode!=null&&l.callbackNode===g?Du.bind(null,l):null)}function Ge(l,f){if(Xf())return null;En(l,f,!0)}function Ne(){lW(function(){(Gt&6)!==0?je(Le,rn):$i()})}function $e(){if(bt===0){var l=xl;l===0&&(l=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),bt=l}return bt}function _t(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:To(""+l)}function Xt(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function Pi(l,f,g,_,C){if(f==="submit"&&g&&g.stateNode===C){var P=_t((C[Di]||null).action),V=_.submitter;V&&(f=(f=V[Di]||null)?_t(f.formAction):V.getAttribute("formAction"),f!==null&&(P=f,V=null));var ee=new ml("action","action",null,_,C);l.push({event:ee,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(bt!==0){var _e=V?Xt(C,V):new FormData(C);Fv(g,{pending:!0,data:_e,method:C.method,action:P},null,_e)}}else typeof P=="function"&&(ee.preventDefault(),_e=V?Xt(C,V):new FormData(C),Fv(g,{pending:!0,data:_e,method:C.method,action:P},P,_e))},currentTarget:C}]})}}for(var Yt=0;Yt<Hd.length;Yt++){var Ln=Hd[Yt],Ir=Ln.toLowerCase(),Bn=Ln[0].toUpperCase()+Ln.slice(1);Ro(Ir,"on"+Bn)}Ro(wp,"onAnimationEnd"),Ro(Vd,"onAnimationIteration"),Ro(sv,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(F_,"onTransitionRun"),Ro(dA,"onTransitionStart"),Ro(k_,"onTransitionCancel"),Ro(lv,"onTransitionEnd"),Ie("onMouseEnter",["mouseout","mouseover"]),Ie("onMouseLeave",["mouseout","mouseover"]),Ie("onPointerEnter",["pointerout","pointerover"]),Ie("onPointerLeave",["pointerout","pointerover"]),Ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function _D(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var _=l[g],C=_.event;_=_.listeners;e:{var P=void 0;if(f)for(var V=_.length-1;0<=V;V--){var ee=_[V],_e=ee.instance,ze=ee.currentTarget;if(ee=ee.listener,_e!==P&&C.isPropagationStopped())break e;P=ee,C.currentTarget=ze;try{P(C)}catch(rt){qd(rt)}C.currentTarget=null,P=_e}else for(V=0;V<_.length;V++){if(ee=_[V],_e=ee.instance,ze=ee.currentTarget,ee=ee.listener,_e!==P&&C.isPropagationStopped())break e;P=ee,C.currentTarget=ze;try{P(C)}catch(rt){qd(rt)}C.currentTarget=null,P=_e}}}}function Dn(l,f){var g=f[ma];g===void 0&&(g=f[ma]=new Set);var _=l+"__bubble";g.has(_)||(bD(f,l,2,!1),g.add(_))}function SA(l,f,g){var _=0;f&&(_|=4),bD(g,l,_,f)}var Ob="_reactListening"+Math.random().toString(36).slice(2);function EA(l){if(!l[Ob]){l[Ob]=!0,Ae.forEach(function(g){g!=="selectionchange"&&(xA.has(g)||SA(g,!1,l),SA(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[Ob]||(f[Ob]=!0,SA("selectionchange",!1,f))}}function bD(l,f,g,_){switch($D(f)){case 2:var C=CW;break;case 8:C=RW;break;default:C=kA}g=C.bind(null,f,g,l),C=void 0,!ga||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),_?C!==void 0?l.addEventListener(f,g,{capture:!0,passive:C}):l.addEventListener(f,g,!0):C!==void 0?l.addEventListener(f,g,{passive:C}):l.addEventListener(f,g,!1)}function TA(l,f,g,_,C){var P=_;if((f&1)===0&&(f&2)===0&&_!==null)e:for(;;){if(_===null)return;var V=_.tag;if(V===3||V===4){var ee=_.stateNode.containerInfo;if(ee===C)break;if(V===4)for(V=_.return;V!==null;){var _e=V.tag;if((_e===3||_e===4)&&V.stateNode.containerInfo===C)return;V=V.return}for(;ee!==null;){if(V=Ra(ee),V===null)return;if(_e=V.tag,_e===5||_e===6||_e===26||_e===27){_=P=V;continue e}ee=ee.parentNode}}_=_.return}tu(function(){var ze=P,rt=Ju(g),ft=[];e:{var qe=Co.get(l);if(qe!==void 0){var Qe=ml,kt=l;switch(l){case"keypress":if(iu(g)===0)break e;case"keydown":case"keyup":Qe=ic;break;case"focusin":kt="focus",Qe=vf;break;case"focusout":kt="blur",Qe=vf;break;case"beforeblur":case"afterblur":Qe=vf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=E_;break;case wp:case Vd:case sv:Qe=eo;break;case lv:Qe=fA;break;case"scroll":case"scrollend":Qe=au;break;case"wheel":Qe=A_;break;case"copy":case"cut":case"paste":Qe=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=Xg;break;case"toggle":case"beforetoggle":Qe=w_}var Kt=(f&4)!==0,ci=!Kt&&(l==="scroll"||l==="scrollend"),Pe=Kt?qe!==null?qe+"Capture":null:qe;Kt=[];for(var xe=ze,ke;xe!==null;){var ut=xe;if(ke=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||ke===null||Pe===null||(ut=As(xe,Pe),ut!=null&&Kt.push(n0(xe,ut,ke))),ci)break;xe=xe.return}0<Kt.length&&(qe=new Qe(qe,kt,null,g,rt),ft.push({event:qe,listeners:Kt}))}}if((f&7)===0){e:{if(qe=l==="mouseover"||l==="pointerover",Qe=l==="mouseout"||l==="pointerout",qe&&g!==Ts&&(kt=g.relatedTarget||g.fromElement)&&(Ra(kt)||kt[Fr]))break e;if((Qe||qe)&&(qe=rt.window===rt?rt:(qe=rt.ownerDocument)?qe.defaultView||qe.parentWindow:window,Qe?(kt=g.relatedTarget||g.toElement,Qe=ze,kt=kt?Ra(kt):null,kt!==null&&(ci=a(kt),Kt=kt.tag,kt!==ci||Kt!==5&&Kt!==27&&Kt!==6)&&(kt=null)):(Qe=null,kt=ze),Qe!==kt)){if(Kt=Ud,ut="onMouseLeave",Pe="onMouseEnter",xe="mouse",(l==="pointerout"||l==="pointerover")&&(Kt=Xg,ut="onPointerLeave",Pe="onPointerEnter",xe="pointer"),ci=Qe==null?qe:Eo(Qe),ke=kt==null?qe:Eo(kt),qe=new Kt(ut,xe+"leave",Qe,g,rt),qe.target=ci,qe.relatedTarget=ke,ut=null,Ra(rt)===ze&&(Kt=new Kt(Pe,xe+"enter",kt,g,rt),Kt.target=ke,Kt.relatedTarget=ci,ut=Kt),ci=ut,Qe&&kt)t:{for(Kt=tW,Pe=Qe,xe=kt,ke=0,ut=Pe;ut;ut=Kt(ut))ke++;ut=0;for(var jt=xe;jt;jt=Kt(jt))ut++;for(;0<ke-ut;)Pe=Kt(Pe),ke--;for(;0<ut-ke;)xe=Kt(xe),ut--;for(;ke--;){if(Pe===xe||xe!==null&&Pe===xe.alternate){Kt=Pe;break t}Pe=Kt(Pe),xe=Kt(xe)}Kt=null}else Kt=null;Qe!==null&&xD(ft,qe,Qe,Kt,!1),kt!==null&&ci!==null&&xD(ft,ci,kt,Kt,!0)}}e:{if(qe=ze?Eo(ze):window,Qe=qe.nodeName&&qe.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&qe.type==="file")var Wn=ev;else if(Qg(qe))if(Is)Wn=O_;else{Wn=iv;var zt=N_}else Qe=qe.nodeName,!Qe||Qe.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?ze&&Tr(ze.elementType)&&(Wn=ev):Wn=D_;if(Wn&&(Wn=Wn(l,ze))){Ap(ft,Wn,g,rt);break e}zt&&zt(l,qe,ze),l==="focusout"&&ze&&qe.type==="number"&&ze.memoizedProps.value!=null&&Gn(qe,"number",qe.value)}switch(zt=ze?Eo(ze):window,l){case"focusin":(Qg(zt)||zt.contentEditable==="true")&&(Ps=zt,Ns=ze,Sf=null);break;case"focusout":Sf=Ns=Ps=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,Ef(ft,g,rt);break;case"selectionchange":if(U_)break;case"keydown":case"keyup":Ef(ft,g,rt)}var _n;if(rc)e:{switch(l){case"compositionstart":var Un="onCompositionStart";break e;case"compositionend":Un="onCompositionEnd";break e;case"compositionupdate":Un="onCompositionUpdate";break e}Un=void 0}else ac?Tp(l,g)&&(Un="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Un="onCompositionStart");Un&&($g&&g.locale!=="ko"&&(ac||Un!=="onCompositionStart"?Un==="onCompositionEnd"&&ac&&(_n=nu()):(ta=rt,ec="value"in ta?ta.value:ta.textContent,ac=!0)),zt=Lb(ze,Un),0<zt.length&&(Un=new _p(Un,l,null,g,rt),ft.push({event:Un,listeners:zt}),_n?Un.data=_n:(_n=Kg(g),_n!==null&&(Un.data=_n)))),(_n=Ep?I_(l,g):Jg(l,g))&&(Un=Lb(ze,"onBeforeInput"),0<Un.length&&(zt=new _p("onBeforeInput","beforeinput",null,g,rt),ft.push({event:zt,listeners:Un}),zt.data=_n)),Pi(ft,l,ze,g,rt)}_D(ft,f)})}function n0(l,f,g){return{instance:l,listener:f,currentTarget:g}}function Lb(l,f){for(var g=f+"Capture",_=[];l!==null;){var C=l,P=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||P===null||(C=As(l,g),C!=null&&_.unshift(n0(l,C,P)),C=As(l,f),C!=null&&_.push(n0(l,C,P))),l.tag===3)return _;l=l.return}return[]}function tW(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function xD(l,f,g,_,C){for(var P=f._reactName,V=[];g!==null&&g!==_;){var ee=g,_e=ee.alternate,ze=ee.stateNode;if(ee=ee.tag,_e!==null&&_e===_)break;ee!==5&&ee!==26&&ee!==27||ze===null||(_e=ze,C?(ze=As(g,P),ze!=null&&V.unshift(n0(g,ze,_e))):C||(ze=As(g,P),ze!=null&&V.push(n0(g,ze,_e)))),g=g.return}V.length!==0&&l.push({event:f,listeners:V})}var nW=/\r\n?/g,iW=/\u0000|\uFFFD/g;function SD(l){return(typeof l=="string"?l:""+l).replace(nW,`
`).replace(iW,"")}function ED(l,f){return f=SD(f),SD(l)===f}function ui(l,f,g,_,C,P){switch(g){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||vi(l,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&vi(l,""+_);break;case"className":Vt(l,"class",_);break;case"tabIndex":Vt(l,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Vt(l,g,_);break;case"style":ts(l,_,P);break;case"data":if(f!=="object"){Vt(l,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){l.removeAttribute(g);break}_=To(""+_),l.setAttribute(g,_);break;case"action":case"formAction":if(typeof _=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(g==="formAction"?(f!=="input"&&ui(l,f,"name",C.name,C,null),ui(l,f,"formEncType",C.formEncType,C,null),ui(l,f,"formMethod",C.formMethod,C,null),ui(l,f,"formTarget",C.formTarget,C,null)):(ui(l,f,"encType",C.encType,C,null),ui(l,f,"method",C.method,C,null),ui(l,f,"target",C.target,C,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){l.removeAttribute(g);break}_=To(""+_),l.setAttribute(g,_);break;case"onClick":_!=null&&(l.onclick=ea);break;case"onScroll":_!=null&&Dn("scroll",l);break;case"onScrollEnd":_!=null&&Dn("scrollend",l);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(g=_.__html,g!=null){if(C.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":l.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){l.removeAttribute("xlink:href");break}g=To(""+_),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?l.setAttribute(g,""+_):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":_===!0?l.setAttribute(g,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?l.setAttribute(g,_):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?l.setAttribute(g,_):l.removeAttribute(g);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?l.removeAttribute(g):l.setAttribute(g,_);break;case"popover":Dn("beforetoggle",l),Dn("toggle",l),Nt(l,"popover",_);break;case"xlinkActuate":Dt(l,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Dt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Dt(l,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Dt(l,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Dt(l,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Dt(l,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Dt(l,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Nt(l,"is",_);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Ld.get(g)||g,Nt(l,g,_))}}function AA(l,f,g,_,C,P){switch(g){case"style":ts(l,_,P);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(g=_.__html,g!=null){if(C.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof _=="string"?vi(l,_):(typeof _=="number"||typeof _=="bigint")&&vi(l,""+_);break;case"onScroll":_!=null&&Dn("scroll",l);break;case"onScrollEnd":_!=null&&Dn("scrollend",l);break;case"onClick":_!=null&&(l.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!He.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(C=g.endsWith("Capture"),f=g.slice(2,C?g.length-7:void 0),P=l[Di]||null,P=P!=null?P[g]:null,typeof P=="function"&&l.removeEventListener(f,P,C),typeof _=="function")){typeof P!="function"&&P!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,_,C);break e}g in l?l[g]=_:_===!0?l.setAttribute(g,""):Nt(l,g,_)}}}function Aa(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",l),Dn("load",l);var _=!1,C=!1,P;for(P in g)if(g.hasOwnProperty(P)){var V=g[P];if(V!=null)switch(P){case"src":_=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:ui(l,f,P,V,g,null)}}C&&ui(l,f,"srcSet",g.srcSet,g,null),_&&ui(l,f,"src",g.src,g,null);return;case"input":Dn("invalid",l);var ee=P=V=C=null,_e=null,ze=null;for(_ in g)if(g.hasOwnProperty(_)){var rt=g[_];if(rt!=null)switch(_){case"name":C=rt;break;case"type":V=rt;break;case"checked":_e=rt;break;case"defaultChecked":ze=rt;break;case"value":P=rt;break;case"defaultValue":ee=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,f));break;default:ui(l,f,_,rt,g,null)}}Qr(l,P,ee,_e,ze,V,C,!1);return;case"select":Dn("invalid",l),_=V=P=null;for(C in g)if(g.hasOwnProperty(C)&&(ee=g[C],ee!=null))switch(C){case"value":P=ee;break;case"defaultValue":V=ee;break;case"multiple":_=ee;default:ui(l,f,C,ee,g,null)}f=P,g=V,l.multiple=!!_,f!=null?Er(l,!!_,f,!1):g!=null&&Er(l,!!_,g,!0);return;case"textarea":Dn("invalid",l),P=C=_=null;for(V in g)if(g.hasOwnProperty(V)&&(ee=g[V],ee!=null))switch(V){case"value":_=ee;break;case"defaultValue":C=ee;break;case"children":P=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:ui(l,f,V,ee,g,null)}gi(l,_,C,P);return;case"option":for(_e in g)if(g.hasOwnProperty(_e)&&(_=g[_e],_!=null))switch(_e){case"selected":l.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:ui(l,f,_e,_,g,null)}return;case"dialog":Dn("beforetoggle",l),Dn("toggle",l),Dn("cancel",l),Dn("close",l);break;case"iframe":case"object":Dn("load",l);break;case"video":case"audio":for(_=0;_<qo.length;_++)Dn(qo[_],l);break;case"image":Dn("error",l),Dn("load",l);break;case"details":Dn("toggle",l);break;case"embed":case"source":case"link":Dn("error",l),Dn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in g)if(g.hasOwnProperty(ze)&&(_=g[ze],_!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:ui(l,f,ze,_,g,null)}return;default:if(Tr(f)){for(rt in g)g.hasOwnProperty(rt)&&(_=g[rt],_!==void 0&&AA(l,f,rt,_,g,void 0));return}}for(ee in g)g.hasOwnProperty(ee)&&(_=g[ee],_!=null&&ui(l,f,ee,_,g,null))}function rW(l,f,g,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,P=null,V=null,ee=null,_e=null,ze=null,rt=null;for(Qe in g){var ft=g[Qe];if(g.hasOwnProperty(Qe)&&ft!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":_e=ft;default:_.hasOwnProperty(Qe)||ui(l,f,Qe,null,_,ft)}}for(var qe in _){var Qe=_[qe];if(ft=g[qe],_.hasOwnProperty(qe)&&(Qe!=null||ft!=null))switch(qe){case"type":P=Qe;break;case"name":C=Qe;break;case"checked":ze=Qe;break;case"defaultChecked":rt=Qe;break;case"value":V=Qe;break;case"defaultValue":ee=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(i(137,f));break;default:Qe!==ft&&ui(l,f,qe,Qe,_,ft)}}Oi(l,V,ee,_e,ze,rt,P,C);return;case"select":Qe=V=ee=qe=null;for(P in g)if(_e=g[P],g.hasOwnProperty(P)&&_e!=null)switch(P){case"value":break;case"multiple":Qe=_e;default:_.hasOwnProperty(P)||ui(l,f,P,null,_,_e)}for(C in _)if(P=_[C],_e=g[C],_.hasOwnProperty(C)&&(P!=null||_e!=null))switch(C){case"value":qe=P;break;case"defaultValue":ee=P;break;case"multiple":V=P;default:P!==_e&&ui(l,f,C,P,_,_e)}f=ee,g=V,_=Qe,qe!=null?Er(l,!!g,qe,!1):!!_!=!!g&&(f!=null?Er(l,!!g,f,!0):Er(l,!!g,g?[]:"",!1));return;case"textarea":Qe=qe=null;for(ee in g)if(C=g[ee],g.hasOwnProperty(ee)&&C!=null&&!_.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:ui(l,f,ee,null,_,C)}for(V in _)if(C=_[V],P=g[V],_.hasOwnProperty(V)&&(C!=null||P!=null))switch(V){case"value":qe=C;break;case"defaultValue":Qe=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==P&&ui(l,f,V,C,_,P)}Cn(l,qe,Qe);return;case"option":for(var kt in g)if(qe=g[kt],g.hasOwnProperty(kt)&&qe!=null&&!_.hasOwnProperty(kt))switch(kt){case"selected":l.selected=!1;break;default:ui(l,f,kt,null,_,qe)}for(_e in _)if(qe=_[_e],Qe=g[_e],_.hasOwnProperty(_e)&&qe!==Qe&&(qe!=null||Qe!=null))switch(_e){case"selected":l.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:ui(l,f,_e,qe,_,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kt in g)qe=g[Kt],g.hasOwnProperty(Kt)&&qe!=null&&!_.hasOwnProperty(Kt)&&ui(l,f,Kt,null,_,qe);for(ze in _)if(qe=_[ze],Qe=g[ze],_.hasOwnProperty(ze)&&qe!==Qe&&(qe!=null||Qe!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,f));break;default:ui(l,f,ze,qe,_,Qe)}return;default:if(Tr(f)){for(var ci in g)qe=g[ci],g.hasOwnProperty(ci)&&qe!==void 0&&!_.hasOwnProperty(ci)&&AA(l,f,ci,void 0,_,qe);for(rt in _)qe=_[rt],Qe=g[rt],!_.hasOwnProperty(rt)||qe===Qe||qe===void 0&&Qe===void 0||AA(l,f,rt,qe,_,Qe);return}}for(var Pe in g)qe=g[Pe],g.hasOwnProperty(Pe)&&qe!=null&&!_.hasOwnProperty(Pe)&&ui(l,f,Pe,null,_,qe);for(ft in _)qe=_[ft],Qe=g[ft],!_.hasOwnProperty(ft)||qe===Qe||qe==null&&Qe==null||ui(l,f,ft,qe,_,Qe)}function TD(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aW(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),_=0;_<g.length;_++){var C=g[_],P=C.transferSize,V=C.initiatorType,ee=C.duration;if(P&&ee&&TD(V)){for(V=0,ee=C.responseEnd,_+=1;_<g.length;_++){var _e=g[_],ze=_e.startTime;if(ze>ee)break;var rt=_e.transferSize,ft=_e.initiatorType;rt&&TD(ft)&&(_e=_e.responseEnd,V+=rt*(_e<ee?1:(ee-ze)/(_e-ze)))}if(--_,f+=8*(P+V)/(C.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var MA=null,wA=null;function Ub(l){return l.nodeType===9?l:l.ownerDocument}function AD(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MD(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function CA(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var RA=null;function oW(){var l=window.event;return l&&l.type==="popstate"?l===RA?!1:(RA=l,!0):(RA=null,!1)}var wD=typeof setTimeout=="function"?setTimeout:void 0,sW=typeof clearTimeout=="function"?clearTimeout:void 0,CD=typeof Promise=="function"?Promise:void 0,lW=typeof queueMicrotask=="function"?queueMicrotask:typeof CD<"u"?function(l){return CD.resolve(null).then(l).catch(uW)}:wD;function uW(l){setTimeout(function(){throw l})}function $f(l){return l==="head"}function RD(l,f){var g=f,_=0;do{var C=g.nextSibling;if(l.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"||g==="/&"){if(_===0){l.removeChild(C),ym(f);return}_--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")_++;else if(g==="html")i0(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,i0(g);for(var P=g.firstChild;P;){var V=P.nextSibling,ee=P.nodeName;P[Ka]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&P.rel.toLowerCase()==="stylesheet"||g.removeChild(P),P=V}}else g==="body"&&i0(l.ownerDocument.body);g=C}while(g);ym(f)}function ID(l,f){var g=l;l=0;do{var _=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),_&&_.nodeType===8)if(g=_.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=_}while(g)}function IA(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":IA(g),So(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function cW(l,f,g,_){for(;l.nodeType===1;){var C=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(_){if(!l[Ka])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var P=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=Js(l.nextSibling),l===null)break}return null}function fW(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Js(l.nextSibling),l===null))return null;return l}function PD(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Js(l.nextSibling),l===null))return null;return l}function PA(l){return l.data==="$?"||l.data==="$~"}function NA(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function dW(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var _=function(){f(),g.removeEventListener("DOMContentLoaded",_)};g.addEventListener("DOMContentLoaded",_),l._reactRetry=_}}function Js(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var DA=null;function ND(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return Js(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function DD(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function OD(l,f,g){switch(f=Ub(g),l){case"html":if(l=f.documentElement,!l)throw Error(i(452));return l;case"head":if(l=f.head,!l)throw Error(i(453));return l;case"body":if(l=f.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function i0(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);So(l)}var Zs=new Map,LD=new Set;function Fb(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Rc=ne.d;ne.d={f:hW,r:pW,D:mW,C:gW,L:vW,m:yW,X:bW,S:_W,M:xW};function hW(){var l=Rc.f(),f=us();return l||f}function pW(l){var f=Ja(l);f!==null&&f.tag===5&&f.type==="form"?_b(f):Rc.r(l)}var mm=typeof document>"u"?null:document;function UD(l,f,g){var _=mm;if(_&&typeof f=="string"&&f){var C=Bt(f);C='link[rel="'+l+'"][href="'+C+'"]',typeof g=="string"&&(C+='[crossorigin="'+g+'"]'),LD.has(C)||(LD.add(C),l={rel:l,crossOrigin:g,href:f},_.querySelector(C)===null&&(f=_.createElement("link"),Aa(f,"link",l),Z(f),_.head.appendChild(f)))}}function mW(l){Rc.D(l),UD("dns-prefetch",l,null)}function gW(l,f){Rc.C(l,f),UD("preconnect",l,f)}function vW(l,f,g){Rc.L(l,f,g);var _=mm;if(_&&l&&f){var C='link[rel="preload"][as="'+Bt(f)+'"]';f==="image"&&g&&g.imageSrcSet?(C+='[imagesrcset="'+Bt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(C+='[imagesizes="'+Bt(g.imageSizes)+'"]')):C+='[href="'+Bt(l)+'"]';var P=C;switch(f){case"style":P=gm(l);break;case"script":P=vm(l)}Zs.has(P)||(l=p({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),Zs.set(P,l),_.querySelector(C)!==null||f==="style"&&_.querySelector(r0(P))||f==="script"&&_.querySelector(a0(P))||(f=_.createElement("link"),Aa(f,"link",l),Z(f),_.head.appendChild(f)))}}function yW(l,f){Rc.m(l,f);var g=mm;if(g&&l){var _=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+Bt(_)+'"][href="'+Bt(l)+'"]',P=C;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=vm(l)}if(!Zs.has(P)&&(l=p({rel:"modulepreload",href:l},f),Zs.set(P,l),g.querySelector(C)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(a0(P)))return}_=g.createElement("link"),Aa(_,"link",l),Z(_),g.head.appendChild(_)}}}function _W(l,f,g){Rc.S(l,f,g);var _=mm;if(_&&l){var C=Ot(_).hoistableStyles,P=gm(l);f=f||"default";var V=C.get(P);if(!V){var ee={loading:0,preload:null};if(V=_.querySelector(r0(P)))ee.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},g),(g=Zs.get(P))&&OA(l,g);var _e=V=_.createElement("link");Z(_e),Aa(_e,"link",l),_e._p=new Promise(function(ze,rt){_e.onload=ze,_e.onerror=rt}),_e.addEventListener("load",function(){ee.loading|=1}),_e.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,kb(V,f,_)}V={type:"stylesheet",instance:V,count:1,state:ee},C.set(P,V)}}}function bW(l,f){Rc.X(l,f);var g=mm;if(g&&l){var _=Ot(g).hoistableScripts,C=vm(l),P=_.get(C);P||(P=g.querySelector(a0(C)),P||(l=p({src:l,async:!0},f),(f=Zs.get(C))&&LA(l,f),P=g.createElement("script"),Z(P),Aa(P,"link",l),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},_.set(C,P))}}function xW(l,f){Rc.M(l,f);var g=mm;if(g&&l){var _=Ot(g).hoistableScripts,C=vm(l),P=_.get(C);P||(P=g.querySelector(a0(C)),P||(l=p({src:l,async:!0,type:"module"},f),(f=Zs.get(C))&&LA(l,f),P=g.createElement("script"),Z(P),Aa(P,"link",l),g.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},_.set(C,P))}}function FD(l,f,g,_){var C=(C=oe.current)?Fb(C):null;if(!C)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=gm(g.href),g=Ot(C).hoistableStyles,_=g.get(f),_||(_={type:"style",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=gm(g.href);var P=Ot(C).hoistableStyles,V=P.get(l);if(V||(C=C.ownerDocument||C,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,V),(P=C.querySelector(r0(l)))&&!P._p&&(V.instance=P,V.state.loading=5),Zs.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Zs.set(l,g),P||SW(C,l,g,V.state))),f&&_===null)throw Error(i(528,""));return V}if(f&&_!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=vm(g),g=Ot(C).hoistableScripts,_=g.get(f),_||(_={type:"script",instance:null,count:0,state:null},g.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function gm(l){return'href="'+Bt(l)+'"'}function r0(l){return'link[rel="stylesheet"]['+l+"]"}function kD(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function SW(l,f,g,_){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=l.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),Aa(f,"link",g),Z(f),l.head.appendChild(f))}function vm(l){return'[src="'+Bt(l)+'"]'}function a0(l){return"script[async]"+l}function BD(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var _=l.querySelector('style[data-href~="'+Bt(g.href)+'"]');if(_)return f.instance=_,Z(_),_;var C=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return _=(l.ownerDocument||l).createElement("style"),Z(_),Aa(_,"style",C),kb(_,g.precedence,l),f.instance=_;case"stylesheet":C=gm(g.href);var P=l.querySelector(r0(C));if(P)return f.state.loading|=4,f.instance=P,Z(P),P;_=kD(g),(C=Zs.get(C))&&OA(_,C),P=(l.ownerDocument||l).createElement("link"),Z(P);var V=P;return V._p=new Promise(function(ee,_e){V.onload=ee,V.onerror=_e}),Aa(P,"link",_),f.state.loading|=4,kb(P,g.precedence,l),f.instance=P;case"script":return P=vm(g.src),(C=l.querySelector(a0(P)))?(f.instance=C,Z(C),C):(_=g,(C=Zs.get(P))&&(_=p({},g),LA(_,C)),l=l.ownerDocument||l,C=l.createElement("script"),Z(C),Aa(C,"link",_),l.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(_=f.instance,f.state.loading|=4,kb(_,g.precedence,l));return f.instance}function kb(l,f,g){for(var _=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=_.length?_[_.length-1]:null,P=C,V=0;V<_.length;V++){var ee=_[V];if(ee.dataset.precedence===f)P=ee;else if(P!==C)break}P?P.parentNode.insertBefore(l,P.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function OA(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function LA(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Bb=null;function zD(l,f,g){if(Bb===null){var _=new Map,C=Bb=new Map;C.set(g,_)}else C=Bb,_=C.get(g),_||(_=new Map,C.set(g,_));if(_.has(l))return _;for(_.set(l,null),g=g.getElementsByTagName(l),C=0;C<g.length;C++){var P=g[C];if(!(P[Ka]||P[zn]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var V=P.getAttribute(f)||"";V=l+V;var ee=_.get(V);ee?ee.push(P):_.set(V,[P])}}return _}function GD(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function EW(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function VD(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function TW(l,f,g,_){if(g.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var C=gm(_.href),P=f.querySelector(r0(C));if(P){f=P._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=zb.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=P,Z(P);return}P=f.ownerDocument||f,_=kD(_),(C=Zs.get(C))&&OA(_,C),P=P.createElement("link"),Z(P);var V=P;V._p=new Promise(function(ee,_e){V.onload=ee,V.onerror=_e}),Aa(P,"link",_),g.instance=P}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=zb.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var UA=0;function AW(l,f){return l.stylesheets&&l.count===0&&Vb(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var _=setTimeout(function(){if(l.stylesheets&&Vb(l,l.stylesheets),l.unsuspend){var P=l.unsuspend;l.unsuspend=null,P()}},6e4+f);0<l.imgBytes&&UA===0&&(UA=62500*aW());var C=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Vb(l,l.stylesheets),l.unsuspend)){var P=l.unsuspend;l.unsuspend=null,P()}},(l.imgBytes>UA?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(_),clearTimeout(C)}}:null}function zb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vb(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Gb=null;function Vb(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Gb=new Map,f.forEach(MW,l),Gb=null,zb.call(l))}function MW(l,f){if(!(f.state.loading&4)){var g=Gb.get(l);if(g)var _=g.get(null);else{g=new Map,Gb.set(l,g);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<C.length;P++){var V=C[P];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),_=V)}_&&g.set(null,_)}C=f.instance,V=C.getAttribute("data-precedence"),P=g.get(V)||_,P===_&&g.set(null,C),g.set(V,C),this.count++,_=zb.bind(this),C.addEventListener("load",_),C.addEventListener("error",_),P?P.parentNode.insertBefore(C,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),f.state.loading|=4}}var o0={$$typeof:I,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function wW(l,f,g,_,C,P,V,ee,_e){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=_,this.onUncaughtError=C,this.onCaughtError=P,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function HD(l,f,g,_,C,P,V,ee,_e,ze,rt,ft){return l=new wW(l,f,g,V,_e,ze,rt,ft,ee),f=1,P===!0&&(f|=24),P=Ai(3,null,null,f),l.current=P,P.stateNode=l,f=cv(),f.refCount++,l.pooledCache=f,f.refCount++,P.memoizedState={element:_,isDehydrated:g,cache:f},Jd(P),l}function qD(l){return l?(l=cu,l):cu}function WD(l,f,g,_,C,P){C=qD(C),_.context===null?_.context=C:_.pendingContext=C,_=El(f),_.payload={element:g},P=P===void 0?null:P,P!==null&&(_.callback=P),g=yu(l,_,f),g!==null&&(pn(g,l,f),_u(g,l,f))}function jD(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function FA(l,f){jD(l,f),(l=l.alternate)&&jD(l,f)}function XD(l){if(l.tag===13||l.tag===31){var f=ya(l,67108864);f!==null&&pn(f,l,67108864),FA(l,67108864)}}function YD(l){if(l.tag===13||l.tag===31){var f=uo();f=xr(f);var g=ya(l,f);g!==null&&pn(g,l,f),FA(l,f)}}var Hb=!0;function CW(l,f,g,_){var C=X.T;X.T=null;var P=ne.p;try{ne.p=2,kA(l,f,g,_)}finally{ne.p=P,X.T=C}}function RW(l,f,g,_){var C=X.T;X.T=null;var P=ne.p;try{ne.p=8,kA(l,f,g,_)}finally{ne.p=P,X.T=C}}function kA(l,f,g,_){if(Hb){var C=BA(_);if(C===null)TA(l,f,_,qb,g),KD(l,_);else if(PW(C,l,f,g,_))_.stopPropagation();else if(KD(l,_),f&4&&-1<IW.indexOf(l)){for(;C!==null;){var P=Ja(C);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var V=nt(P.pendingLanes);if(V!==0){var ee=P;for(ee.pendingLanes|=2,ee.entangledLanes|=2;V;){var _e=1<<31-ue(V);ee.entanglements[1]|=_e,V&=~_e}gt(P),(Gt&6)===0&&(Xi=q()+500,Rt(0))}}break;case 31:case 13:ee=ya(P,2),ee!==null&&pn(ee,P,2),us(),FA(P,2)}if(P=BA(_),P===null&&TA(l,f,_,qb,g),P===C)break;C=P}C!==null&&_.stopPropagation()}else TA(l,f,_,null,g)}}function BA(l){return l=Ju(l),zA(l)}var qb=null;function zA(l){if(qb=null,l=Ra(l),l!==null){var f=a(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=o(f),l!==null)return l;l=null}else if(g===31){if(l=s(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return qb=l,null}function $D(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Le:return 2;case Ce:return 8;case Te:case ot:return 32;case it:return 268435456;default:return 32}default:return 32}}var GA=!1,Kf=null,Jf=null,Zf=null,s0=new Map,l0=new Map,Qf=[],IW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KD(l,f){switch(l){case"focusin":case"focusout":Kf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":Zf=null;break;case"pointerover":case"pointerout":s0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":l0.delete(f.pointerId)}}function u0(l,f,g,_,C,P){return l===null||l.nativeEvent!==P?(l={blockedOn:f,domEventName:g,eventSystemFlags:_,nativeEvent:P,targetContainers:[C]},f!==null&&(f=Ja(f),f!==null&&XD(f)),l):(l.eventSystemFlags|=_,f=l.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),l)}function PW(l,f,g,_,C){switch(f){case"focusin":return Kf=u0(Kf,l,f,g,_,C),!0;case"dragenter":return Jf=u0(Jf,l,f,g,_,C),!0;case"mouseover":return Zf=u0(Zf,l,f,g,_,C),!0;case"pointerover":var P=C.pointerId;return s0.set(P,u0(s0.get(P)||null,l,f,g,_,C)),!0;case"gotpointercapture":return P=C.pointerId,l0.set(P,u0(l0.get(P)||null,l,f,g,_,C)),!0}return!1}function JD(l){var f=Ra(l.target);if(f!==null){var g=a(f);if(g!==null){if(f=g.tag,f===13){if(f=o(g),f!==null){l.blockedOn=f,ai(l.priority,function(){YD(g)});return}}else if(f===31){if(f=s(g),f!==null){l.blockedOn=f,ai(l.priority,function(){YD(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Wb(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=BA(l.nativeEvent);if(g===null){g=l.nativeEvent;var _=new g.constructor(g.type,g);Ts=_,g.target.dispatchEvent(_),Ts=null}else return f=Ja(g),f!==null&&XD(f),l.blockedOn=g,!1;f.shift()}return!0}function ZD(l,f,g){Wb(l)&&g.delete(f)}function NW(){GA=!1,Kf!==null&&Wb(Kf)&&(Kf=null),Jf!==null&&Wb(Jf)&&(Jf=null),Zf!==null&&Wb(Zf)&&(Zf=null),s0.forEach(ZD),l0.forEach(ZD)}function jb(l,f){l.blockedOn===f&&(l.blockedOn=null,GA||(GA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NW)))}var Xb=null;function QD(l){Xb!==l&&(Xb=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xb===l&&(Xb=null);for(var f=0;f<l.length;f+=3){var g=l[f],_=l[f+1],C=l[f+2];if(typeof _!="function"){if(zA(_||g)===null)continue;break}var P=Ja(g);P!==null&&(l.splice(f,3),f-=3,Fv(P,{pending:!0,data:C,method:g.method,action:_},_,C))}}))}function ym(l){function f(_e){return jb(_e,l)}Kf!==null&&jb(Kf,l),Jf!==null&&jb(Jf,l),Zf!==null&&jb(Zf,l),s0.forEach(f),l0.forEach(f);for(var g=0;g<Qf.length;g++){var _=Qf[g];_.blockedOn===l&&(_.blockedOn=null)}for(;0<Qf.length&&(g=Qf[0],g.blockedOn===null);)JD(g),g.blockedOn===null&&Qf.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(_=0;_<g.length;_+=3){var C=g[_],P=g[_+1],V=C[Di]||null;if(typeof P=="function")V||QD(g);else if(V){var ee=null;if(P&&P.hasAttribute("formAction")){if(C=P,V=P[Di]||null)ee=V.formAction;else if(zA(C)!==null)continue}else ee=V.action;typeof ee=="function"?g[_+1]=ee:(g.splice(_,3),_-=3),QD(g)}}}function e3(){function l(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(V){return C=V})},focusReset:"manual",scroll:"manual"})}function f(){C!==null&&(C(),C=null),_||setTimeout(g,20)}function g(){if(!_&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,C=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){_=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),C!==null&&(C(),C=null)}}}function VA(l){this._internalRoot=l}Yb.prototype.render=VA.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,_=uo();WD(g,_,l,f,null,null)},Yb.prototype.unmount=VA.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;WD(l.current,2,null,l,null,null),us(),f[Fr]=null}};function Yb(l){this._internalRoot=l}Yb.prototype.unstable_scheduleHydration=function(l){if(l){var f=pa();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Qf.length&&f!==0&&f<Qf[g].priority;g++);Qf.splice(g,0,l),g===0&&JD(l)}};var t3=e.version;if(t3!=="19.2.3")throw Error(i(527,t3,"19.2.3"));ne.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=c(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var DW={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$b.isDisabled&&$b.supportsFiber)try{We=$b.inject(DW),Ke=$b}catch{}}return f0.createRoot=function(l,f){if(!r(l))throw Error(i(299));var g=!1,_="",C=Mb,P=Hv,V=qv;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=HD(l,1,!1,null,null,g,_,null,C,P,V,e3),l[Fr]=f.current,EA(l),new VA(f)},f0.hydrateRoot=function(l,f,g){if(!r(l))throw Error(i(299));var _=!1,C="",P=Mb,V=Hv,ee=qv,_e=null;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onUncaughtError!==void 0&&(P=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(ee=g.onRecoverableError),g.formState!==void 0&&(_e=g.formState)),f=HD(l,1,!0,f,g??null,_,C,_e,P,V,ee,e3),f.context=qD(null),g=f.current,_=uo(),_=xr(_),C=El(_),C.callback=null,yu(g,C,_),g=_,f.current.lanes=g,vn(f,g),gt(f),l[Fr]=f.current,EA(l),new Yb(f)},f0.version="19.2.3",f0}var f3;function WW(){if(f3)return jA.exports;f3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jA.exports=qW(),jA.exports}var jW=WW();const XW=fl(jW);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d3="popstate";function YW(t={}){function e(i,r){let{pathname:a,search:o,hash:s}=i.location;return UC("",{pathname:a,search:o,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ry(r)}return KW(e,n,null,t)}function Zi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $l(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $W(){return Math.random().toString(36).substring(2,10)}function h3(t,e){return{usr:t.state,key:t.key,idx:e}}function UC(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ag(e):e,state:n,key:e&&e.key||i||$W()}}function ry({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ag(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function KW(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,s="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function p(){s="POP";let S=d(),A=S==null?null:S-c;c=S,u&&u({action:s,location:T.location,delta:A})}function v(S,A){s="PUSH";let R=UC(T.location,S,A);c=d()+1;let I=h3(R,c),N=T.createHref(R);try{o.pushState(I,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(N)}a&&u&&u({action:s,location:T.location,delta:1})}function y(S,A){s="REPLACE";let R=UC(T.location,S,A);c=d();let I=h3(R,c),N=T.createHref(R);o.replaceState(I,"",N),a&&u&&u({action:s,location:T.location,delta:0})}function b(S){return JW(S)}let T={get action(){return s},get location(){return t(r,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(d3,p),u=S,()=>{r.removeEventListener(d3,p),u=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let A=b(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:y,go(S){return o.go(S)}};return T}function JW(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zi(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ry(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function GB(t,e,n="/"){return ZW(t,e,n,!1)}function ZW(t,e,n,i){let r=typeof e=="string"?Ag(e):e,a=Yc(r.pathname||"/",n);if(a==null)return null;let o=VB(t);QW(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let c=cj(a);s=lj(o[u],c,i)}return s}function VB(t,e=[],n=[],i="",r=!1){let a=(o,s,u=r,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;Zi(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let p=qc([i,d.relativePath]),v=n.concat(d);o.children&&o.children.length>0&&(Zi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),VB(o.children,e,v,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:oj(p,o.index),routesMeta:v})};return t.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,s);else for(let c of HB(o.path))a(o,s,!0,c)}),e}function HB(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=HB(i.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&s.push(...o),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function QW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sj(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var ej=/^:[\w-]+$/,tj=3,nj=2,ij=1,rj=10,aj=-2,p3=t=>t==="*";function oj(t,e){let n=t.split("/"),i=n.length;return n.some(p3)&&(i+=aj),e&&(i+=nj),n.filter(r=>!p3(r)).reduce((r,a)=>r+(ej.test(a)?tj:a===""?ij:rj),i)}function sj(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function lj(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",o=[];for(let s=0;s<i.length;++s){let u=i[s],c=s===i.length-1,d=a==="/"?e:e.slice(a.length)||"/",p=PS({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),v=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=PS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:qc([a,p.pathname]),pathnameBase:pj(qc([a,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(a=qc([a,p.pathnameBase]))}return o}function PS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=uj(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce((c,{paramName:d,isOptional:p},v)=>{if(d==="*"){let b=s[v]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=s[v];return p&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function uj(t,e=!1,n=!0){$l(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(i.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $l(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var fj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function dj(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ag(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=m3(n.substring(1),"/"):a=m3(n,e)):a=e,{pathname:a,search:mj(i),hash:gj(r)}}function m3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function KA(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qB(t){let e=hj(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function WB(t,e,n,i=!1){let r;typeof t=="string"?r=Ag(t):(r={...t},Zi(!r.pathname||!r.pathname.includes("?"),KA("?","pathname","search",r)),Zi(!r.pathname||!r.pathname.includes("#"),KA("#","pathname","hash",r)),Zi(!r.search||!r.search.includes("#"),KA("#","search","hash",r)));let a=t===""||r.pathname==="",o=a?"/":r.pathname,s;if(o==null)s=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;r.pathname=v.join("/")}s=p>=0?e[p]:"/"}let u=dj(r,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var qc=t=>t.join("/").replace(/\/\/+/g,"/"),pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,vj=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _j(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XB(t,e){let n=t;if(typeof n!="string"||!fj.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(jB)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),s=Yc(o.pathname,e);o.origin===a.origin&&s!=null?n=s+o.search+o.hash:r=!0}catch{$l(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YB=["POST","PUT","PATCH","DELETE"];new Set(YB);var bj=["GET",...YB];new Set(bj);var Mg=G.createContext(null);Mg.displayName="DataRouter";var ME=G.createContext(null);ME.displayName="DataRouterState";var xj=G.createContext(!1),$B=G.createContext({isTransitioning:!1});$B.displayName="ViewTransition";var Sj=G.createContext(new Map);Sj.displayName="Fetchers";var Ej=G.createContext(null);Ej.displayName="Await";var dl=G.createContext(null);dl.displayName="Navigation";var zy=G.createContext(null);zy.displayName="Location";var Xu=G.createContext({outlet:null,matches:[],isDataRoute:!1});Xu.displayName="Route";var EI=G.createContext(null);EI.displayName="RouteError";var KB="REACT_ROUTER_ERROR",Tj="REDIRECT",Aj="ROUTE_ERROR_RESPONSE";function Mj(t){if(t.startsWith(`${KB}:${Tj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function wj(t){if(t.startsWith(`${KB}:${Aj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vj(e.status,e.statusText,e.data)}catch{}}function Cj(t,{relative:e}={}){Zi(Gy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=G.useContext(dl),{hash:r,pathname:a,search:o}=Vy(t,{relative:e}),s=a;return n!=="/"&&(s=a==="/"?n:qc([n,a])),i.createHref({pathname:s,search:o,hash:r})}function Gy(){return G.useContext(zy)!=null}function sf(){return Zi(Gy(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(zy).location}var JB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZB(t){G.useContext(dl).static||G.useLayoutEffect(t)}function wg(){let{isDataRoute:t}=G.useContext(Xu);return t?Vj():Rj()}function Rj(){Zi(Gy(),"useNavigate() may be used only in the context of a <Router> component.");let t=G.useContext(Mg),{basename:e,navigator:n}=G.useContext(dl),{matches:i}=G.useContext(Xu),{pathname:r}=sf(),a=JSON.stringify(qB(i)),o=G.useRef(!1);return ZB(()=>{o.current=!0}),G.useCallback((u,c={})=>{if($l(o.current,JB),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=WB(u,JSON.parse(a),r,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qc([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,r,t])}G.createContext(null);function Ij(){let{matches:t}=G.useContext(Xu),e=t[t.length-1];return e?e.params:{}}function Vy(t,{relative:e}={}){let{matches:n}=G.useContext(Xu),{pathname:i}=sf(),r=JSON.stringify(qB(n));return G.useMemo(()=>WB(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Pj(t,e){return QB(t,e)}function QB(t,e,n,i,r){var R;Zi(Gy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=G.useContext(dl),{matches:o}=G.useContext(Xu),s=o[o.length-1],u=s?s.params:{},c=s?s.pathname:"/",d=s?s.pathnameBase:"/",p=s&&s.route;{let I=p&&p.path||"";tz(c,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=sf(),y;if(e){let I=typeof e=="string"?Ag(e):e;Zi(d==="/"||((R=I.pathname)==null?void 0:R.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=v;let b=y.pathname||"/",T=b;if(d!=="/"){let I=d.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=GB(t,{pathname:T});$l(p||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),$l(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Uj(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:qc([d,a.encodeLocation?a.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:qc([d,a.encodeLocation?a.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n,i,r);return e&&A?G.createElement(zy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function Nj(){let t=Gj(),e=yj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:a},"ErrorBoundary")," or"," ",G.createElement("code",{style:a},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:r},n):null,o)}var Dj=G.createElement(Nj,null),ez=class extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=wj(t.digest);n&&(t=n)}let e=t!==void 0?G.createElement(Xu.Provider,{value:this.props.routeContext},G.createElement(EI.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?G.createElement(Oj,{error:t},e):e}};ez.contextType=xj;var JA=new WeakMap;function Oj({children:t,error:e}){let{basename:n}=G.useContext(dl);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Mj(e.digest);if(i){let r=JA.get(e);if(r)throw r;let a=XB(i.location,n);if(jB&&!JA.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw JA.set(e,o),o}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Lj({routeContext:t,match:e,children:n}){let i=G.useContext(Mg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Xu.Provider,{value:t},n)}function Uj(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Zi(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let s=!1,u=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:v,errors:y}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&i?(d,p)=>{var v,y;i(d,{location:n.location,params:((y=(v=n.matches)==null?void 0:v[0])==null?void 0:y.params)??{},unstable_pattern:_j(n.matches),errorInfo:p})}:void 0;return a.reduceRight((d,p,v)=>{let y,b=!1,T=null,S=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||Dj,s&&(u<0&&v===0?(tz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===v&&(b=!0,S=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),R=()=>{let I;return y?I=T:b?I=S:p.route.Component?I=G.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,G.createElement(Lj,{match:p,routeContext:{outlet:d,matches:A,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?G.createElement(ez,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:R(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:c}):R()},null)}function TI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fj(t){let e=G.useContext(Mg);return Zi(e,TI(t)),e}function kj(t){let e=G.useContext(ME);return Zi(e,TI(t)),e}function Bj(t){let e=G.useContext(Xu);return Zi(e,TI(t)),e}function AI(t){let e=Bj(t),n=e.matches[e.matches.length-1];return Zi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zj(){return AI("useRouteId")}function Gj(){var i;let t=G.useContext(EI),e=kj("useRouteError"),n=AI("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Vj(){let{router:t}=Fj("useNavigate"),e=AI("useNavigate"),n=G.useRef(!1);return ZB(()=>{n.current=!0}),G.useCallback(async(r,a={})=>{$l(n.current,JB),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var g3={};function tz(t,e,n){!e&&!g3[t]&&(g3[t]=!0,$l(!1,n))}G.memo(Hj);function Hj({routes:t,future:e,state:n,onError:i}){return QB(t,void 0,n,i,e)}function F0(t){Zi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qj({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1,unstable_useTransitions:o}){Zi(!Gy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:s,navigator:r,static:a,unstable_useTransitions:o,future:{}}),[s,r,a,o]);typeof n=="string"&&(n=Ag(n));let{pathname:c="/",search:d="",hash:p="",state:v=null,key:y="default"}=n,b=G.useMemo(()=>{let T=Yc(c,s);return T==null?null:{location:{pathname:T,search:d,hash:p,state:v,key:y},navigationType:i}},[s,c,d,p,v,y,i]);return $l(b!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:G.createElement(dl.Provider,{value:u},G.createElement(zy.Provider,{children:e,value:b}))}function Wj({children:t,location:e}){return Pj(FC(t),e)}function FC(t,e=[]){let n=[];return G.Children.forEach(t,(i,r)=>{if(!G.isValidElement(i))return;let a=[...e,r];if(i.type===G.Fragment){n.push.apply(n,FC(i.props.children,a));return}Zi(i.type===F0,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=FC(i.props.children,a)),n.push(o)}),n}var pS="get",mS="application/x-www-form-urlencoded";function wE(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jj(t){return wE(t)&&t.tagName.toLowerCase()==="button"}function Xj(t){return wE(t)&&t.tagName.toLowerCase()==="form"}function Yj(t){return wE(t)&&t.tagName.toLowerCase()==="input"}function $j(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kj(t,e){return t.button===0&&(!e||e==="_self")&&!$j(t)}function kC(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function Jj(t,e){let n=kC(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(a=>{n.append(r,a)})}),n}var Kb=null;function Zj(){if(Kb===null)try{new FormData(document.createElement("form"),0),Kb=!1}catch{Kb=!0}return Kb}var Qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ZA(t){return t!=null&&!Qj.has(t)?($l(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mS}"`),null):t}function eX(t,e){let n,i,r,a,o;if(Xj(t)){let s=t.getAttribute("action");i=s?Yc(s,e):null,n=t.getAttribute("method")||pS,r=ZA(t.getAttribute("enctype"))||mS,a=new FormData(t)}else if(jj(t)||Yj(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(i=u?Yc(u,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||pS,r=ZA(t.getAttribute("formenctype"))||ZA(s.getAttribute("enctype"))||mS,a=new FormData(s,t),!Zj()){let{name:c,type:d,value:p}=t;if(d==="image"){let v=c?`${c}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else c&&a.append(c,p)}}else{if(wE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pS,i=null,r=mS,o=t}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tX(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Yc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function nX(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iX(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rX(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await nX(a,n);return o.links?o.links():[]}return[]}));return lX(i.flat(1).filter(iX).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function v3(t,e,n,i,r,a){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,s=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>o(u,c)||s(u,c)):a==="data"?e.filter((u,c)=>{var p;let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||s(u,c))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function aX(t,e,{includeHydrateFallback:n}={}){return oX(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function oX(t){return[...new Set(t)]}function sX(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function lX(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(sX(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function nz(){let t=G.useContext(Mg);return MI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uX(){let t=G.useContext(ME);return MI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wI=G.createContext(void 0);wI.displayName="FrameworkContext";function iz(){let t=G.useContext(wI);return MI(t,"You must render this element inside a <HydratedRouter> element"),t}function cX(t,e){let n=G.useContext(wI),[i,r]=G.useState(!1),[a,o]=G.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=e,v=G.useRef(null);G.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=A=>{A.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),G.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let y=()=>{r(!0)},b=()=>{r(!1),o(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:d0(s,y),onBlur:d0(u,b),onMouseEnter:d0(c,y),onMouseLeave:d0(d,b),onTouchStart:d0(p,y)}]:[!1,v,{}]}function d0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fX({page:t,...e}){let{router:n}=nz(),i=G.useMemo(()=>GB(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?G.createElement(hX,{page:t,matches:i,...e}):null}function dX(t){let{manifest:e,routeModules:n}=iz(),[i,r]=G.useState([]);return G.useEffect(()=>{let a=!1;return rX(t,e,n).then(o=>{a||r(o)}),()=>{a=!0}},[t,e,n]),i}function hX({page:t,matches:e,...n}){let i=sf(),{future:r,manifest:a,routeModules:o}=iz(),{basename:s}=nz(),{loaderData:u,matches:c}=uX(),d=G.useMemo(()=>v3(t,e,c,a,i,"data"),[t,e,c,a,i]),p=G.useMemo(()=>v3(t,e,c,a,i,"assets"),[t,e,c,a,i]),v=G.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let T=new Set,S=!1;if(e.forEach(R=>{var N;let I=a.routes[R.route.id];!I||!I.hasLoader||(!d.some(D=>D.route.id===R.route.id)&&R.route.id in u&&((N=o[R.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?S=!0:T.add(R.route.id))}),T.size===0)return[];let A=tX(t,s,r.unstable_trailingSlashAwareDataRequests,"data");return S&&T.size>0&&A.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[A.pathname+A.search]},[s,r.unstable_trailingSlashAwareDataRequests,u,i,a,d,e,t,o]),y=G.useMemo(()=>aX(p,a),[p,a]),b=dX(p);return G.createElement(G.Fragment,null,v.map(T=>G.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),y.map(T=>G.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:S})=>G.createElement("link",{key:T,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function pX(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mX&&(window.__reactRouterVersion="7.13.0")}catch{}function gX({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=G.useRef();r.current==null&&(r.current=YW({window:i,v5Compat:!0}));let a=r.current,[o,s]=G.useState({action:a.action,location:a.location}),u=G.useCallback(c=>{n===!1?s(c):G.startTransition(()=>s(c))},[n]);return G.useLayoutEffect(()=>a.listen(u),[a,u]),G.createElement(qj,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CE=G.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:s,target:u,to:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:v,...y},b){let{basename:T,unstable_useTransitions:S}=G.useContext(dl),A=typeof c=="string"&&rz.test(c),R=XB(c,T);c=R.to;let I=Cj(c,{relative:r}),[N,D,O]=cX(i,y),F=bX(c,{replace:o,state:s,target:u,preventScrollReset:d,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function z(B){e&&e(B),B.defaultPrevented||F(B)}let U=G.createElement("a",{...y,...O,href:R.absoluteURL||I,onClick:R.isExternal||a?e:z,ref:pX(b,D),target:u,"data-discover":!A&&n==="render"?"true":void 0});return N&&!A?G.createElement(G.Fragment,null,U,G.createElement(fX,{page:I})):U});CE.displayName="Link";var vX=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:s,children:u,...c},d){let p=Vy(o,{relative:c.relative}),v=sf(),y=G.useContext(ME),{navigator:b,basename:T}=G.useContext(dl),S=y!=null&&MX(p)&&s===!0,A=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,R=v.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),I=I?I.toLowerCase():null,A=A.toLowerCase()),I&&T&&(I=Yc(I,T)||I);const N=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=R===A||!r&&R.startsWith(A)&&R.charAt(N)==="/",O=I!=null&&(I===A||!r&&I.startsWith(A)&&I.charAt(A.length)==="/"),F={isActive:D,isPending:O,isTransitioning:S},z=D?e:void 0,U;typeof i=="function"?U=i(F):U=[i,D?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(F):a;return G.createElement(CE,{...c,"aria-current":z,className:U,ref:d,style:B,to:o,viewTransition:s},typeof u=="function"?u(F):u)});vX.displayName="NavLink";var yX=G.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:o=pS,action:s,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:v,...y},b)=>{let{unstable_useTransitions:T}=G.useContext(dl),S=TX(),A=AX(s,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",I=typeof s=="string"&&rz.test(s),N=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,F=(O==null?void 0:O.getAttribute("formmethod"))||o,z=()=>S(O||D.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:r,state:a,relative:c,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:v});T&&n!==!1?G.startTransition(()=>z()):z()};return G.createElement("form",{ref:b,method:R,action:A,onSubmit:i?u:N,...y,"data-discover":!I&&t==="render"?"true":void 0})});yX.displayName="Form";function _X(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function az(t){let e=G.useContext(Mg);return Zi(e,_X(t)),e}function bX(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let c=wg(),d=sf(),p=Vy(t,{relative:a});return G.useCallback(v=>{if(Kj(v,e)){v.preventDefault();let y=n!==void 0?n:ry(d)===ry(p),b=()=>c(t,{replace:y,state:i,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});u?G.startTransition(()=>b()):b()}},[d,c,p,n,i,e,t,r,a,o,s,u])}function xX(t){$l(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=G.useRef(kC(t)),n=G.useRef(!1),i=sf(),r=G.useMemo(()=>Jj(i.search,n.current?null:e.current),[i.search]),a=wg(),o=G.useCallback((s,u)=>{const c=kC(typeof s=="function"?s(new URLSearchParams(r)):s);n.current=!0,a("?"+c,u)},[a,r]);return[r,o]}var SX=0,EX=()=>`__${String(++SX)}__`;function TX(){let{router:t}=az("useSubmit"),{basename:e}=G.useContext(dl),n=zj(),i=t.fetch,r=t.navigate;return G.useCallback(async(a,o={})=>{let{action:s,method:u,encType:c,formData:d,body:p}=eX(a,e);if(o.navigate===!1){let v=o.fetcherKey||EX();await i(v,n,o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await r(o.action||s,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:p,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,r,e,n])}function AX(t,{relative:e}={}){let{basename:n}=G.useContext(dl),i=G.useContext(Xu);Zi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Vy(t||".",{relative:e})},o=sf();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(d=>d==="")){s.delete("index"),u.filter(p=>p).forEach(p=>s.append("index",p));let d=s.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:qc([n,a.pathname])),ry(a)}function MX(t,{relative:e}={}){let n=G.useContext($B);Zi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=az("useViewTransitionState"),r=Vy(t,{relative:e});if(!n.isTransitioning)return!1;let a=Yc(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Yc(n.nextLocation.pathname,i)||n.nextLocation.pathname;return PS(r.pathname,o)!=null||PS(r.pathname,a)!=null}var oz=zB();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),y3=t=>{const e=CX(t);return e.charAt(0).toUpperCase()+e.slice(1)},sz=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),RX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:o,...s},u)=>G.createElement("svg",{ref:u,...IX,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:sz("lucide",r),...!a&&!RX(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,d])=>G.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=(t,e)=>{const n=G.forwardRef(({className:i,...r},a)=>G.createElement(PX,{ref:a,iconNode:e,className:sz(`lucide-${wX(y3(t))}`,`lucide-${t}`,i),...r}));return n.displayName=y3(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lz=On("arrow-left",NX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],OX=On("bookmark-check",DX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],_3=On("box",LX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],FX=On("chart-column",UX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],QA=On("check",kX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zX=On("chevron-right",BX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VX=On("circle-alert",GX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b3=On("circle-check-big",HX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],WX=On("circle-x",qX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x3=On("copy",jX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YX=On("database",XX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uz=On("download",$X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],CI=On("external-link",KX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],cz=On("file-braces",JX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],S3=On("funnel",ZX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eY=On("globe",QX);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BC=On("history",tY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iY=On("info",nY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],aY=On("key-round",rY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fz=On("loader-circle",oY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lY=On("lock",sY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E3=On("log-out",uY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dz=On("map-pin",cY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dY=On("menu",fY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],T3=On("radio",hY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hz=On("search",pY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gY=On("send",mY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gS=On("shield-check",vY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zC=On("tag",yY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bY=On("trending-down",_Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SY=On("trending-up",xY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TY=On("triangle-alert",EY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],MY=On("twitter",AY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CY=On("upload",wY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IY=On("user",RY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NY=On("x",PY);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GC=On("zap",DY),OY=[{id:"BOE-A-2024-4161",title:"Ley de Presupuestos Generales del Estado para el ejercicio 2024",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-4161",category:"Economa"},{id:"BOE-A-2024-5012",title:"Reforma urgente del Mercado de Trabajo y fomento de la contratacin indefinida",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-5012",category:"Social"},{id:"BOE-A-2024-6123",title:"Regulacin de Vivienda Pblica y medidas contra el desahucio",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-6123",category:"Vivienda"},{id:"BOE-A-2024-7788",title:"Subvenciones directas a la Innovacin Digital en PYMES",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-7788",category:"Tecnologa"},{id:"BOE-A-2024-8901",title:"Modificacin de la Ley de Montes y gestin forestal sostenible",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-8901",category:"Medio Ambiente"},{id:"BOE-A-2024-9122",title:"Protocolo de actuacin contra la sequa en la cuenca del Ebro",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-9122",category:"Recursos Naturales"},{id:"BOE-A-2024-1055",title:"Plan de fomento de la Inteligencia Artificial en la Administracin Pblica",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-1055",category:"Innovacin"},{id:"BOE-A-2024-1122",title:"Ayudas extraordinarias al sector del transporte por carretera",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-1122",category:"Transportes"},{id:"BOE-A-2024-2233",title:"Regulacin del teletrabajo en las Fuerzas y Cuerpos de Seguridad",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-2233",category:"Interior"},{id:"BOE-A-2024-3344",title:"Convenio colectivo del sector de la industria cinematogrfica",url:"https://www.boe.es/diario_boe/xml.php?id=BOE-A-2024-3344",category:"Cultura"}],LY=`
Eres un Agente de Inteligencia Cvica de lite. Tu misin es desmantelar la opacidad del lenguaje legislativo espaol.
Analiza el BOE buscando:
- 'Gastos Fantasma': Partidas presupuestarias sin destino claro.
- 'Incongruencia Ideolgica': Comparar el texto con promesas electorales previas o lgica de transparencia.
- 'Impacto de Gnero y Clase': Quines son los ganadores y perdedores socioeconmicos.

Tu respuesta debe ser un objeto JSON vlido.
`;var UY={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FY,kY;function BY(){return{geminiUrl:FY,vertexUrl:kY}}function zY(t,e,n,i){var r,a;if(!(t!=null&&t.baseUrl)){const o=BY();return e?(r=o.vertexUrl)!==null&&r!==void 0?r:n:(a=o.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lf{}function It(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function M(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const u=t[s];if(Array.isArray(n))for(let c=0;c<u.length;c++){const d=u[c];M(d,e.slice(a+1),n[c])}else for(const c of u)M(c,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const u=t[s];M(u[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function E(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(s=>E(s,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function GY(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),a=i.split("."),o=new Set;let s=-1;for(let u=0;u<r.length;u++)if(r[u]==="*"){s=u;break}if(s!==-1&&a.length>s)for(let u=s;u<a.length;u++){const c=a[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}VC(t,r,a,0,o)}}function VC(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const o=a.slice(0,-2),s=t;if(o in s&&Array.isArray(s[o]))for(const u of s[o])VC(u,e,n,i+1,r)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,s=Object.keys(o).filter(c=>!c.startsWith("_")&&!r.has(c)),u={};for(const c of s)u[c]=o[c];for(const[c,d]of Object.entries(u)){const p=[];for(const v of n.slice(i))v==="*"?p.push(c):p.push(v);M(o,p,d)}for(const c of s)delete o[c]}}else{const o=t;a in o&&VC(o[a],e,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VY(t){const e={},n=E(t,["operationName"]);n!=null&&M(e,["operationName"],n);const i=E(t,["resourceName"]);return i!=null&&M(e,["_url","resourceName"],i),e}function HY(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response","generateVideoResponse"]);return o!=null&&M(e,["response"],WY(o)),e}function qY(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response"]);return o!=null&&M(e,["response"],jY(o)),e}function WY(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>XY(o))),M(e,["generatedVideos"],a)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&M(e,["raiMediaFilteredCount"],i);const r=E(t,["raiMediaFilteredReasons"]);return r!=null&&M(e,["raiMediaFilteredReasons"],r),e}function jY(t){const e={},n=E(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>YY(o))),M(e,["generatedVideos"],a)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&M(e,["raiMediaFilteredCount"],i);const r=E(t,["raiMediaFilteredReasons"]);return r!=null&&M(e,["raiMediaFilteredReasons"],r),e}function XY(t){const e={},n=E(t,["video"]);return n!=null&&M(e,["video"],e$(n)),e}function YY(t){const e={},n=E(t,["_self"]);return n!=null&&M(e,["video"],t$(n)),e}function $Y(t){const e={},n=E(t,["operationName"]);return n!=null&&M(e,["_url","operationName"],n),e}function KY(t){const e={},n=E(t,["operationName"]);return n!=null&&M(e,["_url","operationName"],n),e}function JY(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response"]);return o!=null&&M(e,["response"],ZY(o)),e}function ZY(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["parent"]);i!=null&&M(e,["parent"],i);const r=E(t,["documentName"]);return r!=null&&M(e,["documentName"],r),e}function pz(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response"]);return o!=null&&M(e,["response"],QY(o)),e}function QY(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["parent"]);i!=null&&M(e,["parent"],i);const r=E(t,["documentName"]);return r!=null&&M(e,["documentName"],r),e}function e$(t){const e={},n=E(t,["uri"]);n!=null&&M(e,["uri"],n);const i=E(t,["encodedVideo"]);i!=null&&M(e,["videoBytes"],RI(i));const r=E(t,["encoding"]);return r!=null&&M(e,["mimeType"],r),e}function t$(t){const e={},n=E(t,["gcsUri"]);n!=null&&M(e,["uri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&M(e,["videoBytes"],RI(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var A3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(A3||(A3={}));var M3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(M3||(M3={}));var w3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(w3||(w3={}));var ur;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ur||(ur={}));var C3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(C3||(C3={}));var R3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(R3||(R3={}));var I3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(I3||(I3={}));var P3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(P3||(P3={}));var N3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(N3||(N3={}));var D3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(D3||(D3={}));var O3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(O3||(O3={}));var L3;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(L3||(L3={}));var U3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(U3||(U3={}));var F3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(F3||(F3={}));var k3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(k3||(k3={}));var B3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(B3||(B3={}));var z3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(z3||(z3={}));var G3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(G3||(G3={}));var V3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(V3||(V3={}));var H3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(H3||(H3={}));var q3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(q3||(q3={}));var NS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(NS||(NS={}));var W3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(W3||(W3={}));var j3;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(j3||(j3={}));var X3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(X3||(X3={}));var HC;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(HC||(HC={}));var Y3;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Y3||(Y3={}));var $3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})($3||($3={}));var K3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(K3||(K3={}));var J3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(J3||(J3={}));var Z3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Z3||(Z3={}));var Q3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Q3||(Q3={}));var eO;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(eO||(eO={}));var tO;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tO||(tO={}));var nO;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nO||(nO={}));var iO;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(iO||(iO={}));var rO;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rO||(rO={}));var aO;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(aO||(aO={}));var oO;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(oO||(oO={}));var sO;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sO||(sO={}));var lO;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lO||(lO={}));var uO;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uO||(uO={}));var cO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cO||(cO={}));var fO;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fO||(fO={}));var dO;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(dO||(dO={}));var hO;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hO||(hO={}));var pO;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pO||(pO={}));var mO;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mO||(mO={}));var gO;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(gO||(gO={}));var vO;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vO||(vO={}));var yO;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yO||(yO={}));var _O;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_O||(_O={}));var bO;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bO||(bO={}));var xO;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xO||(xO={}));var SO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(SO||(SO={}));var $m;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($m||($m={}));class qC{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class h0{get text(){var e,n,i,r,a,o,s,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const v of(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[y,b]of Object.entries(v))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(b!==null||b!==void 0)&&p.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;d=!0,c+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,i,r,a,o,s,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&u!==void 0?u:[]){for(const[v,y]of Object.entries(p))v!=="inlineData"&&(y!==null||y!==void 0)&&d.push(v);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,r,a,o,s,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,r,a,o,s,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,r,a,o,s,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(u=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class EO{}class TO{}class n${}class i${}class r${}class a${}class AO{}class MO{}class wO{}class o${}class DS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new DS;let r;const a=e;return n?r=qY(a):r=HY(a),Object.assign(i,r),i}}class CO{}class RO{}class IO{}class PO{}class s${}class l${}class u${}class II{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new II,a=JY(e);return Object.assign(i,a),i}}class c${}class f${}class d${}class NO{}class h${get text(){var e,n,i;let r="",a=!1;const o=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="text"&&u!=="thought"&&c!==null&&o.push(u);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,r+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const o of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[s,u]of Object.entries(o))s!=="inlineData"&&u!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class p${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class PI{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new PI,a=pz(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mz(t,e){const n=Xn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function gz(t){return Array.isArray(t)?t.map(e=>OS(e)):[OS(t)]}function OS(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function vz(t){const e=OS(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yz(t){const e=OS(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _z(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DO(e)):[DO(t)]}function WC(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function LO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Wa(t){if(t==null)throw new Error("ContentUnion is required");return WC(t)?t:{role:"user",parts:_z(t)}}function NI(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Wa(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Wa(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Wa(n)):[Wa(e)]}function rl(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(OO(t)||LO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wa(t)]}const e=[],n=[],i=WC(t[0]);for(const r of t){const a=WC(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(OO(r)||LO(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:_z(n)}),e}function m$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(ur).includes(n[0].toUpperCase())?n[0].toUpperCase():ur.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(ur).includes(i.toUpperCase())?i.toUpperCase():ur.TYPE_UNSPECIFIED})}}function ng(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&m$(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ur).includes(s.toUpperCase())?s.toUpperCase():ur.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=ng(s);else if(i.includes(o)){const u=[];for(const c of s){if(c.type=="null"){e.nullable=!0;continue}u.push(ng(c))}e[o]=u}else if(r.includes(o)){const u={};for(const[c,d]of Object.entries(s))u[c]=ng(d);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=s}return e}function DI(t){return ng(t)}function OI(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function LI(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cg(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ng(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ng(e.response));return t}function Rg(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function g$(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function uf(t,e){if(typeof e!="string")throw new Error("name must be a string");return g$(t,e,"cachedContents")}function bz(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ad(t){return RI(t)}function v$(t){return t!=null&&typeof t=="object"&&"name"in t}function y$(t){return t!=null&&typeof t=="object"&&"video"in t}function _$(t){return t!=null&&typeof t=="object"&&"uri"in t}function xz(t){var e;let n;if(v$(t)&&(n=t.name),!(_$(t)&&(n=t.uri,n===void 0))&&!(y$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Sz(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ez(t){for(const e of["models","tunedModels","publisherModels"])if(b$(t,e))return t[e];return[]}function b$(t,e){return t!==null&&typeof t=="object"&&e in t}function x$(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function S$(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const o=x$(r,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Tz(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function E$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Az(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let a=!1;for(const o of r){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ig(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Mz(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T$(t){const e={},n=E(t,["responsesFile"]);n!=null&&M(e,["fileName"],n);const i=E(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>rK(o))),M(e,["inlinedResponses"],a)}const r=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["inlinedEmbedContentResponses"],a)}return e}function A$(t){const e={},n=E(t,["predictionsFormat"]);n!=null&&M(e,["format"],n);const i=E(t,["gcsDestination","outputUriPrefix"]);i!=null&&M(e,["gcsUri"],i);const r=E(t,["bigqueryDestination","outputUri"]);return r!=null&&M(e,["bigqueryUri"],r),e}function M$(t){const e={},n=E(t,["format"]);n!=null&&M(e,["predictionsFormat"],n);const i=E(t,["gcsUri"]);i!=null&&M(e,["gcsDestination","outputUriPrefix"],i);const r=E(t,["bigqueryUri"]);if(r!=null&&M(e,["bigqueryDestination","outputUri"],r),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function vS(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata","displayName"]);i!=null&&M(e,["displayName"],i);const r=E(t,["metadata","state"]);r!=null&&M(e,["state"],Mz(r));const a=E(t,["metadata","createTime"]);a!=null&&M(e,["createTime"],a);const o=E(t,["metadata","endTime"]);o!=null&&M(e,["endTime"],o);const s=E(t,["metadata","updateTime"]);s!=null&&M(e,["updateTime"],s);const u=E(t,["metadata","model"]);u!=null&&M(e,["model"],u);const c=E(t,["metadata","output"]);return c!=null&&M(e,["dest"],T$(Az(c))),e}function jC(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["displayName"]);i!=null&&M(e,["displayName"],i);const r=E(t,["state"]);r!=null&&M(e,["state"],Mz(r));const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["createTime"]);o!=null&&M(e,["createTime"],o);const s=E(t,["startTime"]);s!=null&&M(e,["startTime"],s);const u=E(t,["endTime"]);u!=null&&M(e,["endTime"],u);const c=E(t,["updateTime"]);c!=null&&M(e,["updateTime"],c);const d=E(t,["model"]);d!=null&&M(e,["model"],d);const p=E(t,["inputConfig"]);p!=null&&M(e,["src"],w$(p));const v=E(t,["outputConfig"]);v!=null&&M(e,["dest"],A$(Az(v)));const y=E(t,["completionStats"]);return y!=null&&M(e,["completionStats"],y),e}function w$(t){const e={},n=E(t,["instancesFormat"]);n!=null&&M(e,["format"],n);const i=E(t,["gcsSource","uris"]);i!=null&&M(e,["gcsUri"],i);const r=E(t,["bigquerySource","inputUri"]);return r!=null&&M(e,["bigqueryUri"],r),e}function C$(t,e){const n={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=E(e,["fileName"]);i!=null&&M(n,["fileName"],i);const r=E(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>iK(t,o))),M(n,["requests","requests"],a)}return n}function R$(t){const e={},n=E(t,["format"]);n!=null&&M(e,["instancesFormat"],n);const i=E(t,["gcsUri"]);i!=null&&M(e,["gcsSource","uris"],i);const r=E(t,["bigqueryUri"]);if(r!=null&&M(e,["bigquerySource","inputUri"],r),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function I$(t){const e={},n=E(t,["data"]);if(n!=null&&M(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function P$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function N$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function D$(t){const e={},n=E(t,["content"]);n!=null&&M(e,["content"],n);const i=E(t,["citationMetadata"]);i!=null&&M(e,["citationMetadata"],O$(i));const r=E(t,["tokenCount"]);r!=null&&M(e,["tokenCount"],r);const a=E(t,["finishReason"]);a!=null&&M(e,["finishReason"],a);const o=E(t,["avgLogprobs"]);o!=null&&M(e,["avgLogprobs"],o);const s=E(t,["groundingMetadata"]);s!=null&&M(e,["groundingMetadata"],s);const u=E(t,["index"]);u!=null&&M(e,["index"],u);const c=E(t,["logprobsResult"]);c!=null&&M(e,["logprobsResult"],c);const d=E(t,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>y)),M(e,["safetyRatings"],v)}const p=E(t,["urlContextMetadata"]);return p!=null&&M(e,["urlContextMetadata"],p),e}function O$(t){const e={},n=E(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),M(e,["citations"],i)}return e}function wz(t){const e={},n=E(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>fK(a))),M(e,["parts"],r)}const i=E(t,["role"]);return i!=null&&M(e,["role"],i),e}function L$(t,e){const n={},i=E(t,["displayName"]);if(e!==void 0&&i!=null&&M(e,["batch","displayName"],i),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function U$(t,e){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&M(e,["displayName"],i);const r=E(t,["dest"]);return e!==void 0&&r!=null&&M(e,["outputConfig"],M$(E$(r))),n}function UO(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["src"]);r!=null&&M(n,["batch","inputConfig"],C$(t,Tz(t,r)));const a=E(e,["config"]);return a!=null&&L$(a,n),n}function F$(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["model"],Xn(t,i));const r=E(e,["src"]);r!=null&&M(n,["inputConfig"],R$(Tz(t,r)));const a=E(e,["config"]);return a!=null&&U$(a,n),n}function k$(t,e){const n={},i=E(t,["displayName"]);return e!==void 0&&i!=null&&M(e,["batch","displayName"],i),n}function B$(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["src"]);r!=null&&M(n,["batch","inputConfig"],j$(t,r));const a=E(e,["config"]);return a!=null&&k$(a,n),n}function z$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function G$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function V$(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&M(e,["name"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);return a!=null&&M(e,["error"],a),e}function H$(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&M(e,["name"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);return a!=null&&M(e,["error"],a),e}function q$(t,e){const n={},i=E(e,["contents"]);if(i!=null){let a=NI(t,i);Array.isArray(a)&&(a=a.map(o=>o)),M(n,["requests[]","request","content"],a)}const r=E(e,["config"]);return r!=null&&(M(n,["_self"],W$(r,n)),GY(n,{"requests[].*":"requests[].request.*"})),n}function W$(t,e){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&M(e,["requests[]","taskType"],i);const r=E(t,["title"]);e!==void 0&&r!=null&&M(e,["requests[]","title"],r);const a=E(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&M(e,["requests[]","outputDimensionality"],a),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function j$(t,e){const n={},i=E(e,["fileName"]);i!=null&&M(n,["file_name"],i);const r=E(e,["inlinedRequests"]);return r!=null&&M(n,["requests"],q$(t,r)),n}function X$(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&M(e,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function Y$(t){const e={},n=E(t,["id"]);n!=null&&M(e,["id"],n);const i=E(t,["args"]);i!=null&&M(e,["args"],i);const r=E(t,["name"]);if(r!=null&&M(e,["name"],r),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $$(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&M(e,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&M(e,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function K$(t,e,n){const i={},r=E(e,["systemInstruction"]);n!==void 0&&r!=null&&M(n,["systemInstruction"],wz(Wa(r)));const a=E(e,["temperature"]);a!=null&&M(i,["temperature"],a);const o=E(e,["topP"]);o!=null&&M(i,["topP"],o);const s=E(e,["topK"]);s!=null&&M(i,["topK"],s);const u=E(e,["candidateCount"]);u!=null&&M(i,["candidateCount"],u);const c=E(e,["maxOutputTokens"]);c!=null&&M(i,["maxOutputTokens"],c);const d=E(e,["stopSequences"]);d!=null&&M(i,["stopSequences"],d);const p=E(e,["responseLogprobs"]);p!=null&&M(i,["responseLogprobs"],p);const v=E(e,["logprobs"]);v!=null&&M(i,["logprobs"],v);const y=E(e,["presencePenalty"]);y!=null&&M(i,["presencePenalty"],y);const b=E(e,["frequencyPenalty"]);b!=null&&M(i,["frequencyPenalty"],b);const T=E(e,["seed"]);T!=null&&M(i,["seed"],T);const S=E(e,["responseMimeType"]);S!=null&&M(i,["responseMimeType"],S);const A=E(e,["responseSchema"]);A!=null&&M(i,["responseSchema"],DI(A));const R=E(e,["responseJsonSchema"]);if(R!=null&&M(i,["responseJsonSchema"],R),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=E(e,["safetySettings"]);if(n!==void 0&&I!=null){let Y=I;Array.isArray(Y)&&(Y=Y.map(Q=>dK(Q))),M(n,["safetySettings"],Y)}const N=E(e,["tools"]);if(n!==void 0&&N!=null){let Y=Rg(N);Array.isArray(Y)&&(Y=Y.map(Q=>pK(Cg(Q)))),M(n,["tools"],Y)}const D=E(e,["toolConfig"]);if(n!==void 0&&D!=null&&M(n,["toolConfig"],hK(D)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=E(e,["cachedContent"]);n!==void 0&&O!=null&&M(n,["cachedContent"],uf(t,O));const F=E(e,["responseModalities"]);F!=null&&M(i,["responseModalities"],F);const z=E(e,["mediaResolution"]);z!=null&&M(i,["mediaResolution"],z);const U=E(e,["speechConfig"]);if(U!=null&&M(i,["speechConfig"],OI(U)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=E(e,["thinkingConfig"]);B!=null&&M(i,["thinkingConfig"],B);const j=E(e,["imageConfig"]);j!=null&&M(i,["imageConfig"],nK(j));const W=E(e,["enableEnhancedCivicAnswers"]);return W!=null&&M(i,["enableEnhancedCivicAnswers"],W),i}function J$(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>D$(c))),M(e,["candidates"],u)}const r=E(t,["modelVersion"]);r!=null&&M(e,["modelVersion"],r);const a=E(t,["promptFeedback"]);a!=null&&M(e,["promptFeedback"],a);const o=E(t,["responseId"]);o!=null&&M(e,["responseId"],o);const s=E(t,["usageMetadata"]);return s!=null&&M(e,["usageMetadata"],s),e}function Z$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function Q$(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],Ig(t,i)),n}function eK(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&M(e,["enableWidget"],n),e}function tK(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&M(e,["timeRangeFilter"],n),e}function nK(t){const e={},n=E(t,["aspectRatio"]);n!=null&&M(e,["aspectRatio"],n);const i=E(t,["imageSize"]);if(i!=null&&M(e,["imageSize"],i),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function iK(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["request","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let s=rl(r);Array.isArray(s)&&(s=s.map(u=>wz(u))),M(n,["request","contents"],s)}const a=E(e,["metadata"]);a!=null&&M(n,["metadata"],a);const o=E(e,["config"]);return o!=null&&M(n,["request","generationConfig"],K$(t,o,E(n,["request"],{}))),n}function rK(t){const e={},n=E(t,["response"]);n!=null&&M(e,["response"],J$(n));const i=E(t,["error"]);return i!=null&&M(e,["error"],i),e}function aK(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);if(e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function oK(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);e!==void 0&&r!=null&&M(e,["_query","pageToken"],r);const a=E(t,["filter"]);return e!==void 0&&a!=null&&M(e,["_query","filter"],a),n}function sK(t){const e={},n=E(t,["config"]);return n!=null&&aK(n,e),e}function lK(t){const e={},n=E(t,["config"]);return n!=null&&oK(n,e),e}function uK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>vS(o))),M(e,["batchJobs"],a)}return e}function cK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>jC(o))),M(e,["batchJobs"],a)}return e}function fK(t){const e={},n=E(t,["mediaResolution"]);n!=null&&M(e,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&M(e,["codeExecutionResult"],i);const r=E(t,["executableCode"]);r!=null&&M(e,["executableCode"],r);const a=E(t,["fileData"]);a!=null&&M(e,["fileData"],X$(a));const o=E(t,["functionCall"]);o!=null&&M(e,["functionCall"],Y$(o));const s=E(t,["functionResponse"]);s!=null&&M(e,["functionResponse"],s);const u=E(t,["inlineData"]);u!=null&&M(e,["inlineData"],I$(u));const c=E(t,["text"]);c!=null&&M(e,["text"],c);const d=E(t,["thought"]);d!=null&&M(e,["thought"],d);const p=E(t,["thoughtSignature"]);p!=null&&M(e,["thoughtSignature"],p);const v=E(t,["videoMetadata"]);return v!=null&&M(e,["videoMetadata"],v),e}function dK(t){const e={},n=E(t,["category"]);if(n!=null&&M(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=E(t,["threshold"]);return i!=null&&M(e,["threshold"],i),e}function hK(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&M(e,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&M(e,["functionCallingConfig"],$$(i)),e}function pK(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&M(e,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const r=E(t,["codeExecution"]);if(r!=null&&M(e,["codeExecution"],r),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=E(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),M(e,["functionDeclarations"],d)}const o=E(t,["googleMaps"]);o!=null&&M(e,["googleMaps"],eK(o));const s=E(t,["googleSearch"]);s!=null&&M(e,["googleSearch"],tK(s));const u=E(t,["googleSearchRetrieval"]);u!=null&&M(e,["googleSearchRetrieval"],u);const c=E(t,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $c;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})($c||($c={}));class fp{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!i||Object.keys(i).length===0?o={config:{}}:typeof i=="object"?o=Object.assign({},i):o=i,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mK extends lf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp($c.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=UO(this.apiClient,e),i=n._url,r=It("{model}:batchGenerateContent",i),s=n.batch.inputConfig.requests,u=s.requests,c=[];for(const d of u){const p=Object.assign({},d);if(p.systemInstruction){const v=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=v,p.request=y}c.push(p)}return s.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${r}`;else if(o)i.dest=`${o}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=F$(this.apiClient,e);return s=It("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>jC(d))}else{const c=UO(this.apiClient,e);return s=It("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>vS(d))}}async createEmbeddingsInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=B$(this.apiClient,e);return a=It("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>vS(u))}}async get(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=Q$(this.apiClient,e);return s=It("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>jC(d))}else{const c=Z$(this.apiClient,e);return s=It("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>vS(d))}}async cancel(e){var n,i,r,a;let o="",s={};if(this.apiClient.isVertexAI()){const u=N$(this.apiClient,e);o=It("batchPredictionJobs/{name}:cancel",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const u=P$(this.apiClient,e);o=It("batches/{name}:cancel",u._url),s=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=lK(e);return s=It("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=cK(d),v=new NO;return Object.assign(v,p),v})}else{const c=sK(e);return s=It("batches",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=uK(d),v=new NO;return Object.assign(v,p),v})}}async delete(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=G$(this.apiClient,e);return s=It("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>H$(d))}else{const c=z$(this.apiClient,e);return s=It("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>V$(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gK(t){const e={},n=E(t,["data"]);if(n!=null&&M(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function FO(t){const e={},n=E(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>BK(a))),M(e,["parts"],r)}const i=E(t,["role"]);return i!=null&&M(e,["role"],i),e}function vK(t,e){const n={},i=E(t,["ttl"]);e!==void 0&&i!=null&&M(e,["ttl"],i);const r=E(t,["expireTime"]);e!==void 0&&r!=null&&M(e,["expireTime"],r);const a=E(t,["displayName"]);e!==void 0&&a!=null&&M(e,["displayName"],a);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let d=rl(o);Array.isArray(d)&&(d=d.map(p=>FO(p))),M(e,["contents"],d)}const s=E(t,["systemInstruction"]);e!==void 0&&s!=null&&M(e,["systemInstruction"],FO(Wa(s)));const u=E(t,["tools"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>GK(p))),M(e,["tools"],d)}const c=E(t,["toolConfig"]);if(e!==void 0&&c!=null&&M(e,["toolConfig"],zK(c)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yK(t,e){const n={},i=E(t,["ttl"]);e!==void 0&&i!=null&&M(e,["ttl"],i);const r=E(t,["expireTime"]);e!==void 0&&r!=null&&M(e,["expireTime"],r);const a=E(t,["displayName"]);e!==void 0&&a!=null&&M(e,["displayName"],a);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let p=rl(o);Array.isArray(p)&&(p=p.map(v=>v)),M(e,["contents"],p)}const s=E(t,["systemInstruction"]);e!==void 0&&s!=null&&M(e,["systemInstruction"],Wa(s));const u=E(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>VK(v))),M(e,["tools"],p)}const c=E(t,["toolConfig"]);e!==void 0&&c!=null&&M(e,["toolConfig"],c);const d=E(t,["kmsKeyName"]);return e!==void 0&&d!=null&&M(e,["encryption_spec","kmsKeyName"],d),n}function _K(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["model"],mz(t,i));const r=E(e,["config"]);return r!=null&&vK(r,n),n}function bK(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["model"],mz(t,i));const r=E(e,["config"]);return r!=null&&yK(r,n),n}function xK(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],uf(t,i)),n}function SK(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],uf(t,i)),n}function EK(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function TK(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function AK(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&M(e,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function MK(t){const e={},n=E(t,["id"]);n!=null&&M(e,["id"],n);const i=E(t,["args"]);i!=null&&M(e,["args"],i);const r=E(t,["name"]);if(r!=null&&M(e,["name"],r),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wK(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&M(e,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&M(e,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function CK(t){const e={},n=E(t,["description"]);n!=null&&M(e,["description"],n);const i=E(t,["name"]);i!=null&&M(e,["name"],i);const r=E(t,["parameters"]);r!=null&&M(e,["parameters"],r);const a=E(t,["parametersJsonSchema"]);a!=null&&M(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&M(e,["response"],o);const s=E(t,["responseJsonSchema"]);if(s!=null&&M(e,["responseJsonSchema"],s),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function RK(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],uf(t,i)),n}function IK(t,e){const n={},i=E(e,["name"]);return i!=null&&M(n,["_url","name"],uf(t,i)),n}function PK(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&M(e,["enableWidget"],n),e}function NK(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&M(e,["timeRangeFilter"],n),e}function DK(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);return e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),n}function OK(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);return e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),n}function LK(t){const e={},n=E(t,["config"]);return n!=null&&DK(n,e),e}function UK(t){const e={},n=E(t,["config"]);return n!=null&&OK(n,e),e}function FK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["cachedContents"],a)}return e}function kK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["cachedContents"],a)}return e}function BK(t){const e={},n=E(t,["mediaResolution"]);n!=null&&M(e,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&M(e,["codeExecutionResult"],i);const r=E(t,["executableCode"]);r!=null&&M(e,["executableCode"],r);const a=E(t,["fileData"]);a!=null&&M(e,["fileData"],AK(a));const o=E(t,["functionCall"]);o!=null&&M(e,["functionCall"],MK(o));const s=E(t,["functionResponse"]);s!=null&&M(e,["functionResponse"],s);const u=E(t,["inlineData"]);u!=null&&M(e,["inlineData"],gK(u));const c=E(t,["text"]);c!=null&&M(e,["text"],c);const d=E(t,["thought"]);d!=null&&M(e,["thought"],d);const p=E(t,["thoughtSignature"]);p!=null&&M(e,["thoughtSignature"],p);const v=E(t,["videoMetadata"]);return v!=null&&M(e,["videoMetadata"],v),e}function zK(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&M(e,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&M(e,["functionCallingConfig"],wK(i)),e}function GK(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&M(e,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const r=E(t,["codeExecution"]);if(r!=null&&M(e,["codeExecution"],r),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=E(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),M(e,["functionDeclarations"],d)}const o=E(t,["googleMaps"]);o!=null&&M(e,["googleMaps"],PK(o));const s=E(t,["googleSearch"]);s!=null&&M(e,["googleSearch"],NK(s));const u=E(t,["googleSearchRetrieval"]);u!=null&&M(e,["googleSearchRetrieval"],u);const c=E(t,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function VK(t){const e={},n=E(t,["retrieval"]);n!=null&&M(e,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=E(t,["codeExecution"]);r!=null&&M(e,["codeExecution"],r);const a=E(t,["enterpriseWebSearch"]);a!=null&&M(e,["enterpriseWebSearch"],a);const o=E(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>CK(v))),M(e,["functionDeclarations"],p)}const s=E(t,["googleMaps"]);s!=null&&M(e,["googleMaps"],s);const u=E(t,["googleSearch"]);u!=null&&M(e,["googleSearch"],u);const c=E(t,["googleSearchRetrieval"]);c!=null&&M(e,["googleSearchRetrieval"],c);const d=E(t,["urlContext"]);return d!=null&&M(e,["urlContext"],d),e}function HK(t,e){const n={},i=E(t,["ttl"]);e!==void 0&&i!=null&&M(e,["ttl"],i);const r=E(t,["expireTime"]);return e!==void 0&&r!=null&&M(e,["expireTime"],r),n}function qK(t,e){const n={},i=E(t,["ttl"]);e!==void 0&&i!=null&&M(e,["ttl"],i);const r=E(t,["expireTime"]);return e!==void 0&&r!=null&&M(e,["expireTime"],r),n}function WK(t,e){const n={},i=E(e,["name"]);i!=null&&M(n,["_url","name"],uf(t,i));const r=E(e,["config"]);return r!=null&&HK(r,n),n}function jK(t,e){const n={},i=E(e,["name"]);i!=null&&M(n,["_url","name"],uf(t,i));const r=E(e,["config"]);return r!=null&&qK(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XK extends lf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp($c.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=bK(this.apiClient,e);return s=It("cachedContents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=_K(this.apiClient,e);return s=It("cachedContents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=IK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=RK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=SK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=TK(d),v=new IO;return Object.assign(v,p),v})}else{const c=xK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=EK(d),v=new IO;return Object.assign(v,p),v})}}async update(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=jK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=WK(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=UK(e);return s=It("cachedContents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=kK(d),v=new PO;return Object.assign(v,p),v})}else{const c=LK(e);return s=It("cachedContents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=FK(d),v=new PO;return Object.assign(v,p),v})}}}function LS(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function kO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function an(t){return this instanceof an?(this.v=t,this):new an(t)}function Wl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(b){return Promise.resolve(b).then(y,p)}}function s(y,b){i[y]&&(r[y]=function(T){return new Promise(function(S,A){a.push([y,T,S,A])>1||u(y,T)})},b&&(r[y]=b(r[y])))}function u(y,b){try{c(i[y](b))}catch(T){v(a[0][3],T)}}function c(y){y.value instanceof an?Promise.resolve(y.value.v).then(d,p):v(a[0][2],y)}function d(y){u("next",y)}function p(y){u("throw",y)}function v(y,b){y(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function jl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kO=="function"?kO(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(o){return new Promise(function(s,u){o=t[a](o),r(s,u,o.done,o.value)})}}function r(a,o,s,u){Promise.resolve(u).then(function(c){a({value:c,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Cz(n)}function Cz(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $K(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function BO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!Cz(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class KK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new JK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class JK{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),$K(a)}async sendMessage(e){var n;await this.sendPromise;const i=Wa(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const u=await r,c=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,d=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let v=[];d!=null&&(v=(s=d.slice(p))!==null&&s!==void 0?s:[]);const y=c?[c]:[];this.recordHistory(i,y,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Wa(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?BO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Wl(this,arguments,function*(){var r,a,o,s,u,c;const d=[];try{for(var p=!0,v=jl(e),y;y=yield an(v.next()),r=y.done,!r;p=!0){s=y.value,p=!1;const b=s;if(YK(b)){const T=(c=(u=b.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content;T!==void 0&&d.push(T)}yield yield an(b)}}catch(b){a={error:b}}finally{try{!p&&!r&&(o=v.return)&&(yield an(o.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...BO(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RE extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,RE.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZK(t){const e={},n=E(t,["file"]);return n!=null&&M(e,["file"],n),e}function QK(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function eJ(t){const e={},n=E(t,["name"]);return n!=null&&M(e,["_url","file"],xz(n)),e}function tJ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function nJ(t){const e={},n=E(t,["name"]);return n!=null&&M(e,["_url","file"],xz(n)),e}function iJ(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);return e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),n}function rJ(t){const e={},n=E(t,["config"]);return n!=null&&iJ(n,e),e}function aJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oJ extends lf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp($c.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=rJ(e);return a=It("files",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>{const c=aJ(u),d=new c$;return Object.assign(d,c),d})}}async createInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ZK(e);return a=It("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=QK(u),d=new f$;return Object.assign(d,c),d})}}async get(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=nJ(e);return a=It("files/{file}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=eJ(e);return a=It("files/{file}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>{const c=tJ(u),d=new d$;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(t){const e={},n=E(t,["data"]);if(n!=null&&M(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function sJ(t){const e={},n=E(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>EJ(a))),M(e,["parts"],r)}const i=E(t,["role"]);return i!=null&&M(e,["role"],i),e}function lJ(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&M(e,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function uJ(t){const e={},n=E(t,["id"]);n!=null&&M(e,["id"],n);const i=E(t,["args"]);i!=null&&M(e,["args"],i);const r=E(t,["name"]);if(r!=null&&M(e,["name"],r),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cJ(t){const e={},n=E(t,["description"]);n!=null&&M(e,["description"],n);const i=E(t,["name"]);i!=null&&M(e,["name"],i);const r=E(t,["parameters"]);r!=null&&M(e,["parameters"],r);const a=E(t,["parametersJsonSchema"]);a!=null&&M(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&M(e,["response"],o);const s=E(t,["responseJsonSchema"]);if(s!=null&&M(e,["responseJsonSchema"],s),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function fJ(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&M(e,["modelConfig"],n);const i=E(t,["responseJsonSchema"]);i!=null&&M(e,["responseJsonSchema"],i);const r=E(t,["audioTimestamp"]);r!=null&&M(e,["audioTimestamp"],r);const a=E(t,["candidateCount"]);a!=null&&M(e,["candidateCount"],a);const o=E(t,["enableAffectiveDialog"]);o!=null&&M(e,["enableAffectiveDialog"],o);const s=E(t,["frequencyPenalty"]);s!=null&&M(e,["frequencyPenalty"],s);const u=E(t,["logprobs"]);u!=null&&M(e,["logprobs"],u);const c=E(t,["maxOutputTokens"]);c!=null&&M(e,["maxOutputTokens"],c);const d=E(t,["mediaResolution"]);d!=null&&M(e,["mediaResolution"],d);const p=E(t,["presencePenalty"]);p!=null&&M(e,["presencePenalty"],p);const v=E(t,["responseLogprobs"]);v!=null&&M(e,["responseLogprobs"],v);const y=E(t,["responseMimeType"]);y!=null&&M(e,["responseMimeType"],y);const b=E(t,["responseModalities"]);b!=null&&M(e,["responseModalities"],b);const T=E(t,["responseSchema"]);T!=null&&M(e,["responseSchema"],T);const S=E(t,["routingConfig"]);S!=null&&M(e,["routingConfig"],S);const A=E(t,["seed"]);A!=null&&M(e,["seed"],A);const R=E(t,["speechConfig"]);R!=null&&M(e,["speechConfig"],R);const I=E(t,["stopSequences"]);I!=null&&M(e,["stopSequences"],I);const N=E(t,["temperature"]);N!=null&&M(e,["temperature"],N);const D=E(t,["thinkingConfig"]);D!=null&&M(e,["thinkingConfig"],D);const O=E(t,["topK"]);O!=null&&M(e,["topK"],O);const F=E(t,["topP"]);if(F!=null&&M(e,["topP"],F),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dJ(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&M(e,["enableWidget"],n),e}function hJ(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&M(e,["timeRangeFilter"],n),e}function pJ(t,e){const n={},i=E(t,["generationConfig"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig"],i);const r=E(t,["responseModalities"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig","responseModalities"],r);const a=E(t,["temperature"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","topP"],o);const s=E(t,["topK"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","topK"],s);const u=E(t,["maxOutputTokens"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","maxOutputTokens"],u);const c=E(t,["mediaResolution"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","mediaResolution"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","seed"],d);const p=E(t,["speechConfig"]);e!==void 0&&p!=null&&M(e,["setup","generationConfig","speechConfig"],LI(p));const v=E(t,["thinkingConfig"]);e!==void 0&&v!=null&&M(e,["setup","generationConfig","thinkingConfig"],v);const y=E(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],y);const b=E(t,["systemInstruction"]);e!==void 0&&b!=null&&M(e,["setup","systemInstruction"],sJ(Wa(b)));const T=E(t,["tools"]);if(e!==void 0&&T!=null){let O=Rg(T);Array.isArray(O)&&(O=O.map(F=>AJ(Cg(F)))),M(e,["setup","tools"],O)}const S=E(t,["sessionResumption"]);e!==void 0&&S!=null&&M(e,["setup","sessionResumption"],TJ(S));const A=E(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&M(e,["setup","inputAudioTranscription"],A);const R=E(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&M(e,["setup","outputAudioTranscription"],R);const I=E(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&M(e,["setup","realtimeInputConfig"],I);const N=E(t,["contextWindowCompression"]);e!==void 0&&N!=null&&M(e,["setup","contextWindowCompression"],N);const D=E(t,["proactivity"]);if(e!==void 0&&D!=null&&M(e,["setup","proactivity"],D),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function mJ(t,e){const n={},i=E(t,["generationConfig"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig"],fJ(i));const r=E(t,["responseModalities"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig","responseModalities"],r);const a=E(t,["temperature"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","topP"],o);const s=E(t,["topK"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","topK"],s);const u=E(t,["maxOutputTokens"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","maxOutputTokens"],u);const c=E(t,["mediaResolution"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","mediaResolution"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","seed"],d);const p=E(t,["speechConfig"]);e!==void 0&&p!=null&&M(e,["setup","generationConfig","speechConfig"],LI(p));const v=E(t,["thinkingConfig"]);e!==void 0&&v!=null&&M(e,["setup","generationConfig","thinkingConfig"],v);const y=E(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],y);const b=E(t,["systemInstruction"]);e!==void 0&&b!=null&&M(e,["setup","systemInstruction"],Wa(b));const T=E(t,["tools"]);if(e!==void 0&&T!=null){let F=Rg(T);Array.isArray(F)&&(F=F.map(z=>MJ(Cg(z)))),M(e,["setup","tools"],F)}const S=E(t,["sessionResumption"]);e!==void 0&&S!=null&&M(e,["setup","sessionResumption"],S);const A=E(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&M(e,["setup","inputAudioTranscription"],A);const R=E(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&M(e,["setup","outputAudioTranscription"],R);const I=E(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&M(e,["setup","realtimeInputConfig"],I);const N=E(t,["contextWindowCompression"]);e!==void 0&&N!=null&&M(e,["setup","contextWindowCompression"],N);const D=E(t,["proactivity"]);e!==void 0&&D!=null&&M(e,["setup","proactivity"],D);const O=E(t,["explicitVadSignal"]);return e!==void 0&&O!=null&&M(e,["setup","explicitVadSignal"],O),n}function gJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["setup","model"],Xn(t,i));const r=E(e,["config"]);return r!=null&&M(n,["config"],pJ(r,n)),n}function vJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["setup","model"],Xn(t,i));const r=E(e,["config"]);return r!=null&&M(n,["config"],mJ(r,n)),n}function yJ(t){const e={},n=E(t,["musicGenerationConfig"]);return n!=null&&M(e,["musicGenerationConfig"],n),e}function _J(t){const e={},n=E(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),M(e,["weightedPrompts"],i)}return e}function bJ(t){const e={},n=E(t,["media"]);if(n!=null){let c=gz(n);Array.isArray(c)&&(c=c.map(d=>yS(d))),M(e,["mediaChunks"],c)}const i=E(t,["audio"]);i!=null&&M(e,["audio"],yS(yz(i)));const r=E(t,["audioStreamEnd"]);r!=null&&M(e,["audioStreamEnd"],r);const a=E(t,["video"]);a!=null&&M(e,["video"],yS(vz(a)));const o=E(t,["text"]);o!=null&&M(e,["text"],o);const s=E(t,["activityStart"]);s!=null&&M(e,["activityStart"],s);const u=E(t,["activityEnd"]);return u!=null&&M(e,["activityEnd"],u),e}function xJ(t){const e={},n=E(t,["media"]);if(n!=null){let c=gz(n);Array.isArray(c)&&(c=c.map(d=>d)),M(e,["mediaChunks"],c)}const i=E(t,["audio"]);i!=null&&M(e,["audio"],yz(i));const r=E(t,["audioStreamEnd"]);r!=null&&M(e,["audioStreamEnd"],r);const a=E(t,["video"]);a!=null&&M(e,["video"],vz(a));const o=E(t,["text"]);o!=null&&M(e,["text"],o);const s=E(t,["activityStart"]);s!=null&&M(e,["activityStart"],s);const u=E(t,["activityEnd"]);return u!=null&&M(e,["activityEnd"],u),e}function SJ(t){const e={},n=E(t,["setupComplete"]);n!=null&&M(e,["setupComplete"],n);const i=E(t,["serverContent"]);i!=null&&M(e,["serverContent"],i);const r=E(t,["toolCall"]);r!=null&&M(e,["toolCall"],r);const a=E(t,["toolCallCancellation"]);a!=null&&M(e,["toolCallCancellation"],a);const o=E(t,["usageMetadata"]);o!=null&&M(e,["usageMetadata"],wJ(o));const s=E(t,["goAway"]);s!=null&&M(e,["goAway"],s);const u=E(t,["sessionResumptionUpdate"]);u!=null&&M(e,["sessionResumptionUpdate"],u);const c=E(t,["voiceActivityDetectionSignal"]);c!=null&&M(e,["voiceActivityDetectionSignal"],c);const d=E(t,["voiceActivity"]);return d!=null&&M(e,["voiceActivity"],CJ(d)),e}function EJ(t){const e={},n=E(t,["mediaResolution"]);n!=null&&M(e,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&M(e,["codeExecutionResult"],i);const r=E(t,["executableCode"]);r!=null&&M(e,["executableCode"],r);const a=E(t,["fileData"]);a!=null&&M(e,["fileData"],lJ(a));const o=E(t,["functionCall"]);o!=null&&M(e,["functionCall"],uJ(o));const s=E(t,["functionResponse"]);s!=null&&M(e,["functionResponse"],s);const u=E(t,["inlineData"]);u!=null&&M(e,["inlineData"],yS(u));const c=E(t,["text"]);c!=null&&M(e,["text"],c);const d=E(t,["thought"]);d!=null&&M(e,["thought"],d);const p=E(t,["thoughtSignature"]);p!=null&&M(e,["thoughtSignature"],p);const v=E(t,["videoMetadata"]);return v!=null&&M(e,["videoMetadata"],v),e}function TJ(t){const e={},n=E(t,["handle"]);if(n!=null&&M(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AJ(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&M(e,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const r=E(t,["codeExecution"]);if(r!=null&&M(e,["codeExecution"],r),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=E(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),M(e,["functionDeclarations"],d)}const o=E(t,["googleMaps"]);o!=null&&M(e,["googleMaps"],dJ(o));const s=E(t,["googleSearch"]);s!=null&&M(e,["googleSearch"],hJ(s));const u=E(t,["googleSearchRetrieval"]);u!=null&&M(e,["googleSearchRetrieval"],u);const c=E(t,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function MJ(t){const e={},n=E(t,["retrieval"]);n!=null&&M(e,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=E(t,["codeExecution"]);r!=null&&M(e,["codeExecution"],r);const a=E(t,["enterpriseWebSearch"]);a!=null&&M(e,["enterpriseWebSearch"],a);const o=E(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>cJ(v))),M(e,["functionDeclarations"],p)}const s=E(t,["googleMaps"]);s!=null&&M(e,["googleMaps"],s);const u=E(t,["googleSearch"]);u!=null&&M(e,["googleSearch"],u);const c=E(t,["googleSearchRetrieval"]);c!=null&&M(e,["googleSearchRetrieval"],c);const d=E(t,["urlContext"]);return d!=null&&M(e,["urlContext"],d),e}function wJ(t){const e={},n=E(t,["promptTokenCount"]);n!=null&&M(e,["promptTokenCount"],n);const i=E(t,["cachedContentTokenCount"]);i!=null&&M(e,["cachedContentTokenCount"],i);const r=E(t,["candidatesTokenCount"]);r!=null&&M(e,["responseTokenCount"],r);const a=E(t,["toolUsePromptTokenCount"]);a!=null&&M(e,["toolUsePromptTokenCount"],a);const o=E(t,["thoughtsTokenCount"]);o!=null&&M(e,["thoughtsTokenCount"],o);const s=E(t,["totalTokenCount"]);s!=null&&M(e,["totalTokenCount"],s);const u=E(t,["promptTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(b=>b)),M(e,["promptTokensDetails"],y)}const c=E(t,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(b=>b)),M(e,["cacheTokensDetails"],y)}const d=E(t,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(b=>b)),M(e,["responseTokensDetails"],y)}const p=E(t,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(b=>b)),M(e,["toolUsePromptTokensDetails"],y)}const v=E(t,["trafficType"]);return v!=null&&M(e,["trafficType"],v),e}function CJ(t){const e={},n=E(t,["type"]);return n!=null&&M(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RJ(t){const e={},n=E(t,["data"]);if(n!=null&&M(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function IJ(t){const e={},n=E(t,["content"]);n!=null&&M(e,["content"],n);const i=E(t,["citationMetadata"]);i!=null&&M(e,["citationMetadata"],PJ(i));const r=E(t,["tokenCount"]);r!=null&&M(e,["tokenCount"],r);const a=E(t,["finishReason"]);a!=null&&M(e,["finishReason"],a);const o=E(t,["avgLogprobs"]);o!=null&&M(e,["avgLogprobs"],o);const s=E(t,["groundingMetadata"]);s!=null&&M(e,["groundingMetadata"],s);const u=E(t,["index"]);u!=null&&M(e,["index"],u);const c=E(t,["logprobsResult"]);c!=null&&M(e,["logprobsResult"],c);const d=E(t,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>y)),M(e,["safetyRatings"],v)}const p=E(t,["urlContextMetadata"]);return p!=null&&M(e,["urlContextMetadata"],p),e}function PJ(t){const e={},n=E(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),M(e,["citations"],i)}return e}function NJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let a=rl(r);Array.isArray(a)&&(a=a.map(o=>o)),M(n,["contents"],a)}return n}function DJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),M(e,["tokensInfo"],r)}return e}function OJ(t){const e={},n=E(t,["values"]);n!=null&&M(e,["values"],n);const i=E(t,["statistics"]);return i!=null&&M(e,["statistics"],LJ(i)),e}function LJ(t){const e={},n=E(t,["truncated"]);n!=null&&M(e,["truncated"],n);const i=E(t,["token_count"]);return i!=null&&M(e,["tokenCount"],i),e}function IE(t){const e={},n=E(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>qZ(a))),M(e,["parts"],r)}const i=E(t,["role"]);return i!=null&&M(e,["role"],i),e}function UJ(t){const e={},n=E(t,["controlType"]);n!=null&&M(e,["controlType"],n);const i=E(t,["enableControlImageComputation"]);return i!=null&&M(e,["computeControl"],i),e}function FJ(t){const e={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kJ(t,e){const n={},i=E(t,["systemInstruction"]);e!==void 0&&i!=null&&M(e,["systemInstruction"],Wa(i));const r=E(t,["tools"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Nz(s))),M(e,["tools"],o)}const a=E(t,["generationConfig"]);return e!==void 0&&a!=null&&M(e,["generationConfig"],RZ(a)),n}function BJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let o=rl(r);Array.isArray(o)&&(o=o.map(s=>IE(s))),M(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&FJ(a),n}function zJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let o=rl(r);Array.isArray(o)&&(o=o.map(s=>s)),M(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&kJ(a,n),n}function GJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);i!=null&&M(e,["totalTokens"],i);const r=E(t,["cachedContentTokenCount"]);return r!=null&&M(e,["cachedContentTokenCount"],r),e}function VJ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);return i!=null&&M(e,["totalTokens"],i),e}function HJ(t,e){const n={},i=E(e,["model"]);return i!=null&&M(n,["_url","name"],Xn(t,i)),n}function qJ(t,e){const n={},i=E(e,["model"]);return i!=null&&M(n,["_url","name"],Xn(t,i)),n}function WJ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function jJ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}function XJ(t,e){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&M(e,["parameters","storageUri"],i);const r=E(t,["negativePrompt"]);e!==void 0&&r!=null&&M(e,["parameters","negativePrompt"],r);const a=E(t,["numberOfImages"]);e!==void 0&&a!=null&&M(e,["parameters","sampleCount"],a);const o=E(t,["aspectRatio"]);e!==void 0&&o!=null&&M(e,["parameters","aspectRatio"],o);const s=E(t,["guidanceScale"]);e!==void 0&&s!=null&&M(e,["parameters","guidanceScale"],s);const u=E(t,["seed"]);e!==void 0&&u!=null&&M(e,["parameters","seed"],u);const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&M(e,["parameters","safetySetting"],c);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&M(e,["parameters","personGeneration"],d);const p=E(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&M(e,["parameters","includeSafetyAttributes"],p);const v=E(t,["includeRaiReason"]);e!==void 0&&v!=null&&M(e,["parameters","includeRaiReason"],v);const y=E(t,["language"]);e!==void 0&&y!=null&&M(e,["parameters","language"],y);const b=E(t,["outputMimeType"]);e!==void 0&&b!=null&&M(e,["parameters","outputOptions","mimeType"],b);const T=E(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&M(e,["parameters","outputOptions","compressionQuality"],T);const S=E(t,["addWatermark"]);e!==void 0&&S!=null&&M(e,["parameters","addWatermark"],S);const A=E(t,["labels"]);e!==void 0&&A!=null&&M(e,["labels"],A);const R=E(t,["editMode"]);e!==void 0&&R!=null&&M(e,["parameters","editMode"],R);const I=E(t,["baseSteps"]);return e!==void 0&&I!=null&&M(e,["parameters","editConfig","baseSteps"],I),n}function YJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["prompt"]);r!=null&&M(n,["instances[0]","prompt"],r);const a=E(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>KZ(u))),M(n,["instances[0]","referenceImages"],s)}const o=E(e,["config"]);return o!=null&&XJ(o,n),n}function $J(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>PE(a))),M(e,["generatedImages"],r)}return e}function KJ(t,e){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&M(e,["requests[]","taskType"],i);const r=E(t,["title"]);e!==void 0&&r!=null&&M(e,["requests[]","title"],r);const a=E(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&M(e,["requests[]","outputDimensionality"],a),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function JJ(t,e){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&M(e,["instances[]","task_type"],i);const r=E(t,["title"]);e!==void 0&&r!=null&&M(e,["instances[]","title"],r);const a=E(t,["outputDimensionality"]);e!==void 0&&a!=null&&M(e,["parameters","outputDimensionality"],a);const o=E(t,["mimeType"]);e!==void 0&&o!=null&&M(e,["instances[]","mimeType"],o);const s=E(t,["autoTruncate"]);return e!==void 0&&s!=null&&M(e,["parameters","autoTruncate"],s),n}function ZJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let s=NI(t,r);Array.isArray(s)&&(s=s.map(u=>u)),M(n,["requests[]","content"],s)}const a=E(e,["config"]);a!=null&&KJ(a,n);const o=E(e,["model"]);return o!==void 0&&M(n,["requests[]","model"],Xn(t,o)),n}function QJ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let o=NI(t,r);Array.isArray(o)&&(o=o.map(s=>s)),M(n,["instances[]","content"],o)}const a=E(e,["config"]);return a!=null&&JJ(a,n),n}function eZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["embeddings"],a)}const r=E(t,["metadata"]);return r!=null&&M(e,["metadata"],r),e}function tZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>OJ(o))),M(e,["embeddings"],a)}const r=E(t,["metadata"]);return r!=null&&M(e,["metadata"],r),e}function nZ(t){const e={},n=E(t,["endpoint"]);n!=null&&M(e,["name"],n);const i=E(t,["deployedModelId"]);return i!=null&&M(e,["deployedModelId"],i),e}function iZ(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&M(e,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function rZ(t){const e={},n=E(t,["id"]);n!=null&&M(e,["id"],n);const i=E(t,["args"]);i!=null&&M(e,["args"],i);const r=E(t,["name"]);if(r!=null&&M(e,["name"],r),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aZ(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&M(e,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&M(e,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oZ(t){const e={},n=E(t,["description"]);n!=null&&M(e,["description"],n);const i=E(t,["name"]);i!=null&&M(e,["name"],i);const r=E(t,["parameters"]);r!=null&&M(e,["parameters"],r);const a=E(t,["parametersJsonSchema"]);a!=null&&M(e,["parametersJsonSchema"],a);const o=E(t,["response"]);o!=null&&M(e,["response"],o);const s=E(t,["responseJsonSchema"]);if(s!=null&&M(e,["responseJsonSchema"],s),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sZ(t,e,n){const i={},r=E(e,["systemInstruction"]);n!==void 0&&r!=null&&M(n,["systemInstruction"],IE(Wa(r)));const a=E(e,["temperature"]);a!=null&&M(i,["temperature"],a);const o=E(e,["topP"]);o!=null&&M(i,["topP"],o);const s=E(e,["topK"]);s!=null&&M(i,["topK"],s);const u=E(e,["candidateCount"]);u!=null&&M(i,["candidateCount"],u);const c=E(e,["maxOutputTokens"]);c!=null&&M(i,["maxOutputTokens"],c);const d=E(e,["stopSequences"]);d!=null&&M(i,["stopSequences"],d);const p=E(e,["responseLogprobs"]);p!=null&&M(i,["responseLogprobs"],p);const v=E(e,["logprobs"]);v!=null&&M(i,["logprobs"],v);const y=E(e,["presencePenalty"]);y!=null&&M(i,["presencePenalty"],y);const b=E(e,["frequencyPenalty"]);b!=null&&M(i,["frequencyPenalty"],b);const T=E(e,["seed"]);T!=null&&M(i,["seed"],T);const S=E(e,["responseMimeType"]);S!=null&&M(i,["responseMimeType"],S);const A=E(e,["responseSchema"]);A!=null&&M(i,["responseSchema"],DI(A));const R=E(e,["responseJsonSchema"]);if(R!=null&&M(i,["responseJsonSchema"],R),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=E(e,["safetySettings"]);if(n!==void 0&&I!=null){let Y=I;Array.isArray(Y)&&(Y=Y.map(Q=>JZ(Q))),M(n,["safetySettings"],Y)}const N=E(e,["tools"]);if(n!==void 0&&N!=null){let Y=Rg(N);Array.isArray(Y)&&(Y=Y.map(Q=>rQ(Cg(Q)))),M(n,["tools"],Y)}const D=E(e,["toolConfig"]);if(n!==void 0&&D!=null&&M(n,["toolConfig"],iQ(D)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=E(e,["cachedContent"]);n!==void 0&&O!=null&&M(n,["cachedContent"],uf(t,O));const F=E(e,["responseModalities"]);F!=null&&M(i,["responseModalities"],F);const z=E(e,["mediaResolution"]);z!=null&&M(i,["mediaResolution"],z);const U=E(e,["speechConfig"]);if(U!=null&&M(i,["speechConfig"],OI(U)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=E(e,["thinkingConfig"]);B!=null&&M(i,["thinkingConfig"],B);const j=E(e,["imageConfig"]);j!=null&&M(i,["imageConfig"],OZ(j));const W=E(e,["enableEnhancedCivicAnswers"]);return W!=null&&M(i,["enableEnhancedCivicAnswers"],W),i}function lZ(t,e,n){const i={},r=E(e,["systemInstruction"]);n!==void 0&&r!=null&&M(n,["systemInstruction"],Wa(r));const a=E(e,["temperature"]);a!=null&&M(i,["temperature"],a);const o=E(e,["topP"]);o!=null&&M(i,["topP"],o);const s=E(e,["topK"]);s!=null&&M(i,["topK"],s);const u=E(e,["candidateCount"]);u!=null&&M(i,["candidateCount"],u);const c=E(e,["maxOutputTokens"]);c!=null&&M(i,["maxOutputTokens"],c);const d=E(e,["stopSequences"]);d!=null&&M(i,["stopSequences"],d);const p=E(e,["responseLogprobs"]);p!=null&&M(i,["responseLogprobs"],p);const v=E(e,["logprobs"]);v!=null&&M(i,["logprobs"],v);const y=E(e,["presencePenalty"]);y!=null&&M(i,["presencePenalty"],y);const b=E(e,["frequencyPenalty"]);b!=null&&M(i,["frequencyPenalty"],b);const T=E(e,["seed"]);T!=null&&M(i,["seed"],T);const S=E(e,["responseMimeType"]);S!=null&&M(i,["responseMimeType"],S);const A=E(e,["responseSchema"]);A!=null&&M(i,["responseSchema"],DI(A));const R=E(e,["responseJsonSchema"]);R!=null&&M(i,["responseJsonSchema"],R);const I=E(e,["routingConfig"]);I!=null&&M(i,["routingConfig"],I);const N=E(e,["modelSelectionConfig"]);N!=null&&M(i,["modelConfig"],N);const D=E(e,["safetySettings"]);if(n!==void 0&&D!=null){let X=D;Array.isArray(X)&&(X=X.map(ne=>ne)),M(n,["safetySettings"],X)}const O=E(e,["tools"]);if(n!==void 0&&O!=null){let X=Rg(O);Array.isArray(X)&&(X=X.map(ne=>Nz(Cg(ne)))),M(n,["tools"],X)}const F=E(e,["toolConfig"]);n!==void 0&&F!=null&&M(n,["toolConfig"],F);const z=E(e,["labels"]);n!==void 0&&z!=null&&M(n,["labels"],z);const U=E(e,["cachedContent"]);n!==void 0&&U!=null&&M(n,["cachedContent"],uf(t,U));const B=E(e,["responseModalities"]);B!=null&&M(i,["responseModalities"],B);const j=E(e,["mediaResolution"]);j!=null&&M(i,["mediaResolution"],j);const W=E(e,["speechConfig"]);W!=null&&M(i,["speechConfig"],OI(W));const Y=E(e,["audioTimestamp"]);Y!=null&&M(i,["audioTimestamp"],Y);const Q=E(e,["thinkingConfig"]);Q!=null&&M(i,["thinkingConfig"],Q);const ae=E(e,["imageConfig"]);if(ae!=null&&M(i,["imageConfig"],LZ(ae)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function zO(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let o=rl(r);Array.isArray(o)&&(o=o.map(s=>IE(s))),M(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&M(n,["generationConfig"],sZ(t,a,n)),n}function GO(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["contents"]);if(r!=null){let o=rl(r);Array.isArray(o)&&(o=o.map(s=>s)),M(n,["contents"],o)}const a=E(e,["config"]);return a!=null&&M(n,["generationConfig"],lZ(t,a,n)),n}function VO(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>IJ(c))),M(e,["candidates"],u)}const r=E(t,["modelVersion"]);r!=null&&M(e,["modelVersion"],r);const a=E(t,["promptFeedback"]);a!=null&&M(e,["promptFeedback"],a);const o=E(t,["responseId"]);o!=null&&M(e,["responseId"],o);const s=E(t,["usageMetadata"]);return s!=null&&M(e,["usageMetadata"],s),e}function HO(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),M(e,["candidates"],c)}const r=E(t,["createTime"]);r!=null&&M(e,["createTime"],r);const a=E(t,["modelVersion"]);a!=null&&M(e,["modelVersion"],a);const o=E(t,["promptFeedback"]);o!=null&&M(e,["promptFeedback"],o);const s=E(t,["responseId"]);s!=null&&M(e,["responseId"],s);const u=E(t,["usageMetadata"]);return u!=null&&M(e,["usageMetadata"],u),e}function uZ(t,e){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i);const r=E(t,["aspectRatio"]);e!==void 0&&r!=null&&M(e,["parameters","aspectRatio"],r);const a=E(t,["guidanceScale"]);if(e!==void 0&&a!=null&&M(e,["parameters","guidanceScale"],a),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=E(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&M(e,["parameters","safetySetting"],o);const s=E(t,["personGeneration"]);e!==void 0&&s!=null&&M(e,["parameters","personGeneration"],s);const u=E(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&M(e,["parameters","includeSafetyAttributes"],u);const c=E(t,["includeRaiReason"]);e!==void 0&&c!=null&&M(e,["parameters","includeRaiReason"],c);const d=E(t,["language"]);e!==void 0&&d!=null&&M(e,["parameters","language"],d);const p=E(t,["outputMimeType"]);e!==void 0&&p!=null&&M(e,["parameters","outputOptions","mimeType"],p);const v=E(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&M(e,["parameters","outputOptions","compressionQuality"],v),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=E(t,["imageSize"]);if(e!==void 0&&y!=null&&M(e,["parameters","sampleImageSize"],y),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cZ(t,e){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&M(e,["parameters","storageUri"],i);const r=E(t,["negativePrompt"]);e!==void 0&&r!=null&&M(e,["parameters","negativePrompt"],r);const a=E(t,["numberOfImages"]);e!==void 0&&a!=null&&M(e,["parameters","sampleCount"],a);const o=E(t,["aspectRatio"]);e!==void 0&&o!=null&&M(e,["parameters","aspectRatio"],o);const s=E(t,["guidanceScale"]);e!==void 0&&s!=null&&M(e,["parameters","guidanceScale"],s);const u=E(t,["seed"]);e!==void 0&&u!=null&&M(e,["parameters","seed"],u);const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&M(e,["parameters","safetySetting"],c);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&M(e,["parameters","personGeneration"],d);const p=E(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&M(e,["parameters","includeSafetyAttributes"],p);const v=E(t,["includeRaiReason"]);e!==void 0&&v!=null&&M(e,["parameters","includeRaiReason"],v);const y=E(t,["language"]);e!==void 0&&y!=null&&M(e,["parameters","language"],y);const b=E(t,["outputMimeType"]);e!==void 0&&b!=null&&M(e,["parameters","outputOptions","mimeType"],b);const T=E(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&M(e,["parameters","outputOptions","compressionQuality"],T);const S=E(t,["addWatermark"]);e!==void 0&&S!=null&&M(e,["parameters","addWatermark"],S);const A=E(t,["labels"]);e!==void 0&&A!=null&&M(e,["labels"],A);const R=E(t,["imageSize"]);e!==void 0&&R!=null&&M(e,["parameters","sampleImageSize"],R);const I=E(t,["enhancePrompt"]);return e!==void 0&&I!=null&&M(e,["parameters","enhancePrompt"],I),n}function fZ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["prompt"]);r!=null&&M(n,["instances[0]","prompt"],r);const a=E(e,["config"]);return a!=null&&uZ(a,n),n}function dZ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["prompt"]);r!=null&&M(n,["instances[0]","prompt"],r);const a=E(e,["config"]);return a!=null&&cZ(a,n),n}function hZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>AZ(o))),M(e,["generatedImages"],a)}const r=E(t,["positivePromptSafetyAttributes"]);return r!=null&&M(e,["positivePromptSafetyAttributes"],Iz(r)),e}function pZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>PE(o))),M(e,["generatedImages"],a)}const r=E(t,["positivePromptSafetyAttributes"]);return r!=null&&M(e,["positivePromptSafetyAttributes"],Pz(r)),e}function mZ(t,e){const n={},i=E(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=E(t,["durationSeconds"]);if(e!==void 0&&r!=null&&M(e,["parameters","durationSeconds"],r),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=E(t,["aspectRatio"]);e!==void 0&&a!=null&&M(e,["parameters","aspectRatio"],a);const o=E(t,["resolution"]);e!==void 0&&o!=null&&M(e,["parameters","resolution"],o);const s=E(t,["personGeneration"]);if(e!==void 0&&s!=null&&M(e,["parameters","personGeneration"],s),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=E(t,["negativePrompt"]);e!==void 0&&u!=null&&M(e,["parameters","negativePrompt"],u);const c=E(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&M(e,["parameters","enhancePrompt"],c),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=E(t,["lastFrame"]);e!==void 0&&d!=null&&M(e,["instances[0]","lastFrame"],NE(d));const p=E(t,["referenceImages"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(y=>vQ(y))),M(e,["instances[0]","referenceImages"],v)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gZ(t,e){const n={},i=E(t,["numberOfVideos"]);e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i);const r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&M(e,["parameters","storageUri"],r);const a=E(t,["fps"]);e!==void 0&&a!=null&&M(e,["parameters","fps"],a);const o=E(t,["durationSeconds"]);e!==void 0&&o!=null&&M(e,["parameters","durationSeconds"],o);const s=E(t,["seed"]);e!==void 0&&s!=null&&M(e,["parameters","seed"],s);const u=E(t,["aspectRatio"]);e!==void 0&&u!=null&&M(e,["parameters","aspectRatio"],u);const c=E(t,["resolution"]);e!==void 0&&c!=null&&M(e,["parameters","resolution"],c);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&M(e,["parameters","personGeneration"],d);const p=E(t,["pubsubTopic"]);e!==void 0&&p!=null&&M(e,["parameters","pubsubTopic"],p);const v=E(t,["negativePrompt"]);e!==void 0&&v!=null&&M(e,["parameters","negativePrompt"],v);const y=E(t,["enhancePrompt"]);e!==void 0&&y!=null&&M(e,["parameters","enhancePrompt"],y);const b=E(t,["generateAudio"]);e!==void 0&&b!=null&&M(e,["parameters","generateAudio"],b);const T=E(t,["lastFrame"]);e!==void 0&&T!=null&&M(e,["instances[0]","lastFrame"],Jl(T));const S=E(t,["referenceImages"]);if(e!==void 0&&S!=null){let I=S;Array.isArray(I)&&(I=I.map(N=>yQ(N))),M(e,["instances[0]","referenceImages"],I)}const A=E(t,["mask"]);e!==void 0&&A!=null&&M(e,["instances[0]","mask"],gQ(A));const R=E(t,["compressionQuality"]);return e!==void 0&&R!=null&&M(e,["parameters","compressionQuality"],R),n}function vZ(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response","generateVideoResponse"]);return o!=null&&M(e,["response"],xZ(o)),e}function yZ(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response"]);return o!=null&&M(e,["response"],SZ(o)),e}function _Z(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["prompt"]);r!=null&&M(n,["instances[0]","prompt"],r);const a=E(e,["image"]);a!=null&&M(n,["instances[0]","image"],NE(a));const o=E(e,["video"]);o!=null&&M(n,["instances[0]","video"],Dz(o));const s=E(e,["source"]);s!=null&&EZ(s,n);const u=E(e,["config"]);return u!=null&&mZ(u,n),n}function bZ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["prompt"]);r!=null&&M(n,["instances[0]","prompt"],r);const a=E(e,["image"]);a!=null&&M(n,["instances[0]","image"],Jl(a));const o=E(e,["video"]);o!=null&&M(n,["instances[0]","video"],Oz(o));const s=E(e,["source"]);s!=null&&TZ(s,n);const u=E(e,["config"]);return u!=null&&gZ(u,n),n}function xZ(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>wZ(o))),M(e,["generatedVideos"],a)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&M(e,["raiMediaFilteredCount"],i);const r=E(t,["raiMediaFilteredReasons"]);return r!=null&&M(e,["raiMediaFilteredReasons"],r),e}function SZ(t){const e={},n=E(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>CZ(o))),M(e,["generatedVideos"],a)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&M(e,["raiMediaFilteredCount"],i);const r=E(t,["raiMediaFilteredReasons"]);return r!=null&&M(e,["raiMediaFilteredReasons"],r),e}function EZ(t,e){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&M(e,["instances[0]","prompt"],i);const r=E(t,["image"]);e!==void 0&&r!=null&&M(e,["instances[0]","image"],NE(r));const a=E(t,["video"]);return e!==void 0&&a!=null&&M(e,["instances[0]","video"],Dz(a)),n}function TZ(t,e){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&M(e,["instances[0]","prompt"],i);const r=E(t,["image"]);e!==void 0&&r!=null&&M(e,["instances[0]","image"],Jl(r));const a=E(t,["video"]);return e!==void 0&&a!=null&&M(e,["instances[0]","video"],Oz(a)),n}function AZ(t){const e={},n=E(t,["_self"]);n!=null&&M(e,["image"],UZ(n));const i=E(t,["raiFilteredReason"]);i!=null&&M(e,["raiFilteredReason"],i);const r=E(t,["_self"]);return r!=null&&M(e,["safetyAttributes"],Iz(r)),e}function PE(t){const e={},n=E(t,["_self"]);n!=null&&M(e,["image"],Rz(n));const i=E(t,["raiFilteredReason"]);i!=null&&M(e,["raiFilteredReason"],i);const r=E(t,["_self"]);r!=null&&M(e,["safetyAttributes"],Pz(r));const a=E(t,["prompt"]);return a!=null&&M(e,["enhancedPrompt"],a),e}function MZ(t){const e={},n=E(t,["_self"]);n!=null&&M(e,["mask"],Rz(n));const i=E(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),M(e,["labels"],r)}return e}function wZ(t){const e={},n=E(t,["video"]);return n!=null&&M(e,["video"],pQ(n)),e}function CZ(t){const e={},n=E(t,["_self"]);return n!=null&&M(e,["video"],mQ(n)),e}function RZ(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&M(e,["modelConfig"],n);const i=E(t,["responseJsonSchema"]);i!=null&&M(e,["responseJsonSchema"],i);const r=E(t,["audioTimestamp"]);r!=null&&M(e,["audioTimestamp"],r);const a=E(t,["candidateCount"]);a!=null&&M(e,["candidateCount"],a);const o=E(t,["enableAffectiveDialog"]);o!=null&&M(e,["enableAffectiveDialog"],o);const s=E(t,["frequencyPenalty"]);s!=null&&M(e,["frequencyPenalty"],s);const u=E(t,["logprobs"]);u!=null&&M(e,["logprobs"],u);const c=E(t,["maxOutputTokens"]);c!=null&&M(e,["maxOutputTokens"],c);const d=E(t,["mediaResolution"]);d!=null&&M(e,["mediaResolution"],d);const p=E(t,["presencePenalty"]);p!=null&&M(e,["presencePenalty"],p);const v=E(t,["responseLogprobs"]);v!=null&&M(e,["responseLogprobs"],v);const y=E(t,["responseMimeType"]);y!=null&&M(e,["responseMimeType"],y);const b=E(t,["responseModalities"]);b!=null&&M(e,["responseModalities"],b);const T=E(t,["responseSchema"]);T!=null&&M(e,["responseSchema"],T);const S=E(t,["routingConfig"]);S!=null&&M(e,["routingConfig"],S);const A=E(t,["seed"]);A!=null&&M(e,["seed"],A);const R=E(t,["speechConfig"]);R!=null&&M(e,["speechConfig"],R);const I=E(t,["stopSequences"]);I!=null&&M(e,["stopSequences"],I);const N=E(t,["temperature"]);N!=null&&M(e,["temperature"],N);const D=E(t,["thinkingConfig"]);D!=null&&M(e,["thinkingConfig"],D);const O=E(t,["topK"]);O!=null&&M(e,["topK"],O);const F=E(t,["topP"]);if(F!=null&&M(e,["topP"],F),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function IZ(t,e){const n={},i=E(e,["model"]);return i!=null&&M(n,["_url","name"],Xn(t,i)),n}function PZ(t,e){const n={},i=E(e,["model"]);return i!=null&&M(n,["_url","name"],Xn(t,i)),n}function NZ(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&M(e,["enableWidget"],n),e}function DZ(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&M(e,["timeRangeFilter"],n),e}function OZ(t){const e={},n=E(t,["aspectRatio"]);n!=null&&M(e,["aspectRatio"],n);const i=E(t,["imageSize"]);if(i!=null&&M(e,["imageSize"],i),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LZ(t){const e={},n=E(t,["aspectRatio"]);n!=null&&M(e,["aspectRatio"],n);const i=E(t,["imageSize"]);i!=null&&M(e,["imageSize"],i);const r=E(t,["personGeneration"]);r!=null&&M(e,["personGeneration"],r);const a=E(t,["outputMimeType"]);a!=null&&M(e,["imageOutputOptions","mimeType"],a);const o=E(t,["outputCompressionQuality"]);return o!=null&&M(e,["imageOutputOptions","compressionQuality"],o),e}function UZ(t){const e={},n=E(t,["bytesBase64Encoded"]);n!=null&&M(e,["imageBytes"],Ad(n));const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function Rz(t){const e={},n=E(t,["gcsUri"]);n!=null&&M(e,["gcsUri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&M(e,["imageBytes"],Ad(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function NE(t){const e={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&M(e,["bytesBase64Encoded"],Ad(n));const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function Jl(t){const e={},n=E(t,["gcsUri"]);n!=null&&M(e,["gcsUri"],n);const i=E(t,["imageBytes"]);i!=null&&M(e,["bytesBase64Encoded"],Ad(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function FZ(t,e,n){const i={},r=E(e,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const a=E(e,["pageToken"]);n!==void 0&&a!=null&&M(n,["_query","pageToken"],a);const o=E(e,["filter"]);n!==void 0&&o!=null&&M(n,["_query","filter"],o);const s=E(e,["queryBase"]);return n!==void 0&&s!=null&&M(n,["_url","models_url"],Sz(t,s)),i}function kZ(t,e,n){const i={},r=E(e,["pageSize"]);n!==void 0&&r!=null&&M(n,["_query","pageSize"],r);const a=E(e,["pageToken"]);n!==void 0&&a!=null&&M(n,["_query","pageToken"],a);const o=E(e,["filter"]);n!==void 0&&o!=null&&M(n,["_query","filter"],o);const s=E(e,["queryBase"]);return n!==void 0&&s!=null&&M(n,["_url","models_url"],Sz(t,s)),i}function BZ(t,e){const n={},i=E(e,["config"]);return i!=null&&FZ(t,i,n),n}function zZ(t,e){const n={},i=E(e,["config"]);return i!=null&&kZ(t,i,n),n}function GZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["_self"]);if(r!=null){let a=Ez(r);Array.isArray(a)&&(a=a.map(o=>XC(o))),M(e,["models"],a)}return e}function VZ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["_self"]);if(r!=null){let a=Ez(r);Array.isArray(a)&&(a=a.map(o=>YC(o))),M(e,["models"],a)}return e}function HZ(t){const e={},n=E(t,["maskMode"]);n!=null&&M(e,["maskMode"],n);const i=E(t,["segmentationClasses"]);i!=null&&M(e,["maskClasses"],i);const r=E(t,["maskDilation"]);return r!=null&&M(e,["dilation"],r),e}function XC(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["displayName"]);i!=null&&M(e,["displayName"],i);const r=E(t,["description"]);r!=null&&M(e,["description"],r);const a=E(t,["version"]);a!=null&&M(e,["version"],a);const o=E(t,["_self"]);o!=null&&M(e,["tunedModelInfo"],aQ(o));const s=E(t,["inputTokenLimit"]);s!=null&&M(e,["inputTokenLimit"],s);const u=E(t,["outputTokenLimit"]);u!=null&&M(e,["outputTokenLimit"],u);const c=E(t,["supportedGenerationMethods"]);c!=null&&M(e,["supportedActions"],c);const d=E(t,["temperature"]);d!=null&&M(e,["temperature"],d);const p=E(t,["maxTemperature"]);p!=null&&M(e,["maxTemperature"],p);const v=E(t,["topP"]);v!=null&&M(e,["topP"],v);const y=E(t,["topK"]);y!=null&&M(e,["topK"],y);const b=E(t,["thinking"]);return b!=null&&M(e,["thinking"],b),e}function YC(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["displayName"]);i!=null&&M(e,["displayName"],i);const r=E(t,["description"]);r!=null&&M(e,["description"],r);const a=E(t,["versionId"]);a!=null&&M(e,["version"],a);const o=E(t,["deployedModels"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>nZ(v))),M(e,["endpoints"],p)}const s=E(t,["labels"]);s!=null&&M(e,["labels"],s);const u=E(t,["_self"]);u!=null&&M(e,["tunedModelInfo"],oQ(u));const c=E(t,["defaultCheckpointId"]);c!=null&&M(e,["defaultCheckpointId"],c);const d=E(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>v)),M(e,["checkpoints"],p)}return e}function qZ(t){const e={},n=E(t,["mediaResolution"]);n!=null&&M(e,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&M(e,["codeExecutionResult"],i);const r=E(t,["executableCode"]);r!=null&&M(e,["executableCode"],r);const a=E(t,["fileData"]);a!=null&&M(e,["fileData"],iZ(a));const o=E(t,["functionCall"]);o!=null&&M(e,["functionCall"],rZ(o));const s=E(t,["functionResponse"]);s!=null&&M(e,["functionResponse"],s);const u=E(t,["inlineData"]);u!=null&&M(e,["inlineData"],RJ(u));const c=E(t,["text"]);c!=null&&M(e,["text"],c);const d=E(t,["thought"]);d!=null&&M(e,["thought"],d);const p=E(t,["thoughtSignature"]);p!=null&&M(e,["thoughtSignature"],p);const v=E(t,["videoMetadata"]);return v!=null&&M(e,["videoMetadata"],v),e}function WZ(t){const e={},n=E(t,["productImage"]);return n!=null&&M(e,["image"],Jl(n)),e}function jZ(t,e){const n={},i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&M(e,["parameters","sampleCount"],i);const r=E(t,["baseSteps"]);e!==void 0&&r!=null&&M(e,["parameters","baseSteps"],r);const a=E(t,["outputGcsUri"]);e!==void 0&&a!=null&&M(e,["parameters","storageUri"],a);const o=E(t,["seed"]);e!==void 0&&o!=null&&M(e,["parameters","seed"],o);const s=E(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&M(e,["parameters","safetySetting"],s);const u=E(t,["personGeneration"]);e!==void 0&&u!=null&&M(e,["parameters","personGeneration"],u);const c=E(t,["addWatermark"]);e!==void 0&&c!=null&&M(e,["parameters","addWatermark"],c);const d=E(t,["outputMimeType"]);e!==void 0&&d!=null&&M(e,["parameters","outputOptions","mimeType"],d);const p=E(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&M(e,["parameters","outputOptions","compressionQuality"],p);const v=E(t,["enhancePrompt"]);e!==void 0&&v!=null&&M(e,["parameters","enhancePrompt"],v);const y=E(t,["labels"]);return e!==void 0&&y!=null&&M(e,["labels"],y),n}function XZ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["source"]);r!=null&&$Z(r,n);const a=E(e,["config"]);return a!=null&&jZ(a,n),n}function YZ(t){const e={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PE(r))),M(e,["generatedImages"],i)}return e}function $Z(t,e){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&M(e,["instances[0]","prompt"],i);const r=E(t,["personImage"]);e!==void 0&&r!=null&&M(e,["instances[0]","personImage","image"],Jl(r));const a=E(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>WZ(s))),M(e,["instances[0]","productImages"],o)}return n}function KZ(t){const e={},n=E(t,["referenceImage"]);n!=null&&M(e,["referenceImage"],Jl(n));const i=E(t,["referenceId"]);i!=null&&M(e,["referenceId"],i);const r=E(t,["referenceType"]);r!=null&&M(e,["referenceType"],r);const a=E(t,["maskImageConfig"]);a!=null&&M(e,["maskImageConfig"],HZ(a));const o=E(t,["controlImageConfig"]);o!=null&&M(e,["controlImageConfig"],UJ(o));const s=E(t,["styleImageConfig"]);s!=null&&M(e,["styleImageConfig"],s);const u=E(t,["subjectImageConfig"]);return u!=null&&M(e,["subjectImageConfig"],u),e}function Iz(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&M(e,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&M(e,["scores"],i);const r=E(t,["contentType"]);return r!=null&&M(e,["contentType"],r),e}function Pz(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&M(e,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&M(e,["scores"],i);const r=E(t,["contentType"]);return r!=null&&M(e,["contentType"],r),e}function JZ(t){const e={},n=E(t,["category"]);if(n!=null&&M(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=E(t,["threshold"]);return i!=null&&M(e,["threshold"],i),e}function ZZ(t){const e={},n=E(t,["image"]);return n!=null&&M(e,["image"],Jl(n)),e}function QZ(t,e){const n={},i=E(t,["mode"]);e!==void 0&&i!=null&&M(e,["parameters","mode"],i);const r=E(t,["maxPredictions"]);e!==void 0&&r!=null&&M(e,["parameters","maxPredictions"],r);const a=E(t,["confidenceThreshold"]);e!==void 0&&a!=null&&M(e,["parameters","confidenceThreshold"],a);const o=E(t,["maskDilation"]);e!==void 0&&o!=null&&M(e,["parameters","maskDilation"],o);const s=E(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&M(e,["parameters","binaryColorThreshold"],s);const u=E(t,["labels"]);return e!==void 0&&u!=null&&M(e,["labels"],u),n}function eQ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["source"]);r!=null&&nQ(r,n);const a=E(e,["config"]);return a!=null&&QZ(a,n),n}function tQ(t){const e={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>MZ(r))),M(e,["generatedMasks"],i)}return e}function nQ(t,e){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&M(e,["instances[0]","prompt"],i);const r=E(t,["image"]);e!==void 0&&r!=null&&M(e,["instances[0]","image"],Jl(r));const a=E(t,["scribbleImage"]);return e!==void 0&&a!=null&&M(e,["instances[0]","scribble"],ZZ(a)),n}function iQ(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&M(e,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&M(e,["functionCallingConfig"],aZ(i)),e}function rQ(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&M(e,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const r=E(t,["codeExecution"]);if(r!=null&&M(e,["codeExecution"],r),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=E(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),M(e,["functionDeclarations"],d)}const o=E(t,["googleMaps"]);o!=null&&M(e,["googleMaps"],NZ(o));const s=E(t,["googleSearch"]);s!=null&&M(e,["googleSearch"],DZ(s));const u=E(t,["googleSearchRetrieval"]);u!=null&&M(e,["googleSearchRetrieval"],u);const c=E(t,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}function Nz(t){const e={},n=E(t,["retrieval"]);n!=null&&M(e,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&M(e,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=E(t,["codeExecution"]);r!=null&&M(e,["codeExecution"],r);const a=E(t,["enterpriseWebSearch"]);a!=null&&M(e,["enterpriseWebSearch"],a);const o=E(t,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>oZ(v))),M(e,["functionDeclarations"],p)}const s=E(t,["googleMaps"]);s!=null&&M(e,["googleMaps"],s);const u=E(t,["googleSearch"]);u!=null&&M(e,["googleSearch"],u);const c=E(t,["googleSearchRetrieval"]);c!=null&&M(e,["googleSearchRetrieval"],c);const d=E(t,["urlContext"]);return d!=null&&M(e,["urlContext"],d),e}function aQ(t){const e={},n=E(t,["baseModel"]);n!=null&&M(e,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&M(e,["createTime"],i);const r=E(t,["updateTime"]);return r!=null&&M(e,["updateTime"],r),e}function oQ(t){const e={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&M(e,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&M(e,["createTime"],i);const r=E(t,["updateTime"]);return r!=null&&M(e,["updateTime"],r),e}function sQ(t,e){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&M(e,["displayName"],i);const r=E(t,["description"]);e!==void 0&&r!=null&&M(e,["description"],r);const a=E(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&M(e,["defaultCheckpointId"],a),n}function lQ(t,e){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&M(e,["displayName"],i);const r=E(t,["description"]);e!==void 0&&r!=null&&M(e,["description"],r);const a=E(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&M(e,["defaultCheckpointId"],a),n}function uQ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","name"],Xn(t,i));const r=E(e,["config"]);return r!=null&&sQ(r,n),n}function cQ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["config"]);return r!=null&&lQ(r,n),n}function fQ(t,e){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&M(e,["parameters","storageUri"],i);const r=E(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&M(e,["parameters","safetySetting"],r);const a=E(t,["personGeneration"]);e!==void 0&&a!=null&&M(e,["parameters","personGeneration"],a);const o=E(t,["includeRaiReason"]);e!==void 0&&o!=null&&M(e,["parameters","includeRaiReason"],o);const s=E(t,["outputMimeType"]);e!==void 0&&s!=null&&M(e,["parameters","outputOptions","mimeType"],s);const u=E(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&M(e,["parameters","outputOptions","compressionQuality"],u);const c=E(t,["enhanceInputImage"]);e!==void 0&&c!=null&&M(e,["parameters","upscaleConfig","enhanceInputImage"],c);const d=E(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&M(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=E(t,["labels"]);e!==void 0&&p!=null&&M(e,["labels"],p);const v=E(t,["numberOfImages"]);e!==void 0&&v!=null&&M(e,["parameters","sampleCount"],v);const y=E(t,["mode"]);return e!==void 0&&y!=null&&M(e,["parameters","mode"],y),n}function dQ(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["_url","model"],Xn(t,i));const r=E(e,["image"]);r!=null&&M(n,["instances[0]","image"],Jl(r));const a=E(e,["upscaleFactor"]);a!=null&&M(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=E(e,["config"]);return o!=null&&fQ(o,n),n}function hQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>PE(a))),M(e,["generatedImages"],r)}return e}function pQ(t){const e={},n=E(t,["uri"]);n!=null&&M(e,["uri"],n);const i=E(t,["encodedVideo"]);i!=null&&M(e,["videoBytes"],Ad(i));const r=E(t,["encoding"]);return r!=null&&M(e,["mimeType"],r),e}function mQ(t){const e={},n=E(t,["gcsUri"]);n!=null&&M(e,["uri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&M(e,["videoBytes"],Ad(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}function gQ(t){const e={},n=E(t,["image"]);n!=null&&M(e,["_self"],Jl(n));const i=E(t,["maskMode"]);return i!=null&&M(e,["maskMode"],i),e}function vQ(t){const e={},n=E(t,["image"]);n!=null&&M(e,["image"],NE(n));const i=E(t,["referenceType"]);return i!=null&&M(e,["referenceType"],i),e}function yQ(t){const e={},n=E(t,["image"]);n!=null&&M(e,["image"],Jl(n));const i=E(t,["referenceType"]);return i!=null&&M(e,["referenceType"],i),e}function Dz(t){const e={},n=E(t,["uri"]);n!=null&&M(e,["uri"],n);const i=E(t,["videoBytes"]);i!=null&&M(e,["encodedVideo"],Ad(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["encoding"],r),e}function Oz(t){const e={},n=E(t,["uri"]);n!=null&&M(e,["gcsUri"],n);const i=E(t,["videoBytes"]);i!=null&&M(e,["bytesBase64Encoded"],Ad(i));const r=E(t,["mimeType"]);return r!=null&&M(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Q(t,e){const n={},i=E(t,["displayName"]);return e!==void 0&&i!=null&&M(e,["displayName"],i),n}function bQ(t){const e={},n=E(t,["config"]);return n!=null&&_Q(n,e),e}function xQ(t,e){const n={},i=E(t,["force"]);return e!==void 0&&i!=null&&M(e,["_query","force"],i),n}function SQ(t){const e={},n=E(t,["name"]);n!=null&&M(e,["_url","name"],n);const i=E(t,["config"]);return i!=null&&xQ(i,e),e}function EQ(t){const e={},n=E(t,["name"]);return n!=null&&M(e,["_url","name"],n),e}function TQ(t,e){const n={},i=E(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["customMetadata"],a)}const r=E(t,["chunkingConfig"]);return e!==void 0&&r!=null&&M(e,["chunkingConfig"],r),n}function AQ(t){const e={},n=E(t,["name"]);n!=null&&M(e,["name"],n);const i=E(t,["metadata"]);i!=null&&M(e,["metadata"],i);const r=E(t,["done"]);r!=null&&M(e,["done"],r);const a=E(t,["error"]);a!=null&&M(e,["error"],a);const o=E(t,["response"]);return o!=null&&M(e,["response"],wQ(o)),e}function MQ(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&M(e,["_url","file_search_store_name"],n);const i=E(t,["fileName"]);i!=null&&M(e,["fileName"],i);const r=E(t,["config"]);return r!=null&&TQ(r,e),e}function wQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["parent"]);i!=null&&M(e,["parent"],i);const r=E(t,["documentName"]);return r!=null&&M(e,["documentName"],r),e}function CQ(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);return e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),n}function RQ(t){const e={},n=E(t,["config"]);return n!=null&&CQ(n,e),e}function IQ(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["fileSearchStores"],a)}return e}function Lz(t,e){const n={},i=E(t,["mimeType"]);e!==void 0&&i!=null&&M(e,["mimeType"],i);const r=E(t,["displayName"]);e!==void 0&&r!=null&&M(e,["displayName"],r);const a=E(t,["customMetadata"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),M(e,["customMetadata"],s)}const o=E(t,["chunkingConfig"]);return e!==void 0&&o!=null&&M(e,["chunkingConfig"],o),n}function PQ(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&M(e,["_url","file_search_store_name"],n);const i=E(t,["config"]);return i!=null&&Lz(i,e),e}function NQ(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&M(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DQ="Content-Type",OQ="X-Server-Timeout",LQ="User-Agent",$C="x-goog-api-client",UQ="1.37.0",FQ=`google-genai-sdk/${UQ}`,kQ="v1beta1",BQ="v1beta";class zQ{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:kQ,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:BQ,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))r.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>a.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=o}return n&&n.extraBody!==null&&GQ(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await qO(r),new qC(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await qO(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Wl(this,arguments,function*(){var i;const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";const s="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:d}=yield an(r.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(d,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),S=T.status,A=T.code,R=`got status: ${S}. ${JSON.stringify(b)}`;if(A>=400&&A<600)throw new RE({message:R,status:A})}}catch(b){if(b.name==="ApiError")throw b}o+=p;let v=-1,y=0;for(;;){v=-1,y=0;for(const S of u){const A=o.indexOf(S);A!==-1&&(v===-1||A<v)&&(v=A,y=S.length)}if(v===-1)break;const b=o.substring(0,v);o=o.substring(v+y);const T=b.trim();if(T.startsWith(s)){const S=T.substring(s.length).trim();try{const A=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield an(new qC(A))}catch(A){throw new Error(`exception parsing stream chunk ${S}. ${A}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=FQ+" "+this.clientOptions.userAgentExtra;return e[LQ]=n,e[$C]=n,e[DQ]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))i.append(r,a);e.timeout&&e.timeout>0&&i.append(OQ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);r.sizeBytes=String(o.size);const s=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=s;const u={file:r},c=this.getFileName(e),d=It("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,c,u,n==null?void 0:n.httpOptions);return a.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,i){var r;const a=this.clientOptions.uploader,o=await a.stat(n),s=String(o.size),u=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),p={};i!=null&&Lz(i,p);const v=await this.fetchUploadUrl(c,s,u,d,p,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,a,o){var s;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function qO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new RE({message:r,status:n}):new Error(r)}}function GQ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,o){const s=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const c=o[u],d=s[u];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?s[u]=i(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),s[u]=c)}return s}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VQ="mcp_used/unknown";let HQ=!1;function Uz(t){for(const e of t)if(qQ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return HQ}function Fz(t){var e;const n=(e=t[$C])!==null&&e!==void 0?e:"";t[$C]=(n+` ${VQ}`).trimStart()}function qQ(t){return t!==null&&typeof t=="object"&&t instanceof UI}function WQ(t){return Wl(this,arguments,function*(n,i=100){let r,a=0;for(;a<i;){const o=yield an(n.listTools({cursor:r}));for(const s of o.tools)yield yield an(s),a++;if(!o.nextCursor)break;r=o.nextCursor}})}class UI{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new UI(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},o=[];for(const d of this.mcpClients)try{for(var s=!0,u=(n=void 0,jl(WQ(d))),c;c=await u.next(),e=c.done,!e;s=!0){r=c.value,s=!1;const p=r;o.push(p);const v=p.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=d}}catch(p){n={error:p}}finally{try{!s&&!e&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),S$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jQ(t,e,n){const i=new p$;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class XQ{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=KQ(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let c=()=>{};const d=new Promise(I=>{c=I}),p=e.callbacks,v=function(){c({})},y=this.apiClient,b={onopen:v,onmessage:I=>{jQ(y,p.onmessage,I)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(I){}},T=this.webSocketFactory.create(u,$Q(o),b);T.connect(),await d;const R={setup:{model:Xn(this.apiClient,e.model)}};return T.send(JSON.stringify(R)),new YQ(T,this.apiClient)}}class YQ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_J(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=yJ(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($m.PLAY)}pause(){this.sendPlaybackControl($m.PAUSE)}stop(){this.sendPlaybackControl($m.STOP)}resetContext(){this.sendPlaybackControl($m.RESET_CONTEXT)}close(){this.conn.close()}}function $Q(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function KQ(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JQ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZQ(t,e,n){const i=new h$;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const o=SJ(a);Object.assign(i,o)}else Object.assign(i,a);e(i)}class QQ{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new XQ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&Uz(e.config.tools)&&Fz(p);const v=iee(p);if(this.apiClient.isVertexAI())d=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,d);else{const U=this.apiClient.getApiKey();let B="BidiGenerateContent",j="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",j="access_token"),d=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${B}?${j}=${U}`}let y=()=>{};const b=new Promise(U=>{y=U}),T=e.callbacks,S=function(){var U;(U=T==null?void 0:T.onopen)===null||U===void 0||U.call(T),y({})},A=this.apiClient,R={onopen:S,onmessage:U=>{ZQ(A,T.onmessage,U)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(U){}},I=this.webSocketFactory.create(d,nee(v),R);I.connect(),await b;let N=Xn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const U=this.apiClient.getProject(),B=this.apiClient.getLocation();N=`projects/${U}/locations/${B}/`+N}let D={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[NS.AUDIO]}:e.config.responseModalities=[NS.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],F=[];for(const U of O)if(this.isCallableTool(U)){const B=U;F.push(await B.tool())}else F.push(U);F.length>0&&(e.config.tools=F);const z={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=vJ(this.apiClient,z):D=gJ(this.apiClient,z),delete D.config,I.send(JSON.stringify(D)),new tee(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eee={turnComplete:!0};class tee{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=rl(n.turns),e.isVertexAI()||(i=i.map(r=>IE(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(JQ)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},eee),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xJ(e)}:n={realtimeInput:bJ(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function nee(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function iee(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WO=10;function jO(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ig(o)){r=!0;break}if(!r)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ig(t){return"callTool"in t&&typeof t.callTool=="function"}function ree(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>ig(r)))!==null&&i!==void 0?i:!1}function XO(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(ig(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(r)}),n}function YO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aee extends lf{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,o,s;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ree(n)||jO(n.config))return await this.generateContentInternal(u);const c=XO(n);if(c.length>0){const T=c.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,p;const v=rl(u.contents),y=(a=(r=(i=u.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:WO;let b=0;for(;b<y&&(d=await this.generateContentInternal(u),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,S=[];for(const A of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ig(A)){const I=await A.callTool(d.functionCalls);S.push(...I)}b++,p={role:"user",parts:S},u.contents=rl(u.contents),u.contents.push(T),u.contents.push(p),YO(u.config)&&(v.push(T),v.push(p))}return YO(u.config)&&(d.automaticFunctionCallingHistory=v),d},this.generateContentStream=async n=>{var i,r,a,o,s;if(this.maybeMoveToResponseJsonSchem(n),jO(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const u=XO(n);if(u.length>0){const p=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(r=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(s=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(c&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const o=[];if(i!=null&&i.generatedImages)for(const u of i.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((r=u==null?void 0:u.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:i.sdkHttpResponse},s}),this.list=async n=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new fp($c.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,a,o,s,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((u=(s=n.source)===null||s===void 0?void 0:s.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async u=>ig(u)?await u.tool():u)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&Uz(e.config.tools)){const u=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Fz(c),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return s}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const o of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ig(o)){const s=o,u=await s.tool();for(const c of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,s)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:WO;let o=!1,s=0;const u=await this.initAfcToolsMap(e);return(function(c,d,p){return Wl(this,arguments,function*(){for(var v,y,b,T,S,A;s<a;){o&&(s++,o=!1);const D=yield an(c.processParamsMaybeAddMcpUsage(p)),O=yield an(c.generateContentStreamInternal(D)),F=[],z=[];try{for(var R=!0,I=(y=void 0,jl(O)),N;N=yield an(I.next()),v=N.done,!v;R=!0){T=N.value,R=!1;const U=T;if(yield yield an(U),U.candidates&&(!((S=U.candidates[0])===null||S===void 0)&&S.content)){z.push(U.candidates[0].content);for(const B of(A=U.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(s<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(B.functionCall.name)){const j=yield an(d.get(B.functionCall.name).callTool([B.functionCall]));F.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(U){y={error:U}}finally{try{!R&&!v&&(b=I.return)&&(yield an(b.call(I)))}finally{if(y)throw y.error}}if(F.length>0){o=!0;const U=new h0;U.candidates=[{content:{role:"user",parts:F}}],yield yield an(U);const B=[];B.push(...z),B.push({role:"user",parts:F});const j=rl(p.contents).concat(B);p.contents=j}else break}})})(this,u,e)}async generateContentInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=GO(this.apiClient,e);return s=It("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=HO(d),v=new h0;return Object.assign(v,p),v})}else{const c=zO(this.apiClient,e);return s=It("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=VO(d),v=new h0;return Object.assign(v,p),v})}}async generateContentStreamInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=GO(this.apiClient,e);return s=It("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(p){return Wl(this,arguments,function*(){var v,y,b,T;try{for(var S=!0,A=jl(p),R;R=yield an(A.next()),v=R.done,!v;S=!0){T=R.value,S=!1;const I=T,N=HO(yield an(I.json()));N.sdkHttpResponse={headers:I.headers};const D=new h0;Object.assign(D,N),yield yield an(D)}}catch(I){y={error:I}}finally{try{!S&&!v&&(b=A.return)&&(yield an(b.call(A)))}finally{if(y)throw y.error}}})})}else{const c=zO(this.apiClient,e);return s=It("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(p){return Wl(this,arguments,function*(){var v,y,b,T;try{for(var S=!0,A=jl(p),R;R=yield an(A.next()),v=R.done,!v;S=!0){T=R.value,S=!1;const I=T,N=VO(yield an(I.json()));N.sdkHttpResponse={headers:I.headers};const D=new h0;Object.assign(D,N),yield yield an(D)}}catch(I){y={error:I}}finally{try{!S&&!v&&(b=A.return)&&(yield an(b.call(A)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=QJ(this.apiClient,e);return s=It("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=tZ(d),v=new EO;return Object.assign(v,p),v})}else{const c=ZJ(this.apiClient,e);return s=It("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=eZ(d),v=new EO;return Object.assign(v,p),v})}}async generateImagesInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=dZ(this.apiClient,e);return s=It("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=pZ(d),v=new TO;return Object.assign(v,p),v})}else{const c=fZ(this.apiClient,e);return s=It("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=hZ(d),v=new TO;return Object.assign(v,p),v})}}async editImageInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=YJ(this.apiClient,e);return a=It("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>{const c=$J(u),d=new n$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=dQ(this.apiClient,e);return a=It("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>{const c=hQ(u),d=new i$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=XZ(this.apiClient,e);return a=It("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=YZ(u),d=new r$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=eQ(this.apiClient,e);return a=It("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=tQ(u),d=new a$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=PZ(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>YC(d))}else{const c=IZ(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>XC(d))}}async listInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=zZ(this.apiClient,e);return s=It("{models_url}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=VZ(d),v=new AO;return Object.assign(v,p),v})}else{const c=BZ(this.apiClient,e);return s=It("{models_url}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=GZ(d),v=new AO;return Object.assign(v,p),v})}}async update(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=cQ(this.apiClient,e);return s=It("{model}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>YC(d))}else{const c=uQ(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>XC(d))}}async delete(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=qJ(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=jJ(d),v=new MO;return Object.assign(v,p),v})}else{const c=HJ(this.apiClient,e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=WJ(d),v=new MO;return Object.assign(v,p),v})}}async countTokens(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=zJ(this.apiClient,e);return s=It("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=VJ(d),v=new wO;return Object.assign(v,p),v})}else{const c=BJ(this.apiClient,e);return s=It("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=GJ(d),v=new wO;return Object.assign(v,p),v})}}async computeTokens(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=NJ(this.apiClient,e);return a=It("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>{const c=DJ(u),d=new o$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=bZ(this.apiClient,e);return s=It("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=yZ(d),v=new DS;return Object.assign(v,p),v})}else{const c=_Z(this.apiClient,e);return s=It("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>{const p=vZ(d),v=new DS;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oee extends lf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=KY(e);return s=It("{operationName}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}else{const c=$Y(e);return s=It("{operationName}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=VY(e);return a=It("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function see(t){const e={},n=E(t,["data"]);if(n!=null&&M(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function lee(t){const e={},n=E(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>vee(a))),M(e,["parts"],r)}const i=E(t,["role"]);return i!=null&&M(e,["role"],i),e}function uee(t,e,n){const i={},r=E(e,["expireTime"]);n!==void 0&&r!=null&&M(n,["expireTime"],r);const a=E(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&M(n,["newSessionExpireTime"],a);const o=E(e,["uses"]);n!==void 0&&o!=null&&M(n,["uses"],o);const s=E(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&M(n,["bidiGenerateContentSetup"],gee(t,s));const u=E(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&M(n,["fieldMask"],u),i}function cee(t,e){const n={},i=E(e,["config"]);return i!=null&&M(n,["config"],uee(t,i,n)),n}function fee(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&M(e,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&M(e,["mimeType"],i),e}function dee(t){const e={},n=E(t,["id"]);n!=null&&M(e,["id"],n);const i=E(t,["args"]);i!=null&&M(e,["args"],i);const r=E(t,["name"]);if(r!=null&&M(e,["name"],r),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hee(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&M(e,["enableWidget"],n),e}function pee(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&M(e,["timeRangeFilter"],n),e}function mee(t,e){const n={},i=E(t,["generationConfig"]);e!==void 0&&i!=null&&M(e,["setup","generationConfig"],i);const r=E(t,["responseModalities"]);e!==void 0&&r!=null&&M(e,["setup","generationConfig","responseModalities"],r);const a=E(t,["temperature"]);e!==void 0&&a!=null&&M(e,["setup","generationConfig","temperature"],a);const o=E(t,["topP"]);e!==void 0&&o!=null&&M(e,["setup","generationConfig","topP"],o);const s=E(t,["topK"]);e!==void 0&&s!=null&&M(e,["setup","generationConfig","topK"],s);const u=E(t,["maxOutputTokens"]);e!==void 0&&u!=null&&M(e,["setup","generationConfig","maxOutputTokens"],u);const c=E(t,["mediaResolution"]);e!==void 0&&c!=null&&M(e,["setup","generationConfig","mediaResolution"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&M(e,["setup","generationConfig","seed"],d);const p=E(t,["speechConfig"]);e!==void 0&&p!=null&&M(e,["setup","generationConfig","speechConfig"],LI(p));const v=E(t,["thinkingConfig"]);e!==void 0&&v!=null&&M(e,["setup","generationConfig","thinkingConfig"],v);const y=E(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&M(e,["setup","generationConfig","enableAffectiveDialog"],y);const b=E(t,["systemInstruction"]);e!==void 0&&b!=null&&M(e,["setup","systemInstruction"],lee(Wa(b)));const T=E(t,["tools"]);if(e!==void 0&&T!=null){let O=Rg(T);Array.isArray(O)&&(O=O.map(F=>_ee(Cg(F)))),M(e,["setup","tools"],O)}const S=E(t,["sessionResumption"]);e!==void 0&&S!=null&&M(e,["setup","sessionResumption"],yee(S));const A=E(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&M(e,["setup","inputAudioTranscription"],A);const R=E(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&M(e,["setup","outputAudioTranscription"],R);const I=E(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&M(e,["setup","realtimeInputConfig"],I);const N=E(t,["contextWindowCompression"]);e!==void 0&&N!=null&&M(e,["setup","contextWindowCompression"],N);const D=E(t,["proactivity"]);if(e!==void 0&&D!=null&&M(e,["setup","proactivity"],D),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gee(t,e){const n={},i=E(e,["model"]);i!=null&&M(n,["setup","model"],Xn(t,i));const r=E(e,["config"]);return r!=null&&M(n,["config"],mee(r,n)),n}function vee(t){const e={},n=E(t,["mediaResolution"]);n!=null&&M(e,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&M(e,["codeExecutionResult"],i);const r=E(t,["executableCode"]);r!=null&&M(e,["executableCode"],r);const a=E(t,["fileData"]);a!=null&&M(e,["fileData"],fee(a));const o=E(t,["functionCall"]);o!=null&&M(e,["functionCall"],dee(o));const s=E(t,["functionResponse"]);s!=null&&M(e,["functionResponse"],s);const u=E(t,["inlineData"]);u!=null&&M(e,["inlineData"],see(u));const c=E(t,["text"]);c!=null&&M(e,["text"],c);const d=E(t,["thought"]);d!=null&&M(e,["thought"],d);const p=E(t,["thoughtSignature"]);p!=null&&M(e,["thoughtSignature"],p);const v=E(t,["videoMetadata"]);return v!=null&&M(e,["videoMetadata"],v),e}function yee(t){const e={},n=E(t,["handle"]);if(n!=null&&M(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _ee(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&M(e,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&M(e,["fileSearch"],i);const r=E(t,["codeExecution"]);if(r!=null&&M(e,["codeExecution"],r),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=E(t,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),M(e,["functionDeclarations"],d)}const o=E(t,["googleMaps"]);o!=null&&M(e,["googleMaps"],hee(o));const s=E(t,["googleSearch"]);s!=null&&M(e,["googleSearch"],pee(s));const u=E(t,["googleSearchRetrieval"]);u!=null&&M(e,["googleSearchRetrieval"],u);const c=E(t,["urlContext"]);return c!=null&&M(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bee(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function xee(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=bee(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];r.length>0&&(s=r.map(c=>o.includes(c)?`generationConfig.${c}`:c));const u=[];a&&u.push(a),s.length>0&&u.push(...s),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class See extends lf{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=cee(this.apiClient,e);a=It("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const u=xee(s,e.config);return r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eee(t,e){const n={},i=E(t,["force"]);return e!==void 0&&i!=null&&M(e,["_query","force"],i),n}function Tee(t){const e={},n=E(t,["name"]);n!=null&&M(e,["_url","name"],n);const i=E(t,["config"]);return i!=null&&Eee(i,e),e}function Aee(t){const e={},n=E(t,["name"]);return n!=null&&M(e,["_url","name"],n),e}function Mee(t,e){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&M(e,["_query","pageSize"],i);const r=E(t,["pageToken"]);return e!==void 0&&r!=null&&M(e,["_query","pageToken"],r),n}function wee(t){const e={},n=E(t,["parent"]);n!=null&&M(e,["_url","parent"],n);const i=E(t,["config"]);return i!=null&&Mee(i,e),e}function Cee(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&M(e,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&M(e,["nextPageToken"],i);const r=E(t,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),M(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ree extends lf{constructor(e){super(),this.apiClient=e,this.list=async n=>new fp($c.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Aee(e);return a=It("{name}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tee(e);r=It("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wee(e);return a=It("{parent}/documents",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=Cee(u),d=new s$;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iee extends lf{constructor(e,n=new Ree(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new fp($c.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bQ(e);return a=It("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async get(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=EQ(e);return a=It("{name}",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,i;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=SQ(e);r=It("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=RQ(e);return a=It("fileSearchStores",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=IQ(u),d=new l$;return Object.assign(d,c),d})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PQ(e);return a=It("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=NQ(u),d=new u$;return Object.assign(d,c),d})}}async importFile(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=MQ(e);return a=It("{file_search_store_name}:importFile",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const c=AQ(u),d=new II;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kz=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return kz=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const Pee=()=>kz();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const JC=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol extends Error{}class _o extends ol{constructor(e,n,i,r){super(`${_o.makeMessage(e,n,i)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,i){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,i,r){if(!e||!r)return new DE({message:i,cause:JC(n)});const a=n;return e===400?new zz(e,a,i,r):e===401?new Gz(e,a,i,r):e===403?new Vz(e,a,i,r):e===404?new Hz(e,a,i,r):e===409?new qz(e,a,i,r):e===422?new Wz(e,a,i,r):e===429?new jz(e,a,i,r):e>=500?new Xz(e,a,i,r):new _o(e,a,i,r)}}class ZC extends _o{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class DE extends _o{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Bz extends DE{constructor({message:e}={}){super({message:e??"Request timed out."})}}class zz extends _o{}class Gz extends _o{}class Vz extends _o{}class Hz extends _o{}class qz extends _o{}class Wz extends _o{}class jz extends _o{}class Xz extends _o{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nee=/^[a-z][a-z0-9+.-]*:/i,Dee=t=>Nee.test(t);let QC=t=>(QC=Array.isArray,QC(t));const Oee=QC;let Lee=Oee;const $O=Lee;function Uee(t){if(!t)return!0;for(const e in t)return!1;return!0}function Fee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const kee=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ol(`${t} must be an integer`);if(e<0)throw new ol(`${t} must be a positive integer`);return e},Bee=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zee=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xm="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gee(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Vee=()=>{var t,e,n,i,r;const a=Gee();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xm,"X-Stainless-OS":JO(Deno.build.os),"X-Stainless-Arch":KO(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xm,"X-Stainless-OS":JO((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":KO((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const o=Hee();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xm,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Hee(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const r=i[1]||0,a=i[2]||0,o=i[3]||0;return{browser:e,version:`${r}.${a}.${o}`}}}return null}const KO=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",JO=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Jb;const qee=()=>Jb??(Jb=Vee());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wee(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Yz(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function jee(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Yz({start(){},async pull(n){const{done:i,value:r}=await e.next();i?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function $z(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Xee(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),r=i.cancel();i.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yee=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kz=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function eM(t,e,n){return Kz(),new File(t,e??"unknown_file",n)}function $ee(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Kee=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jz=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Jee=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Jz(t),Zee=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Qee(t,e,n){if(Kz(),t=await t,Jee(t))return t instanceof File?t:eM([await t.arrayBuffer()],t.name);if(Zee(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),eM(await eR(r),e,n)}const i=await eR(t);if(e||(e=$ee(t)),!(n!=null&&n.type)){const r=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return eM(i,e,n)}async function eR(t){var e,n,i,r,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(Jz(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(Kee(t))try{for(var s=!0,u=jl(t),c;c=await u.next(),e=c.done,!e;s=!0){r=c.value,s=!1;const d=r;o.push(...await eR(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}else{const d=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${ete(t)}`)}return o}function ete(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zz{constructor(e){this._client=e}}Zz._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qz(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ZO=Object.freeze(Object.create(null)),tte=(t=Qz)=>(function(n,...i){if(n.length===1)return n[0];let r=!1;const a=[],o=n.reduce((d,p,v)=>{var y,b,T;/[?#]/.test(p)&&(r=!0);const S=i[v];let A=(r?encodeURIComponent:t)(""+S);return v!==i.length&&(S==null||typeof S=="object"&&S.toString===((T=Object.getPrototypeOf((b=Object.getPrototypeOf((y=S.hasOwnProperty)!==null&&y!==void 0?y:ZO))!==null&&b!==void 0?b:ZO))===null||T===void 0?void 0:T.toString))&&(A=S+"",a.push({start:d.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(S).slice(8,-1)} is not a valid path parameter`})),d+p+(v===i.length?"":A)},""),s=o.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=u.exec(s))!==null;)a.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(a.sort((d,p)=>d.start-p.start),a.length>0){let d=0;const p=a.reduce((v,y)=>{const b=" ".repeat(y.start-d),T="^".repeat(y.length);return d=y.start+y.length,v+b+T},"");throw new ol(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${o}
${p}`)}return o}),Zb=tte(Qz);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e5 extends Zz{create(e,n){var i;const{api_version:r=this._client.apiVersion}=e,a=LS(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ol("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ol("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Zb`/${r}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Zb`/${r}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Zb`/${r}/interactions/${e}/cancel`,i)}get(e,n={},i){var r;const a=n??{},{api_version:o=this._client.apiVersion}=a,s=LS(a,["api_version"]);return this._client.get(Zb`/${o}/interactions/${e}`,Object.assign(Object.assign({query:s},i),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}e5._key=Object.freeze(["interactions"]);class t5 extends e5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nte(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}let Qb;function FI(t){let e;return(Qb??(e=new globalThis.TextEncoder,Qb=e.encode.bind(e)))(t)}let ex;function QO(t){let e;return(ex??(e=new globalThis.TextDecoder,ex=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OE{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?FI(e):e;this.buffer=nte([this.buffer,n]);const i=[];let r;for(;(r=ite(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){i.push(QO(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,o=QO(this.buffer.subarray(0,a));i.push(o),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}OE.NEWLINE_CHARS=new Set([`
`,"\r"]);OE.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ite(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function rte(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const US={off:0,error:200,warn:300,info:400,debug:500},eL=(t,e,n)=>{if(t){if(Fee(US,t))return t;ho(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(US))}`)}};function k0(){}function tx(t,e,n){return!e||US[t]>US[n]?k0:e[t].bind(e)}const ate={error:k0,warn:k0,info:k0,debug:k0};let tL=new WeakMap;function ho(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return ate;const r=tL.get(n);if(r&&r[0]===i)return r[1];const a={error:tx("error",n,i),warn:tx("warn",n,i),info:tx("info",n,i),debug:tx("debug",n,i)};return tL.set(n,[i,a]),a}const Ph=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Km{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let r=!1;const a=i?ho(i):console;function o(){return Wl(this,arguments,function*(){var u,c,d,p;if(r)throw new ol("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let v=!1;try{try{for(var y=!0,b=jl(ote(e,n)),T;T=yield an(b.next()),u=T.done,!u;y=!0){p=T.value,y=!1;const S=p;if(!v)if(S.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield an(JSON.parse(S.data))}catch(A){throw a.error("Could not parse message into JSON:",S.data),a.error("From chunk:",S.raw),A}}}catch(S){c={error:S}}finally{try{!y&&!u&&(d=b.return)&&(yield an(d.call(b)))}finally{if(c)throw c.error}}v=!0}catch(S){if(KC(S))return yield an(void 0);throw S}finally{v||n.abort()}})}return new Km(o,n,i)}static fromReadableStream(e,n,i){let r=!1;function a(){return Wl(this,arguments,function*(){var u,c,d,p;const v=new OE,y=$z(e);try{for(var b=!0,T=jl(y),S;S=yield an(T.next()),u=S.done,!u;b=!0){p=S.value,b=!1;const A=p;for(const R of v.decode(A))yield yield an(R)}}catch(A){c={error:A}}finally{try{!b&&!u&&(d=T.return)&&(yield an(d.call(T)))}finally{if(c)throw c.error}}for(const A of v.flush())yield yield an(A)})}function o(){return Wl(this,arguments,function*(){var u,c,d,p;if(r)throw new ol("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let v=!1;try{try{for(var y=!0,b=jl(a()),T;T=yield an(b.next()),u=T.done,!u;y=!0){p=T.value,y=!1;const S=p;v||S&&(yield yield an(JSON.parse(S)))}}catch(S){c={error:S}}finally{try{!y&&!u&&(d=b.return)&&(yield an(d.call(b)))}finally{if(c)throw c.error}}v=!0}catch(S){if(KC(S))return yield an(void 0);throw S}finally{v||n.abort()}})}return new Km(o,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),r=a=>({next:()=>{if(a.length===0){const o=i.next();e.push(o),n.push(o)}return a.shift()}});return[new Km(()=>r(e),this.controller,this.client),new Km(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Yz({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:r,done:a}=await n.next();if(a)return i.close();const o=FI(JSON.stringify(r)+`
`);i.enqueue(o)}catch(r){i.error(r)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function ote(t,e){return Wl(this,arguments,function*(){var i,r,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ol("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ol("Attempted to iterate over a response with no body");const s=new lte,u=new OE,c=$z(t.body);try{for(var d=!0,p=jl(ste(c)),v;v=yield an(p.next()),i=v.done,!i;d=!0){o=v.value,d=!1;const y=o;for(const b of u.decode(y)){const T=s.decode(b);T&&(yield yield an(T))}}}catch(y){r={error:y}}finally{try{!d&&!i&&(a=p.return)&&(yield an(a.call(p)))}finally{if(r)throw r.error}}for(const y of u.flush()){const b=s.decode(y);b&&(yield yield an(b))}})}function ste(t){return Wl(this,arguments,function*(){var n,i,r,a;let o=new Uint8Array;try{for(var s=!0,u=jl(t),c;c=yield an(u.next()),n=c.done,!n;s=!0){a=c.value,s=!1;const d=a;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?FI(d):d;let v=new Uint8Array(o.length+p.length);v.set(o),v.set(p,o.length),o=v;let y;for(;(y=rte(o))!==-1;)yield yield an(o.slice(0,y)),o=o.slice(y)}}catch(d){i={error:d}}finally{try{!s&&!n&&(r=u.return)&&(yield an(r.call(u)))}finally{if(i)throw i.error}}o.length>0&&(yield yield an(o))})}class lte{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,r]=ute(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function ute(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cte(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:r,startTime:a}=e,o=await(async()=>{var s;if(e.options.stream)return ho(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Km.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const u=n.headers.get("content-type"),c=(s=u==null?void 0:u.split(";")[0])===null||s===void 0?void 0:s.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return ho(t).debug(`[${i}] response parsed`,Ph({retryOfRequestLogID:r,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kI extends Promise{constructor(e,n,i=cte){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new kI(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n5=Symbol("brand.privateNullableHeaders");function*fte(t){if(!t)return;if(n5 in t){const{values:i,nulls:r}=t;yield*i.entries();for(const a of r)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():$O(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const r=i[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=$O(i[1])?i[1]:[i[1]];let o=!1;for(const s of a)s!==void 0&&(e&&!o&&(o=!0,yield[r,null]),yield[r,s])}}const p0=t=>{const e=new Headers,n=new Set;for(const i of t){const r=new Set;for(const[a,o]of fte(i)){const s=a.toLowerCase();r.has(s)||(e.delete(a),r.add(s)),o===null?(e.delete(a),n.add(s)):(e.append(a,o),n.delete(s))}}return{[n5]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tM=t=>{var e,n,i,r,a,o;if(typeof globalThis.process<"u")return(i=(n=(e=UY)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var i5;class LE{constructor(e){var n,i,r,a,o,s,u,{baseURL:c=tM("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=tM("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,v=LS(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:p},v),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(i=y.timeout)!==null&&i!==void 0?i:LE.DEFAULT_TIMEOUT,this.logger=(r=y.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(o=(a=eL(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:eL(tM("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=y.fetchOptions,this.maxRetries=(s=y.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(u=y.fetch)!==null&&u!==void 0?u:Wee(),this.encoder=Yee,this._options=y,this.apiKey=d,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=p0([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return p0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return p0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ol(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Xm}`}defaultIdempotencyKey(){return`stainless-node-retry-${Pee()}`}makeStatusError(e,n,i,r){return _o.generate(e,n,i,r)}buildURL(e,n,i){const r=!this.baseURLOverridden()&&i||this.baseURL,a=Dee(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Uee(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new kI(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var r,a,o;const s=await e,u=(r=s.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=u),await this.prepareOptions(s);const{req:c,url:d,timeout:p}=await this.buildRequest(s,{retryCount:u-n});await this.prepareRequest(c,{url:d,options:s});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=i===void 0?"":`, retryOf: ${i}`,b=Date.now();if(ho(this).debug(`[${v}] sending request`,Ph({retryOfRequestLogID:i,method:s.method,url:d,options:s,headers:c.headers})),!((a=s.signal)===null||a===void 0)&&a.aborted)throw new ZC;const T=new AbortController,S=await this.fetchWithTimeout(d,c,p,T).catch(JC),A=Date.now();if(S instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((o=s.signal)===null||o===void 0)&&o.aborted)throw new ZC;const N=KC(S)||/timed? ?out/i.test(String(S)+("cause"in S?String(S.cause):""));if(n)return ho(this).info(`[${v}] connection ${N?"timed out":"failed"} - ${I}`),ho(this).debug(`[${v}] connection ${N?"timed out":"failed"} (${I})`,Ph({retryOfRequestLogID:i,url:d,durationMs:A-b,message:S.message})),this.retryRequest(s,n,i??v);throw ho(this).info(`[${v}] connection ${N?"timed out":"failed"} - error; no more retries left`),ho(this).debug(`[${v}] connection ${N?"timed out":"failed"} (error; no more retries left)`,Ph({retryOfRequestLogID:i,url:d,durationMs:A-b,message:S.message})),N?new Bz:new DE({cause:S})}const R=`[${v}${y}] ${c.method} ${d} ${S.ok?"succeeded":"failed"} with status ${S.status} in ${A-b}ms`;if(!S.ok){const I=await this.shouldRetry(S);if(n&&I){const U=`retrying, ${n} attempts remaining`;return await Xee(S.body),ho(this).info(`${R} - ${U}`),ho(this).debug(`[${v}] response error (${U})`,Ph({retryOfRequestLogID:i,url:S.url,status:S.status,headers:S.headers,durationMs:A-b})),this.retryRequest(s,n,i??v,S.headers)}const N=I?"error; no more retries left":"error; not retryable";ho(this).info(`${R} - ${N}`);const D=await S.text().catch(U=>JC(U).message),O=Bee(D),F=O?void 0:D;throw ho(this).debug(`[${v}] response error (${N})`,Ph({retryOfRequestLogID:i,url:S.url,status:S.status,headers:S.headers,message:F,durationMs:Date.now()-b})),this.makeStatusError(S.status,O,F,S.headers)}return ho(this).info(R),ho(this).debug(`[${v}] response start`,Ph({retryOfRequestLogID:i,url:S.url,status:S.status,headers:S.headers,durationMs:A-b})),{response:S,options:s,controller:T,requestLogID:v,retryOfRequestLogID:i,startTime:b}}async fetchWithTimeout(e,n,i,r){const a=n||{},{signal:o,method:s}=a,u=LS(a,["signal","method"]);o&&o.addEventListener("abort",()=>r.abort());const c=setTimeout(()=>r.abort(),i),d=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:r.signal},d?{duplex:"half"}:{}),{method:"GET"}),u);s&&(p.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,p)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,r){var a;let o;const s=r==null?void 0:r.get("retry-after-ms");if(s){const c=parseFloat(s);Number.isNaN(c)||(o=c)}const u=r==null?void 0:r.get("retry-after");if(u&&!o){const c=parseFloat(u);Number.isNaN(c)?o=Date.parse(u)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,c)}return await zee(o),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,o=Math.min(.5*Math.pow(2,a),8),s=1-Math.random()*.25;return o*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,r,a;const o=Object.assign({},e),{method:s,path:u,query:c,defaultBaseURL:d}=o,p=this.buildURL(u,c,d);"timeout"in o&&kee("timeout",o.timeout),o.timeout=(i=o.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:v,body:y}=this.buildBody({options:o}),b=await this.buildHeaders({options:e,method:s,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:r}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let s=p0([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),qee()),this._options.defaultHeaders,i,e.headers,o]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=p0([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jee(e)}:this.encoder({body:e,headers:i})}}LE.DEFAULT_TIMEOUT=6e4;class fa extends LE{constructor(){super(...arguments),this.interactions=new t5(this)}}i5=fa;fa.GeminiNextGenAPIClient=i5;fa.GeminiNextGenAPIClientError=ol;fa.APIError=_o;fa.APIConnectionError=DE;fa.APIConnectionTimeoutError=Bz;fa.APIUserAbortError=ZC;fa.NotFoundError=Hz;fa.ConflictError=qz;fa.RateLimitError=jz;fa.BadRequestError=zz;fa.AuthenticationError=Gz;fa.InternalServerError=Xz;fa.PermissionDeniedError=Vz;fa.UnprocessableEntityError=Wz;fa.toFile=Qee;fa.Interactions=t5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dte(t,e){const n={},i=E(t,["name"]);return i!=null&&M(n,["_url","name"],i),n}function hte(t,e){const n={},i=E(t,["name"]);return i!=null&&M(n,["_url","name"],i),n}function pte(t,e){const n={},i=E(t,["sdkHttpResponse"]);return i!=null&&M(n,["sdkHttpResponse"],i),n}function mte(t,e){const n={},i=E(t,["sdkHttpResponse"]);return i!=null&&M(n,["sdkHttpResponse"],i),n}function gte(t,e,n){const i={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=E(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&M(e,["displayName"],r),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=E(t,["epochCount"]);e!==void 0&&a!=null&&M(e,["tuningTask","hyperparameters","epochCount"],a);const o=E(t,["learningRateMultiplier"]);if(o!=null&&M(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=E(t,["batchSize"]);e!==void 0&&s!=null&&M(e,["tuningTask","hyperparameters","batchSize"],s);const u=E(t,["learningRate"]);if(e!==void 0&&u!=null&&M(e,["tuningTask","hyperparameters","learningRate"],u),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function vte(t,e,n){const i={};let r=E(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=E(t,["validationDataset"]);e!==void 0&&y!=null&&M(e,["supervisedTuningSpec"],nL(y))}else if(r==="PREFERENCE_TUNING"){const y=E(t,["validationDataset"]);e!==void 0&&y!=null&&M(e,["preferenceOptimizationSpec"],nL(y))}const a=E(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&M(e,["tunedModelDisplayName"],a);const o=E(t,["description"]);e!==void 0&&o!=null&&M(e,["description"],o);let s=E(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const y=E(t,["epochCount"]);e!==void 0&&y!=null&&M(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(s==="PREFERENCE_TUNING"){const y=E(t,["epochCount"]);e!==void 0&&y!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let u=E(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=E(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&M(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(u==="PREFERENCE_TUNING"){const y=E(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=E(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=E(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&M(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=E(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&M(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let d=E(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=E(t,["adapterSize"]);e!==void 0&&y!=null&&M(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(d==="PREFERENCE_TUNING"){const y=E(t,["adapterSize"]);e!==void 0&&y!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(E(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(E(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=E(t,["labels"]);e!==void 0&&p!=null&&M(e,["labels"],p);const v=E(t,["beta"]);return e!==void 0&&v!=null&&M(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),i}function yte(t,e){const n={},i=E(t,["baseModel"]);i!=null&&M(n,["baseModel"],i);const r=E(t,["preTunedModel"]);r!=null&&M(n,["preTunedModel"],r);const a=E(t,["trainingDataset"]);a!=null&&Rte(a);const o=E(t,["config"]);return o!=null&&gte(o,n),n}function _te(t,e){const n={},i=E(t,["baseModel"]);i!=null&&M(n,["baseModel"],i);const r=E(t,["preTunedModel"]);r!=null&&M(n,["preTunedModel"],r);const a=E(t,["trainingDataset"]);a!=null&&Ite(a,n,e);const o=E(t,["config"]);return o!=null&&vte(o,n,e),n}function bte(t,e){const n={},i=E(t,["name"]);return i!=null&&M(n,["_url","name"],i),n}function xte(t,e){const n={},i=E(t,["name"]);return i!=null&&M(n,["_url","name"],i),n}function Ste(t,e,n){const i={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const a=E(t,["pageToken"]);e!==void 0&&a!=null&&M(e,["_query","pageToken"],a);const o=E(t,["filter"]);return e!==void 0&&o!=null&&M(e,["_query","filter"],o),i}function Ete(t,e,n){const i={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&M(e,["_query","pageSize"],r);const a=E(t,["pageToken"]);e!==void 0&&a!=null&&M(e,["_query","pageToken"],a);const o=E(t,["filter"]);return e!==void 0&&o!=null&&M(e,["_query","filter"],o),i}function Tte(t,e){const n={},i=E(t,["config"]);return i!=null&&Ste(i,n),n}function Ate(t,e){const n={},i=E(t,["config"]);return i!=null&&Ete(i,n),n}function Mte(t,e){const n={},i=E(t,["sdkHttpResponse"]);i!=null&&M(n,["sdkHttpResponse"],i);const r=E(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const a=E(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>r5(s))),M(n,["tuningJobs"],o)}return n}function wte(t,e){const n={},i=E(t,["sdkHttpResponse"]);i!=null&&M(n,["sdkHttpResponse"],i);const r=E(t,["nextPageToken"]);r!=null&&M(n,["nextPageToken"],r);const a=E(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>tR(s))),M(n,["tuningJobs"],o)}return n}function Cte(t,e){const n={},i=E(t,["name"]);i!=null&&M(n,["model"],i);const r=E(t,["name"]);return r!=null&&M(n,["endpoint"],r),n}function Rte(t,e){const n={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=E(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),M(n,["examples","examples"],r)}return n}function Ite(t,e,n){const i={};let r=E(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&M(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(r==="PREFERENCE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&M(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=E(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&M(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&M(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function r5(t,e){const n={},i=E(t,["sdkHttpResponse"]);i!=null&&M(n,["sdkHttpResponse"],i);const r=E(t,["name"]);r!=null&&M(n,["name"],r);const a=E(t,["state"]);a!=null&&M(n,["state"],bz(a));const o=E(t,["createTime"]);o!=null&&M(n,["createTime"],o);const s=E(t,["tuningTask","startTime"]);s!=null&&M(n,["startTime"],s);const u=E(t,["tuningTask","completeTime"]);u!=null&&M(n,["endTime"],u);const c=E(t,["updateTime"]);c!=null&&M(n,["updateTime"],c);const d=E(t,["description"]);d!=null&&M(n,["description"],d);const p=E(t,["baseModel"]);p!=null&&M(n,["baseModel"],p);const v=E(t,["_self"]);return v!=null&&M(n,["tunedModel"],Cte(v)),n}function tR(t,e){const n={},i=E(t,["sdkHttpResponse"]);i!=null&&M(n,["sdkHttpResponse"],i);const r=E(t,["name"]);r!=null&&M(n,["name"],r);const a=E(t,["state"]);a!=null&&M(n,["state"],bz(a));const o=E(t,["createTime"]);o!=null&&M(n,["createTime"],o);const s=E(t,["startTime"]);s!=null&&M(n,["startTime"],s);const u=E(t,["endTime"]);u!=null&&M(n,["endTime"],u);const c=E(t,["updateTime"]);c!=null&&M(n,["updateTime"],c);const d=E(t,["error"]);d!=null&&M(n,["error"],d);const p=E(t,["description"]);p!=null&&M(n,["description"],p);const v=E(t,["baseModel"]);v!=null&&M(n,["baseModel"],v);const y=E(t,["tunedModel"]);y!=null&&M(n,["tunedModel"],y);const b=E(t,["preTunedModel"]);b!=null&&M(n,["preTunedModel"],b);const T=E(t,["supervisedTuningSpec"]);T!=null&&M(n,["supervisedTuningSpec"],T);const S=E(t,["preferenceOptimizationSpec"]);S!=null&&M(n,["preferenceOptimizationSpec"],S);const A=E(t,["tuningDataStats"]);A!=null&&M(n,["tuningDataStats"],A);const R=E(t,["encryptionSpec"]);R!=null&&M(n,["encryptionSpec"],R);const I=E(t,["partnerModelTuningSpec"]);I!=null&&M(n,["partnerModelTuningSpec"],I);const N=E(t,["customBaseModel"]);N!=null&&M(n,["customBaseModel"],N);const D=E(t,["experiment"]);D!=null&&M(n,["experiment"],D);const O=E(t,["labels"]);O!=null&&M(n,["labels"],O);const F=E(t,["outputUri"]);F!=null&&M(n,["outputUri"],F);const z=E(t,["pipelineJob"]);z!=null&&M(n,["pipelineJob"],z);const U=E(t,["serviceAccount"]);U!=null&&M(n,["serviceAccount"],U);const B=E(t,["tunedModelDisplayName"]);B!=null&&M(n,["tunedModelDisplayName"],B);const j=E(t,["veoTuningSpec"]);return j!=null&&M(n,["veoTuningSpec"],j),n}function Pte(t,e){const n={},i=E(t,["sdkHttpResponse"]);i!=null&&M(n,["sdkHttpResponse"],i);const r=E(t,["name"]);r!=null&&M(n,["name"],r);const a=E(t,["metadata"]);a!=null&&M(n,["metadata"],a);const o=E(t,["done"]);o!=null&&M(n,["done"],o);const s=E(t,["error"]);return s!=null&&M(n,["error"],s),n}function nL(t,e){const n={},i=E(t,["gcsUri"]);i!=null&&M(n,["validationDatasetUri"],i);const r=E(t,["vertexDatasetResource"]);return r!=null&&M(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nte extends lf{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp($c.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),a=await this.tuneMldevInternal(r);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:HC.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=xte(e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>tR(d))}else{const c=bte(e);return s=It("{name}",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>r5(d))}}async listInternal(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=Ate(e);return s=It("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=wte(d),v=new CO;return Object.assign(v,p),v})}else{const c=Tte(e);return s=It("tunedModels",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=Mte(d),v=new CO;return Object.assign(v,p),v})}}async cancel(e){var n,i,r,a;let o,s="",u={};if(this.apiClient.isVertexAI()){const c=hte(e);return s=It("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=mte(d),v=new RO;return Object.assign(v,p),v})}else{const c=dte(e);return s=It("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:d.headers},v})),o.then(d=>{const p=pte(d),v=new RO;return Object.assign(v,p),v})}}async tuneInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const s=_te(e,e);return a=It("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>tR(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yte(e);return a=It("tunedModels",s._url),o=s._query,delete s._url,delete s._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:u.headers},d})),r.then(u=>Pte(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dte{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ote=1024*1024*8,Lte=3,Ute=1e3,Fte=2,FS="x-goog-upload-status";async function kte(t,e,n){var i;const r=await a5(t,e,n),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[FS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Bte(t,e,n){var i;const r=await a5(t,e,n),a=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[FS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=pz(a),s=new PI;return Object.assign(s,o),s}async function a5(t,e,n){var i,r;let a=0,o=0,s=new qC(new Response),u="upload";for(a=t.size;o<a;){const c=Math.min(Ote,a-o),d=t.slice(o,o+c);o+c>=a&&(u+=", finalize");let p=0,v=Ute;for(;p<Lte&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((i=s==null?void 0:s.headers)===null||i===void 0)&&i[FS]));)p++,await Gte(v),v=v*Fte;if(o+=c,((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[FS])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function zte(t){return{size:t.size,type:t.type}}function Gte(t){return new Promise(e=>setTimeout(e,t))}class Vte{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kte(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bte(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zte(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hte{create(e,n,i){return new qte(e,n,i)}}class qte{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iL="x-goog-api-key";class Wte{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(iL)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(iL,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jte="gl-node/";class Xte{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new fa({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=zY(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Wte(this.apiKey);this.apiClient=new zQ({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jte+"web",uploader:new Vte,downloader:new Dte}),this.models=new aee(this.apiClient),this.live=new QQ(this.apiClient,r,new Hte),this.batches=new mK(this.apiClient),this.chats=new KK(this.models,this.apiClient),this.caches=new XK(this.apiClient),this.files=new oJ(this.apiClient),this.operations=new oee(this.apiClient),this.authTokens=new See(this.apiClient),this.tunings=new Nte(this.apiClient),this.fileSearchStores=new Iee(this.apiClient)}}const Pg={es:{badge:"Agente de Inteligencia Cvica de lite",title:"Auditora de Opacidad",subtitle:"Monitorizacin ciudadana del BOE. Detectando lenguaje opaco y desviaciones presupuestarias con IA.",searchPlaceholder:"ID BOE (ej. BOE-A-2024-4161)...",analyzeBtn:"Analizar",dateFilterTitle:"Escaneo por Fechas",scanBtn:"Escaneo",latestRadarTitle:"Radar de Actualidad",latestRadarSubtitle:"ltimos artculos detectados hoy.",historyTitle:"Archivo Histrico",historySubtitle:"Auditoras ya procesadas y almacenadas.",clearHistory:"Limpiar Local",confirmClear:"Ests seguro de que quieres borrar el historial local?",backToHome:"Volver al inicio",goToAudit:"Ir",scanningData:"Minando datos del BOE...",decodingOpacity:"Descodificando Opacidad...",extractingMetadata:(t,e)=>`Extrayendo metadatos entre ${t} y ${e}.`,processingGemini:"Gemini 3 Flash analizando inconsistencias.",errorTitle:"Error Crtico",retryBtn:"Reintentar",criticalLaws:"Leyes Crticas Recientes",missionTitle:"Misin de Vigilancia",missionDesc:"Detecta transferencias a lobbies y lenguaje diseado para ocultar el impacto real.",transparencyLevel:"Transparencia",opacityLevel:"Opacidad",transparencyDesc:"Basado en claridad presupuestaria y ausencia de ambigedad.",transparencyTooltip:"Qu tan comprensible es el texto legal.",opacityTooltip:"Uso de tecnicismos para ocultar detalles.",citizenSummary:"Resumen para el Ciudadano",redFlags:"Banderas Rojas",impactBalance:"Balance de Impacto",winners:"Ganadores",losers:"Perdedores",criticalAnalysis:"Anlisis Crtico Experto",scannedInMemory:"Escaneo en memoria",auditWithGemini:"Auditar",auditedOn:t=>`Auditado el ${t}`,viewOfficial:"Ver BOE Oficial",footerDesc:"Transparencia radical.",cacheNote:"Datos persistidos en Supabase Cloud.",loginTitle:"Acceso Agente",loginSubtitle:"Identifcate con tus credenciales de entorno.",loginBtn:"Validar Identidad",logoutBtn:"Salir",dbSync:"Sincronizado con Supabase",closeBtn:"Cerrar",alreadyAudited:"Ya Auditado",pendingAudit:"Pendiente",downloadJson:"Descargar JSON",importJson:"Importar JSON",exportAllJson:"Exportar Todo (JSON)",copyJson:"Copiar JSON",jsonExportTitle:"Reporte Tcnico (JSON)",exportHistoryJson:"Exportar ndice (JSON)",importSuccess:"JSON importado correctamente",importError:"Error al importar el archivo JSON",passwordPlaceholder:"Contrasea de Agente...",invalidPassword:"Credenciales de acceso no vlidas.",region:"Comunidad Autnoma",typology:"Tipologa",transparencyRating:"Calificacin de Transparencia",transparencyVeryBad:"Muy Mala",transparencyBad:"Mala",transparencyAcceptable:"Aceptable",apiKeyError:"La API Key de Gemini no es vlida o falta. Por favor, revisa tu archivo .env (GEMINI_API_KEY).",home:"Inicio",historyMenu:"Histrico",filters:"Filtros",minTransparency:"Transparencia Mnima",maxTransparency:"Transparencia Mxima",allTags:"Todos los Tags",refreshBtn:"Actualizar",gaStatusActive:"Google Analytics: Activo",gaStatusInactive:"Google Analytics: No Configurado"},en:{badge:"Elite Civic Intelligence Agent",title:"Opacity Auditor",subtitle:"Civic monitoring of the BOE. Detecting opaque language with AI.",searchPlaceholder:"BOE ID (e.g. BOE-A-2024-4161)...",analyzeBtn:"Analyze",dateFilterTitle:"Scan by Dates",scanBtn:"Scan",latestRadarTitle:"Live Radar",latestRadarSubtitle:"Latest articles detected today.",historyTitle:"Historical Archive",historySubtitle:"Already processed and stored audits.",clearHistory:"Clear Local",confirmClear:"Are you sure you want to clear local history?",backToHome:"Back to home",goToAudit:"Go",scanningData:"Mining BOE data...",decodingOpacity:"Decoding Opacity...",extractingMetadata:(t,e)=>`Extracting metadata between ${t} and ${e}.`,processingGemini:"Gemini 3 Flash analyzing inconsistencies.",errorTitle:"Critical Error",retryBtn:"Retry",criticalLaws:"Recent Critical Laws",missionTitle:"Watchdog Mission",missionDesc:"Detects lobby transfers and language designed to hide real impact.",transparencyLevel:"Transparency",opacityLevel:"Opacity",transparencyDesc:"Based on budget clarity and lack of ambiguity.",transparencyTooltip:"How understandable the legal text is.",opacityTooltip:"Use of technicalities to hide details.",citizenSummary:"Citizen Summary",redFlags:"Red Flags",impactBalance:"Impact Balance",winners:"Winners",losers:"Losers",criticalAnalysis:"Expert Critical Analysis",scannedInMemory:"Scan results in memory",auditWithGemini:"Audit",auditedOn:t=>`Audited on ${t}`,viewOfficial:"View Official BOE",footerDesc:"Radical transparency.",cacheNote:"Data persisted in Supabase Cloud.",loginTitle:"Agent Access",loginSubtitle:"Identify yourself with environment credentials.",loginBtn:"Validate Identity",logoutBtn:"Sign Out",dbSync:"Synced with Supabase",closeBtn:"Close",alreadyAudited:"Audited",pendingAudit:"Pending",downloadJson:"Download JSON",importJson:"Import JSON",exportAllJson:"Export All (JSON)",copyJson:"Copy JSON",jsonExportTitle:"Technical Report (JSON)",exportHistoryJson:"Export Index (JSON)",importSuccess:"JSON imported successfully",importError:"Error importing JSON file",passwordPlaceholder:"Agent Password...",invalidPassword:"Invalid access credentials.",region:"Autonomous Community",typology:"Typology",transparencyRating:"Transparency Rating",transparencyVeryBad:"Very Bad",transparencyBad:"Bad",transparencyAcceptable:"Acceptable",apiKeyError:"The Gemini API Key is missing or invalid. Please check your .env file (GEMINI_API_KEY).",home:"Home",historyMenu:"History",filters:"Filters",minTransparency:"Min Transparency",maxTransparency:"Max Transparency",allTags:"All Tags",refreshBtn:"Refresh",gaStatusActive:"Google Analytics: Active",gaStatusInactive:"Google Analytics: Not Configured"}};let rL=!1;const Yte=t=>{const e="AIzaSyDlDLnVUKDGsaTHnpQsjSJRDvuNBk7sKAo";if(e.length<15)throw new Error(Pg[t].apiKeyError);return e},$te=async(t,e="es")=>{var i,r,a;const n=Yte(e);if(rL)throw new Error("API calls are blocked due to a previous error.");try{const o=new Xte({apiKey:n}),s=e==="es"?"La respuesta DEBE estar ntegramente en ESPAOL.":"The response MUST be entirely in ENGLISH.",c=(await o.models.generateContent({model:"gemini-3-flash-preview",contents:`AUDITA ESTA LEY DEL BOE (XML):

      ${t.substring(0,3e4)}

      ${s}
      Proporciona un JSON con los campos especificados.`,config:{systemInstruction:LY+`
IMPORTANTE: Genera tambin un campo 'resumen_tweet' de mximo 250 caracteres que use emojis y hashtags (#BOE #Opacidad #Transparencia) para denunciar o informar sobre los hallazgos.`,responseMimeType:"application/json",responseSchema:{type:ur.OBJECT,properties:{nivel_transparencia:{type:ur.NUMBER,description:"Scale 1-100"},analisis_critico:{type:ur.STRING},resumen_ciudadano:{type:ur.STRING},resumen_tweet:{type:ur.STRING,description:"Short summary for X/Twitter with emojis"},banderas_red_flags:{type:ur.ARRAY,items:{type:ur.STRING}},vencedores_vencidos:{type:ur.OBJECT,properties:{ganadores:{type:ur.ARRAY,items:{type:ur.STRING}},perdedores:{type:ur.ARRAY,items:{type:ur.STRING}}}},comunidad_autonoma:{type:ur.STRING,description:"Estatal, Madrid, Catalua, etc."},tipologia:{type:ur.STRING,description:"Econmica, Poltica, Administrativa, Social, etc."}},required:["nivel_transparencia","analisis_critico","resumen_ciudadano","resumen_tweet","banderas_red_flags","vencedores_vencidos","comunidad_autonoma","tipologia"]}}})).text;if(!c)throw new Error("No response from AI");const d=JSON.parse(c.trim());return{...d,banderas_rojas:d.banderas_red_flags||d.banderas_rojas||[]}}catch(o){throw(i=o.message)!=null&&i.toLowerCase().includes("api key")||(r=o.message)!=null&&r.includes("401")||(a=o.message)!=null&&a.includes("403")?(rL=!0,new Error(`${Pg[e].apiKeyError} Details: ${o.message}`)):o}},o5="BOE-A-2024-1055",s5="2026-01-23T16:22:58.894Z",l5={nivel_transparencia:70,analisis_critico:"El documento oficializa el cese de un puesto clave en la lucha contra el narcotrfico en Canarias. Aunque el procedimiento sigue el Reglamento del Ministerio Fiscal, la utilizacion de 'motivos personales' como justificacin genera un vaco informativo sobre el estado de la Fiscala Antidroga en una zona de alta presin. La firma por sustitucin (P.S.) de la Teniente Fiscal Snchez Conde, en lugar del Fiscal General, sugiere una delegacin administrativa recurrente que diluye la responsabilidad directa en nombramientos de alta sensibilidad.",resumen_ciudadano:"El Fiscal Delegado Antidroga de Las Palmas, Antonio Amor Lpez, deja su cargo voluntariamente por motivos personales. Se trata de un trmite administrativo que pone fin a su etapa liderando la persecucin del narcotrfico en la provincia sin que se especifique quin asumir el mando.",resumen_tweet:" Cese en la Fiscala Antidroga de Las Palmas. Antonio Amor Lpez deja el cargo por 'motivos personales'. Desgaste o falta de recursos en la lucha contra el narco en Canarias?  Un puesto clave que queda pendiente de relevo. #BOE #Opacidad #Transparencia",banderas_red_flags:["Opacidad en los motivos reales de la renuncia en un rea crtica","Firma por sustitucin de la autoridad mxima","Publicacin con un mes de retraso desde la propuesta de cese"],vencedores_vencidos:{ganadores:["Antonio Amor Lpez (por la aceptacin de su renuncia)","Estructuras de narcotrfico (por la interrupcin de la continuidad en el mando)"],perdedores:["Ciudadana de Las Palmas (prdida de un especialista en activo)","Transparencia institucional (por falta de detalle en la motivacin)"]},banderas_rojas:["Opacidad en los motivos reales de la renuncia en un rea crtica","Firma por sustitucin de la autoridad mxima","Publicacin con un mes de retraso desde la propuesta de cese"]},Kte={boe_id:o5,timestamp:s5,report:l5},Jte=Object.freeze(Object.defineProperty({__proto__:null,boe_id:o5,default:Kte,report:l5,timestamp:s5},Symbol.toStringTag,{value:"Module"})),u5="BOE-A-2024-1122",c5="2026-01-23T16:23:29.609Z",f5={nivel_transparencia:45,analisis_critico:"El documento presenta una estructura de acceso al empleo pblico que favorece la consolidacin de personal interno mediante el sistema de 'concurso' en 15 de las 18 plazas, lo cual limita la competencia real para ciudadanos externos. Se observa un retraso administrativo significativo: las bases se publicaron originalmente en diciembre de 2022, pero el anuncio en el BOE no llega hasta enero de 2024, tras una rectificacin de errores en septiembre de 2023. Esta dilatacin en los tiempos y el uso de procesos basados mayoritariamente en mritos y no en exmenes (oposicin) para puestos de base como limpieza y auxiliares de enfermera, suelen actuar como mecanismos de blindaje para el personal interino ya presente en la administracin local.",resumen_ciudadano:"El Organismo Autnomo de la Residencia Zallako Eguzki (Bizkaia) convoca 18 plazas de personal laboral fijo (limpiadoras, auxiliares, enfermera y administracin). La mayora de los puestos se otorgarn por mritos (concurso), lo que beneficia a quienes ya trabajan all. El proceso ha tardado ms de un ao en llegar al BOE, dificultando el acceso a la informacin para personas ajenas al municipio.",resumen_tweet:" Auditora BOE: Zalla ofrece 18 plazas en residencia, pero el 83% son por mritos (concurso), beneficiando a interinos actuales. Retraso de un ao en la publicacin oficial. Igualdad real o proceso a medida?  #BOE #Opacidad #Transparencia",banderas_red_flags:["Predominio del sistema de concurso (mritos) sobre oposicin","Brecha temporal de 13 meses entre bases y publicacin en BOE","Rectificacin de errores tarda","Posible proceso de estabilizacin encubierto bajo 'turno libre'"],vencedores_vencidos:{ganadores:["Personal interino con antigedad acumulada","Administracin local (estabilizacin de plantilla)","Sindicatos con presencia en la mesa de negociacin"],perdedores:["Opositores noveles sin experiencia previa","Jvenes profesionales del sector sanitario","Transparencia en el acceso al empleo pblico"]},banderas_rojas:["Predominio del sistema de concurso (mritos) sobre oposicin","Brecha temporal de 13 meses entre bases y publicacin en BOE","Rectificacin de errores tarda","Posible proceso de estabilizacin encubierto bajo 'turno libre'"]},Zte={boe_id:u5,timestamp:c5,report:f5},Qte=Object.freeze(Object.defineProperty({__proto__:null,boe_id:u5,default:Zte,report:f5,timestamp:c5},Symbol.toStringTag,{value:"Module"})),d5="BOE-A-2024-2233",h5="2026-01-23T16:23:58.897Z",p5={nivel_transparencia:45,analisis_critico:"El proceso presenta una opacidad procedimental tpica de las administraciones locales. Se convoca una plaza de Auxiliar mediante el sistema de 'concurso' en turno libre, lo que prescinde de examen y se basa nicamente en mritos. Existe un desfase temporal alarmante: las bases se publicaron en el Boletn Provincial en diciembre de 2022, pero el extracto no llega al BOE hasta febrero de 2024. Este retraso de 14 meses dificulta el acceso de candidatos externos y favorece a quienes ya conocen la convocatoria desde el mbito local.",resumen_ciudadano:"El Ayuntamiento de Altafulla convoca una plaza de Auxiliar para la Oficina de Atencin al Ciudadano. El mtodo de seleccin es por concurso (mritos), no por examen. El plazo para apuntarse es de 20 das tras esta publicacin.",resumen_tweet:" Oportunidad o plaza con nombre? Altafulla convoca 1 plaza de Auxiliar va concurso (sin examen). El aviso llega al #BOE con 14 meses de retraso respecto a las bases locales. Ojo a los procesos a dedo! #Opacidad #Transparencia #EmpleoPublico",banderas_red_flags:["Sistema de concurso puro para plaza de auxiliar (sin examen)","Retraso de 14 meses en la publicacin nacional","Alta probabilidad de proceso de estabilizacin encubierto para personal interino"],vencedores_vencidos:{ganadores:["Personal interino que ya ocupa el puesto","Candidatos locales con mritos especficos acumulados"],perdedores:["Opositores noveles sin experiencia previa","Ciudadanos externos al municipio","Meritocracia basada en aptitudes examinables"]},banderas_rojas:["Sistema de concurso puro para plaza de auxiliar (sin examen)","Retraso de 14 meses en la publicacin nacional","Alta probabilidad de proceso de estabilizacin encubierto para personal interino"]},ene={boe_id:d5,timestamp:h5,report:p5},tne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:d5,default:ene,report:p5,timestamp:h5},Symbol.toStringTag,{value:"Module"})),m5="BOE-A-2024-3344",g5="2026-01-23T16:24:32.129Z",v5={nivel_transparencia:45,analisis_critico:"El uso del Real Decreto-ley 6/2022 para acelerar este proyecto bajo la excusa de la 'guerra de Ucrania' es una bandera roja de libro. Esta va de urgencia reduce los plazos de escrutinio pblico para un proyecto que afecta gravemente a especies en peligro de extincin (Avutarda, Sisn). Existe una contradiccin flagrante entre los informes tcnicos de la Direccin General del Medio Natural de Murcia, que advierten de impactos inasumibles, y la insistencia del promotor en minimizar el valor ecolgico de la zona tachndolo de simple 'viedo'. La fragmentacin del proyecto en tres plantas colindantes (Almendros I, II y Reventones) sugiere una tctica para diluir el impacto ambiental acumulado.",resumen_ciudadano:"Una empresa privada intenta construir una planta solar de 32 MW en Jumilla (Murcia) sobre hbitats crticos de aves protegidas. Aunque los organismos de medio ambiente advierten que el dao a la biodiversidad es irreparable y que las medidas compensatorias del promotor son imprecisas, el proyecto se tramita por una va de urgencia diseada para crisis energticas. La comunidad local y expertos denuncian que se est priorizando el beneficio empresarial sobre la proteccin legal de especies en peligro.",resumen_tweet:" Ojo al #BOE! Se usa la 'va de urgencia' por la guerra de Ucrania para tramitar una planta solar en Murcia que amenaza a la Avutarda y el Sisn . El promotor ignora informes tcnicos negativos. Energa limpia o negocio opaco? #Transparencia #Jumilla",banderas_red_flags:["Tramitacin mediante RDL 6/2022 (va de urgencia por guerra)","Contradiccin grave entre promotor e informes tcnicos ambientales","Posible fragmentacin de proyectos (Almendros I, II y Reventones)","Falta de respuesta a requerimientos de subsanacin de consultas","Ubicacin en zona de 'Lek' (reproduccin) de especies en peligro"],vencedores_vencidos:{ganadores:["Energas Renovables de la Regin de Murcia SA (Promotor)","Sector de infraestructuras energticas industriales"],perdedores:["Biodiversidad local (Avutarda, Sisn, Ganga)","Asociacin STIPA y Ecologistas en Accin","Ciudadanos de Jumilla (prdida de suelo agrcola y valor paisajstico)"]},banderas_rojas:["Tramitacin mediante RDL 6/2022 (va de urgencia por guerra)","Contradiccin grave entre promotor e informes tcnicos ambientales","Posible fragmentacin de proyectos (Almendros I, II y Reventones)","Falta de respuesta a requerimientos de subsanacin de consultas","Ubicacin en zona de 'Lek' (reproduccin) de especies en peligro"]},nne={boe_id:m5,timestamp:g5,report:v5},ine=Object.freeze(Object.defineProperty({__proto__:null,boe_id:m5,default:nne,report:v5,timestamp:g5},Symbol.toStringTag,{value:"Module"})),y5="BOE-A-2024-4161",_5="2026-01-23T16:19:55.741Z",b5={nivel_transparencia:85,analisis_critico:"El documento detalla un proceso de nombramiento administrativo estndar para una seccin territorial especfica. Aunque cumple con la legalidad vigente (Estatuto Orgnico del Ministerio Fiscal), destaca que solo hubo una solicitante para el cargo. Esto sugiere una falta de competencia o de atractivo en las plazas de secciones territoriales rurales como Monforte de Lemos. No se detectan gastos fantasma directos, pero la opacidad reside en la ponderacin de mritos, que se despacha con frmulas genricas sin detallar la trayectoria especfica que justifica la idoneidad frente a la ausencia de otros candidatos.",resumen_ciudadano:"Elena Fernndez Landeiro ha sido nombrada Fiscal Decana de Monforte de Lemos (Lugo). El puesto qued vacante por concurso y ella fue la nica persona de la plantilla de fiscales que solicit la plaza. El Fiscal General del Estado ha ratificado el nombramiento basndose en su experiencia previa cubriendo ausencias en dicho cargo.",resumen_tweet:" Elena Fernndez Landeiro, nueva Fiscal Decana en Monforte de Lemos. Un proceso con candidata nica: falta de competencia o desinters por la justicia rural? Transparencia formal, pero sin pluralidad de opciones. #BOE #Opacidad #Transparencia",banderas_red_flags:["Candidatura nica (falta de concurrencia competitiva)","Motivacin basada en frmulas genricas de idoneidad","Posible endogamia administrativa en secciones territoriales pequeas"],vencedores_vencidos:{ganadores:["Elena Fernndez Landeiro (ascenso profesional)","Ministerio Fiscal (cobertura de vacante en zona perifrica)"],perdedores:["Sociedad civil (por la ausencia de alternativas en la seleccin de cargos pblicos)","Carrera Fiscal (posible falta de incentivos para la movilidad en zonas rurales)"]},banderas_rojas:["Candidatura nica (falta de concurrencia competitiva)","Motivacin basada en frmulas genricas de idoneidad","Posible endogamia administrativa en secciones territoriales pequeas"]},rne={boe_id:y5,timestamp:_5,report:b5},ane=Object.freeze(Object.defineProperty({__proto__:null,boe_id:y5,default:rne,report:b5,timestamp:_5},Symbol.toStringTag,{value:"Module"})),x5="BOE-A-2024-4161",S5="2026-01-27T16:20:14.618Z",E5="Decreto de 20 de febrero de 2024, del Fiscal General del Estado, por el que se nombra Fiscal Decana de la Seccin Territorial de Monforte de Lemos a doa Elena Fernndez Landeiro.",T5={nivel_transparencia:85,analisis_critico:"Se trata de un nombramiento discrecional tcnico dentro de la estructura de la Fiscala. Aunque se ha seguido el procedimiento legal del Estatuto Orgnico, destaca que solo hubo una nica solicitante para el puesto de Fiscal Decana en Monforte de Lemos. Esta falta de concurrencia competitiva es habitual en plazas perifricas, pero limita la pluralidad de opciones para la administracin de justicia local. No se aprecian gastos fantasma, pero s una consolidacin de funciones en una candidata que ya actuaba como sustituta.",resumen_ciudadano:"Elena Fernndez Landeiro ha sido nombrada Fiscal Decana de Monforte de Lemos. El proceso fue directo ya que fue la nica persona de la plantilla de Lugo que solicit la plaza tras quedar vacante. Su nombramiento cuenta con el aval del Fiscal General del Estado y del Consejo Fiscal.",resumen_tweet:" Nueva Fiscal Decana en Monforte de Lemos. Elena Fernndez Landeiro asume el cargo tras ser la nica solicitante. Aunque el proceso es legal, la falta de competencia interna en plazas locales es evidente. #BOE #Opacidad #Transparencia ",banderas_red_flags:["Candidatura nica (falta de concurrencia competitiva)","Endogamia funcional (la candidata ya ejerca funciones de facto)"],vencedores_vencidos:{ganadores:["Elena Fernndez Landeiro (ascenso profesional)","Ministerio Fiscal (cobertura de vacante)"],perdedores:["Ciudadana (falta de debate sobre perfiles alternativos)","Cuerpo de Fiscales (baja movilidad/inters en zonas rurales)"]},comunidad_autonoma:"Galicia",tipologia:"Administrativa",banderas_rojas:["Candidatura nica (falta de concurrencia competitiva)","Endogamia funcional (la candidata ya ejerca funciones de facto)"]},one={boe_id:x5,timestamp:S5,title:E5,report:T5},sne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:x5,default:one,report:T5,timestamp:S5,title:E5},Symbol.toStringTag,{value:"Module"})),A5="BOE-A-2024-4161",M5="2026-01-27T16:20:16.065Z",w5="Decreto de 20 de febrero de 2024, del Fiscal General del Estado, por el que se nombra Fiscal Decana de la Seccin Territorial de Monforte de Lemos a doa Elena Fernndez Landeiro.",C5={nivel_transparencia:85,analisis_critico:"El decreto cumple con la legalidad formal del Estatuto Orgnico del Ministerio Fiscal, pero revela una preocupante falta de competitividad interna al presentarse una nica candidata para el puesto de Fiscal Decana. Aunque se justifica por su experiencia previa sustituyendo a la anterior decana, la ausencia de otros aspirantes puede interpretarse como un sntoma de procesos de promocin interna con poca atraccin o ya predeterminados por la jerarqua. El lenguaje es puramente administrativo y asptico, ocultando la dinmica de poder real dentro de la Fiscala Provincial de Lugo.",resumen_ciudadano:"Se ha nombrado a Elena Fernndez Landeiro como nueva Fiscal Decana en Monforte de Lemos. El proceso fue directo ya que fue la nica persona que solicit el puesto. Este movimiento asegura la continuidad en la gestin de la fiscala local, aunque no hubo debate ni comparacin de mritos con otros posibles candidatos al no existir ms solicitudes.",resumen_tweet:" Nuevo nombramiento en la Fiscala: Elena Fernndez Landeiro es la nueva Fiscal Decana en Monforte de Lemos. Lo curioso? Fue la NICA candidata que se present. Falta de incentivos o procesos teledirigidos?  #BOE #Opacidad #Transparencia #Justicia",banderas_red_flags:["Candidatura nica: Falta de concurrencia competitiva","Endogamia funcional: La candidata ya ejerca funciones en periodos de ausencia","Ausencia de baremacin comparativa de mritos"],vencedores_vencidos:{ganadores:["Elena Fernndez Landeiro (ascenso jerrquico)","Ministerio Fiscal (estabilidad administrativa)"],perdedores:["Pluralidad de la carrera fiscal (nula competencia)","Ciudadana (por falta de contraste de perfiles para cargos pblicos)"]},comunidad_autonoma:"Galicia",tipologia:"Administrativa",banderas_rojas:["Candidatura nica: Falta de concurrencia competitiva","Endogamia funcional: La candidata ya ejerca funciones en periodos de ausencia","Ausencia de baremacin comparativa de mritos"]},lne={boe_id:A5,timestamp:M5,title:w5,report:C5},une=Object.freeze(Object.defineProperty({__proto__:null,boe_id:A5,default:lne,report:C5,timestamp:M5,title:w5},Symbol.toStringTag,{value:"Module"})),R5="BOE-A-2024-5012",I5="2026-01-23T16:18:37.394Z",P5={nivel_transparencia:65,analisis_critico:"La resolucin utiliza el mecanismo de 'estabilizacin' mediante sistema de concurso (solo mritos, sin examen), lo cual es una herramienta legal para reducir la temporalidad pero que, en la prctica, suele estar diseada para que las plazas sean obtenidas por quienes ya las ocupan de forma interina. Aunque cumple la legalidad, este sistema levanta sospechas sobre la igualdad de oportunidades real para ciudadanos externos sin experiencia previa en esa administracin especfica. No se detallan los baremos de puntuacin en este extracto, remitiendo a boletines provinciales, lo que fragmenta la informacin y dificulta la fiscalizacin ciudadana inmediata.",resumen_ciudadano:"El Ayuntamiento de Los Llanos de Aridane convoca tres plazas (Direccin de Escuela Infantil, Trabajo Social y Agente de Desarrollo Local) bajo un proceso de estabilizacin. Esto significa que se busca convertir empleos temporales en fijos, utilizando principalmente la experiencia previa como criterio de seleccin.",resumen_tweet:" Los Llanos de Aridane convoca plazas de Director/a, Trabajador/a Social y AEDL va 'estabilizacin'. Al ser por concurso (mritos), se facilita que los actuales interinos se queden la plaza. Puerta cerrada al talento externo?  #BOE #Opacidad #Transparencia",banderas_red_flags:["Sistema de seleccin por concurso-mritos sin fase de oposicin/examen","Falta de desglose presupuestario asociado a las nuevas plazas fijas","Remisin a mltiples boletines (BOP, BOC, BOE) para dificultar el seguimiento","Uso del proceso de estabilizacin como barrera de entrada para nuevos aspirantes"],vencedores_vencidos:{ganadores:["Personal interino actual (consolidacin de puesto)","Administracin Local (cumplimiento de cuotas de reduccin de temporalidad)"],perdedores:["Opositores libres sin experiencia previa en la administracin pblica","Jvenes graduados que compiten contra dcadas de antigedad acumulada"]},banderas_rojas:["Sistema de seleccin por concurso-mritos sin fase de oposicin/examen","Falta de desglose presupuestario asociado a las nuevas plazas fijas","Remisin a mltiples boletines (BOP, BOC, BOE) para dificultar el seguimiento","Uso del proceso de estabilizacin como barrera de entrada para nuevos aspirantes"]},cne={boe_id:R5,timestamp:I5,report:P5},fne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:R5,default:cne,report:P5,timestamp:I5},Symbol.toStringTag,{value:"Module"})),N5="BOE-A-2024-6123",D5="2026-01-23T16:19:32.777Z",O5={nivel_transparencia:85,analisis_critico:"El documento es una resolucin administrativa estndar para el nombramiento de personal estatutario fijo. Aunque el proceso es transparente en cuanto a la identificacin de la persona y el destino (Melilla), la opacidad reside en la gestin temporal: el proceso selectivo se inici en diciembre de 2022 y se resuelve en marzo de 2024. Esta demora de 15 meses para cubrir una plaza de anestesiologa en una zona de difcil cobertura como Melilla refleja una ineficiencia burocrtica que afecta directamente a la calidad asistencial.",resumen_ciudadano:"Se oficializa el nombramiento de una especialista en Anestesiologa y Reanimacin para el Hospital Comarcal de Melilla. La plaza es de carcter fijo bajo el Instituto Nacional de Gestin Sanitaria (INGESA). Esto supone un refuerzo necesario para la sanidad en las ciudades autnomas, aunque el proceso administrativo ha tardado ms de un ao en materializarse desde la convocatoria original.",resumen_tweet:" Melilla suma una anestesista tras 15 meses de espera burocrtica. El #BOE publica el nombramiento del INGESA. Refuerzo vital para la sanidad perifrica, pero por qu procesos tan lentos para plazas crticas?  #Transparencia #Sanidad #Melilla #Opacidad",banderas_red_flags:["Lentitud administrativa extrema (15 meses desde la convocatoria hasta el nombramiento)","Gestin centralizada desde Madrid para necesidades locales crticas en Melilla","Falta de desglose sobre el coste presupuestario total de la plaza"],vencedores_vencidos:{ganadores:["Dbora Beatriz Cuello Caruso (obtiene plaza fija)","Sistema sanitario de Melilla (recupera un especialista)"],perdedores:["Pacientes en lista de espera (perjudicados por la demora administrativa de ms de un ao)","Eficiencia del gasto pblico en procesos de seleccin lentos"]},banderas_rojas:["Lentitud administrativa extrema (15 meses desde la convocatoria hasta el nombramiento)","Gestin centralizada desde Madrid para necesidades locales crticas en Melilla","Falta de desglose sobre el coste presupuestario total de la plaza"]},dne={boe_id:N5,timestamp:D5,report:O5},hne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:N5,default:dne,report:O5,timestamp:D5},Symbol.toStringTag,{value:"Module"})),L5="BOE-A-2024-7788",U5="2026-01-23T16:20:25.652Z",F5={nivel_transparencia:62,analisis_critico:"El documento es una resolucion administrativa estandar que aprueba la Carta de Servicios de la Subdelegacion del Gobierno en Pontevedra. Aunque se ampara en el Real Decreto 951/2005 para la mejora de la calidad, el texto analizado es puramente formal y omite el contenido real de los compromisos adquiridos, remitiendo al ciudadano a portales externos. Existe una delegacion de competencias (P.D.) que, si bien es legal, diluye la responsabilidad politica directa del titular del Ministerio. No se especifican partidas presupuestarias concretas para la implementacion o mantenimiento de estos compromisos de calidad, lo que podria ocultar costes operativos bajo la etiqueta de gestion ordinaria.",resumen_ciudadano:"La Subdelegacion del Gobierno en Pontevedra ha renovado su guia de servicios para los proximos tres aos. Se supone que esto sirve para que sepas a que tienes derecho y como deben atenderte, pero el anuncio en el BOE no incluye la guia en si, solo dice que ya esta aprobada y que puedes buscarla en internet. Es un tramite obligatorio que no garantiza por si mismo una mejor atencion al ciudadano.",resumen_tweet:" Papel mojado o mejora real? El #BOE publica la Carta de Servicios de Pontevedra 2024-2027, pero oculta el contenido real remitiendo a webs externas. Burocracia que se autoproclama 'de calidad'.  #Opacidad #Transparencia #Pontevedra",banderas_red_flags:["Omision del contenido sustantivo en el cuerpo del BOE","Uso de delegacion de firma (P.D.) para evitar responsabilidad directa","Falta de desglose economico para la mejora de servicios","Vigencia temporal ya iniciada respecto a la fecha de publicacion"],vencedores_vencidos:{ganadores:["Altos cargos que cumplen hitos administrativos","Estructura burocratica del Ministerio de Politica Territorial"],perdedores:["Ciudadanos que requieren transparencia directa sin intermediarios digitales","Usuarios afectados por la brecha digital al remitirse la informacion a portales web"]},banderas_rojas:["Omision del contenido sustantivo en el cuerpo del BOE","Uso de delegacion de firma (P.D.) para evitar responsabilidad directa","Falta de desglose economico para la mejora de servicios","Vigencia temporal ya iniciada respecto a la fecha de publicacion"]},pne={boe_id:L5,timestamp:U5,report:F5},mne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:L5,default:pne,report:F5,timestamp:U5},Symbol.toStringTag,{value:"Module"})),k5="BOE-A-2024-9122",B5="2026-01-23T16:21:59.420Z",z5={nivel_transparencia:42,analisis_critico:"La resolucin del Ayuntamiento de Albalat dels Sorells evidencia una gestin administrativa fragmentada y potencialmente excluyente. El uso del sistema de 'concurso' (en lugar de oposicin libre) para proveer puestos de trabajo, sumado a una rectificacin de bases publicada en el BOP de Valencia que obliga a reabrir plazos en el BOE, genera una 'burocracia de laberinto'. Este desfase temporal entre las bases originales (diciembre 2022) y la rectificacin (abril 2024) sugiere una falta de planificacin o una adaptacin 'ad hoc' de los requisitos, lo que dificulta el acceso en igualdad de condiciones para quienes no sigan diariamente mltiples boletines oficiales.",resumen_ciudadano:"Se han modificado las reglas y reabierto el plazo para optar a puestos de trabajo en el Ayuntamiento de Albalat dels Sorells debido a una rectificacin de las bases originales. El proceso se realiza por concurso, lo que valora mritos previos sobre exmenes.",resumen_tweet:" Ojo a la burocracia! Albalat dels Sorells rectifica bases de empleo de 2022 en pleno 2024. Un laberinto de boletines (BOP/BOE) que dificulta el acceso real al empleo pblico. Transparencia o parcheo?  #BOE #Opacidad #Transparencia #EmpleoPblico",banderas_red_flags:["Dilacin excesiva: bases de 2022 rectificadas en 2024","Fragmentacin informativa entre BOP Valencia y BOE","Opacidad en la naturaleza de la 'rectificacin' tcnica","Uso de sistema de concurso que favorece la discrecionalidad tcnica"],vencedores_vencidos:{ganadores:["Candidatos internos o interinos que conocen la operativa local","Gestores administrativos que dilatan procesos de seleccin"],perdedores:["Opositores externos sin red de vigilancia de boletines provinciales","Ciudadana que costea la ineficiencia de un proceso que tarda 2 aos en definirse"]},banderas_rojas:["Dilacin excesiva: bases de 2022 rectificadas en 2024","Fragmentacin informativa entre BOP Valencia y BOE","Opacidad en la naturaleza de la 'rectificacin' tcnica","Uso de sistema de concurso que favorece la discrecionalidad tcnica"]},gne={boe_id:k5,timestamp:B5,report:z5},vne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:k5,default:gne,report:z5,timestamp:B5},Symbol.toStringTag,{value:"Module"})),G5="BOE-A-2024-9122",V5="2026-01-23T16:22:26.373Z",H5={nivel_transparencia:42,analisis_critico:"La resolucin del Ayuntamiento de Albalat dels Sorells evidencia una gestin administrativa fragmentada y potencialmente excluyente. El uso del sistema de 'concurso' (en lugar de oposicin libre) para proveer puestos de trabajo, sumado a una rectificacin de bases publicada en el BOP de Valencia que obliga a reabrir plazos en el BOE, genera una 'burocracia de laberinto'. Este desfase temporal entre las bases originales (diciembre 2022) y la rectificacin (abril 2024) sugiere una falta de planificacin o una adaptacin 'ad hoc' de los requisitos, lo que dificulta el acceso en igualdad de condiciones para quienes no sigan diariamente mltiples boletines oficiales.",resumen_ciudadano:"Se han modificado las reglas y reabierto el plazo para optar a puestos de trabajo en el Ayuntamiento de Albalat dels Sorells debido a una rectificacin de las bases originales. El proceso se realiza por concurso, lo que valora mritos previos sobre exmenes.",resumen_tweet:" Ojo a la burocracia! Albalat dels Sorells rectifica bases de empleo de 2022 en pleno 2024. Un laberinto de boletines (BOP/BOE) que dificulta el acceso real al empleo pblico. Transparencia o parcheo?  #BOE #Opacidad #Transparencia #EmpleoPblico",banderas_red_flags:["Dilacin excesiva: bases de 2022 rectificadas en 2024","Fragmentacin informativa entre BOP Valencia y BOE","Opacidad en la naturaleza de la 'rectificacin' tcnica","Uso de sistema de concurso que favorece la discrecionalidad tcnica"],vencedores_vencidos:{ganadores:["Candidatos internos o interinos que conocen la operativa local","Gestores administrativos que dilatan procesos de seleccin"],perdedores:["Opositores externos sin red de vigilancia de boletines provinciales","Ciudadana que costea la ineficiencia de un proceso que tarda 2 aos en definirse"]},banderas_rojas:["Dilacin excesiva: bases de 2022 rectificadas en 2024","Fragmentacin informativa entre BOP Valencia y BOE","Opacidad en la naturaleza de la 'rectificacin' tcnica","Uso de sistema de concurso que favorece la discrecionalidad tcnica"]},yne={boe_id:G5,timestamp:V5,report:H5},_ne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:G5,default:yne,report:H5,timestamp:V5},Symbol.toStringTag,{value:"Module"})),q5="BOE-A-2026-1760",W5="2026-01-26T13:01:32.749Z",j5="Real Decreto 51/2026, de 23 de enero, por el que se modifica el Real Decreto 676/2025, de 28 de julio, por el que se aprueba la estructura de la Presidencia del Gobierno.",X5={nivel_transparencia:4,analisis_critico:"Este Real Decreto opera una reestructuracin interna de la Presidencia del Gobierno bajo una retrica de 'necesidades organizativas' no cuantificadas. Destaca la creacin del 'Departamento de Estudios Estratgicos', un nombre ambiguo que permite el encaje de funciones de asesora poltica de alto nivel sin una fiscalizacin clara de sus objetivos especficos. Asimismo, la disposicin transitoria segunda permite que el personal siga cobrando de partidas previas hasta que se adapte la nueva estructura, lo que genera un 'periodo de sombra' presupuestaria donde el coste real de la nueva organizacin queda diluido y oculto al escrutinio pblico inmediato.",resumen_ciudadano:"El Gobierno ha modificado su estructura interna en Moncloa, creando un nuevo departamento de estrategia poltica y reorganizando sus reas de comunicacin digital y control territorial. Aunque se eliminan algunos rganos antiguos, se crean otros nuevos con rango de Direccin General, lo que suele implicar un mantenimiento o aumento del gasto en altos cargos y personal eventual de confianza, sin que el texto detalle el coste econmico para el ciudadano.",resumen_tweet:" Nueva reforma en la estructura de Moncloa: nace el 'Dpto. de Estudios Estratgicos' y se refuerza el rea Digital. Ms eficacia o ms control? Sin rastro del coste real de estos cambios.  #BOE #Opacidad #Transparencia #ControlPoltico ",banderas_red_flags:["Creacin de rganos con nombres vagos y ambivalentes","Ausencia de memoria econmica o detalle de impacto presupuestario","Uso de disposiciones transitorias para mantener retribuciones con crditos antiguos","Reorganizacin de la Secretara de Estado de Comunicacin hacia un mayor control digital"],vencedores_vencidos:{ganadores:["Altos cargos de libre designacin","Asesores de estrategia poltica","Estructura tcnica de comunicacin digital del Gobierno"],perdedores:["Contribuyentes (por opacidad en el gasto)","Transparencia institucional (por terminologa ambigua)","Control legislativo sobre la administracin"]},comunidad_autonoma:"Estatal",tipologia:"Reforma Administrativa / Estructura de Gobierno",banderas_rojas:["Creacin de rganos con nombres vagos y ambivalentes","Ausencia de memoria econmica o detalle de impacto presupuestario","Uso de disposiciones transitorias para mantener retribuciones con crditos antiguos","Reorganizacin de la Secretara de Estado de Comunicacin hacia un mayor control digital"]},bne={boe_id:q5,timestamp:W5,title:j5,report:X5},xne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:q5,default:bne,report:X5,timestamp:W5,title:j5},Symbol.toStringTag,{value:"Module"})),Y5="BOE-A-2026-1844",$5="2026-01-26T14:59:24.582Z",K5="Resolucin de 20 de enero de 2026, de la Subsecretara, por la que se publica el Convenio de asistencia jurdica entre la Abogaca General del Estado y la Autoridad Portuaria de Avils.",J5={nivel_transparencia:72,analisis_critico:"El convenio formaliza una transferencia de 22.000 euros anuales entre entes del sector pblico por servicios de defensa jurdica. El punto ms crtico reside en la Clusula Cuarta, que permite que el Abogado del Estado designado como coordinador perciba 'indemnizaciones por razn del servicio' equivalentes a las de un miembro del Consejo de Administracin del Puerto. Esto constituye un mecanismo legal para el incremento de ingresos de funcionarios pblicos mediante su insercin en rganos de direccin de entidades portuarias, diluyendo la separacin entre el rgano consultivo y el rgano ejecutivo.",resumen_ciudadano:"El Puerto de Avils pagar a la Abogaca del Estado una cuota fija anual para su defensa legal. El acuerdo tambin facilita que los abogados estatales cobren dietas adicionales por asistir a las reuniones del Consejo de Administracin del puerto, sumando costes a la gestin portuaria bajo una apariencia de eficiencia administrativa.",resumen_tweet:" El Puerto de Avils pagar 22.000/ao a la Abogaca del Estado por defensa legal.  Ojo: se permite el cobro de dietas extra por sentarse en el Consejo de Administracin. Eficiencia o sobresueldos encubiertos?  #BOE #Opacidad #Transparencia",banderas_red_flags:["Doble remuneracin: dietas de consejo adicionales al sueldo pblico","Tarifa plana de 22.000 sin desglose de carga de trabajo","Posible conflicto de inters entre defensa tcnica y toma de decisiones en el consejo"],vencedores_vencidos:{ganadores:["Abogados del Estado (acceso a dietas de consejo)","Abogaca General del Estado (captacin de fondos de otras entidades)"],perdedores:["Presupuesto de la Autoridad Portuaria (coste fijo de asesora)","Transparencia en la retribucin total de altos funcionarios"]},comunidad_autonoma:"Estatal",tipologia:"Administrativa",banderas_rojas:["Doble remuneracin: dietas de consejo adicionales al sueldo pblico","Tarifa plana de 22.000 sin desglose de carga de trabajo","Posible conflicto de inters entre defensa tcnica y toma de decisiones en el consejo"]},Sne={boe_id:Y5,timestamp:$5,title:K5,report:J5},Ene=Object.freeze(Object.defineProperty({__proto__:null,boe_id:Y5,default:Sne,report:J5,timestamp:$5,title:K5},Symbol.toStringTag,{value:"Module"})),Z5="BOE-A-2026-1919",Q5="2026-01-27T11:31:06.459Z",e6="Acuerdo internacional administrativo (AIA) en aplicacin del instrumento de ratificacin del Convenio de la Organizacin para la Cooperacin y Desarrollo Econmico, firmado en Pars el 14 de diciembre de 1960 entre la Agencia Espaola de Cooperacin Internacional para el Desarrollo del Ministerio de Asuntos Exteriores, Unin Europea y Cooperacin del Reino de Espaa y la Organizacin para la Cooperacin y Desarrollo Econmico, hecho en Madrid y Pars el 9 y 22 de diciembre de 2025.",t6={nivel_transparencia:62,analisis_critico:"El acuerdo disfraza de 'cooperacin' una subvencin directa a la OCDE para la elaboracin de informes cuyas metodologas y propiedad intelectual pertenecen exclusivamente al organismo internacional. Destaca un 6,48% de 'gastos indirectos' (38.880) que actan como un canon de gestin sin desglose. Adems, la clusula de propiedad exclusiva (Art. 9) implica que el contribuyente espaol paga por un conocimiento que no pertenece al Estado. La flexibilidad para que la OCDE ample plazos sin autorizacin previa de la AECID (Art. 3) reduce el control democrtico sobre la ejecucin del gasto.",resumen_ciudadano:"Espaa transfiere 600.000 a la OCDE para financiar estudios sobre fiscalidad y economa en Amrica Latina y el Caribe. El acuerdo incluye el pago de informes, gastos de oficina del organismo internacional y permite que la OCDE se quede con la propiedad de los resultados y los intereses del dinero depositado, mientras Espaa pone adems gratis sus edificios en la regin.",resumen_tweet:` Espaa regala 600.000 a la @OECD para informes. 

 6,48% en 'gastos indirectos'.
 La OCDE se queda con la propiedad intelectual.
 Espaa paga y adems cede sus sedes gratis.

Cooperacin o subvencin a burcratas?  #BOE #Opacidad #Transparencia`,banderas_red_flags:["Gastos indirectos del 6,48% sin desglose detallado","Propiedad exclusiva de los resultados para la OCDE (Art. 9)","Ampliacin de plazos de ejecucin sin necesidad de autorizacin previa (Art. 3)","Intereses generados por los fondos depositados se quedan en la OCDE (Art. 8)","Cesin gratuita de espacios fsicos adicionales por parte de AECID (Art. 12)"],vencedores_vencidos:{ganadores:["OCDE (recibe fondos, mantiene propiedad intelectual y cobra comisin de gestin)","Consultoras internacionales","lites administrativas transnacionales"],perdedores:["Contribuyente espaol (financia estudios que no controla)","Soberana informativa del Estado","Sectores sociales nacionales con necesidades de inversin urgente"]},comunidad_autonoma:"Estatal",tipologia:"Econmica y Cooperacin Internacional",banderas_rojas:["Gastos indirectos del 6,48% sin desglose detallado","Propiedad exclusiva de los resultados para la OCDE (Art. 9)","Ampliacin de plazos de ejecucin sin necesidad de autorizacin previa (Art. 3)","Intereses generados por los fondos depositados se quedan en la OCDE (Art. 8)","Cesin gratuita de espacios fsicos adicionales por parte de AECID (Art. 12)"]},Tne={boe_id:Z5,timestamp:Q5,title:e6,report:t6},Ane=Object.freeze(Object.defineProperty({__proto__:null,boe_id:Z5,default:Tne,report:t6,timestamp:Q5,title:e6},Symbol.toStringTag,{value:"Module"})),n6="BOE-A-2026-1920",i6="2026-01-27T11:36:28.436Z",r6="Orden TED/30/2026, de 26 de enero, por la que se establecen parmetros tcnicos y econmicos a emplear en el clculo de la retribucin de la actividad de produccin de energa elctrica en los territorios no peninsulares con rgimen retributivo adicional durante el periodo regulatorio 2026-2031.",a6={nivel_transparencia:35,analisis_critico:"La Orden TED/30/2026 utiliza un lenguaje extremadamente tcnico y frmulas algebraicas complejas [a(i), b(i), c(i)] para enmascarar lo que en la prctica es un subsidio masivo a las operadoras energticas en territorios no peninsulares. El concepto de 'instalacin tipo' de una 'empresa eficiente' es una abstraccin que permite fijar retribuciones basadas en modelos tericos en lugar de costes reales auditados con total transparencia. Se detecta una 'Incongruencia Ideolgica' al seguir remunerando tecnologas basadas en carbn y fuel-oil en un ministerio que nominalmente prioriza la 'Transicin Ecolgica'. Adems, el mantenimiento de parmetros para 'familias tipo que no incluyen ningn grupo generador' abre la puerta a 'Gastos Fantasma' mediante el mantenimiento de estructuras retributivas sin activos reales que las sustenten.",resumen_ciudadano:"El Gobierno ha fijado cunto dinero recibirn las elctricas por producir luz en las islas, Ceuta y Melilla entre 2026 y 2031. Aunque se dice que es para cubrir costes extra, las frmulas son tan complejas que es imposible para un ciudadano saber si el beneficio de las empresas es justo o excesivo. El sistema garantiza pagos fijos a las grandes energticas por mantener centrales, algunas de ellas de carbn, cuyo coste pagamos todos en la factura de la luz o va presupuestos.",resumen_tweet:" El #BOE publica el reparto de millones para las elctricas en Baleares y Canarias hasta 2031. Una maraa de frmulas  que oculta el beneficio real de las grandes energticas. Transicin o subsidio al fuel?  #Opacidad #Transparencia",banderas_red_flags:["Uso de frmulas matemticas complejas que impiden la fiscalizacin pblica directa","Retribucin a instalaciones tipo que actualmente no tienen grupos operativos","Mantenimiento de incentivos a tecnologas contaminantes (carbn) hasta 2031","Delegacin de la propuesta de parmetros en la CNMC sin desglose de beneficios industriales reales"],vencedores_vencidos:{ganadores:["Grandes corporaciones energticas (Endesa y similares en territorios insulares)","Gestores de plantas de combustibles fsiles con retribucin garantizada"],perdedores:["Consumidores elctricos (que asumen el sobrecoste en el sistema)","Medio ambiente (por la prolongacin de vida til de plantas de fuel y carbn)","Pequeos productores de renovables con menos barreras de entrada"]},comunidad_autonoma:"Estatal (Canarias, Baleares, Ceuta y Melilla)",tipologia:"Econmica",banderas_rojas:["Uso de frmulas matemticas complejas que impiden la fiscalizacin pblica directa","Retribucin a instalaciones tipo que actualmente no tienen grupos operativos","Mantenimiento de incentivos a tecnologas contaminantes (carbn) hasta 2031","Delegacin de la propuesta de parmetros en la CNMC sin desglose de beneficios industriales reales"]},Mne={boe_id:n6,timestamp:i6,title:r6,report:a6},wne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:n6,default:Mne,report:a6,timestamp:i6,title:r6},Symbol.toStringTag,{value:"Module"})),o6="BOE-A-2026-2072",s6="2026-01-29T11:57:03.683Z",l6="Real Decreto 54/2026, de 28 de enero, por el que se modifica el Catlogo de la Red de Carreteras del Estado.",u6={nivel_transparencia:6.5,analisis_critico:"El Real Decreto formaliza el traspaso de tramos especficos de la AP-68 a Navarra, cumpliendo acuerdos polticos de descentralizacin. Sin embargo, el texto presenta una opacidad financiera total: no detalla la valoracin econmica del traspaso ni cmo se ver afectado el presupuesto estatal para mantenimiento. Se prioriza la geometra administrativa foral sobre la unidad tcnica de la red de transporte, lo que genera una fragmentacin de la infraestructura nacional sin explicar las ventajas directas para el usuario.",resumen_ciudadano:"El Gobierno de Espaa ha cedido oficialmente la gestin y titularidad de dos tramos de la autopista AP-68 (Vasco-Aragonesa) a la Comunidad Foral de Navarra. Esto implica que el Estado deja de ser responsable de estos kilmetros, modificando el Catlogo de Carreteras del Estado para que Navarra asuma sus competencias plenas de mantenimiento y regulacin en dicho territorio.",resumen_tweet:" El Estado cede tramos de la AP-68 a Navarra. Mucha gestin tcnica pero 0 claridad sobre el coste del traspaso para el ciudadano. Descentralizacin o fragmentacin de la red nacional?  #BOE #Opacidad #Transparencia #Navarra",banderas_red_flags:["Ausencia de memoria econmica o valoracin del coste de transferencia","Fragmentacin de la red de inters general del Estado","Referencia a acuerdos de una 'Junta de Transferencias' cuyos detalles financieros no son pblicos en este texto"],vencedores_vencidos:{ganadores:["Gobierno Foral de Navarra (mayor autonoma y control territorial)","Partidos polticos forales (logro en la agenda de transferencias)"],perdedores:["Ciudadanos espaoles (falta de informacin sobre el impacto en los Presupuestos Generales)","Cohesin de la Red de Carreteras del Estado (creciente atomizacin administrativa)"]},comunidad_autonoma:"Navarra",tipologia:"Traspaso de Competencias e Infraestructuras",banderas_rojas:["Ausencia de memoria econmica o valoracin del coste de transferencia","Fragmentacin de la red de inters general del Estado","Referencia a acuerdos de una 'Junta de Transferencias' cuyos detalles financieros no son pblicos en este texto"]},Cne={boe_id:o6,timestamp:s6,title:l6,report:u6},Rne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:o6,default:Cne,report:u6,timestamp:s6,title:l6},Symbol.toStringTag,{value:"Module"})),c6="BOE-A-2026-2072",f6="2026-01-29T14:53:22.656Z",d6="Real Decreto 54/2026, de 28 de enero, por el que se modifica el Catlogo de la Red de Carreteras del Estado.",h6={nivel_transparencia:70,analisis_critico:"Se trata de un acto administrativo de descentralizacin de competencias en materia de infraestructuras. Aunque el texto es tcnicamente preciso sobre los tramos transferidos (PP.KK.), la opacidad reside en la ausencia de la memoria econmica adjunta en este Real Decreto. La transferencia de la AP-68 a Navarra es el resultado de acuerdos polticos especficos que suelen implicar ajustes en el Cupo o transferencias de crdito que no se desglosan aqu, dificultando el seguimiento del coste real de mantenimiento que asume la comunidad o el ahorro para el Estado.",resumen_ciudadano:"El Gobierno de Espaa ha entregado formalmente a la Comunidad Foral de Navarra la gestin de varios tramos de la autopista AP-68 (Vasco-Aragonesa). A partir de ahora, Navarra es la responsable nica de su mantenimiento y regulacin, eliminando estos tramos del catlogo nacional de carreteras.",resumen_tweet:" El Estado cede tramos de la AP-68 a Navarra. Menos control central, ms gestin foral. Se concreta la transferencia pero sin detalle de la letra pequea econmica. Quin paga el mantenimiento a largo plazo?  #BOE #Opacidad #Transparencia",banderas_red_flags:["Ausencia de desglose presupuestario asociado a la transferencia","Falta de mencin sobre la futura poltica de peajes en esos tramos","Tramitacin por va de Real Decreto que agiliza pero limita el debate parlamentario"],vencedores_vencidos:{ganadores:["Comunidad Foral de Navarra (gana soberana sobre sus infraestructuras)","Ministerio de Transportes (reduce su carga de gestin operativa)"],perdedores:["Usuarios nacionales (posible fragmentacin de criterios de mantenimiento y tarifas)","Transparencia fiscal (el coste del traspaso no es visible en este documento)"]},comunidad_autonoma:"Navarra",tipologia:"Administrativa",banderas_rojas:["Ausencia de desglose presupuestario asociado a la transferencia","Falta de mencin sobre la futura poltica de peajes en esos tramos","Tramitacin por va de Real Decreto que agiliza pero limita el debate parlamentario"]},Ine={boe_id:c6,timestamp:f6,title:d6,report:h6},Pne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:c6,default:Ine,report:h6,timestamp:f6,title:d6},Symbol.toStringTag,{value:"Module"})),p6="BOE-A-2026-2072",m6="2026-01-29T14:53:44.376Z",g6="Real Decreto 54/2026, de 28 de enero, por el que se modifica el Catlogo de la Red de Carreteras del Estado.",v6={nivel_transparencia:65,analisis_critico:"El Real Decreto formaliza el traspaso de tramos de la AP-68 a Navarra basndose en el rgimen foral. Aunque tcnico y preciso en los puntos kilomtricos, adolece de 'opacidad financiera': no detalla la valoracin econmica del traspaso ni el impacto en los presupuestos generales por el cese de mantenimiento. Es una medida de descentralizacin que fragmenta la gestin de una va de alta capacidad, priorizando la arquitectura institucional sobre la eficiencia operativa de una red nacional unificada.",resumen_ciudadano:"El Gobierno central entrega la gestin y titularidad de varios tramos de la autopista AP-68 (Vasco-Aragonesa) a la Comunidad Foral de Navarra. A partir de ahora, el Estado se desentiende de estos kilmetros, que pasan a ser competencia exclusiva navarra, modificando as el Catlogo de la Red de Carreteras del Estado.",resumen_tweet:" El Estado cede tramos de la AP-68 a Navarra. Fragmentacin administrativa en marcha: se publican los kilmetros pero no el coste ni el ahorro real para el ciudadano. Gestin eficiente o pacto poltico?  #BOE #Opacidad #Transparencia #Carreteras",banderas_red_flags:["Ausencia de memoria econmica adjunta","Fragmentacin de la red de carreteras nacional","Falta de detalle sobre el personal de mantenimiento afectado","Dependencia de acuerdos bilaterales sin escrutinio pblico del coste"],vencedores_vencidos:{ganadores:["Comunidad Foral de Navarra (mayor control territorial y competencial)","Ministerio de Transportes (reduccin de carga administrativa directa)"],perdedores:["Ciudadanos (posible confusin por gestin fragmentada de una misma va)","Transparencia pblica (desconocimiento del ajuste presupuestario real)"]},comunidad_autonoma:"Estatal/Navarra",tipologia:"Infraestructuras y Administrativa",banderas_rojas:["Ausencia de memoria econmica adjunta","Fragmentacin de la red de carreteras nacional","Falta de detalle sobre el personal de mantenimiento afectado","Dependencia de acuerdos bilaterales sin escrutinio pblico del coste"]},Nne={boe_id:p6,timestamp:m6,title:g6,report:v6},Dne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:p6,default:Nne,report:v6,timestamp:m6,title:g6},Symbol.toStringTag,{value:"Module"})),y6="BOE-A-2026-2073",_6="2026-01-29T11:57:17.906Z",b6="Orden AUC/40/2026, de 26 de enero, por la que se acuerdan ascensos a las categoras diplomticas de Ministro/a Plenipotenciario/a de primera clase, Ministro/a Plenipotenciario/a de segunda clase, Ministro/a Plenipotenciario/a de tercera clase, Consejero/a de Embajada, Secretario/a de Embajada de primera clase y Secretario/a de Embajada de segunda clase.",x6={nivel_transparencia:4,analisis_critico:"La Orden AUC/40/2026 representa una promocion masiva en la cupula del servicio exterior espanol. El documento adolece de una falta absoluta de motivacion individualizada; se limita a citar 'circunstancias que concurren' sin detallar meritos, puntuaciones o criterios de seleccion. Existe una evidente continuidad de apellidos vinculados historicamente a las elites administrativas y diplomaticas (sagas familiares), lo que sugiere una baja movilidad social ascendente y una estructura de carrera blindada al escrutinio ciudadano. No se especifica el impacto presupuestario de estos ascensos en terminos de masa salarial.",resumen_ciudadano:"El Ministerio de Asuntos Exteriores ha aprobado el ascenso de mas de 150 funcionarios diplomaticos a categorias superiores. Esto implica un aumento de sus retribuciones y estatus dentro de la administracion. El proceso es gestionado por la propia 'Junta de la Carrera Diplomatica', lo que en la practica supone que el cuerpo decide sus propios ascensos sin explicar publicamente por que estas personas son mejores que sus companeros. Muchos de los ascendidos pertenecen a familias con larga tradicion en el Estado.",resumen_tweet:" Mas de 150 ascensos en la carrera diplomatica por orden de @Albares.  Meritocracia o inercia? Sin detalle de meritos ni coste fiscal para el contribuyente. Sagas familiares que se perpetuan en la elite del Estado.  #BOE #Opacidad #Transparencia",banderas_red_flags:["Endogamia corporativa","Falta de memoria economica adjunta","Criterios de seleccion vagos (circunstancias concurrentes)","Ausencia de publicacion de puntuaciones o ranking de meritos"],vencedores_vencidos:{ganadores:["Cuerpo Diplomatico (ascensos en propiedad)","Sagas administrativas tradicionales","Altos cargos del MAEC"],perdedores:["Contribuyentes (asuncion del coste salarial)","Principios de transparencia administrativa","Igualdad de oportunidades fuera del circulo diplomatico"]},comunidad_autonoma:"Estatal",tipologia:"Nombramientos y Ascensos",banderas_rojas:["Endogamia corporativa","Falta de memoria economica adjunta","Criterios de seleccion vagos (circunstancias concurrentes)","Ausencia de publicacion de puntuaciones o ranking de meritos"]},One={boe_id:y6,timestamp:_6,title:b6,report:x6},Lne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:y6,default:One,report:x6,timestamp:_6,title:b6},Symbol.toStringTag,{value:"Module"})),S6="BOE-A-2026-2074",E6="2026-01-29T12:07:32.278Z",T6="Resolucin de 20 de enero de 2026, de la Subsecretara, por la que se resuelve la convocatoria de libre designacin, efectuada por Resolucin de 17 de octubre de 2025.",A6={nivel_transparencia:4.5,analisis_critico:"El uso del sistema de 'libre designacin' para un puesto de Nivel 29 en la Direccin General de Proteccin Civil y Emergencias subraya la persistencia de mecanismos de discrecionalidad en la alta administracin. Aunque legal, este sistema permite el nombramiento basado en la confianza poltica sobre el mrito competitivo. Resulta llamativo que el adjudicatario provenga del cuerpo de Profesores de Enseanza Secundaria para un puesto de coordinacin tcnica en Interior, lo que sugiere una priorizacin de la lealtad personal o poltica sobre la especializacin sectorial. El complemento especfico de 23.597,14 euros es una carga presupuestaria consolidada sin una justificacin de mritos pblica ms all de la resolucin administrativa.",resumen_ciudadano:"El Ministerio del Interior ha nombrado a un nuevo Coordinador de rea mediante el sistema de 'libre designacin' (a dedo). El funcionario, que anteriormente perteneca al cuerpo de profesores, ocupar ahora un puesto de alto nivel (Nivel 29) con un sobresueldo especfico de ms de 23.000 euros anuales. No se ha realizado un concurso pblico de mritos para esta eleccin.",resumen_tweet:" Nueva adjudicacin 'a dedo' en el Ministerio del Interior. Un docente pasa a Coordinador de rea (Nivel 29) va libre designacin. +23.500 de complemento especfico. Confianza o competencia?  #BOE #Opacidad #Transparencia #Espaa",banderas_red_flags:["Libre designacin (nombramiento discrecional)","Incongruencia de perfil (Docente a Interior)","Elevado complemento salarial especfico"],vencedores_vencidos:{ganadores:["Rafel Andreu Gell (ascenso a nivel 29 y mejora salarial)","Subsecretara del Interior (colocacin de personal de confianza)"],perdedores:["Funcionarios de carrera con perfil tcnico en emergencias","Contribuyentes (por falta de procesos selectivos competitivos)"]},comunidad_autonoma:"Madrid",tipologia:"Nombramientos de Personal",banderas_rojas:["Libre designacin (nombramiento discrecional)","Incongruencia de perfil (Docente a Interior)","Elevado complemento salarial especfico"]},Une={boe_id:S6,timestamp:E6,title:T6,report:A6},Fne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:S6,default:Une,report:A6,timestamp:E6,title:T6},Symbol.toStringTag,{value:"Module"})),M6="BOE-A-2026-2075",w6="2026-01-29T12:07:48.064Z",C6="Orden EFD/41/2026, de 22 de enero, por la que, a propuesta de la Consejera de Educacin y Empleo de la Comunidad Autnoma de La Rioja, se nombra personal funcionario de carrera de los Cuerpos de Profesores de Enseanza Secundaria, Profesores de Escuelas Oficiales de Idiomas, Profesores Especialistas en Sectores Singulares de Formacin Profesional, Profesores de Msica y Artes Escnicas, Profesores de Artes Plsticas y Diseo, y Maestros, a las personas seleccionadas en el procedimiento selectivo convocado por Resolucin 185/2022, de 23 de diciembre.",R6={nivel_transparencia:7.5,analisis_critico:"Se trata de una Orden de nombramiento de funcionarios de carrera en La Rioja tras un proceso de estabilizacin. La mayor crtica reside en la 'dilatacin temporal': un proceso convocado en 2022 se resuelve administrativamente para el BOE en 2026, aunque con efectos retroactivos a 2024. Este desfase evidencia la lentitud burocrtica en la reduccin de la temporalidad. Existe un claro sesgo de gnero (feminizacin) en el sector docente, especialmente en Maestros y Servicios a la Comunidad. No se observan gastos fantasma directos, pero la consolidacin de plazas implica un compromiso presupuestario a largo plazo sin desglose de masa salarial total asociada.",resumen_ciudadano:"El Ministerio de Educacin oficializa el nombramiento de nuevos profesores y maestros en La Rioja que superaron las oposiciones de estabilizacin iniciadas en 2022. Estas personas ya son oficialmente funcionarios de carrera con efectos desde finales de 2024.",resumen_tweet:" El #BOE publica hoy los nombramientos de docentes en #LaRioja tras procesos de 2022. 4 aos para oficializar la estabilidad!  Predominio femenino en las nuevas plazas. La burocracia sigue siendo el cuello de botella. #Transparencia #Educacin",banderas_red_flags:["Desfase temporal excesivo (Convocatoria 2022 - Publicacin 2026)","Retroactividad administrativa de efectos econmicos y administrativos","Opacidad en el coste presupuestario total de la consolidacin de plantilla"],vencedores_vencidos:{ganadores:["Personal interino que consolida su plaza (predominantemente mujeres)","Consejera de Educacin de La Rioja (reduce tasas de temporalidad legal)"],perdedores:["Aspirantes no seleccionados en un proceso que ha tardado 4 aos","Agilidad administrativa (el sistema muestra una lentitud estructural)"]},comunidad_autonoma:"La Rioja",tipologia:"Nombramientos de personal funcionario",banderas_rojas:["Desfase temporal excesivo (Convocatoria 2022 - Publicacin 2026)","Retroactividad administrativa de efectos econmicos y administrativos","Opacidad en el coste presupuestario total de la consolidacin de plantilla"]},kne={boe_id:M6,timestamp:w6,title:C6,report:R6},Bne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:M6,default:kne,report:R6,timestamp:w6,title:C6},Symbol.toStringTag,{value:"Module"})),I6="BOE-A-2026-2078",P6="2026-01-29T12:08:14.228Z",N6="Resolucin de 21 de enero de 2026, del Instituto de la Cinematografa y de las Artes Audiovisuales, O.A., por la que se dispone el cese y nombramiento de vocales en la Comisin de Calificacin de Pelculas Cinematogrficas.",D6={nivel_transparencia:6,analisis_critico:"Aunque la resolucin cumple formalmente con la ley, se observa una opacidad sistemtica en la seleccin de los vocales. Se citan artculos normativos pero no se exponen los mritos especficos ni el proceso de concurrencia competitiva (si lo hubo) para los nuevos nombramientos. Estos puestos son clave para la industria cinematogrfica, ya que determinan el acceso comercial segn la edad, lo que impacta directamente en los ingresos de las productoras. La falta de mencin a las dietas o remuneraciones por sesin genera un espacio de 'gasto fantasma' administrativo.",resumen_ciudadano:"El Ministerio de Cultura ha cambiado a tres de los miembros encargados de poner la calificacin de edad (TP, +12, +18) a las pelculas en Espaa. Salen tres personas y entran otras tres por un periodo mximo de dos aos. Estas personas tienen el poder de influir en el xito comercial de una pelcula, pero el documento no explica por qu han sido elegidas ellas ni cunto dinero pblico perciben por realizar este trabajo asesor.",resumen_tweet:" Quin decide qu ven tus hij@s? El ICAA renueva vocales en la Comisin de Calificacin de Cine.  Mucha norma tcnica pero CERO info sobre sueldos o por qu eligen a estos nombres y no a otros. Transparencia? A medias. #BOE #Opacidad #Cine ",banderas_red_flags:["Ausencia de desglose presupuestario para dietas de la comisin","Criterios de seleccin basados en designacin directa sin publicidad de mritos","Opacidad en la justificacin de la 'idoneidad' de los perfiles elegidos"],vencedores_vencidos:{ganadores:["Pablo Huelves Garrido, Camelia Ciruelos de Cela y Pilar Manuela Ordez Miyar (nuevos vocales)","Ministerio de Cultura (mantiene control sobre la calificacin de contenidos)"],perdedores:["Profesionales del sector audiovisual fuera del crculo de confianza ministerial","Ciudadana (desconoce el coste real de este rgano asesor)"]},comunidad_autonoma:"Estatal",tipologia:"Nombramientos y Ceses",banderas_rojas:["Ausencia de desglose presupuestario para dietas de la comisin","Criterios de seleccin basados en designacin directa sin publicidad de mritos","Opacidad en la justificacin de la 'idoneidad' de los perfiles elegidos"]},zne={boe_id:I6,timestamp:P6,title:N6,report:D6},Gne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:I6,default:zne,report:D6,timestamp:P6,title:N6},Symbol.toStringTag,{value:"Module"})),O6="BOE-A-2026-2079",L6="2026-01-29T12:08:28.780Z",U6="Resolucin 22 de enero de 2026, de la Subsecretara, por la que se resuelve el concurso especfico convocado por Resolucin de 23 de septiembre de 2025.",F6={nivel_transparencia:6,analisis_critico:"La resolucin revela una preocupante incapacidad del Ministerio de Cultura para atraer o retener talento en reas crticas. Un 38% de las plazas ofertadas han quedado desiertas, especialmente en jefaturas de seccin de sistemas informticos y archivos. Existe una circularidad burocrtica donde los 'ganadores' son funcionarios que saltan de ministerios como Interior o Hacienda hacia Cultura, buscando presumiblemente mejores condiciones de vida o proximidad geogrfica, pero sin que se perciba una renovacin real del cuerpo administrativo. La falta de cobertura en puestos tcnicos (niveles 24-26) sugiere que la Administracin no es competitiva frente al sector privado o que los requisitos internos son excesivamente rgidos.",resumen_ciudadano:"El Ministerio de Cultura ha publicado quines ocuparn nuevos puestos de trabajo tras un concurso interno. Aunque algunos funcionarios han cambiado de departamento (viniendo de reas como Investigacin o Interior), muchos puestos importantes en informtica y gestin de archivos se han quedado vacos porque nadie cumpla los requisitos o nadie se present. Esto afecta directamente a la modernizacin y digitalizacin de nuestros museos y archivos nacionales.",resumen_tweet:" El Ministerio de Cultura reparte sillas: un 38% de las plazas quedan VACAS!  Puestos clave en sistemas y archivos histricos se quedan sin personal. Fuga de talento o burocracia obsoleta? La cultura se queda atrs. #BOE #Opacidad #Transparencia",banderas_red_flags:["Alta tasa de vacantes (plazas desiertas) en puestos tcnicos","Endogamia administrativa: trasvase de personal entre ministerios sin entrada de perfiles externos","Incongruencia en la digitalizacin: plazas de sistemas informticos sin cubrir en plena era digital"],vencedores_vencidos:{ganadores:["Funcionarios de carrera con movilidad (ej. traslados desde Tenerife a Cantabria o Madrid a Soria)","Ministerio del Interior y CSIC (que actan como cantera de personal para Cultura)"],perdedores:["Patrimonio Nacional y Archivos (por falta de personal especializado)","Ciudadanos (retrasos en la gestin cultural y digitalizacin de archivos)","Candidatos cualificados del sector privado (excluidos por ser un concurso especfico restringido)"]},comunidad_autonoma:"Estatal",tipologia:"Recursos Humanos y Provisin de Puestos",banderas_rojas:["Alta tasa de vacantes (plazas desiertas) en puestos tcnicos","Endogamia administrativa: trasvase de personal entre ministerios sin entrada de perfiles externos","Incongruencia en la digitalizacin: plazas de sistemas informticos sin cubrir en plena era digital"]},Vne={boe_id:O6,timestamp:L6,title:U6,report:F6},Hne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:O6,default:Vne,report:F6,timestamp:L6,title:U6},Symbol.toStringTag,{value:"Module"})),k6="BOE-A-2026-2080",B6="2026-01-29T12:09:45.689Z",z6="Resolucin de 23 de enero de 2026, de la Subsecretara, por la que se resuelve la convocatoria de libre designacin, efectuada por Resolucin de 19 de diciembre de 2025, en el Organismo Autnomo Instituto Nacional de Estadstica.",G6={nivel_transparencia:4,analisis_critico:"La resolucion utiliza el sistema de 'Libre Designacion' para cubrir puestos de Nivel 30 (el maximo en la carrera administrativa). Aunque se ampara en el Real Decreto-ley 6/2023 del Plan de Recuperacion, este metodo permite una discrecionalidad que bordea el clientelismo institucional, alejandose de los principios de concurso-oposicion y merito puro. La 'valoracion de asesores' mencionada es opaca, sin baremos publicos de puntuacion.",resumen_ciudadano:"El Ministerio de Economia ha nombrado a dedo a dos nuevos Subdirectores Generales para el Instituto Nacional de Estadistica (INE). Estos puestos, con el sueldo y nivel mas alto posible para funcionarios, se han otorgado mediante un sistema de confianza en lugar de una competicion abierta basada estrictamente en examenes o meritos comparativos publicos.",resumen_tweet:" Meritocracia o confianza? El INE adjudica dos Subdirecciones Generales (Nivel 30) mediante 'Libre Designacion'. Otra vez, los puestos mas altos se deciden con opacidad bajo el paraguas del Plan de Recuperacion.  #BOE #Opacidad #Transparencia",banderas_red_flags:["Sistema de Libre Designacion (eleccion discrecional)","Puestos de Nivel 30 (maxima remuneracion y poder administrativo)","Uso de asesores no identificados para valorar la idoneidad","Amparado en medidas urgentes del Plan de Recuperacion para agilizar nombramientos directivos"],vencedores_vencidos:{ganadores:["Altos funcionarios del Cuerpo Superior de Estadisticos","Especialistas en Tecnologias de la Informacion con acceso a la cupula directiva","Estructura jerarquica del INE que consolida mandos de confianza"],perdedores:["Funcionarios de carrera sin vinculos de confianza con la direccion","Principio de concurrencia competitiva","Transparencia en la gestion del talento publico"]},comunidad_autonoma:"Nacional (Sede en Madrid)",tipologia:"Nombramientos y Personal (Libre Designacion)",banderas_rojas:["Sistema de Libre Designacion (eleccion discrecional)","Puestos de Nivel 30 (maxima remuneracion y poder administrativo)","Uso de asesores no identificados para valorar la idoneidad","Amparado en medidas urgentes del Plan de Recuperacion para agilizar nombramientos directivos"]},qne={boe_id:k6,timestamp:B6,title:z6,report:G6},Wne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:k6,default:qne,report:G6,timestamp:B6,title:z6},Symbol.toStringTag,{value:"Module"})),V6="BOE-A-2026-2082",H6="2026-01-29T14:52:26.823Z",q6="Resolucin de 12 de enero de 2026, conjunta de la Universidad Autnoma de Barcelona y el Instituto Cataln de la Salud, por la que se nombra Profesor Titular de Universidad a don Daniel Fuster Mart.",W6={nivel_transparencia:85,analisis_critico:"Se trata de un nombramiento tcnico-acadmico derivado de un concurso de acceso a la funcin pblica docente universitaria. El texto es estndar y cumple con la normativa administrativa, aunque mantiene la opacidad habitual en cuanto a la composicin de la comisin evaluadora y el desglose de mritos del candidato seleccionado. No se aprecian gastos fantasma, pero s la tpica estructura burocrtica que dificulta el escrutinio ciudadano sobre la meritocracia real del proceso.",resumen_ciudadano:"La Universidad Autnoma de Barcelona y el Instituto Cataln de la Salud nombran a Daniel Fuster Mart como Profesor Titular de Medicina Interna en el Hospital Germans Trias i Pujol tras un proceso de concurso pblico.",resumen_tweet:" Nuevo nombramiento en la @UABBarcelona y el @icscat. Daniel Fuster Mart es nuevo Profesor Titular de Medicina Interna. Proceso reglado, pero el BOE oculta el detalle de los mritos evaluados.  #BOE #Transparencia #Universidad #Sanidad",banderas_red_flags:["Falta de desglose de la baremacin de mritos","Opacidad en la identidad de los miembros de la comisin evaluadora","Complejidad en la va de recurso administrativo"],vencedores_vencidos:{ganadores:["Daniel Fuster Mart (obtiene plaza fija)","UAB (cubre vacante docente)","ICS (estabiliza plaza mdica vinculada)"],perdedores:["Candidatos alternativos no seleccionados","Ciudadana (falta de acceso al expediente de mritos en el BOE)"]},comunidad_autonoma:"Catalua",tipologia:"Administrativa",banderas_rojas:["Falta de desglose de la baremacin de mritos","Opacidad en la identidad de los miembros de la comisin evaluadora","Complejidad en la va de recurso administrativo"]},jne={boe_id:V6,timestamp:H6,title:q6,report:W6},Xne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:V6,default:jne,report:W6,timestamp:H6,title:q6},Symbol.toStringTag,{value:"Module"})),j6="BOE-A-2026-2082",X6="2026-01-29T14:52:53.862Z",Y6="Resolucin de 12 de enero de 2026, conjunta de la Universidad Autnoma de Barcelona y el Instituto Cataln de la Salud, por la que se nombra Profesor Titular de Universidad a don Daniel Fuster Mart.",$6={nivel_transparencia:82,analisis_critico:"El documento formaliza el nombramiento de un Profesor Titular de Universidad en una 'plaza vinculada', una figura que une la docencia (UAB) y la asistencia sanitaria (ICS). Aunque el proceso es legalmente slido citando el BOE de origen, existe una opacidad persistente en cuanto al coste salarial total de estas plazas duales y los criterios especficos de seleccin del tribunal, que no se detallan en el extracto. Representa la consolidacin de la lite funcionarial mdica sin una auditora pblica visible del mrito comparativo en esta publicacin.",resumen_ciudadano:"Se nombra formalmente a Daniel Fuster Mart como profesor permanente de Medicina Interna en la Universidad Autnoma de Barcelona, trabajando tambin en el Hospital Germans Trias i Pujol. Es una plaza de funcionario de carrera.",resumen_tweet:" Auditora #BOE: Nombramiento de Profesor Titular en la UAB/ICS. Plaza vinculada en Medicina Interna. Proceso legal pero con nula visibilidad sobre el coste pblico total y mritos del tribunal.  #Opacidad #Transparencia #Universidad",banderas_red_flags:["Opacidad en la masa salarial derivada de la plaza vinculada","Ausencia de nombres de los miembros del tribunal evaluador en el texto","Mantenimiento de estructuras de poder acadmico tradicional"],vencedores_vencidos:{ganadores:["Daniel Fuster Mart (obtencin de plaza vitalicia)","UAB","Institut Catal de la Salut"],perdedores:["Candidatos descartados en el proceso de 2025","Ciudadana (por falta de desglose de eficiencia presupuestaria en el gasto de personal)"]},comunidad_autonoma:"Catalua",tipologia:"Administrativa / Educativa",banderas_rojas:["Opacidad en la masa salarial derivada de la plaza vinculada","Ausencia de nombres de los miembros del tribunal evaluador en el texto","Mantenimiento de estructuras de poder acadmico tradicional"]},Yne={boe_id:j6,timestamp:X6,title:Y6,report:$6},$ne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:j6,default:Yne,report:$6,timestamp:X6,title:Y6},Symbol.toStringTag,{value:"Module"})),K6="BOE-A-2026-2084",J6="2026-01-29T14:51:05.748Z",Z6="Resolucin de 12 de enero de 2026, de la Universidad Autnoma de Barcelona, por la que se nombra Profesor Titular de Universidad a don Juan Romero Morales.",Q6={nivel_transparencia:85,analisis_critico:"Se trata de un nombramiento administrativo estndar para una plaza de funcionario docente (Profesor Titular). El texto cumple con la legalidad vigente pero perpeta la opacidad sobre los mritos especficos que determinaron la eleccin del candidato frente a otros posibles aspirantes. No se detallan los costes salariales asociados ni la baremacin de la comisin, delegando la transparencia a fases previas del proceso que no son de fcil acceso pblico en este documento final.",resumen_ciudadano:"La Universidad Autnoma de Barcelona ha nombrado oficialmente a Juan Romero Morales como Profesor Titular en el rea de Lengua Espaola. Este es el paso final tras un concurso de oposicin iniciado en mayo de 2025.",resumen_tweet:" Nuevo nombramiento en la @UABBarcelona: Juan Romero Morales es ya Profesor Titular de Filologa Espaola. El #BOE publica el trmite final, aunque sin detalles sobre la baremacin del concurso.  #Transparencia #Opacidad #Universidades",banderas_red_flags:["Ausencia de desglose salarial de la plaza pblica","Falta de enlace a la baremacin de mritos del tribunal","Opacidad en el nmero de candidatos que compitieron por la plaza"],vencedores_vencidos:{ganadores:["Juan Romero Morales (obtiene plaza vitalicia)","Universidad Autnoma de Barcelona (cubre vacante estructural)"],perdedores:["Candidatos no seleccionados (sin visibilidad de motivos)","Contribuyente (falta de transparencia en la eficiencia del gasto docente)"]},comunidad_autonoma:"Catalua",tipologia:"Administrativa",banderas_rojas:["Ausencia de desglose salarial de la plaza pblica","Falta de enlace a la baremacin de mritos del tribunal","Opacidad en el nmero de candidatos que compitieron por la plaza"]},Kne={boe_id:K6,timestamp:J6,title:Z6,report:Q6},Jne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:K6,default:Kne,report:Q6,timestamp:J6,title:Z6},Symbol.toStringTag,{value:"Module"})),eG="BOE-B-2026-2227",tG="2026-01-27T16:51:47.583Z",nG="Anuncio de la Comunidad de Regantes de la Acequia de Tarramonta, sobre convocatoria de Junta.",iG={nivel_transparencia:45,analisis_critico:"El anuncio presenta una estructura clsica de opacidad administrativa en la gestin de recursos hdricos. Destaca la clusula de validez de acuerdos 'sea cualquiera el nmero de asistentes', lo que debilita la representatividad democrtica. El uso de epgrafes vagos como 'Asuntos varios' o 'Todo cuanto corresponda al mejor aprovechamiento' funciona como un cheque en blanco para la toma de decisiones crticas sin supervisin previa de los comuneros.",resumen_ciudadano:"La Comunidad de Regantes de la Acequia de Tarramonta convoca una reunin clave para decidir el presupuesto de 2026 y renovar cargos. Sin embargo, lo que se decida ser vinculante aunque asistan muy pocos socios, y el orden del da incluye puntos genricos que impiden saber de antemano qu se va a votar exactamente sobre el reparto del agua.",resumen_tweet:" Alerta en el #BOE: La Acequia de Tarramonta convoca junta con puntos ciegos. Acuerdos vlidos sin qurum mnimo y 'Asuntos varios' que ocultan decisiones clave sobre el agua.  #Opacidad #Transparencia #VegasDeGenil",banderas_red_flags:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"],vencedores_vencidos:{ganadores:["Junta de Gobierno actual (mayor control administrativo)","Grandes propietarios con capacidad de influencia directa"],perdedores:["Pequeos regantes (riesgo de falta de representatividad)","Transparencia en la gestin del bien pblico hdrico"]},comunidad_autonoma:"Andaluca",tipologia:"Administrativa y de Gestin de Recursos",banderas_rojas:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"]},Zne={boe_id:eG,timestamp:tG,title:nG,report:iG},Qne=Object.freeze(Object.defineProperty({__proto__:null,boe_id:eG,default:Zne,report:iG,timestamp:tG,title:nG},Symbol.toStringTag,{value:"Module"})),rG="BOE-B-2026-2227",aG="2026-01-27T16:51:47.730Z",oG="Anuncio de la Comunidad de Regantes de la Acequia de Tarramonta, sobre convocatoria de Junta.",sG={nivel_transparencia:45,analisis_critico:"La convocatoria de la Comunidad de Regantes de la Acequia de Tarramonta sigue un patrn de opacidad administrativa comn en entes locales. El punto octavo 'Asuntos varios' y el sptimo 'Todo cuanto corresponda al mejor aprovechamiento' funcionan como cajones de sastre donde se pueden introducir decisiones de gran calado econmico o de gestin de recursos hdricos sin aviso previo. Adems, la clusula que valida acuerdos 'sea cualquiera el nmero de asistentes' en segunda convocatoria diluye el control democrtico, permitiendo que una minora organizada tome decisiones sobre el presupuesto y el padrn de 2026.",resumen_ciudadano:"Se convoca a los regantes de Vegas de Genil para aprobar las cuentas pasadas y el presupuesto de 2026. La reunin permite tomar decisiones crticas sobre el dinero y el agua aunque asistan muy pocos socios, y utiliza puntos del da extremadamente genricos que dificultan la fiscalizacin ciudadana.",resumen_tweet:" Ojo al #BOE! La C.R. Acequia de Tarramonta convoca junta con puntos ambiguos como 'Asuntos varios' y validez sin qurum mnimo. Quin controla realmente el agua y el presupuesto de 2026?  #Opacidad #Transparencia #VegasDeGenil",banderas_red_flags:["Validez de acuerdos sin qurum mnimo","Puntos del da genricos y ambiguos","Aprobacin de presupuestos y cobros sin desglose previo","Posible toma de decisiones discrecional en 'Asuntos varios'"],vencedores_vencidos:{ganadores:["Junta de Gobierno (por la flexibilidad de los puntos genricos)","Grandes propietarios con capacidad de movilizacin rpida"],perdedores:["Pequeos regantes con dificultades de asistencia","Transparencia pblica en la gestin del agua","Participacin ciudadana efectiva"]},comunidad_autonoma:"Andaluca",tipologia:"Econmica-Administrativa",banderas_rojas:["Validez de acuerdos sin qurum mnimo","Puntos del da genricos y ambiguos","Aprobacin de presupuestos y cobros sin desglose previo","Posible toma de decisiones discrecional en 'Asuntos varios'"]},eie={boe_id:rG,timestamp:aG,title:oG,report:sG},tie=Object.freeze(Object.defineProperty({__proto__:null,boe_id:rG,default:eie,report:sG,timestamp:aG,title:oG},Symbol.toStringTag,{value:"Module"})),lG="BOE-B-2026-2227",uG="2026-01-28T18:09:35.927Z",cG="Anuncio de la Comunidad de Regantes de la Acequia de Tarramonta, sobre convocatoria de Junta.",fG={nivel_transparencia:45,analisis_critico:"El anuncio presenta una estructura clsica de opacidad administrativa en la gestin de recursos hdricos. Destaca la clusula de validez de acuerdos 'sea cualquiera el nmero de asistentes', lo que debilita la representatividad democrtica. El uso de epgrafes vagos como 'Asuntos varios' o 'Todo cuanto corresponda al mejor aprovechamiento' funciona como un cheque en blanco para la toma de decisiones crticas sin supervisin previa de los comuneros.",resumen_ciudadano:"La Comunidad de Regantes de la Acequia de Tarramonta convoca una reunin clave para decidir el presupuesto de 2026 y renovar cargos. Sin embargo, lo que se decida ser vinculante aunque asistan muy pocos socios, y el orden del da incluye puntos genricos que impiden saber de antemano qu se va a votar exactamente sobre el reparto del agua.",resumen_tweet:" Alerta en el #BOE: La Acequia de Tarramonta convoca junta con puntos ciegos. Acuerdos vlidos sin qurum mnimo y 'Asuntos varios' que ocultan decisiones clave sobre el agua.  #Opacidad #Transparencia #VegasDeGenil",banderas_red_flags:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"],vencedores_vencidos:{ganadores:["Junta de Gobierno actual (mayor control administrativo)","Grandes propietarios con capacidad de influencia directa"],perdedores:["Pequeos regantes (riesgo de falta de representatividad)","Transparencia en la gestin del bien pblico hdrico"]},comunidad_autonoma:"Andaluca",tipologia:"Administrativa y de Gestin de Recursos",banderas_rojas:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"],tweet_sent:!0},nie={boe_id:lG,timestamp:uG,title:cG,report:fG},iie=Object.freeze(Object.defineProperty({__proto__:null,boe_id:lG,default:nie,report:fG,timestamp:uG,title:cG},Symbol.toStringTag,{value:"Module"})),dG="BOE-B-2026-2227",hG="2026-01-28T18:13:12.012Z",pG="Anuncio de la Comunidad de Regantes de la Acequia de Tarramonta, sobre convocatoria de Junta.",mG={nivel_transparencia:45,analisis_critico:"El anuncio presenta una estructura clsica de opacidad administrativa en la gestin de recursos hdricos. Destaca la clusula de validez de acuerdos 'sea cualquiera el nmero de asistentes', lo que debilita la representatividad democrtica. El uso de epgrafes vagos como 'Asuntos varios' o 'Todo cuanto corresponda al mejor aprovechamiento' funciona como un cheque en blanco para la toma de decisiones crticas sin supervisin previa de los comuneros.",resumen_ciudadano:"La Comunidad de Regantes de la Acequia de Tarramonta convoca una reunin clave para decidir el presupuesto de 2026 y renovar cargos. Sin embargo, lo que se decida ser vinculante aunque asistan muy pocos socios, y el orden del da incluye puntos genricos que impiden saber de antemano qu se va a votar exactamente sobre el reparto del agua.",resumen_tweet:" Alerta en el #BOE: La Acequia de Tarramonta convoca junta con puntos ciegos. Acuerdos vlidos sin qurum mnimo y 'Asuntos varios' que ocultan decisiones clave sobre el agua.  #Opacidad #Transparencia #VegasDeGenil",banderas_red_flags:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"],vencedores_vencidos:{ganadores:["Junta de Gobierno actual (mayor control administrativo)","Grandes propietarios con capacidad de influencia directa"],perdedores:["Pequeos regantes (riesgo de falta de representatividad)","Transparencia en la gestin del bien pblico hdrico"]},comunidad_autonoma:"Andaluca",tipologia:"Administrativa y de Gestin de Recursos",banderas_rojas:["Validez de acuerdos sin qurum mnimo","Punto del orden del da 'Asuntos varios' (falta de especificidad)","Falta de informacin sobre las cuantas de los presupuestos y repartimientos","Delegacin de poder genrica en el punto sptimo"],tweet_sent:!0},rie={boe_id:dG,timestamp:hG,title:pG,report:mG},aie=Object.freeze(Object.defineProperty({__proto__:null,boe_id:dG,default:rie,report:mG,timestamp:hG,title:pG},Symbol.toStringTag,{value:"Module"})),oie=JSON.parse('[{"id":"BOE-A-2026-2072","titulo":"Real Decreto 54/2026, de 28 de enero, por el que se modifica el Catlogo de la Red de Carreteras del Estado.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2072","transparencia":65,"fecha_auditoria":"2026-01-29T14:53:44.376Z"},{"id":"BOE-A-2026-2082","titulo":"Resolucin de 12 de enero de 2026, conjunta de la Universidad Autnoma de Barcelona y el Instituto Cataln de la Salud, por la que se nombra Profesor Titular de Universidad a don Daniel Fuster Mart.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2082","transparencia":82,"fecha_auditoria":"2026-01-29T14:52:53.862Z"},{"id":"BOE-A-2026-2084","titulo":"Resolucin de 12 de enero de 2026, de la Universidad Autnoma de Barcelona, por la que se nombra Profesor Titular de Universidad a don Juan Romero Morales.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2084","transparencia":85,"fecha_auditoria":"2026-01-29T14:51:05.748Z"},{"id":"BOE-A-2026-2080","titulo":"Resolucin de 23 de enero de 2026, de la Subsecretara, por la que se resuelve la convocatoria de libre designacin, efectuada por Resolucin de 19 de diciembre de 2025, en el Organismo Autnomo Instituto Nacional de Estadstica.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2080","transparencia":4,"fecha_auditoria":"2026-01-29T12:09:45.689Z"},{"id":"BOE-A-2026-2079","titulo":"Resolucin 22 de enero de 2026, de la Subsecretara, por la que se resuelve el concurso especfico convocado por Resolucin de 23 de septiembre de 2025.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2079","transparencia":6,"fecha_auditoria":"2026-01-29T12:08:28.780Z"},{"id":"BOE-A-2026-2078","titulo":"Resolucin de 21 de enero de 2026, del Instituto de la Cinematografa y de las Artes Audiovisuales, O.A., por la que se dispone el cese y nombramiento de vocales en la Comisin de Calificacin de Pelculas Cinematogrficas.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2078","transparencia":6,"fecha_auditoria":"2026-01-29T12:08:14.228Z"},{"id":"BOE-A-2026-2075","titulo":"Orden EFD/41/2026, de 22 de enero, por la que, a propuesta de la Consejera de Educacin y Empleo de la Comunidad Autnoma de La Rioja, se nombra personal funcionario de carrera de los Cuerpos de Profesores de Enseanza Secundaria, Profesores de Escuelas Oficiales de Idiomas, Profesores Especialistas en Sectores Singulares de Formacin Profesional, Profesores de Msica y Artes Escnicas, Profesores de Artes Plsticas y Diseo, y Maestros, a las personas seleccionadas en el procedimiento selectivo convocado por Resolucin 185/2022, de 23 de diciembre.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2075","transparencia":7.5,"fecha_auditoria":"2026-01-29T12:07:48.064Z"},{"id":"BOE-A-2026-2074","titulo":"Resolucin de 20 de enero de 2026, de la Subsecretara, por la que se resuelve la convocatoria de libre designacin, efectuada por Resolucin de 17 de octubre de 2025.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2074","transparencia":4.5,"fecha_auditoria":"2026-01-29T12:07:32.278Z"},{"id":"BOE-A-2026-2073","titulo":"Orden AUC/40/2026, de 26 de enero, por la que se acuerdan ascensos a las categoras diplomticas de Ministro/a Plenipotenciario/a de primera clase, Ministro/a Plenipotenciario/a de segunda clase, Ministro/a Plenipotenciario/a de tercera clase, Consejero/a de Embajada, Secretario/a de Embajada de primera clase y Secretario/a de Embajada de segunda clase.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-2073","transparencia":4,"fecha_auditoria":"2026-01-29T11:57:17.906Z"},{"id":"BOE-B-2026-2227","titulo":"Anuncio de la Comunidad de Regantes de la Acequia de Tarramonta, sobre convocatoria de Junta.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-B-2026-2227","transparencia":45,"fecha_auditoria":"2026-01-28T18:13:12.012Z"},{"id":"BOE-A-2024-4161","titulo":"Decreto de 20 de febrero de 2024, del Fiscal General del Estado, por el que se nombra Fiscal Decana de la Seccin Territorial de Monforte de Lemos a doa Elena Fernndez Landeiro.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-4161","transparencia":85,"fecha_auditoria":"2026-01-27T16:20:16.065Z"},{"id":"BOE-A-2026-1920","titulo":"Orden TED/30/2026, de 26 de enero, por la que se establecen parmetros tcnicos y econmicos a emplear en el clculo de la retribucin de la actividad de produccin de energa elctrica en los territorios no peninsulares con rgimen retributivo adicional durante el periodo regulatorio 2026-2031.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-1920","transparencia":35,"fecha_auditoria":"2026-01-27T11:36:28.436Z"},{"id":"BOE-A-2026-1919","titulo":"Acuerdo internacional administrativo (AIA) en aplicacin del instrumento de ratificacin del Convenio de la Organizacin para la Cooperacin y Desarrollo Econmico, firmado en Pars el 14 de diciembre de 1960 entre la Agencia Espaola de Cooperacin Internacional para el Desarrollo del Ministerio de Asuntos Exteriores, Unin Europea y Cooperacin del Reino de Espaa y la Organizacin para la Cooperacin y Desarrollo Econmico, hecho en Madrid y Pars el 9 y 22 de diciembre de 2025.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-1919","transparencia":62,"fecha_auditoria":"2026-01-27T11:31:06.459Z"},{"id":"BOE-A-2026-1844","titulo":"Resolucin de 20 de enero de 2026, de la Subsecretara, por la que se publica el Convenio de asistencia jurdica entre la Abogaca General del Estado y la Autoridad Portuaria de Avils.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-1844","transparencia":72,"fecha_auditoria":"2026-01-26T14:59:24.582Z"},{"id":"BOE-A-2026-1760","titulo":"Real Decreto 51/2026, de 23 de enero, por el que se modifica el Real Decreto 676/2025, de 28 de julio, por el que se aprueba la estructura de la Presidencia del Gobierno.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2026-1760","transparencia":4,"fecha_auditoria":"2026-01-26T13:01:32.749Z"},{"id":"BOE-A-2024-3344","titulo":"Resolucin de 9 de febrero de 2024, de la Direccin General de Calidad y Evaluacin Ambiental, por la que se formula declaracin de impacto ambiental del proyecto \\"Mdulo solar fotovoltaico de la instalacin hibrida Almendros II de 32,009 MWp\\".","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-3344","transparencia":45,"fecha_auditoria":"2026-01-23T16:24:28.326Z"},{"id":"BOE-A-2024-2233","titulo":"Resolucin de 31 de enero de 2024, del Ayuntamiento de Altafulla (Tarragona), referente a la convocatoria para proveer una plaza.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-2233","transparencia":45,"fecha_auditoria":"2026-01-23T16:23:49.391Z"},{"id":"BOE-A-2024-1122","titulo":"Resolucin de 9 de enero de 2024, del Organismo Autnomo Local del Servicio de Atencin a la Tercera Edad-Residencia Zallako Eguzki (Bizkaia), referente a la convocatoria para proveer varias plazas.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-1122","transparencia":45,"fecha_auditoria":"2026-01-23T16:23:23.119Z"},{"id":"BOE-A-2024-1055","titulo":"Decreto de 10 de enero de 2024, del Fiscal General del Estado, por el que se acepta la renuncia de don Antonio Amor Lpez como Fiscal Delegado Provincial de la Fiscala Especial Antidroga de Las Palmas.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-1055","transparencia":70,"fecha_auditoria":"2026-01-23T16:22:52.860Z"},{"id":"BOE-A-2024-9122","titulo":"Resolucin de 3 de mayo de 2024, del Ayuntamiento de Albalat dels Sorells (Valencia/Valncia), referente a la convocatoria para proveer puestos de trabajo por el sistema de concurso.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-9122","transparencia":42,"fecha_auditoria":"2026-01-23T16:21:52.957Z"},{"id":"BOE-A-2024-8901","titulo":"Acuerdo de 8 de febrero de 2024, de la Comisin Permanente del Consejo General del Poder Judicial, por el que se declara la jubilacin forzosa del Magistrado don Jos Luis Snchez-Crespo Bentez.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-8901","transparencia":85,"fecha_auditoria":"2026-01-23T16:21:14.063Z"},{"id":"BOE-A-2024-7788","titulo":"Resolucin de 9 de abril de 2024, de la Subsecretara, por la que se aprueba la Carta de Servicios de la Subdelegacin del Gobierno en Pontevedra para el periodo 2024-2027.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-7788","transparencia":62,"fecha_auditoria":"2026-01-23T16:20:20.982Z"},{"id":"BOE-A-2024-6123","titulo":"Resolucin de 19 de marzo de 2024, del Instituto Nacional de Gestin Sanitaria, por la que se nombra personal estatutario fijo en plaza en la categora de Titulado Especialista en Ciencias de la Salud: Anestesiologa y Reanimacin.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-6123","transparencia":85,"fecha_auditoria":"2026-01-23T16:19:15.965Z"},{"id":"BOE-A-2024-5012","titulo":"Resolucin de 6 de marzo de 2024, del Ayuntamiento de Los Llanos de Aridane (Santa Cruz de Tenerife), referente a la convocatoria para proveer varias plazas.","url_boe":"https://www.boe.es/buscar/doc.php?id=BOE-A-2024-5012","transparencia":65,"fecha_auditoria":"2026-01-23T16:18:33.185Z"}]'),sie=Object.freeze(Object.defineProperty({__proto__:null,default:oie},Symbol.toStringTag,{value:"Module"})),ay="boe_audit_history_v1",lie=()=>{const t=Object.assign({"../audited_reports/Audit_BOE-A-2024-1055_1769185378895.json":Jte,"../audited_reports/Audit_BOE-A-2024-1122_1769185409610.json":Qte,"../audited_reports/Audit_BOE-A-2024-2233_1769185438898.json":tne,"../audited_reports/Audit_BOE-A-2024-3344_1769185472130.json":ine,"../audited_reports/Audit_BOE-A-2024-4161_1769185195743.json":ane,"../audited_reports/Audit_BOE-A-2024-4161_1769530814618.json":sne,"../audited_reports/Audit_BOE-A-2024-4161_1769530816065.json":une,"../audited_reports/Audit_BOE-A-2024-5012_1769185117395.json":fne,"../audited_reports/Audit_BOE-A-2024-6123_1769185172778.json":hne,"../audited_reports/Audit_BOE-A-2024-7788_1769185225653.json":mne,"../audited_reports/Audit_BOE-A-2024-9122_1769185319432.json":vne,"../audited_reports/Audit_BOE-A-2024-9122_1769185346373.json":_ne,"../audited_reports/Audit_BOE-A-2026-1760_1769432492749.json":xne,"../audited_reports/Audit_BOE-A-2026-1844_1769439564582.json":Ene,"../audited_reports/Audit_BOE-A-2026-1919_1769513466459.json":Ane,"../audited_reports/Audit_BOE-A-2026-1920_1769513788436.json":wne,"../audited_reports/Audit_BOE-A-2026-2072_1769687823683.json":Rne,"../audited_reports/Audit_BOE-A-2026-2072_1769698402656.json":Pne,"../audited_reports/Audit_BOE-A-2026-2072_1769698424376.json":Dne,"../audited_reports/Audit_BOE-A-2026-2073_1769687837906.json":Lne,"../audited_reports/Audit_BOE-A-2026-2074_1769688452278.json":Fne,"../audited_reports/Audit_BOE-A-2026-2075_1769688468064.json":Bne,"../audited_reports/Audit_BOE-A-2026-2078_1769688494228.json":Gne,"../audited_reports/Audit_BOE-A-2026-2079_1769688508780.json":Hne,"../audited_reports/Audit_BOE-A-2026-2080_1769688585689.json":Wne,"../audited_reports/Audit_BOE-A-2026-2082_1769698346823.json":Xne,"../audited_reports/Audit_BOE-A-2026-2082_1769698373862.json":$ne,"../audited_reports/Audit_BOE-A-2026-2084_1769698265748.json":Jne,"../audited_reports/Audit_BOE-B-2026-2227_1769532707583.json":Qne,"../audited_reports/Audit_BOE-B-2026-2227_1769532707730.json":tie,"../audited_reports/Audit_BOE-B-2026-2227_1769623775927.json":iie,"../audited_reports/Audit_BOE-B-2026-2227_1769623992012.json":aie}),e=Object.assign({"../audited_reports/BOE_Audit_Index_1769698424377.json":sie}),n=[];Object.values(e).forEach(r=>{Array.isArray(r.default)&&n.push(...r.default)});const i=[];return Object.values(t).forEach(r=>{const a=r.default;if(a&&a.boe_id&&a.report){const o=n.find(s=>s.id===a.boe_id);i.push({boeId:a.boe_id,title:(o==null?void 0:o.titulo)||a.title||a.boe_id,audit:a.report,timestamp:a.timestamp?new Date(a.timestamp).getTime():Date.now()})}}),i},uie=async()=>{let t=[];const e=localStorage.getItem(ay),n=e?JSON.parse(e):[],i=lie(),r=[...t];let a=!1;return i.forEach(o=>{r.find(s=>s.boeId===o.boeId)||r.push(o),n.find(s=>s.boeId===o.boeId)||(n.push(o),a=!0)}),a&&localStorage.setItem(ay,JSON.stringify(n)),n.forEach(o=>{r.find(s=>s.boeId===o.boeId)||r.push(o)}),r.sort((o,s)=>s.timestamp-o.timestamp)},B0=async(t,e,n)=>{const i={boeId:t,title:e,audit:n,timestamp:Date.now()},r=localStorage.getItem(ay),o=(r?JSON.parse(r):[]).filter(s=>s.boeId!==t);localStorage.setItem(ay,JSON.stringify([i,...o]))},cie=()=>{localStorage.removeItem(ay)},fie=({history:t,onClear:e,onImport:n,lang:i,isLoggedIn:r})=>{const a=Pg[i],[o,s]=xX(),[u,c]=Ul.useState(""),[d,p]=Ul.useState(0),[v,y]=Ul.useState(100),[b,T]=Ul.useState(o.get("tag")||"");Ul.useEffect(()=>{const O=o.get("tag");O&&T(O)},[o]);const S=O=>{T(O),s(O?{tag:O}:{})},A=Ul.useMemo(()=>{const O=new Set;return t.forEach(F=>{F.audit.comunidad_autonoma&&O.add(F.audit.comunidad_autonoma),F.audit.tipologia&&O.add(F.audit.tipologia)}),Array.from(O).sort()},[t]),R=Ul.useMemo(()=>t.filter(O=>{const F=O.title.toLowerCase().includes(u.toLowerCase())||O.boeId.toLowerCase().includes(u.toLowerCase()),z=O.audit.nivel_transparencia>=d&&O.audit.nivel_transparencia<=v,U=!b||O.audit.comunidad_autonoma===b||O.audit.tipologia===b||O.audit.banderas_rojas&&O.audit.banderas_rojas.includes(b);return F&&z&&U}),[t,u,d,v,b]),I=()=>{const O=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),F=URL.createObjectURL(O),z=document.createElement("a");z.href=F,z.download=`BOE_Audit_Full_History_${new Date().getTime()}.json`,z.click(),URL.revokeObjectURL(F)},N=O=>{var U;const F=(U=O.target.files)==null?void 0:U[0];if(!F)return;const z=new FileReader;z.onload=B=>{var j;try{const W=JSON.parse((j=B.target)==null?void 0:j.result);n(W)}catch{alert(a.importError)}},z.readAsText(F)},D=()=>{const O=t.map(B=>({id:B.boeId,titulo:B.title,url_boe:`https://www.boe.es/buscar/doc.php?id=${B.boeId}`,transparencia:B.audit.nivel_transparencia,fecha_auditoria:new Date(B.timestamp).toISOString()})),F=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),z=URL.createObjectURL(F),U=document.createElement("a");U.href=z,U.download=`BOE_Audit_Index_${new Date().getTime()}.json`,U.click(),URL.revokeObjectURL(z)};return re.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[re.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-4 space-y-4",children:[re.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[re.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[re.jsx(hz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),re.jsx("input",{type:"text",placeholder:a.searchPlaceholder,className:"w-full bg-slate-950 border border-slate-800 rounded-xl py-2 pl-10 pr-4 text-sm outline-none focus:border-blue-500 transition-all",value:u,onChange:O=>c(O.target.value)})]}),re.jsxs("div",{className:"flex flex-wrap gap-2",children:[re.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 border border-slate-800 rounded-xl px-3 py-2",children:[re.jsx(S3,{size:14,className:"text-slate-500"}),re.jsxs("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:[a.minTransparency,":"]}),re.jsx("input",{type:"range",min:"0",max:"100",value:d,onChange:O=>p(parseInt(O.target.value)),className:"w-20 h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-blue-500"}),re.jsxs("span",{className:"text-xs font-mono text-blue-400 w-8 text-right",children:[d,"%"]})]}),re.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 border border-slate-800 rounded-xl px-3 py-2",children:[re.jsx(S3,{size:14,className:"text-slate-500"}),re.jsxs("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:[a.maxTransparency,":"]}),re.jsx("input",{type:"range",min:"0",max:"100",value:v,onChange:O=>y(parseInt(O.target.value)),className:"w-20 h-1.5 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-red-500"}),re.jsxs("span",{className:"text-xs font-mono text-red-400 w-8 text-right",children:[v,"%"]})]})]}),re.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 border border-slate-800 rounded-xl px-3 py-2",children:[re.jsx(zC,{size:14,className:"text-slate-500"}),re.jsxs("select",{className:"bg-transparent text-xs text-slate-300 outline-none cursor-pointer",value:b,onChange:O=>S(O.target.value),children:[re.jsx("option",{value:"",children:a.allTags}),A.map(O=>re.jsx("option",{value:O,children:O},O))]})]})]}),r&&re.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-slate-800",children:[re.jsxs("button",{onClick:D,disabled:t.length===0,className:"bg-emerald-600/10 hover:bg-emerald-600 disabled:opacity-30 text-emerald-400 hover:text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border border-emerald-600/20 flex items-center gap-1.5",children:[re.jsx(uz,{size:12}),a.exportHistoryJson]}),re.jsxs("button",{onClick:I,disabled:t.length===0,className:"bg-blue-600/10 hover:bg-blue-600 disabled:opacity-30 text-blue-400 hover:text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border border-blue-600/20 flex items-center gap-1.5",children:[re.jsx(cz,{size:12}),a.exportAllJson]}),re.jsxs("label",{className:"cursor-pointer bg-purple-600/10 hover:bg-purple-600 text-purple-400 hover:text-white px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border border-purple-600/20 flex items-center gap-1.5",children:[re.jsx(CY,{size:12}),a.importJson,re.jsx("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]}),re.jsx("button",{onClick:e,disabled:t.length===0,className:"bg-slate-800 hover:bg-red-900/40 disabled:opacity-30 text-slate-500 hover:text-red-400 px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border border-slate-700 ml-auto",children:a.clearHistory})]})]}),re.jsxs("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar flex-1 min-h-[400px]",children:[R.length===0&&re.jsx("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600 opacity-40 italic text-sm",children:"No se han encontrado auditoras que coincidan con los filtros"}),R.map(O=>re.jsxs("div",{className:"group relative bg-slate-900/40 border border-slate-800/80 p-4 rounded-2xl hover:bg-slate-900 hover:border-blue-500/30 transition-all text-left shadow-lg flex flex-col",children:[re.jsxs("div",{className:"flex items-start justify-between mb-3",children:[re.jsxs("div",{className:"flex gap-2 items-center",children:[re.jsx("span",{className:"text-[10px] font-mono text-slate-500 uppercase tracking-widest",children:O.boeId}),O.audit.comunidad_autonoma&&re.jsxs("span",{className:"flex items-center gap-1 bg-blue-950/40 text-blue-400 px-2 py-0.5 rounded text-[9px] border border-blue-900/50",children:[re.jsx(dz,{size:8})," ",O.audit.comunidad_autonoma]}),O.audit.tipologia&&re.jsxs("span",{className:"flex items-center gap-1 bg-purple-950/40 text-purple-400 px-2 py-0.5 rounded text-[9px] border border-purple-900/50",children:[re.jsx(zC,{size:8})," ",O.audit.tipologia]})]}),re.jsxs("div",{className:"flex items-center gap-2",children:[re.jsx("a",{href:`https://www.boe.es/buscar/doc.php?id=${O.boeId}`,target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-blue-400 transition-colors",title:a.viewOfficial,children:re.jsx(CI,{size:14})}),re.jsxs("div",{className:`flex items-center gap-1 bg-slate-950 px-2 py-1 rounded-lg text-[10px] font-bold border ${O.audit.nivel_transparencia>=70?"text-emerald-400 border-emerald-900/30":O.audit.nivel_transparencia>33?"text-amber-400 border-amber-900/30":"text-red-400 border-red-900/30"}`,children:[re.jsx(FX,{size:10}),O.audit.nivel_transparencia,"%"]})]})]}),re.jsxs(CE,{to:`/audit/${O.boeId}`,className:"text-left group/btn",children:[re.jsx("h3",{className:"font-bold text-slate-200 line-clamp-2 text-sm leading-snug mb-4 group-hover/btn:text-blue-400 transition-colors",children:O.title}),re.jsx("div",{className:"w-full bg-slate-950 h-1.5 rounded-full overflow-hidden mb-3 border border-slate-800/50",children:re.jsx("div",{className:`h-full transition-all duration-1000 ${O.audit.nivel_transparencia>=70?"bg-emerald-500":O.audit.nivel_transparencia>33?"bg-amber-500":"bg-red-500"}`,style:{width:`${O.audit.nivel_transparencia}%`}})}),re.jsxs("div",{className:"flex justify-between items-center text-[10px] text-slate-500 pt-1",children:[re.jsxs("span",{className:"flex items-center gap-1.5",children:[re.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"}),a.auditedOn(new Date(O.timestamp).toLocaleDateString())]}),re.jsxs("span",{className:"flex items-center gap-1 text-blue-400 font-bold opacity-0 group-hover/btn:opacity-100 transition-all transform translate-x-2 group-hover/btn:translate-x-0",children:[a.goToAudit," ",re.jsx(zX,{size:10})]})]})]})]},`${O.boeId}-${O.timestamp}`))]})]})},die=({resetState:t,lang:e,toggleLang:n,isLoggedIn:i,handleLogout:r,setShowLogin:a,t:o,currentView:s})=>{const[u,c]=G.useState(!1),d=wg(),p=v=>{d(v),t(),c(!1)};return re.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-[100] bg-slate-950/80 backdrop-blur-xl border-b border-slate-800/50",children:[re.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:re.jsxs("div",{className:"flex items-center justify-between h-20",children:[re.jsx("div",{className:"flex items-center gap-4",children:re.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>p("/"),children:[re.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 group-hover:scale-110 transition-transform",children:re.jsx(gS,{className:"text-white",size:24})}),re.jsxs("div",{className:"hidden sm:block",children:[re.jsx("h1",{className:"text-lg font-black text-white leading-none",children:"Civic Auditor"}),re.jsx("p",{className:"text-[10px] font-bold text-blue-400 tracking-tighter uppercase",children:"Agent #0412"})]})]})}),re.jsxs("div",{className:"hidden md:flex items-center gap-1 bg-slate-900/50 p-1 rounded-xl border border-slate-800",children:[re.jsxs("button",{onClick:()=>p("/"),className:`px-5 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="home"?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[re.jsx(GC,{size:16}),o.home]}),re.jsxs("button",{onClick:()=>p("/history"),className:`px-5 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="history"?"bg-purple-600 text-white shadow-lg shadow-purple-900/40":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[re.jsx(BC,{size:16}),o.historyMenu]}),re.jsxs("button",{onClick:()=>p("/tags"),className:`px-5 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="tags"?"bg-cyan-600 text-white shadow-lg shadow-cyan-900/40":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[re.jsx(_3,{size:16}),"3D Tags"]})]}),re.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[re.jsx("button",{onClick:n,className:"bg-slate-900 border border-slate-700 w-10 h-10 rounded-xl flex items-center justify-center hover:bg-slate-800 transition-all text-blue-400",title:e.toUpperCase(),children:re.jsx(eY,{size:18})}),i?re.jsxs("button",{onClick:r,className:"bg-red-900/10 border border-red-900/30 px-4 py-2 rounded-xl flex items-center gap-2 hover:bg-red-900/20 transition-all text-sm font-bold text-red-400",children:[re.jsx(E3,{size:16}),re.jsx("span",{className:"hidden lg:inline",children:o.logoutBtn})]}):re.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-500 px-5 py-2 rounded-xl flex items-center gap-2 transition-all text-sm font-bold text-white shadow-lg shadow-blue-900/20",children:[re.jsx(gS,{size:16}),o.loginTitle]})]}),re.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[re.jsx("button",{onClick:n,className:"bg-slate-900 border border-slate-700 w-10 h-10 rounded-xl flex items-center justify-center text-blue-400",children:re.jsx("span",{className:"text-xs font-black",children:e.toUpperCase()})}),re.jsx("button",{onClick:()=>c(!u),className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",children:u?re.jsx(NY,{size:28}):re.jsx(dY,{size:28})})]})]})}),u&&re.jsx("div",{className:"md:hidden bg-slate-950 border-b border-slate-800 animate-in slide-in-from-top duration-300",children:re.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-3",children:[re.jsxs("button",{onClick:()=>p("/"),className:`w-full p-4 rounded-2xl text-left font-bold flex items-center gap-3 ${s==="home"?"bg-blue-600/10 text-blue-400 border border-blue-600/20":"text-slate-400"}`,children:[re.jsx(GC,{size:20}),o.home]}),re.jsxs("button",{onClick:()=>p("/history"),className:`w-full p-4 rounded-2xl text-left font-bold flex items-center gap-3 ${s==="history"?"bg-purple-600/10 text-purple-400 border border-purple-600/20":"text-slate-400"}`,children:[re.jsx(BC,{size:20}),o.historyMenu]}),re.jsxs("button",{onClick:()=>p("/tags"),className:`w-full p-4 rounded-2xl text-left font-bold flex items-center gap-3 ${s==="tags"?"bg-cyan-600/10 text-cyan-400 border border-cyan-600/20":"text-slate-400"}`,children:[re.jsx(_3,{size:20}),"3D Tags"]}),re.jsx("div",{className:"pt-4 border-t border-slate-800/50",children:i?re.jsxs("button",{onClick:()=>{r(),c(!1)},className:"w-full p-4 rounded-2xl text-left font-bold flex items-center gap-3 text-red-400 bg-red-900/10",children:[re.jsx(E3,{size:20}),o.logoutBtn]}):re.jsxs("button",{onClick:()=>{a(!0),c(!1)},className:"w-full p-4 rounded-2xl text-left font-bold flex items-center gap-3 text-white bg-blue-600 shadow-xl shadow-blue-900/20",children:[re.jsx(gS,{size:20}),o.loginTitle]})})]})})]})},hie=()=>{const t="G-Z90PTJXTEN";return G.useEffect(()=>{window.GA_INITIALIZED?console.log(" Google Analytics: Already initialized via <head> with ID",t):console.log(" Google Analytics: ID found but not initialized. Check if it is blocked or misconfigured.")},[t]),null};function gG(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=gG(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Lr(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=gG(t))&&(i&&(i+=" "),i+=e);return i}var pie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BI(t){if(typeof t!="string")return!1;var e=pie;return e.includes(t)}var mie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gie=new Set(mie);function vG(t){return typeof t!="string"?!1:gie.has(t)}function yG(t){return typeof t=="string"&&t.startsWith("data-")}function lg(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(vG(n)||yG(n))&&(e[n]=t[n]);return e}function nR(t){if(t==null)return null;if(G.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return lg(e)}return typeof t=="object"&&!Array.isArray(t)?lg(t):null}function sl(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(vG(n)||yG(n)||BI(n))&&(e[n]=t[n]);return e}var vie=["children","width","height","viewBox","className","style","title","desc"];function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iR.apply(null,arguments)}function yie(t,e){if(t==null)return{};var n,i,r=_ie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var _G=G.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:a,className:o,style:s,title:u,desc:c}=t,d=yie(t,vie),p=a||{width:i,height:r,x:0,y:0},v=Lr("recharts-surface",o);return G.createElement("svg",iR({},sl(d),{className:v,width:i,height:r,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),G.createElement("title",null,u),G.createElement("desc",null,c),n)}),bie=["children","className"];function rR(){return rR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rR.apply(null,arguments)}function xie(t,e){if(t==null)return{};var n,i,r=Sie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sie(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var vd=G.forwardRef((t,e)=>{var{children:n,className:i}=t,r=xie(t,bie),a=Lr("recharts-layer",i);return G.createElement("g",rR({className:a},sl(r),{ref:e}),n)}),Eie=G.createContext(null);function Ei(t){return function(){return t}}const bG=Math.cos,kS=Math.sin,Zl=Math.sqrt,BS=Math.PI,UE=2*BS,aR=Math.PI,oR=2*aR,Nh=1e-6,Tie=oR-Nh;function xG(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Aie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xG;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}let Mie=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xG:Aie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,o){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=i-e,c=r-n,d=o-e,p=s-n,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Nh)if(!(Math.abs(p*u-c*d)>Nh)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=i-o,b=r-s,T=u*u+c*c,S=y*y+b*b,A=Math.sqrt(T),R=Math.sqrt(v),I=a*Math.tan((aR-Math.acos((T+v-S)/(2*A*R)))/2),N=I/R,D=I/A;Math.abs(N-1)>Nh&&this._append`L${e+N*d},${n+N*p}`,this._append`A${a},${a},0,0,${+(p*y>d*b)},${this._x1=e+D*u},${this._y1=n+D*c}`}}arc(e,n,i,r,a,o){if(e=+e,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),u=i*Math.sin(r),c=e+s,d=n+u,p=1^o,v=o?r-a:a-r;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Nh||Math.abs(this._y1-d)>Nh)&&this._append`L${c},${d}`,i&&(v<0&&(v=v%oR+oR),v>Tie?this._append`A${i},${i},0,1,${p},${e-s},${n-u}A${i},${i},0,1,${p},${this._x1=c},${this._y1=d}`:v>Nh&&this._append`A${i},${i},0,${+(v>=aR)},${p},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function zI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Mie(e)}function GI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SG(t){this._context=t}SG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function FE(t){return new SG(t)}function EG(t){return t[0]}function TG(t){return t[1]}function AG(t,e){var n=Ei(!0),i=null,r=FE,a=null,o=zI(s);t=typeof t=="function"?t:t===void 0?EG:Ei(t),e=typeof e=="function"?e:e===void 0?TG:Ei(e);function s(u){var c,d=(u=GI(u)).length,p,v=!1,y;for(i==null&&(a=r(y=o())),c=0;c<=d;++c)!(c<d&&n(p=u[c],c,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,c,u),+e(p,c,u));if(y)return a=null,y+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:Ei(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:Ei(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ei(!!u),s):n},s.curve=function(u){return arguments.length?(r=u,i!=null&&(a=r(i)),s):r},s.context=function(u){return arguments.length?(u==null?i=a=null:a=r(i=u),s):i},s}function nx(t,e,n){var i=null,r=Ei(!0),a=null,o=FE,s=null,u=zI(c);t=typeof t=="function"?t:t===void 0?EG:Ei(+t),e=typeof e=="function"?e:Ei(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TG:Ei(+n);function c(p){var v,y,b,T=(p=GI(p)).length,S,A=!1,R,I=new Array(T),N=new Array(T);for(a==null&&(s=o(R=u())),v=0;v<=T;++v){if(!(v<T&&r(S=p[v],v,p))===A)if(A=!A)y=v,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=v-1;b>=y;--b)s.point(I[b],N[b]);s.lineEnd(),s.areaEnd()}A&&(I[v]=+t(S,v,p),N[v]=+e(S,v,p),s.point(i?+i(S,v,p):I[v],n?+n(S,v,p):N[v]))}if(R)return s=null,R+""||null}function d(){return AG().defined(r).curve(o).context(a)}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ei(+p),i=null,c):t},c.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ei(+p),c):t},c.x1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:Ei(+p),c):i},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ei(+p),n=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ei(+p),c):e},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ei(+p),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(i).y(e)},c.defined=function(p){return arguments.length?(r=typeof p=="function"?p:Ei(!!p),c):r},c.curve=function(p){return arguments.length?(o=p,a!=null&&(s=o(a)),c):o},c.context=function(p){return arguments.length?(p==null?a=s=null:s=o(a=p),c):a},c}class MG{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function wie(t){return new MG(t,!0)}function Cie(t){return new MG(t,!1)}const VI={draw(t,e){const n=Zl(e/BS);t.moveTo(n,0),t.arc(0,0,n,0,UE)}},Rie={draw(t,e){const n=Zl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wG=Zl(1/3),Iie=wG*2,Pie={draw(t,e){const n=Zl(e/Iie),i=n*wG;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Nie={draw(t,e){const n=Zl(e),i=-n/2;t.rect(i,i,n,n)}},Die=.8908130915292852,CG=kS(BS/10)/kS(7*BS/10),Oie=kS(UE/10)*CG,Lie=-bG(UE/10)*CG,Uie={draw(t,e){const n=Zl(e*Die),i=Oie*n,r=Lie*n;t.moveTo(0,-n),t.lineTo(i,r);for(let a=1;a<5;++a){const o=UE*a/5,s=bG(o),u=kS(o);t.lineTo(u*n,-s*n),t.lineTo(s*i-u*r,u*i+s*r)}t.closePath()}},nM=Zl(3),Fie={draw(t,e){const n=-Zl(e/(nM*3));t.moveTo(0,n*2),t.lineTo(-nM*n,-n),t.lineTo(nM*n,-n),t.closePath()}},Qs=-.5,el=Zl(3)/2,sR=1/Zl(12),kie=(sR/2+1)*3,Bie={draw(t,e){const n=Zl(e/kie),i=n/2,r=n*sR,a=i,o=n*sR+n,s=-a,u=o;t.moveTo(i,r),t.lineTo(a,o),t.lineTo(s,u),t.lineTo(Qs*i-el*r,el*i+Qs*r),t.lineTo(Qs*a-el*o,el*a+Qs*o),t.lineTo(Qs*s-el*u,el*s+Qs*u),t.lineTo(Qs*i+el*r,Qs*r-el*i),t.lineTo(Qs*a+el*o,Qs*o-el*a),t.lineTo(Qs*s+el*u,Qs*u-el*s),t.closePath()}};function zie(t,e){let n=null,i=zI(r);t=typeof t=="function"?t:Ei(t||VI),e=typeof e=="function"?e:Ei(e===void 0?64:+e);function r(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ei(a),r):t},r.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ei(+a),r):e},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function zS(){}function GS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RG(t){this._context=t}RG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:GS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:GS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gie(t){return new RG(t)}function IG(t){this._context=t}IG.prototype={areaStart:zS,areaEnd:zS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:GS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vie(t){return new IG(t)}function PG(t){this._context=t}PG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:GS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hie(t){return new PG(t)}function NG(t){this._context=t}NG.prototype={areaStart:zS,areaEnd:zS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qie(t){return new NG(t)}function aL(t){return t<0?-1:1}function oL(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(aL(a)+aL(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function sL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function iM(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function VS(t){this._context=t}VS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iM(this,this._t0,sL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iM(this,sL(this,n=oL(this,t,e)),n);break;default:iM(this,this._t0,n=oL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function DG(t){this._context=new OG(t)}(DG.prototype=Object.create(VS.prototype)).point=function(t,e){VS.prototype.point.call(this,e,t)};function OG(t){this._context=t}OG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function Wie(t){return new VS(t)}function jie(t){return new DG(t)}function LG(t){this._context=t}LG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=lL(t),r=lL(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lL(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),o=new Array(n);for(r[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,o[e]-=i*o[e-1];for(r[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function Xie(t){return new LG(t)}function kE(t,e){this._context=t,this._t=e}kE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Yie(t){return new kE(t,.5)}function $ie(t){return new kE(t,0)}function Kie(t){return new kE(t,1)}function Qh(t,e){if((o=t.length)>1)for(var n=1,i,r,a=t[e[0]],o,s=a.length;n<o;++n)for(r=a,a=t[e[n]],i=0;i<s;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function lR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Jie(t,e){return t[e]}function Zie(t){const e=[];return e.key=t,e}function Qie(){var t=Ei([]),e=lR,n=Qh,i=Jie;function r(a){var o=Array.from(t.apply(this,arguments),Zie),s,u=o.length,c=-1,d;for(const p of a)for(s=0,++c;s<u;++s)(o[s][c]=[0,+i(p,o[s].key,c,a)]).data=p;for(s=0,d=GI(e(o));s<u;++s)o[d[s]].index=s;return n(o,d),o}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ei(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Ei(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?lR:typeof a=="function"?a:Ei(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??Qh,r):n},r}function ere(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,o;r<a;++r){for(o=n=0;n<i;++n)o+=t[n][r][1]||0;if(o)for(n=0;n<i;++n)t[n][r][1]/=o}Qh(t,e)}}function tre(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=t[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}Qh(t,e)}}function nre(t,e){if(!(!((o=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,o;i<a;++i){for(var s=0,u=0,c=0;s<o;++s){for(var d=t[e[s]],p=d[i][1]||0,v=d[i-1][1]||0,y=(p-v)/2,b=0;b<s;++b){var T=t[e[b]],S=T[i][1]||0,A=T[i-1][1]||0;y+=S-A}u+=p,c+=y*p}r[i-1][1]+=r[i-1][0]=n,u&&(n-=c/u)}r[i-1][1]+=r[i-1][0]=n,Qh(t,e)}}var rM={},aM={},uL;function ire(){return uL||(uL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(aM)),aM}var oM={},cL;function UG(){return cL||(cL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(oM)),oM}var sM={},fL;function HI(){return fL||(fL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}t.toKey=e})(sM)),sM}var lM={},uM={},dL;function rre(){return dL||(dL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(uM)),uM}var hL;function qI(){return hL||(hL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rre(),n=HI();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const a=[],o=r.length;if(o===0)return a;let s=0,u="",c="",d=!1;for(r.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const p=r[s];c?p==="\\"&&s+1<o?(s++,u+=r[s]):p===c?c="":u+=p:d?p==='"'||p==="'"?c=p:p==="]"?(d=!1,a.push(u),u=""):u+=p:p==="["?(d=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,s++}return u&&a.push(u),a}t.toPath=i})(lM)),lM}var pL;function WI(){return pL||(pL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ire(),n=UG(),i=HI(),r=qI();function a(s,u,c){if(s==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const d=s[u];return d===void 0?n.isDeepKey(u)?a(s,r.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=i.toKey(u));const d=s[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(s,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const d=s[u];return d===void 0?c:d}}}function o(s,u,c){if(u.length===0)return c;let d=s;for(let p=0;p<u.length;p++){if(d==null||e.isUnsafeProperty(u[p]))return c;d=d[u[p]]}return d===void 0?c:d}t.get=a})(rM)),rM}var cM,mL;function are(){return mL||(mL=1,cM=WI().get),cM}var ore=are();const oy=fl(ore);var sre=4;function dd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sre,n=10**e,i=Math.round(t*n)/n;return Object.is(i,-0)?0:i}function cr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.reduce((r,a,o)=>{var s=n[o-1];return typeof s=="string"?r+s+a:s!==void 0?r+dd(s)+a:r+a},"")}var $o=t=>t===0?0:t>0?1:-1,Kc=t=>typeof t=="number"&&t!=+t,Jc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,nn=t=>(typeof t=="number"||t instanceof Number)&&!Kc(t),Zc=t=>nn(t)||typeof t=="string",lre=0,sy=t=>{var e=++lre;return"".concat(t||"").concat(e)},gs=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nn(e)&&typeof e!="string")return i;var a;if(Jc(e)){if(n==null)return i;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Kc(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},FG=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[String(t[i])])n[String(t[i])]=!0;else return!0;return!1};function kl(t,e,n){return nn(t)&&nn(e)?dd(t+n*(e-t)):e}function ure(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):oy(i,e))===n)}var bs=t=>t===null||typeof t>"u",Hy=t=>bs(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function cre(t){return t!=null}function qy(){}var fre=["type","size","sizeType"];function uR(){return uR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uR.apply(null,arguments)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(i){dre(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mre(t,e){if(t==null)return{};var n,i,r=gre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gre(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var kG={symbolCircle:VI,symbolCross:Rie,symbolDiamond:Pie,symbolSquare:Nie,symbolStar:Uie,symbolTriangle:Fie,symbolWye:Bie},vre=Math.PI/180,yre=t=>{var e="symbol".concat(Hy(t));return kG[e]||VI},_re=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*vre;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bre=(t,e)=>{kG["symbol".concat(Hy(t))]=e},BG=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,r=mre(t,fre),a=vL(vL({},r),{},{type:e,size:n,sizeType:i}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var v=yre(o),y=zie().type(v).size(_re(n,i,o)),b=y();if(b!==null)return b},{className:u,cx:c,cy:d}=a,p=sl(a);return nn(c)&&nn(d)&&nn(n)?G.createElement("path",uR({},p,{className:Lr("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};BG.registerSymbol=bre;var zG=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,xre=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(G.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{BI(r)&&(i[r]=(a=>n[r](n,a)))}),i},Sre=(t,e,n)=>i=>(t(e,n,i),null),Ere=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var a=t[r];BI(r)&&typeof a=="function"&&(i||(i={}),i[r]=Sre(a,e,n))}),i};function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Tre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(i){Are(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Are(t,e,n){return(e=Mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yu(t,e){var n=Tre({},t),i=e,r=Object.keys(e),a=r.reduce((o,s)=>(o[s]===void 0&&i[s]!==void 0&&(o[s]=i[s]),o),n);return a}var fM={},dM={},_L;function Cre(){return _L||(_L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const r=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=i(o,a,n);r.has(s)||r.set(s,o)}return Array.from(r.values())}t.uniqBy=e})(dM)),dM}var hM={},bL;function Rre(){return bL||(bL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return function(...r){return n.apply(this,r.slice(0,i))}}t.ary=e})(hM)),hM}var pM={},xL;function GG(){return xL||(xL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(pM)),pM}var mM={},gM={},vM={},SL;function Ire(){return SL||(SL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(vM)),vM}var EL;function jI(){return EL||(EL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ire();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(gM)),gM}var yM={},TL;function Pre(){return TL||(TL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(yM)),yM}var AL;function Nre(){return AL||(AL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jI(),n=Pre();function i(r){return n.isObjectLike(r)&&e.isArrayLike(r)}t.isArrayLikeObject=i})(mM)),mM}var _M={},bM={},ML;function Dre(){return ML||(ML=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WI();function n(i){return function(r){return e.get(r,i)}}t.property=n})(bM)),bM}var xM={},SM={},EM={},TM={},wL;function VG(){return wL||(wL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(TM)),TM}var AM={},CL;function HG(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(AM)),AM}var MM={},RL;function qG(){return RL||(RL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.isEqualsSameValueZero=e})(MM)),MM}var IL;function Ore(){return IL||(IL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VG(),n=HG(),i=qG();function r(d,p,v){return typeof v!="function"?r(d,p,()=>{}):a(d,p,function y(b,T,S,A,R,I){const N=v(b,T,S,A,R,I);return N!==void 0?!!N:a(b,T,y,I)},new Map)}function a(d,p,v,y){if(p===d)return!0;switch(typeof p){case"object":return o(d,p,v,y);case"function":return Object.keys(p).length>0?a(d,{...p},v,y):i.isEqualsSameValueZero(d,p);default:return e.isObject(d)?typeof p=="string"?p==="":!0:i.isEqualsSameValueZero(d,p)}}function o(d,p,v,y){if(p==null)return!0;if(Array.isArray(p))return u(d,p,v,y);if(p instanceof Map)return s(d,p,v,y);if(p instanceof Set)return c(d,p,v,y);const b=Object.keys(p);if(d==null||n.isPrimitive(d))return b.length===0;if(b.length===0)return!0;if(y!=null&&y.has(p))return y.get(p)===d;y==null||y.set(p,d);try{for(let T=0;T<b.length;T++){const S=b[T];if(!n.isPrimitive(d)&&!(S in d)||p[S]===void 0&&d[S]!==void 0||p[S]===null&&d[S]!==null||!v(d[S],p[S],S,d,p,y))return!1}return!0}finally{y==null||y.delete(p)}}function s(d,p,v,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,T]of p.entries()){const S=d.get(b);if(v(S,T,b,d,p,y)===!1)return!1}return!0}function u(d,p,v,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let T=0;T<p.length;T++){const S=p[T];let A=!1;for(let R=0;R<d.length;R++){if(b.has(R))continue;const I=d[R];let N=!1;if(v(I,S,T,d,p,y)&&(N=!0),N){b.add(R),A=!0;break}}if(!A)return!1}return!0}function c(d,p,v,y){return p.size===0?!0:d instanceof Set?u([...d],[...p],v,y):!1}t.isMatchWith=r,t.isSetMatch=c})(EM)),EM}var PL;function WG(){return PL||(PL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ore();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(SM)),SM}var wM={},CM={},RM={},NL;function Lre(){return NL||(NL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(RM)),RM}var IM={},DL;function XI(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(IM)),IM}var PM={},OL;function jG(){return OL||(OL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",p="[object Function]",v="[object ArrayBuffer]",y="[object Object]",b="[object Error]",T="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",R="[object Uint16Array]",I="[object Uint32Array]",N="[object BigUint64Array]",D="[object Int8Array]",O="[object Int16Array]",F="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=N,t.booleanTag=r,t.dataViewTag=T,t.dateTag=s,t.errorTag=b,t.float32ArrayTag=U,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=O,t.int32ArrayTag=F,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=i,t.objectTag=y,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=I,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=A})(PM)),PM}var NM={},LL;function Ure(){return LL||(LL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(NM)),NM}var UL;function XG(){return UL||(UL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lre(),n=XI(),i=jG(),r=HG(),a=Ure();function o(d,p){return s(d,void 0,d,new Map,p)}function s(d,p,v,y=new Map,b=void 0){const T=b==null?void 0:b(d,p,v,y);if(T!==void 0)return T;if(r.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const S=new Array(d.length);y.set(d,S);for(let A=0;A<d.length;A++)S[A]=s(d[A],A,v,y,b);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;y.set(d,S);for(const[A,R]of d)S.set(A,s(R,A,v,y,b));return S}if(d instanceof Set){const S=new Set;y.set(d,S);for(const A of d)S.add(s(A,void 0,v,y,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,S);for(let A=0;A<d.length;A++)S[A]=s(d[A],A,v,y,b);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,S),u(S,d,v,y,b),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return y.set(d,S),u(S,d,v,y,b),S}if(typeof Blob<"u"&&d instanceof Blob){const S=new Blob([d],{type:d.type});return y.set(d,S),u(S,d,v,y,b),S}if(d instanceof Error){const S=new d.constructor;return y.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,u(S,d,v,y,b),S}if(d instanceof Boolean){const S=new Boolean(d.valueOf());return y.set(d,S),u(S,d,v,y,b),S}if(d instanceof Number){const S=new Number(d.valueOf());return y.set(d,S),u(S,d,v,y,b),S}if(d instanceof String){const S=new String(d.valueOf());return y.set(d,S),u(S,d,v,y,b),S}if(typeof d=="object"&&c(d)){const S=Object.create(Object.getPrototypeOf(d));return y.set(d,S),u(S,d,v,y,b),S}return d}function u(d,p,v=d,y,b){const T=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<T.length;S++){const A=T[S],R=Object.getOwnPropertyDescriptor(d,A);(R==null||R.writable)&&(d[A]=s(p[A],A,v,y,b))}}function c(d){switch(n.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=u})(CM)),CM}var FL;function Fre(){return FL||(FL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XG();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(wM)),wM}var kL;function kre(){return kL||(kL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WG(),n=Fre();function i(r){return r=n.cloneDeep(r),a=>e.isMatch(a,r)}t.matches=i})(xM)),xM}var DM={},OM={},LM={},BL;function Bre(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XG(),n=XI(),i=jG();function r(a,o){return e.cloneDeepWith(a,(s,u,c,d)=>{const p=o==null?void 0:o(s,u,c,d);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===i.objectTag&&typeof a.constructor!="function"){const v={};return d.set(a,v),e.copyProperties(v,a,c,d),v}switch(Object.prototype.toString.call(a)){case i.numberTag:case i.stringTag:case i.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(v,a),v}case i.argumentsTag:{const v={};return e.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}t.cloneDeepWith=r})(LM)),LM}var zL;function zre(){return zL||(zL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bre();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(OM)),OM}var UM={},FM={},GL;function YG(){return GL||(GL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(FM)),FM}var kM={},VL;function Gre(){return VL||(VL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XI();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(kM)),kM}var HL;function Vre(){return HL||(HL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UG(),n=YG(),i=Gre(),r=qI();function a(o,s){let u;if(Array.isArray(s)?u=s:typeof s=="string"&&e.isDeepKey(s)&&(o==null?void 0:o[s])==null?u=r.toPath(s):u=[s],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const p=u[d];if((c==null||!Object.hasOwn(c,p))&&!((Array.isArray(c)||i.isArguments(c))&&n.isIndex(p)&&p<c.length))return!1;c=c[p]}return!0}t.has=a})(UM)),UM}var qL;function Hre(){return qL||(qL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WG(),n=HI(),i=zre(),r=WI(),a=Vre();function o(s,u){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return u=i.cloneDeep(u),function(c){const d=r.get(c,s);return d===void 0?a.has(c,s):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=o})(DM)),DM}var WL;function qre(){return WL||(WL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GG(),n=Dre(),i=kre(),r=Hre();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(_M)),_M}var jL;function Wre(){return jL||(jL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cre(),n=Rre(),i=GG(),r=Nre(),a=qre();function o(s,u=i.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),n.ary(a.iteratee(u),1)):[]}t.uniqBy=o})(fM)),fM}var BM,XL;function jre(){return XL||(XL=1,BM=Wre().uniqBy),BM}var Xre=jre();const YL=fl(Xre);function Yre(t,e,n){return e===!0?YL(t,n):typeof e=="function"?YL(t,e):t}var zM={exports:{}},GM={},VM={exports:{}},HM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $L;function $re(){if($L)return HM;$L=1;var t=Tg();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(p,v){var y=v(),b=i({inst:{value:y,getSnapshot:v}}),T=b[0].inst,S=b[1];return a(function(){T.value=y,T.getSnapshot=v,u(T)&&S({inst:T})},[p,y,v]),r(function(){return u(T)&&S({inst:T}),p(function(){u(T)&&S({inst:T})})},[p]),o(y),y}function u(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!n(p,y)}catch{return!0}}function c(p,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return HM.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,HM}var KL;function Kre(){return KL||(KL=1,VM.exports=$re()),VM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL;function Jre(){if(JL)return GM;JL=1;var t=Tg(),e=Kre();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return GM.useSyncExternalStoreWithSelector=function(c,d,p,v,y){var b=a(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=s(function(){function A(O){if(!R){if(R=!0,I=O,O=v(O),y!==void 0&&T.hasValue){var F=T.value;if(y(F,O))return N=F}return N=O}if(F=N,i(I,O))return F;var z=v(O);return y!==void 0&&y(F,z)?(I=O,F):(I=O,N=z)}var R=!1,I,N,D=p===void 0?null:p;return[function(){return A(d())},D===null?void 0:function(){return A(D())}]},[d,p,v,y]);var S=r(c,b[0],b[1]);return o(function(){T.hasValue=!0,T.value=S},[S]),u(S),S},GM}var ZL;function Zre(){return ZL||(ZL=1,zM.exports=Jre()),zM.exports}var $G=Zre();const Qre=fl($G);var YI=G.createContext(null),eae=t=>t,Xr=()=>{var t=G.useContext(YI);return t?t.store.dispatch:eae},_S=()=>{},tae=()=>_S,nae=(t,e)=>t===e;function bn(t){var e=G.useContext(YI);return $G.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tae,e?e.store.getState:_S,e?e.store.getState:_S,e?t:_S,nae)}function iae(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rae(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function aae(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var QL=t=>Array.isArray(t)?t:[t];function oae(t){const e=Array.isArray(t[0])?t[0]:t;return aae(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function sae(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var lae=class{constructor(t){this.value=t}deref(){return this.value}},uae=typeof WeakRef<"u"?WeakRef:lae,cae=0,eU=1;function ix(){return{s:cae,v:void 0,o:null,p:null}}function KG(t,e={}){let n=ix();const{resultEqualityCheck:i}=e;let r,a=0;function o(){var p;let s=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const b=arguments[v];if(typeof b=="function"||typeof b=="object"&&b!==null){let T=s.o;T===null&&(s.o=T=new WeakMap);const S=T.get(b);S===void 0?(s=ix(),T.set(b,s)):s=S}else{let T=s.p;T===null&&(s.p=T=new Map);const S=T.get(b);S===void 0?(s=ix(),T.set(b,s)):s=S}}const c=s;let d;if(s.s===eU)d=s.v;else if(d=t.apply(null,arguments),a++,i){const v=((p=r==null?void 0:r.deref)==null?void 0:p.call(r))??r;v!=null&&i(v,d)&&(d=v,a!==0&&a--),r=typeof d=="object"&&d!==null||typeof d=="function"?new uae(d):d}return c.s=eU,c.v=d,d}return o.clearCache=()=>{n=ix(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function fae(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let a=0,o=0,s,u={},c=r.pop();typeof c=="object"&&(u=c,c=r.pop()),iae(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:p,memoizeOptions:v=[],argsMemoize:y=KG,argsMemoizeOptions:b=[]}=d,T=QL(v),S=QL(b),A=oae(r),R=p(function(){return a++,c.apply(null,arguments)},...T),I=y(function(){o++;const D=sae(A,arguments);return s=R.apply(null,D),s},...S);return Object.assign(I,{resultFunc:c,memoizedResultFunc:R,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var Xe=fae(KG),dae=Object.assign((t,e=Xe)=>{rae(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(a=>t[a]);return e(i,(...a)=>a.reduce((o,s,u)=>(o[n[u]]=s,o),{}))},{withTypes:()=>dae}),qM={},WM={},jM={},tU;function hae(){return tU||(tU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const o=e(i),s=e(r);if(o===s&&o===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=n})(jM)),jM}var XM={},YM={},nU;function JG(){return nU||(nU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(YM)),YM}var iU;function pae(){return iU||(iU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=r})(XM)),XM}var rU;function mae(){return rU||(rU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hae(),n=pae(),i=qI();function r(a,o,s,u){if(a==null)return[];s=u?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(y=>String(y));const c=(y,b)=>{let T=y;for(let S=0;S<b.length&&T!=null;++S)T=T[b[S]];return T},d=(y,b)=>b==null||y==null?b:typeof y=="object"&&"key"in y?Object.hasOwn(b,y.key)?b[y.key]:c(b,y.path):typeof y=="function"?y(b):Array.isArray(y)?c(b,y):typeof b=="object"?b[y]:b,p=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:i.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(b=>d(b,y))})).slice().sort((y,b)=>{for(let T=0;T<p.length;T++){const S=e.compareValues(y.criteria[T],b.criteria[T],s[T]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=r})(WM)),WM}var $M={},aU;function gae(){return aU||(aU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],a=Math.floor(i),o=(s,u)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&u<a?o(d,u+1):r.push(d)}};return o(n,0),r}t.flatten=e})($M)),$M}var KM={},oU;function ZG(){return oU||(oU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YG(),n=jI(),i=VG(),r=qG();function a(o,s,u){return i.isObject(u)&&(typeof s=="number"&&n.isArrayLike(u)&&e.isIndex(s)&&s<u.length||typeof s=="string"&&s in u)?r.isEqualsSameValueZero(u[s],o):!1}t.isIterateeCall=a})(KM)),KM}var sU;function vae(){return sU||(sU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mae(),n=gae(),i=ZG();function r(a,...o){const s=o.length;return s>1&&i.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=r})(qM)),qM}var JM,lU;function yae(){return lU||(lU=1,JM=vae().sortBy),JM}var _ae=yae();const BE=fl(_ae);var QG=t=>t.legend.settings,bae=t=>t.legend.size,xae=t=>t.legend.payload;Xe([xae,QG],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?BE(i,n):i});var rx=1;function Sae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=G.useState({height:0,left:0,top:0,width:0}),i=G.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>rx||Math.abs(o.left-e.left)>rx||Math.abs(o.top-e.top)>rx||Math.abs(o.width-e.width)>rx)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function wa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Eae=typeof Symbol=="function"&&Symbol.observable||"@@observable",uU=Eae,ZM=()=>Math.random().toString(36).substring(7).split("").join("."),Tae={INIT:`@@redux/INIT${ZM()}`,REPLACE:`@@redux/REPLACE${ZM()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ZM()}`},HS=Tae;function $I(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function eV(t,e,n){if(typeof t!="function")throw new Error(wa(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wa(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wa(1));return n(eV)(t,e)}let i=t,r=e,a=new Map,o=a,s=0,u=!1;function c(){o===a&&(o=new Map,a.forEach((S,A)=>{o.set(A,S)}))}function d(){if(u)throw new Error(wa(3));return r}function p(S){if(typeof S!="function")throw new Error(wa(4));if(u)throw new Error(wa(5));let A=!0;c();const R=s++;return o.set(R,S),function(){if(A){if(u)throw new Error(wa(6));A=!1,c(),o.delete(R),a=null}}}function v(S){if(!$I(S))throw new Error(wa(7));if(typeof S.type>"u")throw new Error(wa(8));if(typeof S.type!="string")throw new Error(wa(17));if(u)throw new Error(wa(9));try{u=!0,r=i(r,S)}finally{u=!1}return(a=o).forEach(R=>{R()}),S}function y(S){if(typeof S!="function")throw new Error(wa(10));i=S,v({type:HS.REPLACE})}function b(){const S=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(wa(11));function R(){const N=A;N.next&&N.next(d())}return R(),{unsubscribe:S(R)}},[uU](){return this}}}return v({type:HS.INIT}),{dispatch:v,subscribe:p,getState:d,replaceReducer:y,[uU]:b}}function Aae(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:HS.INIT})>"u")throw new Error(wa(12));if(typeof n(void 0,{type:HS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wa(13))})}function tV(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const i=Object.keys(n);let r;try{Aae(n)}catch(a){r=a}return function(o={},s){if(r)throw r;let u=!1;const c={};for(let d=0;d<i.length;d++){const p=i[d],v=n[p],y=o[p],b=v(y,s);if(typeof b>"u")throw s&&s.type,new Error(wa(14));c[p]=b,u=u||b!==y}return u=u||i.length!==Object.keys(o).length,u?c:o}}function qS(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Mae(...t){return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(wa(15))};const o={getState:r.getState,dispatch:(u,...c)=>a(u,...c)},s=t.map(u=>u(o));return a=qS(...s)(r.dispatch),{...r,dispatch:a}}}function nV(t){return $I(t)&&"type"in t&&typeof t.type=="string"}var iV=Symbol.for("immer-nothing"),cU=Symbol.for("immer-draftable"),bo=Symbol.for("immer-state");function Bl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ps=Object,ug=ps.getPrototypeOf,WS="constructor",zE="prototype",cR="configurable",jS="enumerable",bS="writable",ly="value",Qc=t=>!!t&&!!t[bo];function Kl(t){var e;return t?rV(t)||VE(t)||!!t[cU]||!!((e=t[WS])!=null&&e[cU])||HE(t)||qE(t):!1}var wae=ps[zE][WS].toString(),fU=new WeakMap;function rV(t){if(!t||!KI(t))return!1;const e=ug(t);if(e===null||e===ps[zE])return!0;const n=ps.hasOwnProperty.call(e,WS)&&e[WS];if(n===Object)return!0;if(!Ym(n))return!1;let i=fU.get(n);return i===void 0&&(i=Function.toString.call(n),fU.set(n,i)),i===wae}function GE(t,e,n=!0){Wy(t)===0?(n?Reflect.ownKeys(t):ps.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function Wy(t){const e=t[bo];return e?e.type_:VE(t)?1:HE(t)?2:qE(t)?3:0}var dU=(t,e,n=Wy(t))=>n===2?t.has(e):ps[zE].hasOwnProperty.call(t,e),fR=(t,e,n=Wy(t))=>n===2?t.get(e):t[e],XS=(t,e,n,i=Wy(t))=>{i===2?t.set(e,n):i===3?t.add(n):t[e]=n};function Cae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var VE=Array.isArray,HE=t=>t instanceof Map,qE=t=>t instanceof Set,KI=t=>typeof t=="object",Ym=t=>typeof t=="function",QM=t=>typeof t=="boolean";function Rae(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Fc=t=>t.copy_||t.base_,JI=t=>t.modified_?t.copy_:t.base_;function dR(t,e){if(HE(t))return new Map(t);if(qE(t))return new Set(t);if(VE(t))return Array[zE].slice.call(t);const n=rV(t);if(e===!0||e==="class_only"&&!n){const i=ps.getOwnPropertyDescriptors(t);delete i[bo];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],s=i[o];s[bS]===!1&&(s[bS]=!0,s[cR]=!0),(s.get||s.set)&&(i[o]={[cR]:!0,[bS]:!0,[jS]:s[jS],[ly]:t[o]})}return ps.create(ug(t),i)}else{const i=ug(t);if(i!==null&&n)return{...t};const r=ps.create(i);return ps.assign(r,t)}}function ZI(t,e=!1){return WE(t)||Qc(t)||!Kl(t)||(Wy(t)>1&&ps.defineProperties(t,{set:ax,add:ax,clear:ax,delete:ax}),ps.freeze(t),e&&GE(t,(n,i)=>{ZI(i,!0)},!1)),t}function Iae(){Bl(2)}var ax={[ly]:Iae};function WE(t){return t===null||!KI(t)?!0:ps.isFrozen(t)}var YS="MapSet",hR="Patches",hU="ArrayMethods",aV={};function ep(t){const e=aV[t];return e||Bl(0,t),e}var pU=t=>!!aV[t],uy,oV=()=>uy,Pae=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:pU(YS)?ep(YS):void 0,arrayMethodsPlugin_:pU(hU)?ep(hU):void 0});function mU(t,e){e&&(t.patchPlugin_=ep(hR),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pR(t){mR(t),t.drafts_.forEach(Nae),t.drafts_=null}function mR(t){t===uy&&(uy=t.parent_)}var gU=t=>uy=Pae(uy,t);function Nae(t){const e=t[bo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[bo].modified_&&(pR(e),Bl(4)),Kl(t)&&(t=yU(e,t));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(n[bo].base_,t,e)}else t=yU(e,n);return Dae(e,t,!0),pR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==iV?t:void 0}function yU(t,e){if(WE(e))return e;const n=e[bo];if(!n)return $S(e,t.handledSet_,t);if(!jE(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(t);uV(n,t)}return n.copy_}function Dae(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ZI(e,n)}function sV(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var jE=(t,e)=>t.scope_===e,Oae=[];function lV(t,e,n,i){const r=Fc(t),a=t.type_;if(i!==void 0&&fR(r,i,a)===e){XS(r,i,n,a);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;GE(r,(u,c)=>{if(Qc(c)){const d=s.get(c)||[];d.push(u),s.set(c,d)}})}const o=t.draftLocations_.get(e)??Oae;for(const s of o)XS(r,s,n,a)}function Lae(t,e,n){t.callbacks_.push(function(r){var s;const a=e;if(!a||!jE(a,r))return;(s=r.mapSetPlugin_)==null||s.fixSetContents(a);const o=JI(a);lV(t,a.draft_??a,o,n),uV(a,r)})}function uV(t,e){var i;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((i=t.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const a=r.getPath(t);a&&r.generatePatches_(t,a,e)}sV(t)}}function Uae(t,e,n){const{scope_:i}=t;if(Qc(n)){const r=n[bo];jE(r,i)&&r.callbacks_.push(function(){xS(t);const o=JI(r);lV(t,n,o,e)})}else Kl(n)&&t.callbacks_.push(function(){const a=Fc(t);t.type_===3?a.has(n)&&$S(n,i.handledSet_,i):fR(a,e,t.type_)===n&&i.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&$S(fR(t.copy_,e,t.type_),i.handledSet_,i)})}function $S(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Qc(t)||e.has(t)||!Kl(t)||WE(t)||(e.add(t),GE(t,(i,r)=>{if(Qc(r)){const a=r[bo];if(jE(a,n)){const o=JI(a);XS(t,i,o,t.type_),sV(a)}}else Kl(r)&&$S(r,e,n)})),t}function Fae(t,e){const n=VE(t),i={type_:n?1:0,scope_:e?e.scope_:oV(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=KS;n&&(r=[i],a=cy);const{revoke:o,proxy:s}=Proxy.revocable(r,a);return i.draft_=s,i.revoke_=o,[s,i]}var KS={get(t,e){if(e===bo)return t;let n=t.scope_.arrayMethodsPlugin_;const i=t.type_===1&&typeof e=="string";if(i&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const r=Fc(t);if(!dU(r,e,t.type_))return kae(t,r,e);const a=r[e];if(t.finalized_||!Kl(a)||i&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&Rae(e))return a;if(a===ew(t.base_,e)){xS(t);const o=t.type_===1?+e:e,s=vR(t.scope_,a,t,o);return t.copy_[o]=s}return a},has(t,e){return e in Fc(t)},ownKeys(t){return Reflect.ownKeys(Fc(t))},set(t,e,n){const i=cV(Fc(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=ew(Fc(t),e),a=r==null?void 0:r[bo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Cae(n,r)&&(n!==void 0||dU(t.base_,e,t.type_)))return!0;xS(t),gR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Uae(t,e,n)),!0},deleteProperty(t,e){return xS(t),ew(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),gR(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fc(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{[bS]:!0,[cR]:t.type_!==1||e!=="length",[jS]:i[jS],[ly]:n[e]}},defineProperty(){Bl(11)},getPrototypeOf(t){return ug(t.base_)},setPrototypeOf(){Bl(12)}},cy={};for(let t in KS){let e=KS[t];cy[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}cy.deleteProperty=function(t,e){return cy.set.call(this,t,e,void 0)};cy.set=function(t,e,n){return KS.set.call(this,t[0],e,n,t[0])};function ew(t,e){const n=t[bo];return(n?Fc(n):t)[e]}function kae(t,e,n){var r;const i=cV(e,n);return i?ly in i?i[ly]:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function cV(t,e){if(!(e in t))return;let n=ug(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=ug(n)}}function gR(t){t.modified_||(t.modified_=!0,t.parent_&&gR(t.parent_))}function xS(t){t.copy_||(t.assigned_=new Map,t.copy_=dR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,r)=>{if(Ym(n)&&!Ym(i)){const o=i;i=n;const s=this;return function(c=o,...d){return s.produce(c,p=>i.call(this,p,...d))}}Ym(i)||Bl(6),r!==void 0&&!Ym(r)&&Bl(7);let a;if(Kl(n)){const o=gU(this),s=vR(o,n,void 0);let u=!0;try{a=i(s),u=!1}finally{u?pR(o):mR(o)}return mU(o,r),vU(a,o)}else if(!n||!KI(n)){if(a=i(n),a===void 0&&(a=n),a===iV&&(a=void 0),this.autoFreeze_&&ZI(a,!0),r){const o=[],s=[];ep(hR).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),r(o,s)}return a}else Bl(1,n)},this.produceWithPatches=(n,i)=>{if(Ym(n))return(s,...u)=>this.produceWithPatches(s,c=>n(c,...u));let r,a;return[this.produce(n,i,(s,u)=>{r=s,a=u}),r,a]},QM(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),QM(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),QM(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||Bl(8),Qc(e)&&(e=Xl(e));const n=gU(this),i=vR(n,e,void 0);return i[bo].isManual_=!0,mR(n),i}finishDraft(e,n){const i=e&&e[bo];(!i||!i.isManual_)&&Bl(9);const{scope_:r}=i;return mU(r,n),vU(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const a=n[i];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}i>-1&&(n=n.slice(i+1));const r=ep(hR).applyPatches_;return Qc(e)?r(e,n):this.produce(e,a=>r(a,n))}};function vR(t,e,n,i){const[r,a]=HE(e)?ep(YS).proxyMap_(e,n):qE(e)?ep(YS).proxySet_(e,n):Fae(e,n);return((n==null?void 0:n.scope_)??oV()).drafts_.push(r),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=i,n&&i!==void 0?Lae(n,a,i):a.callbacks_.push(function(u){var d;(d=u.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),r}function Xl(t){return Qc(t)||Bl(10,t),fV(t)}function fV(t){if(!Kl(t)||WE(t))return t;const e=t[bo];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dR(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=dR(t,!0);return GE(n,(r,a)=>{XS(n,r,fV(a))},i),e&&(e.finalized_=!1),n}var zae=new Bae,dV=zae.produce;function hV(t){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,t):r(a)}var Gae=hV(),Vae=hV,Hae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qS:qS.apply(null,arguments)};function ll(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(vs(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>nV(i)&&i.type===t,n}var pV=class z0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,z0.prototype)}static get[Symbol.species](){return z0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new z0(...e[0].concat(this)):new z0(...e.concat(this))}};function _U(t){return Kl(t)?dV(t,()=>{}):t}function ox(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qae(t){return typeof t=="boolean"}var Wae=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new pV;return n&&(qae(n)?o.push(Gae):o.push(Vae(n.extraArgument))),o},mV="RTK_autoBatch",Bi=()=>t=>({payload:t,meta:{[mV]:!0}}),bU=t=>e=>{setTimeout(e,t)},gV=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,a=!1,o=!1;const s=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bU(10):t.type==="callback"?t.queueNotification:bU(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const p=()=>r&&d(),v=i.subscribe(p);return s.add(d),()=>{v(),s.delete(d)}},dispatch(d){var p;try{return r=!((p=d==null?void 0:d.meta)!=null&&p[mV]),a=!r,a&&(o||(o=!0,u(c))),i.dispatch(d)}finally{r=!0}}})},jae=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new pV(t);return i&&r.push(gV(typeof i=="object"?i:void 0)),r};function Xae(t){const e=Wae(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof n=="function")s=n;else if($I(n))s=tV(n);else throw new Error(vs(1));let u;typeof i=="function"?u=i(e):u=e();let c=qS;r&&(c=Hae({trace:!1,...typeof r=="object"&&r}));const d=Mae(...u),p=jae(d);let v=typeof o=="function"?o(p):p();const y=c(...v);return eV(s,a,y)}function vV(t){const e={},n=[];let i;const r={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(vs(28));if(s in e)throw new Error(vs(29));return e[s]=o,r},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),r},addMatcher(a,o){return n.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return t(r),[e,n,i]}function Yae(t){return typeof t=="function"}function $ae(t,e){let[n,i,r]=vV(e),a;if(Yae(t))a=()=>_U(t());else{const s=_U(t);a=()=>s}function o(s=a(),u){let c=[n[u.type],...i.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[r]),c.reduce((d,p)=>{if(p)if(Qc(d)){const y=p(d,u);return y===void 0?d:y}else{if(Kl(d))return dV(d,v=>p(v,u));{const v=p(d,u);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},s)}return o.getInitialState=a,o}var Kae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jae=(t=21)=>{let e="",n=t;for(;n--;)e+=Kae[Math.random()*64|0];return e},Zae=Symbol.for("rtk-slice-createasyncthunk");function Qae(t,e){return`${t}/${e}`}function eoe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Zae];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(vs(11));const s=(typeof r.reducers=="function"?r.reducers(noe()):r.reducers)||{},u=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,D){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(vs(12));if(O in c.sliceCaseReducersByType)throw new Error(vs(13));return c.sliceCaseReducersByType[O]=D,d},addMatcher(N,D){return c.sliceMatchers.push({matcher:N,reducer:D}),d},exposeAction(N,D){return c.actionCreators[N]=D,d},exposeCaseReducer(N,D){return c.sliceCaseReducersByName[N]=D,d}};u.forEach(N=>{const D=s[N],O={reducerName:N,type:Qae(a,N),createNotation:typeof r.reducers=="function"};roe(D)?ooe(O,D,d,e):ioe(O,D,d)});function p(){const[N={},D=[],O=void 0]=typeof r.extraReducers=="function"?vV(r.extraReducers):[r.extraReducers],F={...N,...c.sliceCaseReducersByType};return $ae(r.initialState,z=>{for(let U in F)z.addCase(U,F[U]);for(let U of c.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of D)z.addMatcher(U.matcher,U.reducer);O&&z.addDefaultCase(O)})}const v=N=>N,y=new Map,b=new WeakMap;let T;function S(N,D){return T||(T=p()),T(N,D)}function A(){return T||(T=p()),T.getInitialState()}function R(N,D=!1){function O(z){let U=z[N];return typeof U>"u"&&D&&(U=ox(b,O,A)),U}function F(z=v){const U=ox(y,D,()=>new WeakMap);return ox(U,z,()=>{const B={};for(const[j,W]of Object.entries(r.selectors??{}))B[j]=toe(W,z,()=>ox(b,z,A),D);return B})}return{reducerPath:N,getSelectors:F,get selectors(){return F(O)},selectSlice:O}}const I={name:a,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:A,...R(o),injectInto(N,{reducerPath:D,...O}={}){const F=D??o;return N.inject({reducerPath:F,reducer:S},O),{...I,...R(F,!0)}}};return I}}function toe(t,e,n,i){function r(a,...o){let s=e(a);return typeof s>"u"&&i&&(s=n()),t(s,...o)}return r.unwrapped=t,r}var Zo=eoe();function noe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ioe({type:t,reducerName:e,createNotation:n},i,r){let a,o;if("reducer"in i){if(n&&!aoe(i))throw new Error(vs(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?ll(t,o):ll(t))}function roe(t){return t._reducerDefinitionType==="asyncThunk"}function aoe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ooe({type:t,reducerName:e},n,i,r){if(!r)throw new Error(vs(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:u,settled:c,options:d}=n,p=r(t,a,d);i.exposeAction(e,p),o&&i.addCase(p.fulfilled,o),s&&i.addCase(p.pending,s),u&&i.addCase(p.rejected,u),c&&i.addMatcher(p.settled,c),i.exposeCaseReducer(e,{fulfilled:o||sx,pending:s||sx,rejected:u||sx,settled:c||sx})}function sx(){}var soe="task",yV="listener",_V="completed",QI="cancelled",loe=`task-${QI}`,uoe=`task-${_V}`,yR=`${yV}-${QI}`,coe=`${yV}-${_V}`,XE=class{constructor(t){HA(this,"name","TaskAbortError");HA(this,"message");this.code=t,this.message=`${soe} ${QI} (reason: ${t})`}},eP=(t,e)=>{if(typeof t!="function")throw new TypeError(vs(32))},JS=()=>{},bV=(t,e=JS)=>(t.catch(e),t),xV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),jh=t=>{if(t.aborted)throw new XE(t.reason)};function SV(t,e){let n=JS;return new Promise((i,r)=>{const a=()=>r(new XE(t.reason));if(t.aborted){a();return}n=xV(t,a),e.finally(()=>n()).then(i,r)}).finally(()=>{n=JS})}var foe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof XE?"cancelled":"rejected",error:n}}finally{e==null||e()}},ZS=t=>e=>bV(SV(t,e).then(n=>(jh(t),n))),EV=t=>{const e=ZS(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:rg}=Object,xU={},YE="listenerMiddleware",doe=(t,e)=>{const n=i=>xV(t,()=>i.abort(t.reason));return(i,r)=>{eP(i);const a=new AbortController;n(a);const o=foe(async()=>{jh(t),jh(a.signal);const s=await i({pause:ZS(a.signal),delay:EV(a.signal),signal:a.signal});return jh(a.signal),s},()=>a.abort(uoe));return r!=null&&r.autoJoin&&e.push(o.catch(JS)),{result:ZS(t)(o),cancel(){a.abort(loe)}}}},hoe=(t,e)=>{const n=async(i,r)=>{jh(e);let a=()=>{};const s=[new Promise((u,c)=>{let d=t({predicate:i,effect:(p,v)=>{v.unsubscribe(),u([p,v.getState(),v.getOriginalState()])}});a=()=>{d(),c()}})];r!=null&&s.push(new Promise(u=>setTimeout(u,r,null)));try{const u=await SV(e,Promise.race(s));return jh(e),u}finally{a()}};return(i,r)=>bV(n(i,r))},TV=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:a}=t;if(e)r=ll(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(vs(21));return eP(a),{predicate:r,type:e,effect:a}},AV=rg(t=>{const{type:e,predicate:n,effect:i}=TV(t);return{id:Jae(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vs(22))}}},{withTypes:()=>AV}),SU=(t,e)=>{const{type:n,effect:i,predicate:r}=TV(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},_R=t=>{t.pending.forEach(e=>{e.abort(yR)})},poe=(t,e)=>()=>{for(const n of e.keys())_R(n);t.clear()},EU=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},MV=rg(ll(`${YE}/add`),{withTypes:()=>MV}),moe=ll(`${YE}/removeAll`),wV=rg(ll(`${YE}/remove`),{withTypes:()=>wV}),goe=(...t)=>{console.error(`${YE}/error`,...t)},jy=(t={})=>{const e=new Map,n=new Map,i=y=>{const b=n.get(y)??0;n.set(y,b+1)},r=y=>{const b=n.get(y)??1;b===1?n.delete(y):n.set(y,b-1)},{extra:a,onError:o=goe}=t;eP(o);const s=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),b=>{y.unsubscribe(),b!=null&&b.cancelActive&&_R(y)}),u=y=>{const b=SU(e,y)??AV(y);return s(b)};rg(u,{withTypes:()=>u});const c=y=>{const b=SU(e,y);return b&&(b.unsubscribe(),y.cancelActive&&_R(b)),!!b};rg(c,{withTypes:()=>c});const d=async(y,b,T,S)=>{const A=new AbortController,R=hoe(u,A.signal),I=[];try{y.pending.add(A),i(y),await Promise.resolve(y.effect(b,rg({},T,{getOriginalState:S,condition:(N,D)=>R(N,D).then(Boolean),take:R,delay:EV(A.signal),pause:ZS(A.signal),extra:a,signal:A.signal,fork:doe(A.signal,I),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((N,D,O)=>{N!==A&&(N.abort(yR),O.delete(N))})},cancel:()=>{A.abort(yR),y.pending.delete(A)},throwIfCancelled:()=>{jh(A.signal)}})))}catch(N){N instanceof XE||EU(o,N,{raisedBy:"effect"})}finally{await Promise.all(I),A.abort(coe),r(y),y.pending.delete(A)}},p=poe(e,n);return{middleware:y=>b=>T=>{if(!nV(T))return b(T);if(MV.match(T))return u(T.payload);if(moe.match(T)){p();return}if(wV.match(T))return c(T.payload);let S=y.getState();const A=()=>{if(S===xU)throw new Error(vs(23));return S};let R;try{if(R=b(T),e.size>0){const I=y.getState(),N=Array.from(e.values());for(const D of N){let O=!1;try{O=D.predicate(T,I,S)}catch(F){O=!1,EU(o,F,{raisedBy:"predicate"})}O&&d(D,T,y,A)}}}finally{S=xU}return R},startListening:u,stopListening:c,clearListeners:p}};function vs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var voe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CV=Zo({name:"chartLayout",initialState:voe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yoe,setLayout:_oe,setChartSize:boe,setScale:xoe}=CV.actions,Soe=CV.reducer;function RV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ur(t){return Number.isFinite(t)}function yd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(i){Eoe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Eoe(t,e,n){return(e=Toe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,n){return bs(t)||bs(e)?n:Zc(e)?oy(t,e,n):typeof e=="function"?e(t):n}var Moe=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&nn(t[a]))return Jm(Jm({},t),{},{[a]:t[a]+(i||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&nn(t[o]))return Jm(Jm({},t),{},{[o]:t[o]+(r||0)})}return t},dp=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",AU=1e-4,woe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),r=Math.min(i[0],i[1])-AU,a=Math.max(i[0],i[1])+AU,o=t(e[0]),s=t(e[n-1]);(o<r||o>a||s<r||s>a)&&t.domain([e[0],e[n-1]])}},Coe=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var u=t[s],c=u==null?void 0:u[r];if(c!=null){var d=c[1],p=c[0],v=Kc(d)?p:d;v>=0?(c[0]=a,c[1]=a+v,a=d):(c[0]=o,c[1]=o+v,o=d)}}}},Roe=t=>{var e,n=t.length;if(!(n<=0)){var i=(e=t[0])===null||e===void 0?void 0:e.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,o=0;o<n;++o){var s=t[o],u=s==null?void 0:s[r];if(u!=null){var c=Kc(u[1])?u[0]:u[1];c>=0?(u[0]=a,u[1]=a+c,a=u[1]):(u[0]=0,u[1]=0)}}}},Ioe={sign:Coe,expand:ere,none:Qh,silhouette:tre,wiggle:nre,positive:Roe},Poe=(t,e,n)=>{var i,r=(i=Ioe[n])!==null&&i!==void 0?i:Qh,a=Qie().keys(e).value((s,u)=>Number(dr(s,u,0))).order(lR).offset(r),o=a(t);return o.forEach((s,u)=>{s.forEach((c,d)=>{var p=dr(t[d],e[u],0);Array.isArray(p)&&p.length===2&&nn(p[0])&&nn(p[1])&&(c[0]=p[0],c[1]=p[1])})}),o},Noe=t=>{var e=t.flat(2).filter(nn);return[Math.min(...e),Math.max(...e)]},Doe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ooe=(t,e,n)=>{if(t!=null)return Doe(Object.keys(t).reduce((i,r)=>{var a=t[r];if(!a)return i;var{stackedData:o}=a,s=o.reduce((u,c)=>{var d=RV(c,e,n),p=Noe(d);return!Ur(p[0])||!Ur(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(s[0],i[0]),Math.max(s[1],i[1])]},[1/0,-1/0]))},MU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CU=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();return i}if(t&&e&&e.length>=2){for(var r=BE(e,d=>d.coordinate),a=1/0,o=1,s=r.length;o<s;o++){var u=r[o],c=r[o-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function RU(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:a}=t;return Jm(Jm({},e),{},{dataKey:n,payload:i,value:r,name:a})}function IV(t,e){if(t)return String(t);if(typeof e=="string")return e}var Loe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Uoe=(t,e)=>e==="centric"?t.angle:t.radius,cf=t=>t.layout.width,ff=t=>t.layout.height,Foe=t=>t.layout.scale,PV=t=>t.layout.margin,$E=Xe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),KE=Xe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),NV="data-recharts-item-index",DV="data-recharts-item-id",Xy=60;function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(i){koe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function koe(t,e,n){return(e=Boe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe=t=>t.brush.height;function Voe(t){var e=KE(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Xy;return n+r}return n},0)}function Hoe(t){var e=KE(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Xy;return n+r}return n},0)}function qoe(t){var e=$E(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function Woe(t){var e=$E(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var da=Xe([cf,ff,PV,Goe,Voe,Hoe,qoe,Woe,QG,bae],(t,e,n,i,r,a,o,s,u,c)=>{var d={left:(n.left||0)+r,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+s},v=lx(lx({},p),d),y=v.bottom;v.bottom+=i,v=Moe(v,u,c);var b=t-v.left-v.right,T=e-v.top-v.bottom;return lx(lx({brushBottom:y},v),{},{width:Math.max(b,0),height:Math.max(T,0)})}),joe=Xe(da,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Xe(cf,ff,(t,e)=>({x:0,y:0,width:t,height:e}));var Xoe=G.createContext(null),Md=()=>G.useContext(Xoe)!=null,JE=t=>t.brush,ZE=Xe([JE,da,PV],(t,e,n)=>({height:t.height,x:nn(t.x)?t.x:e.left,y:nn(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:nn(t.width)?t.width:e.width})),tw={},nw={},iw={},PU;function Yoe(){return PU||(PU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:a}={}){let o,s=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},p=()=>{c&&d(),T()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},i)},b=()=>{v!==null&&(clearTimeout(v),v=null)},T=()=>{b(),o=void 0,s=null},S=()=>{d()},A=function(...R){if(r!=null&&r.aborted)return;o=this,s=R;const I=v==null;y(),u&&I&&d()};return A.schedule=y,A.cancel=T,A.flush=S,r==null||r.addEventListener("abort",T,{once:!0}),A}t.debounce=e})(iw)),iw}var NU;function $oe(){return NU||(NU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yoe();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:u}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,p=null;const v=e.debounce(function(...T){d=i.apply(this,T),p=null},r,{edges:c}),y=function(...T){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(d=i.apply(this,T),p=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,T),d)},b=()=>(v.flush(),d);return y.cancel=v.cancel,y.flush=b,y}t.debounce=n})(nw)),nw}var DU;function Koe(){return DU||(DU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$oe();function n(i,r=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(i,r,{leading:o,maxWait:r,trailing:s})}t.throttle=n})(tw)),tw}var rw,OU;function Joe(){return OU||(OU=1,rw=Koe().throttle),rw}var Zoe=Joe();const Qoe=fl(Zoe);var LU=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>r[o++]))}},OV=(t,e,n)=>{var{width:i="100%",height:r="100%",aspect:a,maxHeight:o}=n,s=Jc(i)?t:Number(i),u=Jc(r)?e:Number(r);return a&&a>0&&(s?u=s/a:u&&(s=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:s,calculatedHeight:u}},ese={width:0,height:0,overflow:"visible"},tse={width:0,overflowX:"visible"},nse={height:0,overflowY:"visible"},ise={},rse=t=>{var{width:e,height:n}=t,i=Jc(e),r=Jc(n);return i&&r?ese:i?tse:r?nse:ise};function ase(t){var{width:e,height:n,aspect:i}=t,r=e,a=n;return r===void 0&&a===void 0?(r="100%",a="100%"):r===void 0?r=i&&i>0?void 0:"100%":a===void 0&&(a=i&&i>0?void 0:"100%"),{width:r,height:a}}function bR(){return bR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bR.apply(null,arguments)}function UU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function FU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(n),!0).forEach(function(i){ose(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ose(t,e,n){return(e=sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LV=G.createContext({width:-1,height:-1});function use(t){return yd(t.width)&&yd(t.height)}function UV(t){var{children:e,width:n,height:i}=t,r=G.useMemo(()=>({width:n,height:i}),[n,i]);return use(r)?G.createElement(LV.Provider,{value:r},e):null}var tP=()=>G.useContext(LV),cse=G.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:r,height:a,minWidth:o=0,minHeight:s,maxHeight:u,children:c,debounce:d=0,id:p,className:v,onResize:y,style:b={}}=t,T=G.useRef(null),S=G.useRef();S.current=y,G.useImperativeHandle(e,()=>T.current);var[A,R]=G.useState({containerWidth:i.width,containerHeight:i.height}),I=G.useCallback((z,U)=>{R(B=>{var j=Math.round(z),W=Math.round(U);return B.containerWidth===j&&B.containerHeight===W?B:{containerWidth:j,containerHeight:W}})},[]);G.useEffect(()=>{if(T.current==null||typeof ResizeObserver>"u")return qy;var z=W=>{var Y,{width:Q,height:ae}=W[0].contentRect;I(Q,ae),(Y=S.current)===null||Y===void 0||Y.call(S,Q,ae)};d>0&&(z=Qoe(z,d,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),{width:B,height:j}=T.current.getBoundingClientRect();return I(B,j),U.observe(T.current),()=>{U.disconnect()}},[I,d]);var{containerWidth:N,containerHeight:D}=A;LU(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:F}=OV(N,D,{width:r,height:a,aspect:n,maxHeight:u});return LU(O!=null&&O>0||F!=null&&F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,F,r,a,o,s,n),G.createElement("div",{id:p?"".concat(p):void 0,className:Lr("recharts-responsive-container",v),style:FU(FU({},b),{},{width:r,height:a,minWidth:o,minHeight:s,maxHeight:u}),ref:T},G.createElement("div",{style:rse({width:r,height:a})},G.createElement(UV,{width:O,height:F},c)))}),fse=G.forwardRef((t,e)=>{var n=tP();if(yd(n.width)&&yd(n.height))return t.children;var{width:i,height:r}=ase({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=OV(void 0,void 0,{width:i,height:r,aspect:t.aspect,maxHeight:t.maxHeight});return nn(a)&&nn(o)?G.createElement(UV,{width:a,height:o},t.children):G.createElement(cse,bR({},t,{width:i,height:r,ref:e}))});function FV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var QE=()=>{var t,e=Md(),n=bn(joe),i=bn(ZE),r=(t=bn(JE))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},dse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hse=()=>{var t;return(t=bn(da))!==null&&t!==void 0?t:dse},pse=()=>bn(cf),mse=()=>bn(ff),Ti=t=>t.layout.layoutType,eT=()=>bn(Ti),gse=()=>{var t=eT();return t!==void 0},tT=t=>{var e=Xr(),n=Md(),{width:i,height:r}=t,a=tP(),o=i,s=r;return a&&(o=a.width>0?a.width:i,s=a.height>0?a.height:r),G.useEffect(()=>{!n&&yd(o)&&yd(s)&&e(boe({width:o,height:s}))},[e,n,o,s]),null},kV=Symbol.for("immer-nothing"),kU=Symbol.for("immer-draftable"),xs=Symbol.for("immer-state");function zl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fy=Object.getPrototypeOf;function cg(t){return!!t&&!!t[xs]}function tp(t){var e;return t?BV(t)||Array.isArray(t)||!!t[kU]||!!((e=t.constructor)!=null&&e[kU])||Yy(t)||iT(t):!1}var vse=Object.prototype.constructor.toString(),BU=new WeakMap;function BV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=BU.get(n);return i===void 0&&(i=Function.toString.call(n),BU.set(n,i)),i===vse}function QS(t,e,n=!0){nT(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function nT(t){const e=t[xs];return e?e.type_:Array.isArray(t)?1:Yy(t)?2:iT(t)?3:0}function xR(t,e){return nT(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zV(t,e,n){const i=nT(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function yse(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yy(t){return t instanceof Map}function iT(t){return t instanceof Set}function Dh(t){return t.copy_||t.base_}function SR(t,e){if(Yy(t))return new Map(t);if(iT(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BV(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[xs];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],s=i[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(i[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(fy(t),i)}else{const i=fy(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function nP(t,e=!1){return rT(t)||cg(t)||!tp(t)||(nT(t)>1&&Object.defineProperties(t,{set:ux,add:ux,clear:ux,delete:ux}),Object.freeze(t),e&&Object.values(t).forEach(n=>nP(n,!0))),t}function _se(){zl(2)}var ux={value:_se};function rT(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var bse={};function np(t){const e=bse[t];return e||zl(0,t),e}var dy;function GV(){return dy}function xse(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zU(t,e){e&&(np("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ER(t){TR(t),t.drafts_.forEach(Sse),t.drafts_=null}function TR(t){t===dy&&(dy=t.parent_)}function GU(t){return dy=xse(dy,t)}function Sse(t){const e=t[xs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xs].modified_&&(ER(e),zl(4)),tp(t)&&(t=e1(e,t),e.parent_||t1(e,t)),e.patches_&&np("Patches").generateReplacementPatches_(n[xs].base_,t,e.patches_,e.inversePatches_)):t=e1(e,n,[]),ER(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kV?t:void 0}function e1(t,e,n){if(rT(e))return e;const i=t.immer_.shouldUseStrictIteration(),r=e[xs];if(!r)return QS(e,(a,o)=>HU(t,r,e,a,o,n),i),e;if(r.scope_!==t)return e;if(!r.modified_)return t1(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,s=!1;r.type_===3&&(o=new Set(a),a.clear(),s=!0),QS(o,(u,c)=>HU(t,r,a,u,c,n,s),i),t1(t,a,!1),n&&t.patches_&&np("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function HU(t,e,n,i,r,a,o){if(r==null||typeof r!="object"&&!o)return;const s=rT(r);if(!(s&&!o)){if(cg(r)){const u=a&&e&&e.type_!==3&&!xR(e.assigned_,i)?a.concat(i):void 0,c=e1(t,r,u);if(zV(n,i,c),cg(c))t.canAutoFreeze_=!1;else return}else o&&n.add(r);if(tp(r)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&s)return;e1(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(Yy(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&t1(t,r)}}}function t1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nP(e,n)}function Ese(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:GV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=iP;n&&(r=[i],a=hy);const{revoke:o,proxy:s}=Proxy.revocable(r,a);return i.draft_=s,i.revoke_=o,s}var iP={get(t,e){if(e===xs)return t;const n=Dh(t);if(!xR(n,e))return Tse(t,n,e);const i=n[e];return t.finalized_||!tp(i)?i:i===aw(t.base_,e)?(ow(t),t.copy_[e]=MR(i,t)):i},has(t,e){return e in Dh(t)},ownKeys(t){return Reflect.ownKeys(Dh(t))},set(t,e,n){const i=VV(Dh(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=aw(Dh(t),e),a=r==null?void 0:r[xs];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yse(n,r)&&(n!==void 0||xR(t.base_,e)))return!0;ow(t),AR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return aw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ow(t),AR(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Dh(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){zl(11)},getPrototypeOf(t){return fy(t.base_)},setPrototypeOf(){zl(12)}},hy={};QS(iP,(t,e)=>{hy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});hy.deleteProperty=function(t,e){return hy.set.call(this,t,e,void 0)};hy.set=function(t,e,n){return iP.set.call(this,t[0],e,n,t[0])};function aw(t,e){const n=t[xs];return(n?Dh(n):t)[e]}function Tse(t,e,n){var r;const i=VV(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function VV(t,e){if(!(e in t))return;let n=fy(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=fy(n)}}function AR(t){t.modified_||(t.modified_=!0,t.parent_&&AR(t.parent_))}function ow(t){t.copy_||(t.copy_=SR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Ase=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(u=a,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&zl(6),i!==void 0&&typeof i!="function"&&zl(7);let r;if(tp(e)){const a=GU(this),o=MR(e,void 0);let s=!0;try{r=n(o),s=!1}finally{s?ER(a):TR(a)}return zU(a,i),VU(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===kV&&(r=void 0),this.autoFreeze_&&nP(r,!0),i){const a=[],o=[];np("Patches").generateReplacementPatches_(e,r,a,o),i(a,o)}return r}else zl(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,u=>e(u,...s));let i,r;return[this.produce(e,n,(o,s)=>{i=o,r=s}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){tp(t)||zl(8),cg(t)&&(t=Mse(t));const e=GU(this),n=MR(t,void 0);return n[xs].isManual_=!0,TR(e),n}finishDraft(t,e){const n=t&&t[xs];(!n||!n.isManual_)&&zl(9);const{scope_:i}=n;return zU(i,e),VU(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=np("Patches").applyPatches_;return cg(t)?i(t,e):this.produce(t,r=>i(r,e))}};function MR(t,e){const n=Yy(t)?np("MapSet").proxyMap_(t,e):iT(t)?np("MapSet").proxySet_(t,e):Ese(t,e);return(e?e.scope_:GV()).drafts_.push(n),n}function Mse(t){return cg(t)||zl(10,t),HV(t)}function HV(t){if(!tp(t)||rT(t))return t;const e=t[xs];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=SR(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=SR(t,!0);return QS(n,(r,a)=>{zV(n,r,HV(a))},i),e&&(e.finalized_=!1),n}var wse=new Ase;wse.produce;var Cse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qV=Zo({name:"legend",initialState:Cse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Bi()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Xl(t).payload.indexOf(n);r>-1&&(t.payload[r]=i)},prepare:Bi()},removeLegendPayload:{reducer(t,e){var n=Xl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Bi()}}}),{setLegendSize:MCe,setLegendSettings:wCe,addLegendPayload:Rse,replaceLegendPayload:Ise,removeLegendPayload:Pse}=qV.actions,Nse=qV.reducer;function wR(){return wR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wR.apply(null,arguments)}function qU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(n),!0).forEach(function(i){Dse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Dse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Use(t){return Array.isArray(t)&&Zc(t[0])&&Zc(t[1])?t.join(" ~ "):t}var Fse=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:i={},labelStyle:r={},payload:a,formatter:o,itemSorter:s,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:p,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var D={padding:0,margin:0},O=(s?BE(a,s):a).map((F,z)=>{if(F.type==="none")return null;var U=F.formatter||o||Use,{value:B,name:j}=F,W=B,Y=j;if(U){var Q=U(B,j,F,z,a);if(Array.isArray(Q))[W,Y]=Q;else if(Q!=null)W=Q;else return null}var ae=sw({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},i);return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ae},Zc(Y)?G.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Zc(Y)?G.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,G.createElement("span",{className:"recharts-tooltip-item-value"},W),G.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},b=sw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=sw({margin:0},r),S=!bs(d),A=S?d:"",R=Lr("recharts-default-tooltip",u),I=Lr("recharts-tooltip-label",c);S&&p&&a!==void 0&&a!==null&&(A=p(d,a));var N=v?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",wR({className:R,style:b},N),G.createElement("p",{className:I,style:T},G.isValidElement(A)?A:"".concat(A)),y())},m0="recharts-tooltip-wrapper",kse={visibility:"hidden"};function Bse(t){var{coordinate:e,translateX:n,translateY:i}=t;return Lr(m0,{["".concat(m0,"-right")]:nn(n)&&e&&nn(e.x)&&n>=e.x,["".concat(m0,"-left")]:nn(n)&&e&&nn(e.x)&&n<e.x,["".concat(m0,"-bottom")]:nn(i)&&e&&nn(e.y)&&i>=e.y,["".concat(m0,"-top")]:nn(i)&&e&&nn(e.y)&&i<e.y})}function WU(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:s,viewBox:u,viewBoxDimension:c}=t;if(a&&nn(a[i]))return a[i];var d=n[i]-s-(r>0?r:0),p=n[i]+r;if(e[i])return o[i]?d:p;var v=u[i];if(v==null)return 0;if(o[i]){var y=d,b=v;return y<b?Math.max(p,v):Math.max(d,v)}if(c==null)return 0;var T=p+s,S=v+c;return T>S?Math.max(d,v):Math.max(p,v)}function zse(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Gse(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:i,position:r,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:u}=t,c,d,p;return o.height>0&&o.width>0&&n?(d=WU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=WU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=zse({translateX:d,translateY:p,useTranslate3d:s})):c=kse,{cssProperties:c,cssClasses:Bse({translateX:d,translateY:p,coordinate:n})}}function jU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(n),!0).forEach(function(i){CR(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CR(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Hse(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qse extends G.PureComponent{constructor(){super(...arguments),CR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CR(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:a,coordinate:o,hasPayload:s,isAnimationActive:u,offset:c,position:d,reverseDirection:p,useTranslate3d:v,viewBox:y,wrapperStyle:b,lastBoundingBox:T,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:R,cssProperties:I}=Gse({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:p,tooltipBox:{height:T.height,width:T.width},useTranslate3d:v,viewBox:y}),N=A?{}:cx(cx({transition:u&&e?"transform ".concat(i,"ms ").concat(r):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),D=cx(cx({},N),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},b);return G.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:D,ref:S},a)}}var WV=()=>{var t;return(t=bn(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function RR(){return RR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},RR.apply(null,arguments)}function XU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(n),!0).forEach(function(i){Wse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Wse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Xse(t,"string");return typeof e=="symbol"?e:e+""}function Xse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $U={curveBasisClosed:Vie,curveBasisOpen:Hie,curveBasis:Gie,curveBumpX:wie,curveBumpY:Cie,curveLinearClosed:qie,curveLinear:FE,curveMonotoneX:Wie,curveMonotoneY:jie,curveNatural:Xie,curveStep:Yie,curveStepAfter:Kie,curveStepBefore:$ie},n1=t=>Ur(t.x)&&Ur(t.y),KU=t=>t.base!=null&&n1(t.base)&&n1(t),g0=t=>t.x,v0=t=>t.y,Yse=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Hy(t));return(n==="curveMonotone"||n==="curveBump")&&e?$U["".concat(n).concat(e==="vertical"?"Y":"X")]:$U[n]||FE},$se=t=>{var{type:e="linear",points:n=[],baseLine:i,layout:r,connectNulls:a=!1}=t,o=Yse(e,r),s=a?n.filter(n1):n,u;if(Array.isArray(i)){var c=n.map((y,b)=>YU(YU({},y),{},{base:i[b]}));r==="vertical"?u=nx().y(v0).x1(g0).x0(y=>y.base.x):u=nx().x(g0).y1(v0).y0(y=>y.base.y);var d=u.defined(KU).curve(o),p=a?c.filter(KU):c;return d(p)}r==="vertical"&&nn(i)?u=nx().y(v0).x1(g0).x0(i):nn(i)?u=nx().x(g0).y1(v0).y0(i):u=AG().x(g0).y(v0);var v=u.defined(n1).curve(o);return v(s)},rP=t=>{var{className:e,points:n,path:i,pathRef:r}=t,a=eT();if((!n||!n.length)&&!i)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},s=n&&n.length?$se(o):i;return G.createElement("path",RR({},lg(t),xre(t),{className:Lr("recharts-curve",e),d:s===null?void 0:s,ref:r}))},Kse=["x","y","top","left","width","height","className"];function IR(){return IR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},IR.apply(null,arguments)}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Jse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(i){Zse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zse(t,e,n){return(e=Qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tle(t,e){if(t==null)return{};var n,i,r=nle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nle(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ile=(t,e,n,i,r,a)=>"M".concat(t,",").concat(r,"v").concat(i,"M").concat(a,",").concat(e,"h").concat(n),rle=t=>{var{x:e=0,y:n=0,top:i=0,left:r=0,width:a=0,height:o=0,className:s}=t,u=tle(t,Kse),c=Jse({x:e,y:n,top:i,left:r,width:a,height:o},u);return!nn(e)||!nn(n)||!nn(a)||!nn(o)||!nn(i)||!nn(r)?null:G.createElement("path",IR({},sl(c),{className:Lr("recharts-cross",s),d:ile(e,n,a,o,i,r)}))};function ale(t,e,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-r:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-r,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function ZU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function QU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(n),!0).forEach(function(i){ole(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ole(t,e,n){return(e=sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sle(t){var e=lle(t,"string");return typeof e=="symbol"?e:e+""}function lle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ule=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jV=(t,e,n)=>t.map(i=>"".concat(ule(i)," ").concat(e,"ms ").concat(n)).join(","),cle=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),py=(t,e)=>Object.keys(e).reduce((n,i)=>QU(QU({},n),{},{[i]:t(i,e[i])}),{});function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(i){fle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i1=(t,e,n)=>t+(e-t)*n,PR=t=>{var{from:e,to:n}=t;return e!==n},XV=(t,e,n)=>{var i=py((r,a)=>{if(PR(a)){var[o,s]=t(a.from,a.to,a.velocity);return qr(qr({},a),{},{from:o,velocity:s})}return a},e);return n<1?py((r,a)=>PR(a)&&i[r]!=null?qr(qr({},a),{},{velocity:i1(a.velocity,i[r].velocity,n),from:i1(a.from,i[r].from,n)}):a,e):XV(t,i,n-1)};function ple(t,e,n,i,r,a){var o,s=i.reduce((v,y)=>qr(qr({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>py((v,y)=>y.from,s),c=()=>!Object.values(s).filter(PR).length,d=null,p=v=>{o||(o=v);var y=v-o,b=y/n.dt;s=XV(n,s,b),r(qr(qr(qr({},t),e),u())),o=v,c()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var v;(v=d)===null||v===void 0||v()})}function mle(t,e,n,i,r,a,o){var s=null,u=r.reduce((p,v)=>{var y=t[v],b=e[v];return y==null||b==null?p:qr(qr({},p),{},{[v]:[y,b]})},{}),c,d=p=>{c||(c=p);var v=(p-c)/i,y=py((T,S)=>i1(...S,n(v)),u);if(a(qr(qr(qr({},t),e),y)),v<1)s=o.setTimeout(d);else{var b=py((T,S)=>i1(...S,n(1)),u);a(qr(qr(qr({},t),e),b))}};return()=>(s=o.setTimeout(d),()=>{var p;(p=s)===null||p===void 0||p()})}const gle=(t,e,n,i,r,a)=>{var o=cle(t,e);return n==null?()=>(r(qr(qr({},t),e)),()=>{}):n.isStepper===!0?ple(t,e,n,o,r,a):mle(t,e,n,i,o,r,a)};var r1=1e-4,YV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],$V=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),t2=(t,e)=>n=>{var i=YV(t,e);return $V(i,n)},vle=(t,e)=>n=>{var i=YV(t,e),r=[...i.map((a,o)=>a*o).slice(1),0];return $V(r,n)},yle=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(i==null||i.length!==4)return null;var r=i.map(a=>parseFloat(a));return[r[0],r[1],r[2],r[3]]},_le=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=yle(n[0]);if(r)return r}}return n.length===4?n:[0,0,1,1]},ble=(t,e,n,i)=>{var r=t2(t,n),a=t2(e,i),o=vle(t,n),s=c=>c>1?1:c<0?0:c,u=c=>{for(var d=c>1?1:c,p=d,v=0;v<8;++v){var y=r(p)-d,b=o(p);if(Math.abs(y-d)<r1||b<r1)return a(p);p=s(p-y/b)}return a(p)};return u.isStepper=!1,u},n2=function(){return ble(..._le(...arguments))},xle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,a=(o,s,u)=>{var c=-(o-s)*n,d=u*i,p=u+(c-d)*r/1e3,v=u*r/1e3+o;return Math.abs(v-s)<r1&&Math.abs(p)<r1?[s,0]:[v,p]};return a.isStepper=!0,a.dt=r,a},Sle=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n2(t);case"spring":return xle();default:if(t.split("(")[0]==="cubic-bezier")return n2(t)}return typeof t=="function"?t:null};function Ele(t){var e,n=()=>null,i=!1,r=null,a=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var s=o,[u,...c]=s;if(typeof u=="number"){r=t.setTimeout(a.bind(null,c),u);return}a(u),r=t.setTimeout(a.bind(null,c));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Tle{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=o=>{o-i>=n?e(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function Ale(){return Ele(new Tle)}var Mle=G.createContext(Ale);function wle(t,e){var n=G.useContext(Mle);return G.useMemo(()=>e??n(t),[t,e,n])}var Cle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),aP={isSsr:Cle()},Rle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},i2={t:0},lw={t:1};function oP(t){var e=Yu(t,Rle),{isActive:n,canBegin:i,duration:r,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:u,children:c}=e,d=n==="auto"?!aP.isSsr:n,p=wle(e.animationId,e.animationManager),[v,y]=G.useState(d?i2:lw),b=G.useRef(null);return G.useEffect(()=>{d||y(lw)},[d]),G.useEffect(()=>{if(!d||!i)return qy;var T=gle(i2,lw,Sle(a),r,y,p.getTimeoutController()),S=()=>{b.current=T()};return p.start([u,o,S,r,s]),()=>{p.stop(),b.current&&b.current(),s()}},[d,i,r,a,o,u,s,p]),c(v.t)}function sP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=G.useRef(sy(e)),i=G.useRef(t);return i.current!==t&&(n.current=sy(e),i.current=t),n.current}var Ile=["radius"],Ple=["radius"],r2,a2,o2,s2,l2,u2,c2,f2,d2,h2;function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function m2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(i){Nle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Nle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a1.apply(null,arguments)}function g2(t,e){if(t==null)return{};var n,i,r=Lle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lle(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ou(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var v2=(t,e,n,i,r)=>{var a=dd(n),o=dd(i),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,c=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,p;if(s>0&&r instanceof Array){for(var v=[0,0,0,0],y=0,b=4;y<b;y++)v[y]=r[y]>s?s:r[y];p=cr(r2||(r2=Ou(["M",",",""])),t,e+u*v[0]),v[0]>0&&(p+=cr(a2||(a2=Ou(["A ",",",",0,0,",",",",",""])),v[0],v[0],d,t+c*v[0],e)),p+=cr(o2||(o2=Ou(["L ",",",""])),t+n-c*v[1],e),v[1]>0&&(p+=cr(s2||(s2=Ou(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],d,t+n,e+u*v[1])),p+=cr(l2||(l2=Ou(["L ",",",""])),t+n,e+i-u*v[2]),v[2]>0&&(p+=cr(u2||(u2=Ou(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],d,t+n-c*v[2],e+i)),p+=cr(c2||(c2=Ou(["L ",",",""])),t+c*v[3],e+i),v[3]>0&&(p+=cr(f2||(f2=Ou(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],d,t,e+i-u*v[3])),p+="Z"}else if(s>0&&r===+r&&r>0){var T=Math.min(s,r);p=cr(d2||(d2=Ou(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*T,T,T,d,t+c*T,e,t+n-c*T,e,T,T,d,t+n,e+u*T,t+n,e+i-u*T,T,T,d,t+n-c*T,e+i,t+c*T,e+i,T,T,d,t,e+i-u*T)}else p=cr(h2||(h2=Ou(["M ",","," h "," v "," h "," Z"])),t,e,n,i,-n);return p},y2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KV=t=>{var e=Yu(t,y2),n=G.useRef(null),[i,r]=G.useState(-1);G.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&r(ne)}catch{}},[]);var{x:a,y:o,width:s,height:u,radius:c,className:d}=e,{animationEasing:p,animationDuration:v,animationBegin:y,isAnimationActive:b,isUpdateAnimationActive:T}=e,S=G.useRef(s),A=G.useRef(u),R=G.useRef(a),I=G.useRef(o),N=G.useMemo(()=>({x:a,y:o,width:s,height:u,radius:c}),[a,o,s,u,c]),D=sP(N,"rectangle-");if(a!==+a||o!==+o||s!==+s||u!==+u||s===0||u===0)return null;var O=Lr("recharts-rectangle",d);if(!T){var F=sl(e),{radius:z}=F,U=g2(F,Ile);return G.createElement("path",a1({},U,{x:dd(a),y:dd(o),width:dd(s),height:dd(u),radius:typeof c=="number"?c:void 0,className:O,d:v2(a,o,s,u,c)}))}var B=S.current,j=A.current,W=R.current,Y=I.current,Q="0px ".concat(i===-1?1:i,"px"),ae="".concat(i,"px 0px"),X=jV(["strokeDasharray"],v,typeof p=="string"?p:y2.animationEasing);return G.createElement(oP,{animationId:D,key:D,canBegin:i>0,duration:v,easing:p,isActive:T,begin:y},ne=>{var ge=kl(B,s,ne),pe=kl(j,u,ne),de=kl(W,a,ne),H=kl(Y,o,ne);n.current&&(S.current=ge,A.current=pe,R.current=de,I.current=H);var te;b?ne>0?te={transition:X,strokeDasharray:ae}:te={strokeDasharray:Q}:te={strokeDasharray:ae};var ie=sl(e),{radius:ce}=ie,ye=g2(ie,Ple);return G.createElement("path",a1({},ye,{radius:typeof c=="number"?c:void 0,className:O,d:v2(de,H,ge,pe,c),ref:n,style:m2(m2({},te),e.style)}))})};function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(i){Ule(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ule(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=kle(t,"string");return typeof e=="symbol"?e:e+""}function kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o1=Math.PI/180,Ble=t=>t*180/Math.PI,Dr=(t,e,n,i)=>({x:t+Math.cos(-o1*i)*n,y:e+Math.sin(-o1*i)*n}),JV=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},zle=(t,e)=>{var{x:n,y:i}=t,{x:r,y:a}=e;return Math.sqrt((n-r)**2+(i-a)**2)},Gle=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:a}=e,o=zle({x:n,y:i},{x:r,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-r)/o,u=Math.acos(s);return i>a&&(u=2*Math.PI-u),{radius:o,angle:Ble(u),angleInRadian:u}},Vle=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:e-a*360,endAngle:n-a*360}},Hle=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(r,a);return t+o*360},qle=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:r,angle:a}=Gle({x:n,y:i},e),{innerRadius:o,outerRadius:s}=e;if(r<o||r>s||r===0)return null;var{startAngle:u,endAngle:c}=Vle(e),d=a,p;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}return p?b2(b2({},e),{},{radius:r,angle:Hle(d,e)}):null};function ZV(t){var{cx:e,cy:n,radius:i,startAngle:r,endAngle:a}=t,o=Dr(e,n,i,r),s=Dr(e,n,i,a);return{points:[o,s],cx:e,cy:n,radius:i,startAngle:r,endAngle:a}}var x2,S2,E2,T2,A2,M2,w2;function NR(){return NR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},NR.apply(null,arguments)}function Bh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Wle=(t,e)=>{var n=$o(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},fx=t=>{var{cx:e,cy:n,radius:i,angle:r,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:u}=t,c=s*(o?1:-1)+i,d=Math.asin(s/c)/o1,p=u?r:r+a*d,v=Dr(e,n,c,p),y=Dr(e,n,i,p),b=u?r-a*d:r,T=Dr(e,n,c*Math.cos(d*o1),b);return{center:v,circleTangency:y,lineTangency:T,theta:d}},QV=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o}=t,s=Wle(a,o),u=a+s,c=Dr(e,n,r,a),d=Dr(e,n,r,u),p=cr(x2||(x2=Bh(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,r,r,+(Math.abs(s)>180),+(a>u),d.x,d.y);if(i>0){var v=Dr(e,n,i,a),y=Dr(e,n,i,u);p+=cr(S2||(S2=Bh(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,i,i,+(Math.abs(s)>180),+(a<=u),v.x,v.y)}else p+=cr(E2||(E2=Bh(["L ",","," Z"])),e,n);return p},jle=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:u,endAngle:c}=t,d=$o(c-u),{circleTangency:p,lineTangency:v,theta:y}=fx({cx:e,cy:n,radius:r,angle:u,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:b,lineTangency:T,theta:S}=fx({cx:e,cy:n,radius:r,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(u-c):Math.abs(u-c)-y-S;if(A<0)return o?cr(T2||(T2=Bh(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):QV({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:u,endAngle:c});var R=cr(A2||(A2=Bh(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(d<0),p.x,p.y,r,r,+(A>180),+(d<0),b.x,b.y,a,a,+(d<0),T.x,T.y);if(i>0){var{circleTangency:I,lineTangency:N,theta:D}=fx({cx:e,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:O,lineTangency:F,theta:z}=fx({cx:e,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),U=s?Math.abs(u-c):Math.abs(u-c)-D-z;if(U<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+=cr(M2||(M2=Bh(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),F.x,F.y,a,a,+(d<0),O.x,O.y,i,i,+(U>180),+(d>0),I.x,I.y,a,a,+(d<0),N.x,N.y)}else R+=cr(w2||(w2=Bh(["L",",","Z"])),e,n);return R},Xle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e8=t=>{var e=Yu(t,Xle),{cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d,className:p}=e;if(a<r||c===d)return null;var v=Lr("recharts-sector",p),y=a-r,b=gs(o,y,0,!0),T;return b>0&&Math.abs(c-d)<360?T=jle({cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(b,y/2),forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d}):T=QV({cx:n,cy:i,innerRadius:r,outerRadius:a,startAngle:c,endAngle:d}),G.createElement("path",NR({},sl(e),{className:v,d:T}))};function Yle(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(zG(e)){if(t==="centric"){var{cx:i,cy:r,innerRadius:a,outerRadius:o,angle:s}=e,u=Dr(i,r,a,s),c=Dr(i,r,o,s);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return ZV(e)}}var uw={},cw={},fw={},C2;function $le(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(fw)),fw}var R2;function Kle(){return R2||(R2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$le();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(cw)),cw}var I2;function Jle(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZG(),n=Kle();function i(r,a,o){o&&typeof o!="number"&&e.isIterateeCall(r,a,o)&&(a=o=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),o=o===void 0?r<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-r)/(o||1)),0),u=new Array(s);for(let c=0;c<s;c++)u[c]=r,r+=o;return u}t.range=i})(uw)),uw}var dw,P2;function Zle(){return P2||(P2=1,dw=Jle().range),dw}var Qle=Zle();const t8=fl(Qle);function gd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lP(t){let e,n,i;t.length!==2?(e=gd,n=(s,u)=>gd(t(s),u),i=(s,u)=>t(s)-u):(e=t===gd||t===eue?t:tue,n=t,i=t);function r(s,u,c=0,d=s.length){if(c<d){if(e(u,u)!==0)return d;do{const p=c+d>>>1;n(s[p],u)<0?c=p+1:d=p}while(c<d)}return c}function a(s,u,c=0,d=s.length){if(c<d){if(e(u,u)!==0)return d;do{const p=c+d>>>1;n(s[p],u)<=0?c=p+1:d=p}while(c<d)}return c}function o(s,u,c=0,d=s.length){const p=r(s,u,c,d-1);return p>c&&i(s[p-1],u)>-i(s[p],u)?p-1:p}return{left:r,center:o,right:a}}function tue(){return 0}function n8(t){return t===null?NaN:+t}function*nue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iue=lP(gd),$y=iue.right;lP(n8).center;class N2 extends Map{constructor(e,n=oue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(D2(this,e))}has(e){return super.has(D2(this,e))}set(e,n){return super.set(rue(this,e),n)}delete(e){return super.delete(aue(this,e))}}function D2({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function rue({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function aue({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function oue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sue(t=gd){if(t===gd)return i8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function i8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lue=Math.sqrt(50),uue=Math.sqrt(10),cue=Math.sqrt(2);function s1(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=lue?10:a>=uue?5:a>=cue?2:1;let s,u,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(t*c),u=Math.round(e*c),s/c<t&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,r)*o,s=Math.round(t/c),u=Math.round(e/c),s*c<t&&++s,u*c>e&&--u),u<s&&.5<=n&&n<2?s1(t,e,n*2):[s,u,c]}function DR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,o]=i?s1(e,t,n):s1(t,e,n);if(!(a>=r))return[];const s=a-r+1,u=new Array(s);if(i)if(o<0)for(let c=0;c<s;++c)u[c]=(a-c)/-o;else for(let c=0;c<s;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)u[c]=(r+c)/-o;else for(let c=0;c<s;++c)u[c]=(r+c)*o;return u}function OR(t,e,n){return e=+e,t=+t,n=+n,s1(t,e,n)[2]}function LR(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?OR(e,t,n):OR(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function O2(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function L2(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function r8(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?i8:sue(r);i>n;){if(i-n>600){const u=i-n+1,c=e-n+1,d=Math.log(u),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(u-p)/u)*(c-u/2<0?-1:1),y=Math.max(n,Math.floor(e-c*p/u+v)),b=Math.min(i,Math.floor(e+(u-c)*p/u+v));r8(t,e,y,b,r)}const a=t[e];let o=n,s=i;for(y0(t,n,e),r(t[i],a)>0&&y0(t,n,i);o<s;){for(y0(t,o,s),++o,--s;r(t[o],a)<0;)++o;for(;r(t[s],a)>0;)--s}r(t[n],a)===0?y0(t,n,s):(++s,y0(t,s,i)),s<=e&&(n=s+1),e<=s&&(i=s-1)}return t}function y0(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function fue(t,e,n){if(t=Float64Array.from(nue(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return L2(t);if(e>=1)return O2(t);var i,r=(i-1)*e,a=Math.floor(r),o=O2(r8(t,a).subarray(0,a+1)),s=L2(t.subarray(a+1));return o+(s-o)*(r-a)}}function due(t,e,n=n8){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(r-a)}}function hue(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function hl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function df(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const UR=Symbol("implicit");function uP(){var t=new N2,e=[],n=[],i=UR;function r(a){let o=t.get(a);if(o===void 0){if(i!==UR)return i;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new N2;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return uP(e,n).unknown(i)},hl.apply(r,arguments),r}function cP(){var t=uP().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,o,s=!1,u=0,c=0,d=.5;delete t.unknown;function p(){var v=e().length,y=r<i,b=y?r:i,T=y?i:r;a=(T-b)/Math.max(1,v-u+c*2),s&&(a=Math.floor(a)),b+=(T-b-a*(v-u))*d,o=a*(1-u),s&&(b=Math.round(b),o=Math.round(o));var S=hue(v).map(function(A){return b+a*A});return n(y?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([i,r]=v,i=+i,r=+r,p()):[i,r]},t.rangeRound=function(v){return[i,r]=v,i=+i,r=+r,s=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(s=!!v,p()):s},t.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),p()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),p()):u},t.paddingOuter=function(v){return arguments.length?(c=+v,p()):c},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return cP(e(),[i,r]).round(s).paddingInner(u).paddingOuter(c).align(d)},hl.apply(p(),arguments)}function a8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return a8(e())},t}function pue(){return a8(cP.apply(null,arguments).paddingInner(1))}function fP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o8(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ky(){}var my=.7,l1=1/my,ag="\\s*([+-]?\\d+)\\s*",gy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mue=/^#([0-9a-f]{3,8})$/,gue=new RegExp(`^rgb\\(${ag},${ag},${ag}\\)$`),vue=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),yue=new RegExp(`^rgba\\(${ag},${ag},${ag},${gy}\\)$`),_ue=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${gy}\\)$`),bue=new RegExp(`^hsl\\(${gy},${Gu},${Gu}\\)$`),xue=new RegExp(`^hsla\\(${gy},${Gu},${Gu},${gy}\\)$`),U2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fP(Ky,vy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:F2,formatHex:F2,formatHex8:Sue,formatHsl:Eue,formatRgb:k2,toString:k2});function F2(){return this.rgb().formatHex()}function Sue(){return this.rgb().formatHex8()}function Eue(){return s8(this).formatHsl()}function k2(){return this.rgb().formatRgb()}function vy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mue.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?B2(e):n===3?new Ko(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gue.exec(t))?new Ko(e[1],e[2],e[3],1):(e=vue.exec(t))?new Ko(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yue.exec(t))?dx(e[1],e[2],e[3],e[4]):(e=_ue.exec(t))?dx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bue.exec(t))?V2(e[1],e[2]/100,e[3]/100,1):(e=xue.exec(t))?V2(e[1],e[2]/100,e[3]/100,e[4]):U2.hasOwnProperty(t)?B2(U2[t]):t==="transparent"?new Ko(NaN,NaN,NaN,0):null}function B2(t){return new Ko(t>>16&255,t>>8&255,t&255,1)}function dx(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ko(t,e,n,i)}function Tue(t){return t instanceof Ky||(t=vy(t)),t?(t=t.rgb(),new Ko(t.r,t.g,t.b,t.opacity)):new Ko}function FR(t,e,n,i){return arguments.length===1?Tue(t):new Ko(t,e,n,i??1)}function Ko(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}fP(Ko,FR,o8(Ky,{brighter(t){return t=t==null?l1:Math.pow(l1,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?my:Math.pow(my,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ko(Xh(this.r),Xh(this.g),Xh(this.b),u1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z2,formatHex:z2,formatHex8:Aue,formatRgb:G2,toString:G2}));function z2(){return`#${zh(this.r)}${zh(this.g)}${zh(this.b)}`}function Aue(){return`#${zh(this.r)}${zh(this.g)}${zh(this.b)}${zh((isNaN(this.opacity)?1:this.opacity)*255)}`}function G2(){const t=u1(this.opacity);return`${t===1?"rgb(":"rgba("}${Xh(this.r)}, ${Xh(this.g)}, ${Xh(this.b)}${t===1?")":`, ${t})`}`}function u1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zh(t){return t=Xh(t),(t<16?"0":"")+t.toString(16)}function V2(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gl(t,e,n,i)}function s8(t){if(t instanceof Gl)return new Gl(t.h,t.s,t.l,t.opacity);if(t instanceof Ky||(t=vy(t)),!t)return new Gl;if(t instanceof Gl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,u=(a+r)/2;return s?(e===a?o=(n-i)/s+(n<i)*6:n===a?o=(i-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+r:2-a-r,o*=60):s=u>0&&u<1?0:o,new Gl(o,s,u,t.opacity)}function Mue(t,e,n,i){return arguments.length===1?s8(t):new Gl(t,e,n,i??1)}function Gl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}fP(Gl,Mue,o8(Ky,{brighter(t){return t=t==null?l1:Math.pow(l1,t),new Gl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?my:Math.pow(my,t),new Gl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ko(hw(t>=240?t-240:t+120,r,i),hw(t,r,i),hw(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Gl(H2(this.h),hx(this.s),hx(this.l),u1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=u1(this.opacity);return`${t===1?"hsl(":"hsla("}${H2(this.h)}, ${hx(this.s)*100}%, ${hx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function H2(t){return t=(t||0)%360,t<0?t+360:t}function hx(t){return Math.max(0,Math.min(1,t||0))}function hw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dP=t=>()=>t;function wue(t,e){return function(n){return t+n*e}}function Cue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Rue(t){return(t=+t)==1?l8:function(e,n){return n-e?Cue(e,n,t):dP(isNaN(e)?n:e)}}function l8(t,e){var n=e-t;return n?wue(t,n):dP(isNaN(t)?e:t)}const q2=(function t(e){var n=Rue(e);function i(r,a){var o=n((r=FR(r)).r,(a=FR(a)).r),s=n(r.g,a.g),u=n(r.b,a.b),c=l8(r.opacity,a.opacity);return function(d){return r.r=o(d),r.g=s(d),r.b=u(d),r.opacity=c(d),r+""}}return i.gamma=t,i})(1);function Iue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function Pue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nue(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=Ng(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<i;++o)a[o]=r[o](s);return a}}function Due(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function c1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Oue(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=Ng(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var kR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pw=new RegExp(kR.source,"g");function Lue(t){return function(){return t}}function Uue(t){return function(e){return t(e)+""}}function Fue(t,e){var n=kR.lastIndex=pw.lastIndex=0,i,r,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(i=kR.exec(t))&&(r=pw.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:c1(i,r)})),n=pw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Uue(u[0].x):Lue(e):(e=u.length,function(c){for(var d=0,p;d<e;++d)s[(p=u[d]).i]=p.x(c);return s.join("")})}function Ng(t,e){var n=typeof e,i;return e==null||n==="boolean"?dP(e):(n==="number"?c1:n==="string"?(i=vy(e))?(e=i,q2):Fue:e instanceof vy?q2:e instanceof Date?Due:Pue(e)?Iue:Array.isArray(e)?Nue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Oue:c1)(t,e)}function hP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function kue(t,e){e===void 0&&(e=t,t=Ng);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(o){var s=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[s](o-s)}}function Bue(t){return function(){return t}}function f1(t){return+t}var W2=[0,1];function go(t){return t}function BR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bue(isNaN(e)?NaN:.5)}function zue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function Gue(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=BR(r,i),a=n(o,a)):(i=BR(i,r),a=n(a,o)),function(s){return a(i(s))}}function Vue(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=BR(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=$y(t,s,1,i)-1;return a[u](r[u](s))}}function Jy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function aT(){var t=W2,e=W2,n=Ng,i,r,a,o=go,s,u,c;function d(){var v=Math.min(t.length,e.length);return o!==go&&(o=zue(t[0],t[v-1])),s=v>2?Vue:Gue,u=c=null,p}function p(v){return v==null||isNaN(v=+v)?a:(u||(u=s(t.map(i),e,n)))(i(o(v)))}return p.invert=function(v){return o(r((c||(c=s(e,t.map(i),c1)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,f1),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),n=hP,d()},p.clamp=function(v){return arguments.length?(o=v?!0:go,d()):o!==go},p.interpolate=function(v){return arguments.length?(n=v,d()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return i=v,r=y,d()}}function pP(){return aT()(go,go)}function Hue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function d1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function fg(t){return t=d1(Math.abs(t)),t?t[1]:NaN}function que(t,e){return function(n,i){for(var r=n.length,a=[],o=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Wue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yy(t){if(!(e=jue.exec(t)))throw new Error("invalid format: "+t);var e;return new mP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yy.prototype=mP.prototype;function mP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xue(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var h1;function Yue(t,e){var n=d1(t,e);if(!n)return h1=void 0,t.toPrecision(e);var i=n[0],r=n[1],a=r-(h1=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+d1(t,Math.max(0,e+a-1))[0]}function j2(t,e){var n=d1(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const X2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j2(t*100,e),r:j2,s:Yue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Y2(t){return t}var $2=Array.prototype.map,K2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ue(t){var e=t.grouping===void 0||t.thousands===void 0?Y2:que($2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Y2:Wue($2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(p,v){p=yy(p);var y=p.fill,b=p.align,T=p.sign,S=p.symbol,A=p.zero,R=p.width,I=p.comma,N=p.precision,D=p.trim,O=p.type;O==="n"?(I=!0,O="g"):X2[O]||(N===void 0&&(N=12),D=!0,O="g"),(A||y==="0"&&b==="=")&&(A=!0,y="0",b="=");var F=(v&&v.prefix!==void 0?v.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),z=(S==="$"?i:/[%p]/.test(O)?o:"")+(v&&v.suffix!==void 0?v.suffix:""),U=X2[O],B=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function j(W){var Y=F,Q=z,ae,X,ne;if(O==="c")Q=U(W)+Q,W="";else{W=+W;var ge=W<0||1/W<0;if(W=isNaN(W)?u:U(Math.abs(W),N),D&&(W=Xue(W)),ge&&+W==0&&T!=="+"&&(ge=!1),Y=(ge?T==="("?T:s:T==="-"||T==="("?"":T)+Y,Q=(O==="s"&&!isNaN(W)&&h1!==void 0?K2[8+h1/3]:"")+Q+(ge&&T==="("?")":""),B){for(ae=-1,X=W.length;++ae<X;)if(ne=W.charCodeAt(ae),48>ne||ne>57){Q=(ne===46?r+W.slice(ae+1):W.slice(ae))+Q,W=W.slice(0,ae);break}}}I&&!A&&(W=e(W,1/0));var pe=Y.length+W.length+Q.length,de=pe<R?new Array(R-pe+1).join(y):"";switch(I&&A&&(W=e(de+W,de.length?R-Q.length:1/0),de=""),b){case"<":W=Y+W+Q+de;break;case"=":W=Y+de+W+Q;break;case"^":W=de.slice(0,pe=de.length>>1)+Y+W+Q+de.slice(pe);break;default:W=de+Y+W+Q;break}return a(W)}return j.toString=function(){return p+""},j}function d(p,v){var y=Math.max(-8,Math.min(8,Math.floor(fg(v)/3)))*3,b=Math.pow(10,-y),T=c((p=yy(p),p.type="f",p),{suffix:K2[8+y/3]});return function(S){return T(b*S)}}return{format:c,formatPrefix:d}}var px,gP,u8;Kue({thousands:",",grouping:[3],currency:["$",""]});function Kue(t){return px=$ue(t),gP=px.format,u8=px.formatPrefix,px}function Jue(t){return Math.max(0,-fg(Math.abs(t)))}function Zue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fg(e)/3)))*3-fg(Math.abs(t)))}function Que(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fg(e)-fg(t))+1}function c8(t,e,n,i){var r=LR(t,e,n),a;switch(i=yy(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=Zue(r,o))&&(i.precision=a),u8(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Que(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Jue(r))&&(i.precision=a-(i.type==="%")*2);break}}return gP(i)}function wd(t){var e=t.domain;return t.ticks=function(n){var i=e();return DR(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return c8(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,o=i[r],s=i[a],u,c,d=10;for(s<o&&(c=o,o=s,s=c,c=r,r=a,a=c);d-- >0;){if(c=OR(o,s,n),c===u)return i[r]=o,i[a]=s,e(i);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;u=c}return t},t}function f8(){var t=pP();return t.copy=function(){return Jy(t,f8())},hl.apply(t,arguments),wd(t)}function d8(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,f1),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return d8(t).unknown(e)},t=arguments.length?Array.from(t,f1):[0,1],wd(n)}function h8(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],o;return a<r&&(o=n,n=i,i=o,o=r,r=a,a=o),t[n]=e.floor(r),t[i]=e.ceil(a),t}function J2(t){return Math.log(t)}function Z2(t){return Math.exp(t)}function ece(t){return-Math.log(-t)}function tce(t){return-Math.exp(-t)}function nce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ice(t){return t===10?nce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Q2(t){return(e,n)=>-t(-e,n)}function vP(t){const e=t(J2,Z2),n=e.domain;let i=10,r,a;function o(){return r=rce(i),a=ice(i),n()[0]<0?(r=Q2(r),a=Q2(a),t(ece,tce)):t(J2,Z2),e}return e.base=function(s){return arguments.length?(i=+s,o()):i},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const u=n();let c=u[0],d=u[u.length-1];const p=d<c;p&&([c,d]=[d,c]);let v=r(c),y=r(d),b,T;const S=s==null?10:+s;let A=[];if(!(i%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),c>0){for(;v<=y;++v)for(b=1;b<i;++b)if(T=v<0?b/a(-v):b*a(v),!(T<c)){if(T>d)break;A.push(T)}}else for(;v<=y;++v)for(b=i-1;b>=1;--b)if(T=v>0?b/a(-v):b*a(v),!(T<c)){if(T>d)break;A.push(T)}A.length*2<S&&(A=DR(c,d,S))}else A=DR(v,y,Math.min(y-v,S)).map(a);return p?A.reverse():A},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=yy(u)).precision==null&&(u.trim=!0),u=gP(u)),s===1/0)return u;const c=Math.max(1,i*s/e.ticks().length);return d=>{let p=d/a(Math.round(r(d)));return p*i<i-.5&&(p*=i),p<=c?u(d):""}},e.nice=()=>n(h8(n(),{floor:s=>a(Math.floor(r(s))),ceil:s=>a(Math.ceil(r(s)))})),e}function p8(){const t=vP(aT()).domain([1,10]);return t.copy=()=>Jy(t,p8()).base(t.base()),hl.apply(t,arguments),t}function eF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yP(t){var e=1,n=t(eF(e),tF(e));return n.constant=function(i){return arguments.length?t(eF(e=+i),tF(e)):e},wd(n)}function m8(){var t=yP(aT());return t.copy=function(){return Jy(t,m8()).constant(t.constant())},hl.apply(t,arguments)}function nF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ace(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oce(t){return t<0?-t*t:t*t}function _P(t){var e=t(go,go),n=1;function i(){return n===1?t(go,go):n===.5?t(ace,oce):t(nF(n),nF(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},wd(e)}function bP(){var t=_P(aT());return t.copy=function(){return Jy(t,bP()).exponent(t.exponent())},hl.apply(t,arguments),t}function sce(){return bP.apply(null,arguments).exponent(.5)}function iF(t){return Math.sign(t)*t*t}function lce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function g8(){var t=pP(),e=[0,1],n=!1,i;function r(a){var o=lce(t(a));return isNaN(o)?i:n?Math.round(o):o}return r.invert=function(a){return t.invert(iF(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,f1)).map(iF)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return g8(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},hl.apply(r,arguments),wd(r)}function v8(){var t=[],e=[],n=[],i;function r(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=due(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?i:e[$y(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(gd),r()},a.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return v8().domain(t).range(e).unknown(i)},hl.apply(a,arguments)}function y8(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function o(u){return u!=null&&u<=u?r[$y(i,u,0,n)]:a}function s(){var u=-1;for(i=new Array(n);++u<n;)i[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},o.range=function(u){return arguments.length?(n=(r=Array.from(u)).length-1,s()):r.slice()},o.invertExtent=function(u){var c=r.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,i[0]]:c>=n?[i[n-1],e]:[i[c-1],i[c]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return i.slice()},o.copy=function(){return y8().domain([t,e]).range(r).unknown(a)},hl.apply(wd(o),arguments)}function _8(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[$y(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return _8().domain(t).range(e).unknown(n)},hl.apply(r,arguments)}const mw=new Date,gw=new Date;function Yr(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const o=r(a),s=r.ceil(a);return a-o<s-a?o:s},r.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,s)=>{const u=[];if(a=r.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let c;do u.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return u},r.filter=a=>Yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(r.count=(a,o)=>(mw.setTime(+a),gw.setTime(+o),t(mw),t(gw),Math.floor(n(mw,gw))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const p1=Yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);p1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):p1);p1.range;const Vc=1e3,il=Vc*60,Hc=il*60,ef=Hc*24,xP=ef*7,rF=ef*30,vw=ef*365,Gh=Yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vc)},(t,e)=>(e-t)/Vc,t=>t.getUTCSeconds());Gh.range;const SP=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vc)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getMinutes());SP.range;const EP=Yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getUTCMinutes());EP.range;const TP=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vc-t.getMinutes()*il)},(t,e)=>{t.setTime(+t+e*Hc)},(t,e)=>(e-t)/Hc,t=>t.getHours());TP.range;const AP=Yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hc)},(t,e)=>(e-t)/Hc,t=>t.getUTCHours());AP.range;const Zy=Yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*il)/ef,t=>t.getDate()-1);Zy.range;const oT=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ef,t=>t.getUTCDate()-1);oT.range;const b8=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ef,t=>Math.floor(t/ef));b8.range;function hp(t){return Yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*il)/xP)}const sT=hp(0),m1=hp(1),uce=hp(2),cce=hp(3),dg=hp(4),fce=hp(5),dce=hp(6);sT.range;m1.range;uce.range;cce.range;dg.range;fce.range;dce.range;function pp(t){return Yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xP)}const lT=pp(0),g1=pp(1),hce=pp(2),pce=pp(3),hg=pp(4),mce=pp(5),gce=pp(6);lT.range;g1.range;hce.range;pce.range;hg.range;mce.range;gce.range;const MP=Yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MP.range;const wP=Yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());wP.range;const tf=Yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());tf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});tf.range;const nf=Yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});nf.range;function x8(t,e,n,i,r,a){const o=[[Gh,1,Vc],[Gh,5,5*Vc],[Gh,15,15*Vc],[Gh,30,30*Vc],[a,1,il],[a,5,5*il],[a,15,15*il],[a,30,30*il],[r,1,Hc],[r,3,3*Hc],[r,6,6*Hc],[r,12,12*Hc],[i,1,ef],[i,2,2*ef],[n,1,xP],[e,1,rF],[e,3,3*rF],[t,1,vw]];function s(c,d,p){const v=d<c;v&&([c,d]=[d,c]);const y=p&&typeof p.range=="function"?p:u(c,d,p),b=y?y.range(c,+d+1):[];return v?b.reverse():b}function u(c,d,p){const v=Math.abs(d-c)/p,y=lP(([,,S])=>S).right(o,v);if(y===o.length)return t.every(LR(c/vw,d/vw,p));if(y===0)return p1.every(Math.max(LR(c,d,p),1));const[b,T]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return b.every(T)}return[s,u]}const[vce,yce]=x8(nf,wP,lT,b8,AP,EP),[_ce,bce]=x8(tf,MP,sT,Zy,TP,SP);function yw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _w(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xce(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=b0(r),d=x0(r),p=b0(a),v=x0(a),y=b0(o),b=x0(o),T=b0(s),S=x0(s),A=b0(u),R=x0(u),I={a:ne,A:ge,b:pe,B:de,c:null,d:cF,e:cF,f:qce,g:efe,G:nfe,H:Gce,I:Vce,j:Hce,L:S8,m:Wce,M:jce,p:H,q:te,Q:hF,s:pF,S:Xce,u:Yce,U:$ce,V:Kce,w:Jce,W:Zce,x:null,X:null,y:Qce,Y:tfe,Z:ife,"%":dF},N={a:ie,A:ce,b:ye,B:oe,c:null,d:fF,e:fF,f:sfe,g:vfe,G:_fe,H:rfe,I:afe,j:ofe,L:T8,m:lfe,M:ufe,p:le,q:Se,Q:hF,s:pF,S:cfe,u:ffe,U:dfe,V:hfe,w:pfe,W:mfe,x:null,X:null,y:gfe,Y:yfe,Z:bfe,"%":dF},D={a:B,A:j,b:W,B:Y,c:Q,d:lF,e:lF,f:Fce,g:sF,G:oF,H:uF,I:uF,j:Dce,L:Uce,m:Nce,M:Oce,p:U,q:Pce,Q:Bce,s:zce,S:Lce,u:Mce,U:wce,V:Cce,w:Ace,W:Rce,x:ae,X,y:sF,Y:oF,Z:Ice,"%":kce};I.x=O(n,I),I.X=O(i,I),I.c=O(e,I),N.x=O(n,N),N.X=O(i,N),N.c=O(e,N);function O(he,De){return function(Fe){var ve=[],ct=-1,Ee=0,Oe=he.length,Me,Je,K;for(Fe instanceof Date||(Fe=new Date(+Fe));++ct<Oe;)he.charCodeAt(ct)===37&&(ve.push(he.slice(Ee,ct)),(Je=aF[Me=he.charAt(++ct)])!=null?Me=he.charAt(++ct):Je=Me==="e"?" ":"0",(K=De[Me])&&(Me=K(Fe,Je)),ve.push(Me),Ee=ct+1);return ve.push(he.slice(Ee,ct)),ve.join("")}}function F(he,De){return function(Fe){var ve=_0(1900,void 0,1),ct=z(ve,he,Fe+="",0),Ee,Oe;if(ct!=Fe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(De&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ee=_w(_0(ve.y,0,1)),Oe=Ee.getUTCDay(),Ee=Oe>4||Oe===0?g1.ceil(Ee):g1(Ee),Ee=oT.offset(Ee,(ve.V-1)*7),ve.y=Ee.getUTCFullYear(),ve.m=Ee.getUTCMonth(),ve.d=Ee.getUTCDate()+(ve.w+6)%7):(Ee=yw(_0(ve.y,0,1)),Oe=Ee.getDay(),Ee=Oe>4||Oe===0?m1.ceil(Ee):m1(Ee),Ee=Zy.offset(Ee,(ve.V-1)*7),ve.y=Ee.getFullYear(),ve.m=Ee.getMonth(),ve.d=Ee.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Oe="Z"in ve?_w(_0(ve.y,0,1)).getUTCDay():yw(_0(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Oe+5)%7:ve.w+ve.U*7-(Oe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,_w(ve)):yw(ve)}}function z(he,De,Fe,ve){for(var ct=0,Ee=De.length,Oe=Fe.length,Me,Je;ct<Ee;){if(ve>=Oe)return-1;if(Me=De.charCodeAt(ct++),Me===37){if(Me=De.charAt(ct++),Je=D[Me in aF?De.charAt(ct++):Me],!Je||(ve=Je(he,Fe,ve))<0)return-1}else if(Me!=Fe.charCodeAt(ve++))return-1}return ve}function U(he,De,Fe){var ve=c.exec(De.slice(Fe));return ve?(he.p=d.get(ve[0].toLowerCase()),Fe+ve[0].length):-1}function B(he,De,Fe){var ve=y.exec(De.slice(Fe));return ve?(he.w=b.get(ve[0].toLowerCase()),Fe+ve[0].length):-1}function j(he,De,Fe){var ve=p.exec(De.slice(Fe));return ve?(he.w=v.get(ve[0].toLowerCase()),Fe+ve[0].length):-1}function W(he,De,Fe){var ve=A.exec(De.slice(Fe));return ve?(he.m=R.get(ve[0].toLowerCase()),Fe+ve[0].length):-1}function Y(he,De,Fe){var ve=T.exec(De.slice(Fe));return ve?(he.m=S.get(ve[0].toLowerCase()),Fe+ve[0].length):-1}function Q(he,De,Fe){return z(he,e,De,Fe)}function ae(he,De,Fe){return z(he,n,De,Fe)}function X(he,De,Fe){return z(he,i,De,Fe)}function ne(he){return o[he.getDay()]}function ge(he){return a[he.getDay()]}function pe(he){return u[he.getMonth()]}function de(he){return s[he.getMonth()]}function H(he){return r[+(he.getHours()>=12)]}function te(he){return 1+~~(he.getMonth()/3)}function ie(he){return o[he.getUTCDay()]}function ce(he){return a[he.getUTCDay()]}function ye(he){return u[he.getUTCMonth()]}function oe(he){return s[he.getUTCMonth()]}function le(he){return r[+(he.getUTCHours()>=12)]}function Se(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var De=O(he+="",I);return De.toString=function(){return he},De},parse:function(he){var De=F(he+="",!1);return De.toString=function(){return he},De},utcFormat:function(he){var De=O(he+="",N);return De.toString=function(){return he},De},utcParse:function(he){var De=F(he+="",!0);return De.toString=function(){return he},De}}}var aF={"-":"",_:" ",0:"0"},ha=/^\s*\d+/,Sce=/^%/,Ece=/[\\^$*+?|[\]().{}]/g;function Yn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Tce(t){return t.replace(Ece,"\\$&")}function b0(t){return new RegExp("^(?:"+t.map(Tce).join("|")+")","i")}function x0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ace(t,e,n){var i=ha.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Mce(t,e,n){var i=ha.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function wce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Cce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Rce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function oF(t,e,n){var i=ha.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function sF(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Ice(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Pce(t,e,n){var i=ha.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function Nce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function lF(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Dce(t,e,n){var i=ha.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function uF(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Oce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Lce(t,e,n){var i=ha.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Uce(t,e,n){var i=ha.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Fce(t,e,n){var i=ha.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function kce(t,e,n){var i=Sce.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Bce(t,e,n){var i=ha.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function zce(t,e,n){var i=ha.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function cF(t,e){return Yn(t.getDate(),e,2)}function Gce(t,e){return Yn(t.getHours(),e,2)}function Vce(t,e){return Yn(t.getHours()%12||12,e,2)}function Hce(t,e){return Yn(1+Zy.count(tf(t),t),e,3)}function S8(t,e){return Yn(t.getMilliseconds(),e,3)}function qce(t,e){return S8(t,e)+"000"}function Wce(t,e){return Yn(t.getMonth()+1,e,2)}function jce(t,e){return Yn(t.getMinutes(),e,2)}function Xce(t,e){return Yn(t.getSeconds(),e,2)}function Yce(t){var e=t.getDay();return e===0?7:e}function $ce(t,e){return Yn(sT.count(tf(t)-1,t),e,2)}function E8(t){var e=t.getDay();return e>=4||e===0?dg(t):dg.ceil(t)}function Kce(t,e){return t=E8(t),Yn(dg.count(tf(t),t)+(tf(t).getDay()===4),e,2)}function Jce(t){return t.getDay()}function Zce(t,e){return Yn(m1.count(tf(t)-1,t),e,2)}function Qce(t,e){return Yn(t.getFullYear()%100,e,2)}function efe(t,e){return t=E8(t),Yn(t.getFullYear()%100,e,2)}function tfe(t,e){return Yn(t.getFullYear()%1e4,e,4)}function nfe(t,e){var n=t.getDay();return t=n>=4||n===0?dg(t):dg.ceil(t),Yn(t.getFullYear()%1e4,e,4)}function ife(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yn(e/60|0,"0",2)+Yn(e%60,"0",2)}function fF(t,e){return Yn(t.getUTCDate(),e,2)}function rfe(t,e){return Yn(t.getUTCHours(),e,2)}function afe(t,e){return Yn(t.getUTCHours()%12||12,e,2)}function ofe(t,e){return Yn(1+oT.count(nf(t),t),e,3)}function T8(t,e){return Yn(t.getUTCMilliseconds(),e,3)}function sfe(t,e){return T8(t,e)+"000"}function lfe(t,e){return Yn(t.getUTCMonth()+1,e,2)}function ufe(t,e){return Yn(t.getUTCMinutes(),e,2)}function cfe(t,e){return Yn(t.getUTCSeconds(),e,2)}function ffe(t){var e=t.getUTCDay();return e===0?7:e}function dfe(t,e){return Yn(lT.count(nf(t)-1,t),e,2)}function A8(t){var e=t.getUTCDay();return e>=4||e===0?hg(t):hg.ceil(t)}function hfe(t,e){return t=A8(t),Yn(hg.count(nf(t),t)+(nf(t).getUTCDay()===4),e,2)}function pfe(t){return t.getUTCDay()}function mfe(t,e){return Yn(g1.count(nf(t)-1,t),e,2)}function gfe(t,e){return Yn(t.getUTCFullYear()%100,e,2)}function vfe(t,e){return t=A8(t),Yn(t.getUTCFullYear()%100,e,2)}function yfe(t,e){return Yn(t.getUTCFullYear()%1e4,e,4)}function _fe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hg(t):hg.ceil(t),Yn(t.getUTCFullYear()%1e4,e,4)}function bfe(){return"+0000"}function dF(){return"%"}function hF(t){return+t}function pF(t){return Math.floor(+t/1e3)}var _m,M8,w8;xfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xfe(t){return _m=xce(t),M8=_m.format,_m.parse,w8=_m.utcFormat,_m.utcParse,_m}function Sfe(t){return new Date(t)}function Efe(t){return t instanceof Date?+t:+new Date(+t)}function CP(t,e,n,i,r,a,o,s,u,c){var d=pP(),p=d.invert,v=d.domain,y=c(".%L"),b=c(":%S"),T=c("%I:%M"),S=c("%I %p"),A=c("%a %d"),R=c("%b %d"),I=c("%B"),N=c("%Y");function D(O){return(u(O)<O?y:s(O)<O?b:o(O)<O?T:a(O)<O?S:i(O)<O?r(O)<O?A:R:n(O)<O?I:N)(O)}return d.invert=function(O){return new Date(p(O))},d.domain=function(O){return arguments.length?v(Array.from(O,Efe)):v().map(Sfe)},d.ticks=function(O){var F=v();return t(F[0],F[F.length-1],O??10)},d.tickFormat=function(O,F){return F==null?D:c(F)},d.nice=function(O){var F=v();return(!O||typeof O.range!="function")&&(O=e(F[0],F[F.length-1],O??10)),O?v(h8(F,O)):d},d.copy=function(){return Jy(d,CP(t,e,n,i,r,a,o,s,u,c))},d}function Tfe(){return hl.apply(CP(_ce,bce,tf,MP,sT,Zy,TP,SP,Gh,M8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Afe(){return hl.apply(CP(vce,yce,nf,wP,lT,oT,AP,EP,Gh,w8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uT(){var t=0,e=1,n,i,r,a,o=go,s=!1,u;function c(p){return p==null||isNaN(p=+p)?u:o(r===0?.5:(p=(a(p)-n)*r,s?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),c):[t,e]},c.clamp=function(p){return arguments.length?(s=!!p,c):s},c.interpolator=function(p){return arguments.length?(o=p,c):o};function d(p){return function(v){var y,b;return arguments.length?([y,b]=v,o=p(y,b),c):[o(0),o(1)]}}return c.range=d(Ng),c.rangeRound=d(hP),c.unknown=function(p){return arguments.length?(u=p,c):u},function(p){return a=p,n=p(t),i=p(e),r=n===i?0:1/(i-n),c}}function Cd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function C8(){var t=wd(uT()(go));return t.copy=function(){return Cd(t,C8())},df.apply(t,arguments)}function R8(){var t=vP(uT()).domain([1,10]);return t.copy=function(){return Cd(t,R8()).base(t.base())},df.apply(t,arguments)}function I8(){var t=yP(uT());return t.copy=function(){return Cd(t,I8()).constant(t.constant())},df.apply(t,arguments)}function RP(){var t=_P(uT());return t.copy=function(){return Cd(t,RP()).exponent(t.exponent())},df.apply(t,arguments)}function Mfe(){return RP.apply(null,arguments).exponent(.5)}function P8(){var t=[],e=go;function n(i){if(i!=null&&!isNaN(i=+i))return e(($y(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(gd),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>fue(t,a/i))},n.copy=function(){return P8(e).domain(t)},df.apply(n,arguments)}function cT(){var t=0,e=.5,n=1,i=1,r,a,o,s,u,c=go,d,p=!1,v;function y(T){return isNaN(T=+T)?v:(T=.5+((T=+d(T))-a)*(i*T<i*a?s:u),c(p?Math.max(0,Math.min(1,T)):T))}y.domain=function(T){return arguments.length?([t,e,n]=T,r=d(t=+t),a=d(e=+e),o=d(n=+n),s=r===a?0:.5/(a-r),u=a===o?0:.5/(o-a),i=a<r?-1:1,y):[t,e,n]},y.clamp=function(T){return arguments.length?(p=!!T,y):p},y.interpolator=function(T){return arguments.length?(c=T,y):c};function b(T){return function(S){var A,R,I;return arguments.length?([A,R,I]=S,c=kue(T,[A,R,I]),y):[c(0),c(.5),c(1)]}}return y.range=b(Ng),y.rangeRound=b(hP),y.unknown=function(T){return arguments.length?(v=T,y):v},function(T){return d=T,r=T(t),a=T(e),o=T(n),s=r===a?0:.5/(a-r),u=a===o?0:.5/(o-a),i=a<r?-1:1,y}}function N8(){var t=wd(cT()(go));return t.copy=function(){return Cd(t,N8())},df.apply(t,arguments)}function D8(){var t=vP(cT()).domain([.1,1,10]);return t.copy=function(){return Cd(t,D8()).base(t.base())},df.apply(t,arguments)}function O8(){var t=yP(cT());return t.copy=function(){return Cd(t,O8()).constant(t.constant())},df.apply(t,arguments)}function IP(){var t=_P(cT());return t.copy=function(){return Cd(t,IP()).exponent(t.exponent())},df.apply(t,arguments)}function wfe(){return IP.apply(null,arguments).exponent(.5)}const G0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cP,scaleDiverging:N8,scaleDivergingLog:D8,scaleDivergingPow:IP,scaleDivergingSqrt:wfe,scaleDivergingSymlog:O8,scaleIdentity:d8,scaleImplicit:UR,scaleLinear:f8,scaleLog:p8,scaleOrdinal:uP,scalePoint:pue,scalePow:bP,scaleQuantile:v8,scaleQuantize:y8,scaleRadial:g8,scaleSequential:C8,scaleSequentialLog:R8,scaleSequentialPow:RP,scaleSequentialQuantile:P8,scaleSequentialSqrt:Mfe,scaleSequentialSymlog:I8,scaleSqrt:sce,scaleSymlog:m8,scaleThreshold:_8,scaleTime:Tfe,scaleUtc:Afe,tickFormat:c8},Symbol.toStringTag,{value:"Module"}));var Rd=t=>t.chartData,PP=Xe([Rd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),L8=(t,e,n,i)=>i?PP(t):Rd(t);function _d(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ur(e)&&Ur(n))return!0}return!1}function mF(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function U8(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,a;if(Ur(n))r=n;else if(typeof n=="function")return;if(Ur(i))a=i;else if(typeof i=="function")return;var o=[r,a];if(_d(o))return o}}function Cfe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(_d(i))return mF(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,a]=t,o,s;if(r==="auto")e!=null&&(o=Math.min(...e));else if(nn(r))o=r;else if(typeof r=="function")try{e!=null&&(o=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&MU.test(r)){var u=MU.exec(r);if(u==null||u[1]==null||e==null)o=void 0;else{var c=+u[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(nn(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&wU.test(a)){var d=wU.exec(a);if(d==null||d[1]==null||e==null)s=void 0;else{var p=+d[1];s=e[1]+p}}else s=e==null?void 0:e[1];var v=[o,s];if(_d(v))return e==null?v:mF(v,e,n)}}}var Dg=1e9,Rfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DP,zi=!0,ul="[DecimalError] ",Yh=ul+"Invalid argument: ",NP=ul+"Exponent out of range: ",Og=Math.floor,Oh=Math.pow,Ife=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hs,la=1e7,Ni=7,F8=9007199254740991,v1=Og(F8/Ni),Ut={};Ut.absoluteValue=Ut.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ut.comparedTo=Ut.cmp=function(t){var e,n,i,r,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(i=a.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ni;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ut.dividedBy=Ut.div=function(t){return Wc(this,new this.constructor(t))};Ut.dividedToIntegerBy=Ut.idiv=function(t){var e=this,n=e.constructor;return pi(Wc(e,new n(t),0,1),n.precision)};Ut.equals=Ut.eq=function(t){return!this.cmp(t)};Ut.exponent=function(){return Or(this)};Ut.greaterThan=Ut.gt=function(t){return this.cmp(t)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(t){return this.cmp(t)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(t){return this.cmp(t)<0};Ut.lessThanOrEqualTo=Ut.lte=function(t){return this.cmp(t)<1};Ut.logarithm=Ut.log=function(t){var e,n=this,i=n.constructor,r=i.precision,a=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(hs))throw Error(ul+"NaN");if(n.s<1)throw Error(ul+(n.s?"NaN":"-Infinity"));return n.eq(hs)?new i(0):(zi=!1,e=Wc(_y(n,a),_y(t,a),a),zi=!0,pi(e,r))};Ut.minus=Ut.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z8(e,t):k8(e,(t.s=-t.s,t))};Ut.modulo=Ut.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(ul+"NaN");return n.s?(zi=!1,e=Wc(n,t,0,1).times(t),zi=!0,n.minus(e)):pi(new i(n),r)};Ut.naturalExponential=Ut.exp=function(){return B8(this)};Ut.naturalLogarithm=Ut.ln=function(){return _y(this)};Ut.negated=Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ut.plus=Ut.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?k8(e,t):z8(e,(t.s=-t.s,t))};Ut.precision=Ut.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yh+t);if(e=Or(r)+1,i=r.d.length-1,n=i*Ni+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};Ut.squareRoot=Ut.sqrt=function(){var t,e,n,i,r,a,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(ul+"NaN")}for(t=Or(s),zi=!1,r=Math.sqrt(+s),r==0||r==1/0?(e=ku(s.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=Og((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new u(e)):i=new u(r.toString()),n=u.precision,r=o=n+3;;)if(a=i,i=a.plus(Wc(s,a,o+2)).times(.5),ku(a.d).slice(0,o)===(e=ku(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),r==o&&e=="4999"){if(pi(a,n+1,0),a.times(a).eq(s)){i=a;break}}else if(e!="9999")break;o+=4}return zi=!0,pi(i,n)};Ut.times=Ut.mul=function(t){var e,n,i,r,a,o,s,u,c,d=this,p=d.constructor,v=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,u=v.length,c=y.length,u<c&&(a=v,v=y,y=a,o=u,u=c,c=o),a=[],o=u+c,i=o;i--;)a.push(0);for(i=c;--i>=0;){for(e=0,r=u+i;r>i;)s=a[r]+y[i]*v[r-i-1]+e,a[r--]=s%la|0,e=s/la|0;a[r]=(a[r]+e)%la|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,zi?pi(t,p.precision):t};Ut.toDecimalPlaces=Ut.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Hu(t,0,Dg),e===void 0?e=i.rounding:Hu(e,0,8),pi(n,t+Or(n)+1,e))};Ut.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=ip(i,!0):(Hu(t,0,Dg),e===void 0?e=r.rounding:Hu(e,0,8),i=pi(new r(i),t+1,e),n=ip(i,!0,t+1)),n};Ut.toFixed=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?ip(r):(Hu(t,0,Dg),e===void 0?e=a.rounding:Hu(e,0,8),i=pi(new a(r),t+Or(r)+1,e),n=ip(i.abs(),!1,t+Or(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};Ut.toInteger=Ut.toint=function(){var t=this,e=t.constructor;return pi(new e(t),Or(t)+1,e.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(t){var e,n,i,r,a,o,s=this,u=s.constructor,c=12,d=+(t=new u(t));if(!t.s)return new u(hs);if(s=new u(s),!s.s){if(t.s<1)throw Error(ul+"Infinity");return s}if(s.eq(hs))return s;if(i=u.precision,t.eq(hs))return pi(s,i);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=d<0?-d:d)<=F8){for(r=new u(hs),e=Math.ceil(i/Ni+4),zi=!1;n%2&&(r=r.times(s),vF(r.d,e)),n=Og(n/2),n!==0;)s=s.times(s),vF(s.d,e);return zi=!0,t.s<0?new u(hs).div(r):pi(r,i)}}else if(a<0)throw Error(ul+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,zi=!1,r=t.times(_y(s,i+c)),zi=!0,r=B8(r),r.s=a,r};Ut.toPrecision=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?(n=Or(r),i=ip(r,n<=a.toExpNeg||n>=a.toExpPos)):(Hu(t,1,Dg),e===void 0?e=a.rounding:Hu(e,0,8),r=pi(new a(r),t,e),n=Or(r),i=ip(r,t<=n||n<=a.toExpNeg,t)),i};Ut.toSignificantDigits=Ut.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Hu(t,1,Dg),e===void 0?e=i.rounding:Hu(e,0,8)),pi(new i(n),t,e)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Or(t),n=t.constructor;return ip(t,e<=n.toExpNeg||e>=n.toExpPos)};function k8(t,e){var n,i,r,a,o,s,u,c,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),zi?pi(e,p):e;if(u=t.d,c=e.d,o=t.e,r=e.e,u=u.slice(),a=o-r,a){for(a<0?(i=u,a=-a,s=c.length):(i=c,r=o,s=u.length),o=Math.ceil(p/Ni),s=o>s?o+1:s+1,a>s&&(a=s,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(s=u.length,a=c.length,s-a<0&&(a=s,i=c,c=u,u=i),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/la|0,u[a]%=la;for(n&&(u.unshift(n),++r),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=r,zi?pi(e,p):e}function Hu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Yh+t)}function ku(t){var e,n,i,r=t.length-1,a="",o=t[0];if(r>0){for(a+=o,e=1;e<r;e++)i=t[e]+"",n=Ni-i.length,n&&(a+=ld(n)),a+=i;o=t[e],i=o+"",n=Ni-i.length,n&&(a+=ld(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Wc=(function(){function t(i,r){var a,o=0,s=i.length;for(i=i.slice();s--;)a=i[s]*r+o,i[s]=a%la|0,o=a/la|0;return o&&i.unshift(o),i}function e(i,r,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(i[s]!=r[s]){u=i[s]>r[s]?1:-1;break}return u}function n(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*la+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var s,u,c,d,p,v,y,b,T,S,A,R,I,N,D,O,F,z,U=i.constructor,B=i.s==r.s?1:-1,j=i.d,W=r.d;if(!i.s)return new U(i);if(!r.s)throw Error(ul+"Division by zero");for(u=i.e-r.e,F=W.length,D=j.length,y=new U(B),b=y.d=[],c=0;W[c]==(j[c]||0);)++c;if(W[c]>(j[c]||0)&&--u,a==null?R=a=U.precision:o?R=a+(Or(i)-Or(r))+1:R=a,R<0)return new U(0);if(R=R/Ni+2|0,c=0,F==1)for(d=0,W=W[0],R++;(c<D||d)&&R--;c++)I=d*la+(j[c]||0),b[c]=I/W|0,d=I%W|0;else{for(d=la/(W[0]+1)|0,d>1&&(W=t(W,d),j=t(j,d),F=W.length,D=j.length),N=F,T=j.slice(0,F),S=T.length;S<F;)T[S++]=0;z=W.slice(),z.unshift(0),O=W[0],W[1]>=la/2&&++O;do d=0,s=e(W,T,F,S),s<0?(A=T[0],F!=S&&(A=A*la+(T[1]||0)),d=A/O|0,d>1?(d>=la&&(d=la-1),p=t(W,d),v=p.length,S=T.length,s=e(p,T,v,S),s==1&&(d--,n(p,F<v?z:W,v))):(d==0&&(s=d=1),p=W.slice()),v=p.length,v<S&&p.unshift(0),n(T,p,S),s==-1&&(S=T.length,s=e(W,T,F,S),s<1&&(d++,n(T,F<S?z:W,S))),S=T.length):s===0&&(d++,T=[0]),b[c++]=d,s&&T[0]?T[S++]=j[N]||0:(T=[j[N]],S=1);while((N++<D||T[0]!==void 0)&&R--)}return b[0]||b.shift(),y.e=u,pi(y,o?a+Or(y)+1:a)}})();function B8(t,e){var n,i,r,a,o,s,u=0,c=0,d=t.constructor,p=d.precision;if(Or(t)>16)throw Error(NP+Or(t));if(!t.s)return new d(hs);for(zi=!1,s=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(i=Math.log(Oh(2,c))/Math.LN10*2+5|0,s+=i,n=r=a=new d(hs),d.precision=s;;){if(r=pi(r.times(t),s),n=n.times(++u),o=a.plus(Wc(r,n,s)),ku(o.d).slice(0,s)===ku(a.d).slice(0,s)){for(;c--;)a=pi(a.times(a),s);return d.precision=p,e==null?(zi=!0,pi(a,p)):a}a=o}}function Or(t){for(var e=t.e*Ni,n=t.d[0];n>=10;n/=10)e++;return e}function bw(t,e,n){if(e>t.LN10.sd())throw zi=!0,n&&(t.precision=n),Error(ul+"LN10 precision limit exceeded");return pi(new t(t.LN10),e)}function ld(t){for(var e="";t--;)e+="0";return e}function _y(t,e){var n,i,r,a,o,s,u,c,d,p=1,v=10,y=t,b=y.d,T=y.constructor,S=T.precision;if(y.s<1)throw Error(ul+(y.s?"NaN":"-Infinity"));if(y.eq(hs))return new T(0);if(e==null?(zi=!1,c=S):c=e,y.eq(10))return e==null&&(zi=!0),bw(T,c);if(c+=v,T.precision=c,n=ku(b),i=n.charAt(0),a=Or(y),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)y=y.times(t),n=ku(y.d),i=n.charAt(0),p++;a=Or(y),i>1?(y=new T("0."+n),a++):y=new T(i+"."+n.slice(1))}else return u=bw(T,c+2,S).times(a+""),y=_y(new T(i+"."+n.slice(1)),c-v).plus(u),T.precision=S,e==null?(zi=!0,pi(y,S)):y;for(s=o=y=Wc(y.minus(hs),y.plus(hs),c),d=pi(y.times(y),c),r=3;;){if(o=pi(o.times(d),c),u=s.plus(Wc(o,new T(r),c)),ku(u.d).slice(0,c)===ku(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(bw(T,c+2,S).times(a+""))),s=Wc(s,new T(p),c),T.precision=S,e==null?(zi=!0,pi(s,S)):s;s=u,r+=2}}function gF(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=Og(n/Ni),t.d=[],i=(n+1)%Ni,n<0&&(i+=Ni),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=Ni;i<r;)t.d.push(+e.slice(i,i+=Ni));e=e.slice(i),i=Ni-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),zi&&(t.e>v1||t.e<-v1))throw Error(NP+n)}else t.s=0,t.e=0,t.d=[0];return t}function pi(t,e,n){var i,r,a,o,s,u,c,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(i=e-o,i<0)i+=Ni,r=e,c=p[d=0];else{if(d=Math.ceil((i+1)/Ni),a=p.length,d>=a)return t;for(c=a=p[d],o=1;a>=10;a/=10)o++;i%=Ni,r=i-Ni+o}if(n!==void 0&&(a=Oh(10,o-r-1),s=c/a%10|0,u=e<0||p[d+1]!==void 0||c%a,u=n<4?(s||u)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(i>0?r>0?c/Oh(10,o-r):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=Or(t),p.length=1,e=e-a-1,p[0]=Oh(10,(Ni-e%Ni)%Ni),t.e=Og(-e/Ni)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(i==0?(p.length=d,a=1,d--):(p.length=d+1,a=Oh(10,Ni-i),p[d]=r>0?(c/Oh(10,o-r)%Oh(10,r)|0)*a:0),u)for(;;)if(d==0){(p[0]+=a)==la&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=la)break;p[d--]=0,a=1}for(i=p.length;p[--i]===0;)p.pop();if(zi&&(t.e>v1||t.e<-v1))throw Error(NP+Or(t));return t}function z8(t,e){var n,i,r,a,o,s,u,c,d,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),zi?pi(e,y):e;if(u=t.d,p=e.d,i=e.e,c=t.e,u=u.slice(),o=c-i,o){for(d=o<0,d?(n=u,o=-o,s=p.length):(n=p,i=c,s=u.length),r=Math.max(Math.ceil(y/Ni),s)+2,o>r&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for(r=u.length,s=p.length,d=r<s,d&&(s=r),r=0;r<s;r++)if(u[r]!=p[r]){d=u[r]<p[r];break}o=0}for(d&&(n=u,u=p,p=n,e.s=-e.s),s=u.length,r=p.length-s;r>0;--r)u[s++]=0;for(r=p.length;r>o;){if(u[--r]<p[r]){for(a=r;a&&u[--a]===0;)u[a]=la-1;--u[a],u[r]+=la}u[r]-=p[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--i;return u[0]?(e.d=u,e.e=i,zi?pi(e,y):e):new v(0)}function ip(t,e,n){var i,r=Or(t),a=ku(t.d),o=a.length;return e?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ld(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+ld(-r-1)+a,n&&(i=n-o)>0&&(a+=ld(i))):r>=o?(a+=ld(r+1-o),n&&(i=n-r-1)>0&&(a=a+"."+ld(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(a+="."),a+=ld(i))),t.s<0?"-"+a:a}function vF(t,e){if(t.length>e)return t.length=e,!0}function G8(t){var e,n,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Yh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return gF(o,a.toString())}else if(typeof a!="string")throw Error(Yh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ife.test(a))gF(o,a);else throw Error(Yh+a)}if(r.prototype=Ut,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=G8,r.config=r.set=Pfe,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function Pfe(t){if(!t||typeof t!="object")throw Error(ul+"Object expected");var e,n,i,r=["precision",1,Dg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(Og(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(Yh+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Yh+n+": "+i);return this}var DP=G8(Rfe);hs=new DP(1);const ii=DP;var Nfe=t=>t,V8={},H8=t=>t===V8,yF=t=>function e(){return arguments.length===0||arguments.length===1&&H8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},q8=(t,e)=>t===1?e:yF(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i.filter(o=>o!==V8).length;return a>=t?e(...i):q8(t-a,yF(function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var c=i.map(d=>H8(d)?s.shift():d);return e(...c,...s)}))}),Dfe=t=>q8(t.length,t),zR=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},Ofe=Dfe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Lfe=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return Nfe;var r=n.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce((s,u)=>u(s),a(...arguments))}};function W8(t){var e;return t===0?e=1:e=Math.floor(new ii(t).abs().log(10).toNumber())+1,e}function j8(t,e,n){for(var i=new ii(t),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}var X8=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},Y8=(t,e,n)=>{if(t.lte(0))return new ii(0);var i=W8(t.toNumber()),r=new ii(10).pow(i),a=t.div(r),o=i!==1?.05:.1,s=new ii(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=s.mul(r);return e?new ii(u.toNumber()):new ii(Math.ceil(u.toNumber()))},Ufe=(t,e,n)=>{var i=new ii(1),r=new ii(t);if(!r.isint()&&n){var a=Math.abs(t);a<1?(i=new ii(10).pow(W8(t)-1),r=new ii(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new ii(Math.floor(t)))}else t===0?r=new ii(Math.floor((e-1)/2)):n||(r=new ii(Math.floor(t)));var o=Math.floor((e-1)/2),s=Lfe(Ofe(u=>r.add(new ii(u-o).mul(i)).toNumber()),zR);return s(0,e)},$8=function(e,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new ii(0),tickMin:new ii(0),tickMax:new ii(0)};var o=Y8(new ii(n).sub(e).div(i-1),r,a),s;e<=0&&n>=0?s=new ii(0):(s=new ii(e).add(n).div(2),s=s.sub(new ii(s).mod(o)));var u=Math.ceil(s.sub(e).div(o).toNumber()),c=Math.ceil(new ii(n).sub(s).div(o).toNumber()),d=u+c+1;return d>i?$8(e,n,i,r,a+1):(d<i&&(c=n>0?c+(i-d):c,u=n>0?u:u+(i-d)),{step:o,tickMin:s.sub(new ii(u).mul(o)),tickMax:s.add(new ii(c).mul(o))})},Ffe=function(e){var[n,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,u]=X8([n,i]);if(s===-1/0||u===1/0){var c=u===1/0?[s,...zR(0,r-1).map(()=>1/0)]:[...zR(0,r-1).map(()=>-1/0),u];return n>i?c.reverse():c}if(s===u)return Ufe(s,r,a);var{step:d,tickMin:p,tickMax:v}=$8(s,u,o,a,0),y=j8(p,v.add(new ii(.1).mul(d)),d);return n>i?y.reverse():y},kfe=function(e,n){var[i,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=X8([i,r]);if(o===-1/0||s===1/0)return[i,r];if(o===s)return[o];var u=Math.max(n,2),c=Y8(new ii(s).sub(o).div(u-1),a,0),d=[...j8(new ii(o),new ii(s),c),s];return a===!1&&(d=d.map(p=>Math.round(p))),i>r?d.reverse():d},Bfe=t=>t.rootProps.barCategoryGap,Qy=t=>t.rootProps.stackOffset,K8=t=>t.rootProps.reverseStackOrder,OP=t=>t.options.chartName,LP=t=>t.rootProps.syncId,J8=t=>t.rootProps.syncMethod,UP=t=>t.options.eventEmitter,Hl={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ds={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fT=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},zfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bc.angleAxisId,includeHidden:!1,name:void 0,reversed:Bc.reversed,scale:Bc.scale,tick:Bc.tick,tickCount:void 0,ticks:void 0,type:Bc.type,unit:void 0},Gfe={allowDataOverflow:ds.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ds.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ds.scale,tick:ds.tick,tickCount:ds.tickCount,ticks:void 0,type:ds.type,unit:void 0},Vfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bc.scale,tick:Bc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Hfe={allowDataOverflow:ds.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ds.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ds.scale,tick:ds.tick,tickCount:ds.tickCount,ticks:void 0,type:"category",unit:void 0},FP=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Vfe:zfe,kP=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Hfe:Gfe,dT=t=>t.polarOptions,BP=Xe([cf,ff,da],JV),Z8=Xe([dT,BP],(t,e)=>{if(t!=null)return gs(t.innerRadius,e,0)}),Q8=Xe([dT,BP],(t,e)=>{if(t!=null)return gs(t.outerRadius,e,e*.8)}),qfe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},eH=Xe([dT],qfe);Xe([FP,eH],fT);var tH=Xe([BP,Z8,Q8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Xe([kP,tH],fT);var nH=Xe([Ti,dT,Z8,Q8,cf,ff],(t,e,n,i,r,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:o,cy:s,startAngle:u,endAngle:c}=e;return{cx:gs(o,r,r/2),cy:gs(s,a,a/2),innerRadius:n,outerRadius:i,startAngle:u,endAngle:c,clockWise:!1}}}),Gi=(t,e)=>e,e_=(t,e,n)=>n;function iH(t){return t==null?void 0:t.id}function rH(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:a}=n,o=new Map;return t.forEach(s=>{var u,c=(u=s.data)!==null&&u!==void 0?u:i;if(!(c==null||c.length===0)){var d=iH(s);c.forEach((p,v)=>{var y=a==null||r?v:String(dr(p,a,null)),b=dr(p,s.dataKey,0),T;o.has(y)?T=o.get(y):T={},Object.assign(T,{[d]:b}),o.set(y,T)})}}),Array.from(o.values())}function zP(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var hT=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function pT(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Wfe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var $r=t=>{var e=Ti(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Lg=t=>t.tooltip.settings.axisId;function _F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(n),!0).forEach(function(i){jfe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function jfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GR=[0,"auto"],$fe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Kfe=(t,e)=>t.cartesianAxis.xAxis[e],Id=(t,e)=>{var n=Kfe(t,e);return n??$fe},Jfe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:GR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xy},Zfe=(t,e)=>t.cartesianAxis.yAxis[e],Pd=(t,e)=>{var n=Zfe(t,e);return n??Jfe},Qfe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Qfe},tr=(t,e,n)=>{switch(e){case"xAxis":return Id(t,n);case"yAxis":return Pd(t,n);case"zAxis":return GP(t,n);case"angleAxis":return FP(t,n);case"radiusAxis":return kP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ede=(t,e,n)=>{switch(e){case"xAxis":return Id(t,n);case"yAxis":return Pd(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},t_=(t,e,n)=>{switch(e){case"xAxis":return Id(t,n);case"yAxis":return Pd(t,n);case"angleAxis":return FP(t,n);case"radiusAxis":return kP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},aH=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function VP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var tde=t=>t.graphicalItems.cartesianItems,nde=Xe([Gi,e_],VP),HP=(t,e,n)=>t.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),n_=Xe([tde,tr,nde],HP,{memoizeOptions:{resultEqualityCheck:pT}}),oH=Xe([n_],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(zP)),sH=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ide=Xe([n_],sH),qP=t=>t.map(e=>e.data).filter(Boolean).flat(1),rde=Xe([n_],qP,{memoizeOptions:{resultEqualityCheck:pT}}),WP=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},jP=Xe([rde,L8],WP),XP=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:dr(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:dr(r,i)}))):t.map(i=>({value:i})),mT=Xe([jP,tr,n_],XP);function lH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function SS(t){if(Zc(t)||t instanceof Date){var e=Number(t);if(Ur(e))return e}}function bF(t){if(Array.isArray(t)){var e=[SS(t[0]),SS(t[1])];return _d(e)?e:void 0}var n=SS(t);if(n!=null)return[n,n]}function rf(t){return t.map(SS).filter(cre)}function ade(t,e,n){return!n||typeof e!="number"||Kc(e)?[]:n.length?rf(n.flatMap(i=>{var r=dr(t,i.dataKey),a,o;if(Array.isArray(r)?[a,o]=r:a=o=r,!(!Ur(a)||!Ur(o)))return[e-a,e+o]})):[]}var Kr=t=>{var e=$r(t),n=Lg(t);return t_(t,e,n)},i_=Xe([Kr],t=>t==null?void 0:t.dataKey),ode=Xe([oH,L8,Kr],rH),uH=(t,e,n,i)=>{var r={},a=e.reduce((o,s)=>{if(s.stackId==null)return o;var u=o[s.stackId];return u==null&&(u=[]),u.push(s),o[s.stackId]=u,o},r);return Object.fromEntries(Object.entries(a).map(o=>{var[s,u]=o,c=i?[...u].reverse():u,d=c.map(iH);return[s,{stackedData:Poe(t,d,n),graphicalItems:c}]}))},sde=Xe([ode,oH,Qy,K8],uH),cH=(t,e,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(i==null&&n!=="zAxis"){var o=Ooe(t,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},lde=Xe([tr],t=>t.allowDataOverflow),YP=t=>{var e;if(t==null||!("domain"in t))return GR;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=rf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:GR},$P=Xe([tr],YP),KP=Xe([$P,lde],U8),ude=Xe([sde,Rd,Gi,KP],cH,{memoizeOptions:{resultEqualityCheck:hT}}),gT=t=>t.errorBars,cde=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>lH(n,i)),_1=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},JP=(t,e,n,i,r)=>{var a,o;if(n.length>0&&t.forEach(s=>{n.forEach(u=>{var c,d,p=(c=i[u.id])===null||c===void 0?void 0:c.filter(A=>lH(r,A)),v=dr(s,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),y=ade(s,v,p);if(y.length>=2){var b=Math.min(...y),T=Math.max(...y);(a==null||b<a)&&(a=b),(o==null||T>o)&&(o=T)}var S=bF(v);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(s=>{var u=bF(dr(s,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ur(a)&&Ur(o))return[a,o]},fde=Xe([jP,tr,ide,gT,Gi],JP,{memoizeOptions:{resultEqualityCheck:hT}});function dde(t){var{value:e}=t;if(Zc(e)||e instanceof Date)return e}var hde=(t,e,n)=>{var i=t.map(dde).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&FG(i))?t8(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},fH=t=>t.referenceElements.dots,Ug=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),pde=Xe([fH,Gi,e_],Ug),dH=t=>t.referenceElements.areas,mde=Xe([dH,Gi,e_],Ug),hH=t=>t.referenceElements.lines,gde=Xe([hH,Gi,e_],Ug),pH=(t,e)=>{if(t!=null){var n=rf(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},vde=Xe(pde,Gi,pH),mH=(t,e)=>{if(t!=null){var n=rf(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},yde=Xe([mde,Gi],mH);function _de(t){var e;if(t.x!=null)return rf([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:rf(n)}function bde(t){var e;if(t.y!=null)return rf([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:rf(n)}var gH=(t,e)=>{if(t!=null){var n=t.flatMap(i=>e==="xAxis"?_de(i):bde(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xde=Xe([gde,Gi],gH),Sde=Xe(vde,xde,yde,(t,e,n)=>_1(t,n,e)),ZP=(t,e,n,i,r,a,o,s)=>{if(n!=null)return n;var u=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=u?_1(i,a,r):_1(a,r);return Cfe(e,c,t.allowDataOverflow)},Ede=Xe([tr,$P,KP,ude,fde,Sde,Ti,Gi],ZP,{memoizeOptions:{resultEqualityCheck:hT}}),Tde=[0,1],QP=(t,e,n,i,r,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:u}=t,c=dp(e,a);if(c&&s==null){var d;return t8(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return u==="category"?hde(i,t,c):r==="expand"?Tde:o}},eN=Xe([tr,Ti,jP,mT,Qy,Gi,Ede],QP),vH=(t,e,n,i,r)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":o==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Hy(a));return s in G0?s:"point"}}},Fg=Xe([tr,Ti,aH,OP,Gi],vH);function Ade(t){if(t!=null){if(t in G0)return G0[t]();var e="scale".concat(Hy(t));if(e in G0)return G0[e]()}}function tN(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var r=Ade(e);if(r!=null){var a=r.domain(n).range(i);return woe(a),a}}}var nN=(t,e,n)=>{var i=YP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&_d(t))return Ffe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&_d(t))return kfe(t,e.tickCount,e.allowDecimals)}},iN=Xe([eN,t_,Fg],nN),rN=(t,e,n,i)=>{if(i!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&_d(e)&&Array.isArray(n)&&n.length>0){var r=e[0],a=n[0],o=e[1],s=n[n.length-1];return[Math.min(r,a),Math.max(o,s)]}return e},Mde=Xe([tr,eN,iN,Gi],rN),wde=Xe(mT,tr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(rf(t.map(p=>p.value))).sort((p,v)=>p-v),r=i[0],a=i[i.length-1];if(r==null||a==null)return 1/0;var o=a-r;if(o===0)return 1/0;for(var s=0;s<i.length-1;s++){var u=i[s],c=i[s+1];if(!(u==null||c==null)){var d=c-u;n=Math.min(n,d)}}return n/o}}),yH=Xe(wde,Ti,Bfe,da,(t,e,n,i,r)=>r,(t,e,n,i,r)=>{if(!Ur(t))return 0;var a=e==="vertical"?i.height:i.width;if(r==="gap")return t*a/2;if(r==="no-gap"){var o=gs(n,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),Cde=(t,e,n)=>{var i=Id(t,e);return i==null||typeof i.padding!="string"?0:yH(t,"xAxis",e,n,i.padding)},Rde=(t,e,n)=>{var i=Pd(t,e);return i==null||typeof i.padding!="string"?0:yH(t,"yAxis",e,n,i.padding)},Ide=Xe(Id,Cde,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),Pde=Xe(Pd,Rde,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),Nde=Xe([da,Ide,ZE,JE,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Dde=Xe([da,Ti,Pde,ZE,JE,(t,e,n)=>n],(t,e,n,i,r,a)=>{var{padding:o}=r;return a?[i.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),r_=(t,e,n,i)=>{var r;switch(e){case"xAxis":return Nde(t,n,i);case"yAxis":return Dde(t,n,i);case"zAxis":return(r=GP(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return eH(t);case"radiusAxis":return tH(t,n);default:return}},_H=Xe([tr,r_],fT),vT=Xe([tr,Fg,Mde,_H],tN);Xe([n_,gT,Gi],cde);function bH(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var yT=(t,e)=>e,_T=(t,e,n)=>n,Ode=Xe($E,yT,_T,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(bH)),Lde=Xe(KE,yT,_T,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(bH)),xH=(t,e)=>({width:t.width,height:e.height}),Ude=(t,e)=>{var n=typeof e.width=="number"?e.width:Xy;return{width:n,height:t.height}};Xe(da,Id,xH);var Fde=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},kde=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Bde=Xe(ff,da,Ode,yT,_T,(t,e,n,i,r)=>{var a={},o;return n.forEach(s=>{var u=xH(e,s);o==null&&(o=Fde(e,i,t));var c=i==="top"&&!r||i==="bottom"&&r;a[s.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),a}),zde=Xe(cf,da,Lde,yT,_T,(t,e,n,i,r)=>{var a={},o;return n.forEach(s=>{var u=Ude(e,s);o==null&&(o=kde(e,i,t));var c=i==="left"&&!r||i==="right"&&r;a[s.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),a}),Gde=(t,e)=>{var n=Id(t,e);if(n!=null)return Bde(t,n.orientation,n.mirror)};Xe([da,Id,Gde,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}});var Vde=(t,e)=>{var n=Pd(t,e);if(n!=null)return zde(t,n.orientation,n.mirror)};Xe([da,Pd,Vde,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}});Xe(da,Pd,(t,e)=>{var n=typeof e.width=="number"?e.width:Xy;return{width:n,height:t.height}});var SH=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:o}=n,s=dp(t,i),u=e.map(c=>c.value);if(o&&s&&a==="category"&&r&&FG(u))return u}},aN=Xe([Ti,mT,tr,Gi],SH),EH=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,o=dp(t,i);if(o&&(r==="number"||a!=="auto"))return e.map(s=>s.value)}},oN=Xe([Ti,mT,t_,Gi],EH);Xe([Ti,ede,Fg,vT,aN,oN,r_,iN,Gi],(t,e,n,i,r,a,o,s,u)=>{if(e!=null){var c=dp(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:r,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:i}}});var Hde=(t,e,n,i,r,a,o,s,u)=>{if(!(e==null||i==null)){var c=dp(t,u),{type:d,ticks:p,tickCount:v}=e,y=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=d==="category"&&i.bandwidth?i.bandwidth()/y:0;b=u==="angleAxis"&&a!=null&&a.length>=2?$o(a[0]-a[1])*2*b:b;var T=p||r;if(T){var S=T.map((A,R)=>{var I=o?o.indexOf(A):A;return{index:R,coordinate:i(I)+b,value:A,offset:b}});return S.filter(A=>Ur(A.coordinate))}return c&&s?s.map((A,R)=>({coordinate:i(A)+b,value:A,index:R,offset:b})).filter(A=>Ur(A.coordinate)):i.ticks?i.ticks(v).map(A=>({coordinate:i(A)+b,value:A,offset:b})):i.domain().map((A,R)=>({coordinate:i(A)+b,value:o?o[A]:A,index:R,offset:b}))}};Xe([Ti,t_,Fg,vT,iN,r_,aN,oN,Gi],Hde);var qde=(t,e,n,i,r,a,o)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var s=dp(t,o),{tickCount:u}=e,c=0;return c=o==="angleAxis"&&(i==null?void 0:i.length)>=2?$o(i[0]-i[1])*2*c:c,s&&a?a.map((d,p)=>({coordinate:n(d)+c,value:d,index:p,offset:c})):n.ticks?n.ticks(u).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,p)=>({coordinate:n(d)+c,value:r?r[d]:d,index:p,offset:c}))}};Xe([Ti,t_,vT,r_,aN,oN,Gi],qde);Xe(tr,vT,(t,e)=>{if(!(t==null||e==null))return y1(y1({},t),{},{scale:e})});var Wde=Xe([tr,Fg,eN,_H],tN);Xe((t,e,n)=>GP(t,n),Wde,(t,e)=>{if(!(t==null||e==null))return y1(y1({},t),{},{scale:e})});var jde=Xe([Ti,$E,KE],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TH=t=>t.options.defaultTooltipEventType,AH=t=>t.options.validateTooltipEventTypes;function MH(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function sN(t,e){var n=TH(t),i=AH(t);return MH(e,n,i)}function Xde(t){return bn(e=>sN(e,t))}var wH=(t,e)=>{var n,i=Number(e);if(!(Kc(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},Yde=t=>t.tooltip.settings,ud={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$de={itemInteraction:{click:ud,hover:ud},axisInteraction:{click:ud,hover:ud},keyboardInteraction:ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CH=Zo({name:"tooltip",initialState:$de,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Bi()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Xl(t).tooltipItemPayloads.indexOf(n);r>-1&&(t.tooltipItemPayloads[r]=i)},prepare:Bi()},removeTooltipEntrySettings:{reducer(t,e){var n=Xl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Bi()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Kde,replaceTooltipEntrySettings:Jde,removeTooltipEntrySettings:Zde,setTooltipSettingsState:Qde,setActiveMouseOverItemIndex:RH,mouseLeaveItem:ehe,mouseLeaveChart:IH,setActiveClickItemIndex:the,setMouseOverAxisIndex:PH,setMouseClickAxisIndex:nhe,setSyncInteraction:VR,setKeyboardInteraction:HR}=CH.actions,ihe=CH.reducer;function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(i){rhe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rhe(t,e,n){return(e=ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function she(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lhe(t){return t.index!=null}var NH=(t,e,n,i)=>{if(e==null)return ud;var r=she(t,e,n);if(r==null)return ud;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(lhe(r)){if(a)return mx(mx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return mx(mx({},ud),{},{coordinate:r.coordinate})};function uhe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function che(t,e){var n=uhe(t),i=e[0],r=e[1];if(n===void 0)return!1;var a=Math.min(i,r),o=Math.max(i,r);return n>=a&&n<=o}function fhe(t,e,n){if(n==null||e==null)return!0;var i=dr(t,e);return i==null||!_d(n)?!0:che(i,n)}var lN=(t,e,n,i)=>{var r=t==null?void 0:t.index;if(r==null)return null;var a=Number(r);if(!Ur(a))return r;var o=0,s=1/0;e.length>0&&(s=e.length-1);var u=Math.max(o,Math.min(a,s)),c=e[u];return c==null||fhe(c,n,i)?String(u):null},DH=(t,e,n,i,r,a,o,s)=>{if(!(a==null||s==null)){var u=o[0],c=u==null?void 0:s(u.positions,a);if(c!=null)return c;var d=r==null?void 0:r[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:d.coordinate}}}},OH=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;if(n==="hover"?r=t.itemInteraction.hover.graphicalItemId:r=t.itemInteraction.click.graphicalItemId,r==null&&i!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===r})},a_=t=>t.options.tooltipPayloadSearcher,kg=t=>t.tooltip;function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function EF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(i){dhe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mhe(t,e){return t??e}var LH=(t,e,n,i,r,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:u,dataStartIndex:c,dataEndIndex:d}=n,p=[];return t.reduce((v,y)=>{var b,{dataDefinedOnItem:T,settings:S}=y,A=mhe(T,s),R=Array.isArray(A)?RV(A,c,d):A,I=(b=S==null?void 0:S.dataKey)!==null&&b!==void 0?b:i,N=S==null?void 0:S.nameKey,D;if(i&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?D=ure(R,i,r):D=a(R,e,u,N),Array.isArray(D))D.forEach(F=>{var z=EF(EF({},S),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});v.push(RU({tooltipEntrySettings:z,dataKey:F.dataKey,payload:F.payload,value:dr(F.payload,F.dataKey),name:F.name}))});else{var O;v.push(RU({tooltipEntrySettings:S,dataKey:I,payload:D,value:dr(D,I),name:(O=dr(D,N))!==null&&O!==void 0?O:S==null?void 0:S.name}))}return v},p)}},uN=Xe([Kr,Ti,aH,OP,$r],vH),ghe=Xe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),vhe=Xe([$r,Lg],VP),Bg=Xe([ghe,Kr,vhe],HP,{memoizeOptions:{resultEqualityCheck:pT}}),yhe=Xe([Bg],t=>t.filter(zP)),_he=Xe([Bg],qP,{memoizeOptions:{resultEqualityCheck:pT}}),zg=Xe([_he,Rd],WP),bhe=Xe([yhe,Rd,Kr],rH),cN=Xe([zg,Kr,Bg],XP),UH=Xe([Kr],YP),xhe=Xe([Kr],t=>t.allowDataOverflow),FH=Xe([UH,xhe],U8),She=Xe([Bg],t=>t.filter(zP)),Ehe=Xe([bhe,She,Qy,K8],uH),The=Xe([Ehe,Rd,$r,FH],cH),Ahe=Xe([Bg],sH),Mhe=Xe([zg,Kr,Ahe,gT,$r],JP,{memoizeOptions:{resultEqualityCheck:hT}}),whe=Xe([fH,$r,Lg],Ug),Che=Xe([whe,$r],pH),Rhe=Xe([dH,$r,Lg],Ug),Ihe=Xe([Rhe,$r],mH),Phe=Xe([hH,$r,Lg],Ug),Nhe=Xe([Phe,$r],gH),Dhe=Xe([Che,Nhe,Ihe],_1),Ohe=Xe([Kr,UH,FH,The,Mhe,Dhe,Ti,$r],ZP),o_=Xe([Kr,Ti,zg,cN,Qy,$r,Ohe],QP),Lhe=Xe([o_,Kr,uN],nN),Uhe=Xe([Kr,o_,Lhe,$r],rN),kH=t=>{var e=$r(t),n=Lg(t),i=!1;return r_(t,e,n,i)},BH=Xe([Kr,kH],fT),zH=Xe([Kr,uN,Uhe,BH],tN),Fhe=Xe([Ti,cN,Kr,$r],SH),khe=Xe([Ti,cN,Kr,$r],EH),Bhe=(t,e,n,i,r,a,o,s)=>{if(e){var{type:u}=e,c=dp(t,s);if(i){var d=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,p=u==="category"&&i.bandwidth?i.bandwidth()/d:0;return p=s==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?$o(r[0]-r[1])*2*p:p,c&&o?o.map((v,y)=>({coordinate:i(v)+p,value:v,index:y,offset:p})):i.domain().map((v,y)=>({coordinate:i(v)+p,value:a?a[v]:v,index:y,offset:p}))}}},hf=Xe([Ti,Kr,uN,zH,kH,Fhe,khe,$r],Bhe),fN=Xe([TH,AH,Yde],(t,e,n)=>MH(n.shared,t,e)),GH=t=>t.tooltip.settings.trigger,dN=t=>t.tooltip.settings.defaultIndex,s_=Xe([kg,fN,GH,dN],NH),by=Xe([s_,zg,i_,o_],lN),VH=Xe([hf,by],wH),HH=Xe([s_],t=>{if(t)return t.dataKey}),zhe=Xe([s_],t=>{if(t)return t.graphicalItemId}),qH=Xe([kg,fN,GH,dN],OH),Ghe=Xe([cf,ff,Ti,da,hf,dN,qH,a_],DH),Vhe=Xe([s_,Ghe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Hhe=Xe([s_],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),qhe=Xe([qH,by,Rd,i_,VH,a_,fN],LH);Xe([qhe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function AF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(i){Whe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Whe(t,e,n){return(e=jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jhe(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yhe=()=>bn(Kr),$he=()=>{var t=Yhe(),e=bn(hf),n=bn(zH);return CU(!t||!n?void 0:AF(AF({},t),{},{scale:n}),e)};function MF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(n),!0).forEach(function(i){Khe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Khe(t,e,n){return(e=Jhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=Zhe(t,"string");return typeof e=="symbol"?e:e+""}function Zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qhe=(t,e,n,i)=>{var r=e.find(a=>a&&a.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},epe=(t,e,n,i)=>{var r=e.find(c=>c&&c.index===n);if(r){if(t==="centric"){var a=r.coordinate,{radius:o}=i;return bm(bm(bm({},i),Dr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var s=r.coordinate,{angle:u}=i;return bm(bm(bm({},i),Dr(i.cx,i.cy,s,u)),{},{angle:u,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tpe(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var WH=(t,e,n,i,r)=>{var a,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var s=0;s<o;s++){var u,c,d,p,v,y=s>0?(u=n[s-1])===null||u===void 0?void 0:u.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,b=(d=n[s])===null||d===void 0?void 0:d.coordinate,T=s>=o-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(v=n[s+1])===null||v===void 0?void 0:v.coordinate,S=void 0;if(!(y==null||b==null||T==null))if($o(b-y)!==$o(T-b)){var A=[];if($o(T-b)===$o(r[1]-r[0])){S=T;var R=b+r[1]-r[0];A[0]=Math.min(R,(R+y)/2),A[1]=Math.max(R,(R+y)/2)}else{S=y;var I=T+r[1]-r[0];A[0]=Math.min(b,(I+b)/2),A[1]=Math.max(b,(I+b)/2)}var N=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>N[0]&&t<=N[1]||t>=A[0]&&t<=A[1]){var D;return(D=n[s])===null||D===void 0?void 0:D.index}}else{var O=Math.min(y,T),F=Math.max(y,T);if(t>(O+b)/2&&t<=(F+b)/2){var z;return(z=n[s])===null||z===void 0?void 0:z.index}}}else if(e)for(var U=0;U<o;U++){var B=e[U];if(B!=null){var j=e[U+1],W=e[U-1];if(U===0&&j!=null&&t<=(B.coordinate+j.coordinate)/2||U===o-1&&W!=null&&t>(B.coordinate+W.coordinate)/2||U>0&&U<o-1&&W!=null&&j!=null&&t>(B.coordinate+W.coordinate)/2&&t<=(B.coordinate+j.coordinate)/2)return B.index}}return-1},npe=()=>bn(OP),hN=(t,e)=>e,jH=(t,e,n)=>n,pN=(t,e,n,i)=>i,ipe=Xe(hf,t=>BE(t,e=>e.coordinate)),mN=Xe([kg,hN,jH,pN],NH),gN=Xe([mN,zg,i_,o_],lN),rpe=(t,e,n)=>{if(e!=null){var i=kg(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},XH=Xe([kg,hN,jH,pN],OH),b1=Xe([cf,ff,Ti,da,hf,pN,XH,a_],DH),ape=Xe([mN,b1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),YH=Xe([hf,gN],wH),ope=Xe([XH,gN,Rd,i_,YH,a_,hN],LH),spe=Xe([mN,gN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),lpe=(t,e,n,i,r,a,o)=>{if(!(!t||!n||!i||!r)&&tpe(t,o)){var s=Loe(t,e),u=WH(s,a,r,n,i),c=Qhe(e,r,u,t);return{activeIndex:String(u),activeCoordinate:c}}},upe=(t,e,n,i,r,a,o)=>{if(!(!t||!i||!r||!a||!n)){var s=qle(t,n);if(s){var u=Uoe(s,e),c=WH(u,o,a,i,r),d=epe(e,a,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},cpe=(t,e,n,i,r,a,o,s)=>{if(!(!t||!e||!i||!r||!a))return e==="horizontal"||e==="vertical"?lpe(t,e,i,r,a,o,s):upe(t,e,n,i,r,a,o)},fpe=Xe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElement:i.element}}),dpe=Xe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(Hl)),n=Array.from(new Set(e));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:Wfe}});function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function CF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(i){hpe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hpe(t,e,n){return(e=ppe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ppe(t){var e=mpe(t,"string");return typeof e=="symbol"?e:e+""}function mpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gpe={},vpe={zIndexMap:Object.values(Hl).reduce((t,e)=>CF(CF({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),gpe)},ype=new Set(Object.values(Hl));function _pe(t){return ype.has(t)}var $H=Zo({name:"zIndex",initialState:vpe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Bi()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!_pe(n)&&delete t.zIndexMap[n])},prepare:Bi()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:i,isPanorama:r}=e.payload;t.zIndexMap[n]?r?t.zIndexMap[n].panoramaElement=i:t.zIndexMap[n].element=i:t.zIndexMap[n]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:Bi()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Bi()}}}),{registerZIndexPortal:bpe,unregisterZIndexPortal:xpe,registerZIndexPortalElement:Spe,unregisterZIndexPortalElement:Epe}=$H.actions,Tpe=$H.reducer;function l_(t){var{zIndex:e,children:n}=t,i=gse(),r=i&&e!==void 0&&e!==0,a=Md(),o=Xr();G.useLayoutEffect(()=>r?(o(bpe({zIndex:e})),()=>{o(xpe({zIndex:e}))}):qy,[o,e,r]);var s=bn(u=>fpe(u,e,a));return r?s?oz.createPortal(n,s):null:n}function qR(){return qR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qR.apply(null,arguments)}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(i){Ape(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ape(t,e,n){return(e=Mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mpe(t){var e=wpe(t,"string");return typeof e=="symbol"?e:e+""}function wpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cpe(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return G.isValidElement(e)?G.cloneElement(e,i):G.createElement(n,i)}function Rpe(t){var e,{coordinate:n,payload:i,index:r,offset:a,tooltipAxisBandSize:o,layout:s,cursor:u,tooltipEventType:c,chartName:d}=t,p=n,v=i,y=r;if(!u||!p||d!=="ScatterChart"&&c!=="axis")return null;var b,T,S;if(d==="ScatterChart")b=p,T=rle,S=Hl.cursorLine;else if(d==="BarChart")b=ale(s,p,a,o),T=KV,S=Hl.cursorRectangle;else if(s==="radial"&&zG(p)){var{cx:A,cy:R,radius:I,startAngle:N,endAngle:D}=ZV(p);b={cx:A,cy:R,startAngle:N,endAngle:D,innerRadius:I,outerRadius:I},T=e8,S=Hl.cursorLine}else b={points:Yle(s,p,a)},T=rP,S=Hl.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,F=gx(gx(gx(gx({stroke:"#ccc",pointerEvents:"none"},a),b),nR(u)),{},{payload:v,payloadIndex:y,className:Lr("recharts-tooltip-cursor",O)});return G.createElement(l_,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},G.createElement(Cpe,{cursor:u,cursorComp:T,cursorProps:F}))}function Ipe(t){var e=$he(),n=hse(),i=eT(),r=npe();return e==null||n==null||i==null||r==null?null:G.createElement(Rpe,qR({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:r}))}var KH=G.createContext(null),Ppe=()=>G.useContext(KH),xw={exports:{}},IF;function Npe(){return IF||(IF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(u,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new r(d,p||u,v),b=n?n+c:c;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],y]:u._events[b].push(y):(u._events[b]=y,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new i:delete u._events[c]}function s(){this._events=new i,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)e.call(d,p)&&c.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,b=new Array(y);v<y;v++)b[v]=p[v].fn;return b},s.prototype.listenerCount=function(c){var d=n?n+c:c,p=this._events[d];return p?p.fn?1:p.length:0},s.prototype.emit=function(c,d,p,v,y,b){var T=n?n+c:c;if(!this._events[T])return!1;var S=this._events[T],A=arguments.length,R,I;if(S.fn){switch(S.once&&this.removeListener(c,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,p),!0;case 4:return S.fn.call(S.context,d,p,v),!0;case 5:return S.fn.call(S.context,d,p,v,y),!0;case 6:return S.fn.call(S.context,d,p,v,y,b),!0}for(I=1,R=new Array(A-1);I<A;I++)R[I-1]=arguments[I];S.fn.apply(S.context,R)}else{var N=S.length,D;for(I=0;I<N;I++)switch(S[I].once&&this.removeListener(c,S[I].fn,void 0,!0),A){case 1:S[I].fn.call(S[I].context);break;case 2:S[I].fn.call(S[I].context,d);break;case 3:S[I].fn.call(S[I].context,d,p);break;case 4:S[I].fn.call(S[I].context,d,p,v);break;default:if(!R)for(D=1,R=new Array(A-1);D<A;D++)R[D-1]=arguments[D];S[I].fn.apply(S[I].context,R)}}return!0},s.prototype.on=function(c,d,p){return a(this,c,d,p,!1)},s.prototype.once=function(c,d,p){return a(this,c,d,p,!0)},s.prototype.removeListener=function(c,d,p,v){var y=n?n+c:c;if(!this._events[y])return this;if(!d)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===d&&(!v||b.once)&&(!p||b.context===p)&&o(this,y);else{for(var T=0,S=[],A=b.length;T<A;T++)(b[T].fn!==d||v&&!b[T].once||p&&b[T].context!==p)&&S.push(b[T]);S.length?this._events[y]=S.length===1?S[0]:S:o(this,y)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(xw)),xw.exports}var Dpe=Npe();const Ope=fl(Dpe);var xy=new Ope,WR="recharts.syncEvent.tooltip",PF="recharts.syncEvent.brush";function Lpe(t,e){if(e){var n=Number.parseInt(e,10);if(!Kc(n))return t==null?void 0:t[n]}}var Upe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JH=Zo({name:"options",initialState:Upe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Fpe=JH.reducer,{createEventEmitter:kpe}=JH.actions;function Bpe(t){return t.tooltip.syncInteraction}var zpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZH=Zo({name:"chartData",initialState:zpe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:NF,setDataStartEndIndexes:Gpe,setComputedData:CCe}=ZH.actions,Vpe=ZH.reducer,Hpe=["x","y"];function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(i){qpe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qpe(t,e,n){return(e=Wpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wpe(t){var e=jpe(t,"string");return typeof e=="symbol"?e:e+""}function jpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xpe(t,e){if(t==null)return{};var n,i,r=Ype(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ype(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function $pe(){var t=bn(LP),e=bn(UP),n=Xr(),i=bn(J8),r=bn(hf),a=eT(),o=QE(),s=bn(u=>u.rootProps.className);G.useEffect(()=>{if(t==null)return qy;var u=(c,d,p)=>{if(e!==p&&t===c){if(i==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:b,y:T}=y,S=Xpe(y,Hpe),{x:A,y:R,width:I,height:N}=d.payload.sourceViewBox,D=xm(xm({},S),{},{x:o.x+(I?(b-A)/I:0)*o.width,y:o.y+(N?(T-R)/N:0)*o.height});n(xm(xm({},d),{},{payload:xm(xm({},d.payload),{},{coordinate:D})}))}else n(d);return}if(r!=null){var O;if(typeof i=="function"){var F={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},z=i(r,F);O=r[z]}else i==="value"&&(O=r.find(X=>String(X.value)===d.payload.label));var{coordinate:U}=d.payload;if(O==null||d.payload.active===!1||U==null||o==null){n(VR({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:j}=U,W=Math.min(B,o.x+o.width),Y=Math.min(j,o.y+o.height),Q={x:a==="horizontal"?O.coordinate:W,y:a==="horizontal"?Y:O.coordinate},ae=VR({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(O.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ae)}}};return xy.on(WR,u),()=>{xy.off(WR,u)}},[s,n,e,t,i,r,a,o])}function Kpe(){var t=bn(LP),e=bn(UP),n=Xr();G.useEffect(()=>{if(t==null)return qy;var i=(r,a,o)=>{e!==o&&t===r&&n(Gpe(a))};return xy.on(PF,i),()=>{xy.off(PF,i)}},[n,e,t])}function Jpe(){var t=Xr();G.useEffect(()=>{t(kpe())},[t]),$pe(),Kpe()}function Zpe(t,e,n,i,r,a){var o=bn(y=>rpe(y,t,e)),s=bn(UP),u=bn(LP),c=bn(J8),d=bn(Bpe),p=d==null?void 0:d.active,v=QE();G.useEffect(()=>{if(!p&&u!=null&&s!=null){var y=VR({active:a,coordinate:n,dataKey:o,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:v,graphicalItemId:void 0});xy.emit(WR,u,y,s)}},[p,n,o,r,i,s,u,c,a,v])}function OF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function LF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(n),!0).forEach(function(i){Qpe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Qpe(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t){return t.dataKey}function ime(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(Fse,e)}var UF=[],rme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ame(t){var e,n,i=Yu(t,rme),{active:r,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:u,filterNull:c,isAnimationActive:d,offset:p,payloadUniqBy:v,position:y,reverseDirection:b,useTranslate3d:T,wrapperStyle:S,cursor:A,shared:R,trigger:I,defaultIndex:N,portal:D,axisId:O}=i,F=Xr(),z=typeof N=="number"?String(N):N;G.useEffect(()=>{F(Qde({shared:R,trigger:I,axisId:O,active:r,defaultIndex:z}))},[F,R,I,O,r,z]);var U=QE(),B=WV(),j=Xde(R),{activeIndex:W,isActive:Y}=(e=bn(le=>spe(le,j,I,z)))!==null&&e!==void 0?e:{},Q=bn(le=>ope(le,j,I,z)),ae=bn(le=>YH(le,j,I,z)),X=bn(le=>ape(le,j,I,z)),ne=Q,ge=Ppe(),pe=(n=r??Y)!==null&&n!==void 0?n:!1,[de,H]=Sae([ne,pe]),te=j==="axis"?ae:void 0;Zpe(j,I,X,te,W,pe);var ie=D??ge;if(ie==null||U==null||j==null)return null;var ce=ne??UF;pe||(ce=UF),c&&ce.length&&(ce=Yre(ce.filter(le=>le.value!=null&&(le.hide!==!0||i.includeHidden)),v,nme));var ye=ce.length>0,oe=G.createElement(qse,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:d,active:pe,coordinate:X,hasPayload:ye,offset:p,position:y,reverseDirection:b,useTranslate3d:T,viewBox:U,wrapperStyle:S,lastBoundingBox:de,innerRef:H,hasPortalFromProps:!!D},ime(u,LF(LF({},i),{},{payload:ce,label:te,active:pe,activeIndex:W,coordinate:X,accessibilityLayer:B})));return G.createElement(G.Fragment,null,oz.createPortal(oe,ie),pe&&G.createElement(Ipe,{cursor:A,tooltipEventType:j,coordinate:X,payload:ce,index:W}))}var bT=t=>null;bT.displayName="Cell";function ome(t,e,n){return(e=sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=lme(t,"string");return typeof e=="symbol"?e:e+""}function lme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ume{constructor(e){ome(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function FF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(n),!0).forEach(function(i){fme(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fme(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=hme(t,"string");return typeof e=="symbol"?e:e+""}function hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pme={cacheSize:2e3,enableCache:!0},QH=cme({},pme),kF=new ume(QH.cacheSize),mme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BF="recharts_measurement_span";function gme(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(s)}var zF=(t,e)=>{try{var n=document.getElementById(BF);n||(n=document.createElement("span"),n.setAttribute("id",BF),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mme,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},GF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||aP.isSsr)return{width:0,height:0};if(!QH.enableCache)return zF(e,n);var i=gme(e,n),r=kF.get(i);if(r)return r;var a=zF(e,n);return kF.set(i,a),a},eq;function vme(t,e,n){return(e=yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sme={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eme=["cm","mm","pt","pc","in","Q","px"];function Tme(t){return Eme.includes(t)}var Zm="NaN";function Ame(t,e){return t*Sme[e]}class Ca{static parse(e){var n,[,i,r]=(n=xme.exec(e))!==null&&n!==void 0?n:[];return i==null?Ca.NaN:new Ca(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Kc(e)&&(this.unit=""),n!==""&&!bme.test(n)&&(this.num=NaN,this.unit=""),Tme(n)&&(this.num=Ame(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ca(NaN,""):new Ca(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ca(NaN,""):new Ca(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ca(NaN,""):new Ca(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ca(NaN,""):new Ca(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kc(this.num)}}eq=Ca;vme(Ca,"NaN",new eq(NaN,""));function tq(t){if(t==null||t.includes(Zm))return Zm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,a]=(n=VF.exec(e))!==null&&n!==void 0?n:[],o=Ca.parse(i??""),s=Ca.parse(a??""),u=r==="*"?o.multiply(s):o.divide(s);if(u.isNaN())return Zm;e=e.replace(VF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,p,v]=(c=HF.exec(e))!==null&&c!==void 0?c:[],y=Ca.parse(d??""),b=Ca.parse(v??""),T=p==="+"?y.add(b):y.subtract(b);if(T.isNaN())return Zm;e=e.replace(HF,T.toString())}return e}var qF=/\(([^()]*)\)/;function Mme(t){for(var e=t,n;(n=qF.exec(e))!=null;){var[,i]=n;e=e.replace(qF,tq(i))}return e}function wme(t){var e=t.replace(/\s+/g,"");return e=Mme(e),e=tq(e),e}function Cme(t){try{return wme(t)}catch{return Zm}}function Sw(t){var e=Cme(t.slice(5,-1));return e===Zm?"":e}var Rme=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ime=["dx","dy","angle","className","breakAll"];function jR(){return jR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jR.apply(null,arguments)}function WF(t,e){if(t==null)return{};var n,i,r=Pme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pme(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var nq=/[ \f\n\r\t\v\u2028\u2029]+/,iq=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];bs(e)||(n?r=e.toString().split(""):r=e.toString().split(nq));var a=r.map(s=>({word:s,width:GF(s,i).width})),o=n?0:GF("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Nme(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var rq=(t,e,n,i)=>t.reduce((r,a)=>{var{word:o,width:s}=a,u=r[r.length-1];if(u&&s!=null&&(e==null||i||u.width+s+n<Number(e)))u.words.push(o),u.width+=s+n;else{var c={words:[o],width:s};r.push(c)}return r},[]),aq=t=>t.reduce((e,n)=>e.width>n.width?e:n),Dme="",jF=(t,e,n,i,r,a,o,s)=>{var u=t.slice(0,e),c=iq({breakAll:n,style:i,children:u+Dme});if(!c)return[!1,[]];var d=rq(c.wordsWithComputedWidth,a,o,s),p=d.length>r||aq(d).width>Number(a);return[p,d]},Ome=(t,e,n,i,r)=>{var{maxLines:a,children:o,style:s,breakAll:u}=t,c=nn(a),d=String(o),p=rq(e,i,n,r);if(!c||r)return p;var v=p.length>a||aq(p).width>Number(i);if(!v)return p;for(var y=0,b=d.length-1,T=0,S;y<=b&&T<=d.length-1;){var A=Math.floor((y+b)/2),R=A-1,[I,N]=jF(d,R,u,s,a,i,n,r),[D]=jF(d,A,u,s,a,i,n,r);if(!I&&!D&&(y=A+1),I&&D&&(b=A-1),!I&&D){S=N;break}T++}return S||p},XF=t=>{var e=bs(t)?[]:t.toString().split(nq);return[{words:e,width:void 0}]},Lme=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:o}=t;if((e||n)&&!aP.isSsr){var s,u,c=iq({breakAll:a,children:i,style:r});if(c){var{wordsWithComputedWidth:d,spaceWidth:p}=c;s=d,u=p}else return XF(i);return Ome({breakAll:a,children:i,maxLines:o,style:r},s,u,e,!!n)}return XF(i)},oq="#808080",Ume={angle:0,breakAll:!1,capHeight:"0.71em",fill:oq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vN=G.forwardRef((t,e)=>{var n=Yu(t,Ume),{x:i,y:r,lineHeight:a,capHeight:o,fill:s,scaleToFit:u,textAnchor:c,verticalAnchor:d}=n,p=WF(n,Rme),v=G.useMemo(()=>Lme({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:y,dy:b,angle:T,className:S,breakAll:A}=p,R=WF(p,Ime);if(!Zc(i)||!Zc(r)||v.length===0)return null;var I=Number(i)+(nn(y)?y:0),N=Number(r)+(nn(b)?b:0);if(!Ur(I)||!Ur(N))return null;var D;switch(d){case"start":D=Sw("calc(".concat(o,")"));break;case"middle":D=Sw("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=Sw("calc(".concat(v.length-1," * -").concat(a,")"));break}var O=[];if(u){var F=v[0].width,{width:z}=p;O.push("scale(".concat(nn(z)&&nn(F)?z/F:1,")"))}return T&&O.push("rotate(".concat(T,", ").concat(I,", ").concat(N,")")),O.length&&(R.transform=O.join(" ")),G.createElement("text",jR({},sl(R),{ref:e,x:I,y:N,className:Lr("recharts-text",S),textAnchor:c,fill:s.includes("url")?oq:s}),v.map((U,B)=>{var j=U.words.join(A?"":" ");return G.createElement("tspan",{x:I,dy:B===0?D:a,key:"".concat(j,"-").concat(B)},j)}))});vN.displayName="Text";var Fme=["labelRef"],kme=["content"];function YF(t,e){if(t==null)return{};var n,i,r=Bme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bme(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(i){zme(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function zme(t,e,n){return(e=Gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gme(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x1.apply(null,arguments)}var Hme=G.createContext(null),qme=()=>{var t=G.useContext(Hme),e=QE();return t||FV(e)},Wme=G.createContext(null),jme=()=>{var t=G.useContext(Wme),e=bn(nH);return t||e},Xme=t=>{var{value:e,formatter:n}=t,i=bs(t.children)?e:t.children;return typeof n=="function"?n(i):i},Yme=t=>t!=null&&typeof t=="function",$me=(t,e)=>{var n=$o(e-t),i=Math.min(Math.abs(e-t),360);return n*i},Kme=(t,e,n,i,r)=>{var{offset:a,className:o}=t,{cx:s,cy:u,innerRadius:c,outerRadius:d,startAngle:p,endAngle:v,clockWise:y}=r,b=(c+d)/2,T=$me(p,v),S=T>=0?1:-1,A,R;switch(e){case"insideStart":A=p+S*a,R=y;break;case"insideEnd":A=v-S*a,R=!y;break;case"end":A=v+S*a,R=y;break;default:throw new Error("Unsupported position ".concat(e))}R=T<=0?R:!R;var I=Dr(s,u,b,A),N=Dr(s,u,b,A+(R?1:-1)*359),D="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(N.x,",").concat(N.y),O=bs(t.id)?sy("recharts-radial-line-"):t.id;return G.createElement("text",x1({},i,{dominantBaseline:"central",className:Lr("recharts-radial-bar-label",o)}),G.createElement("defs",null,G.createElement("path",{id:O,d:D})),G.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Jme=(t,e,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:s,endAngle:u}=t,c=(s+u)/2;if(n==="outside"){var{x:d,y:p}=Dr(i,r,o+e,c);return{x:d,y:p,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:y,y:b}=Dr(i,r,v,c);return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},XR=t=>"cx"in t&&nn(t.cx),Zme=(t,e)=>{var{parentViewBox:n,offset:i,position:r}=t,a;n!=null&&!XR(n)&&(a=n);var{x:o,y:s,upperWidth:u,lowerWidth:c,height:d}=e,p=o,v=o+(u-c)/2,y=(p+v)/2,b=(u+c)/2,T=p+u/2,S=d>=0?1:-1,A=S*i,R=S>0?"end":"start",I=S>0?"start":"end",N=u>=0?1:-1,D=N*i,O=N>0?"end":"start",F=N>0?"start":"end";if(r==="top"){var z={x:p+u/2,y:s-A,textAnchor:"middle",verticalAnchor:R};return Nr(Nr({},z),a?{height:Math.max(s-a.y,0),width:u}:{})}if(r==="bottom"){var U={x:v+c/2,y:s+d+A,textAnchor:"middle",verticalAnchor:I};return Nr(Nr({},U),a?{height:Math.max(a.y+a.height-(s+d),0),width:c}:{})}if(r==="left"){var B={x:y-D,y:s+d/2,textAnchor:O,verticalAnchor:"middle"};return Nr(Nr({},B),a?{width:Math.max(B.x-a.x,0),height:d}:{})}if(r==="right"){var j={x:y+b+D,y:s+d/2,textAnchor:F,verticalAnchor:"middle"};return Nr(Nr({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:d}:{})}var W=a?{width:b,height:d}:{};return r==="insideLeft"?Nr({x:y+D,y:s+d/2,textAnchor:F,verticalAnchor:"middle"},W):r==="insideRight"?Nr({x:y+b-D,y:s+d/2,textAnchor:O,verticalAnchor:"middle"},W):r==="insideTop"?Nr({x:p+u/2,y:s+A,textAnchor:"middle",verticalAnchor:I},W):r==="insideBottom"?Nr({x:v+c/2,y:s+d-A,textAnchor:"middle",verticalAnchor:R},W):r==="insideTopLeft"?Nr({x:p+D,y:s+A,textAnchor:F,verticalAnchor:I},W):r==="insideTopRight"?Nr({x:p+u-D,y:s+A,textAnchor:O,verticalAnchor:I},W):r==="insideBottomLeft"?Nr({x:v+D,y:s+d-A,textAnchor:F,verticalAnchor:R},W):r==="insideBottomRight"?Nr({x:v+c-D,y:s+d-A,textAnchor:O,verticalAnchor:R},W):r&&typeof r=="object"&&(nn(r.x)||Jc(r.x))&&(nn(r.y)||Jc(r.y))?Nr({x:o+gs(r.x,b),y:s+gs(r.y,d),textAnchor:"end",verticalAnchor:"end"},W):Nr({x:T,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},W)},Qme={angle:0,offset:5,zIndex:Hl.label,position:"middle",textBreakAll:!1};function sq(t){var e=Yu(t,Qme),{viewBox:n,position:i,value:r,children:a,content:o,className:s="",textBreakAll:u,labelRef:c}=e,d=jme(),p=qme(),v=i==="center"?p:d??p,y,b,T;if(n==null?y=v:XR(n)?y=n:y=FV(n),!y||bs(r)&&bs(a)&&!G.isValidElement(o)&&typeof o!="function")return null;var S=Nr(Nr({},e),{},{viewBox:y});if(G.isValidElement(o)){var{labelRef:A}=S,R=YF(S,Fme);return G.cloneElement(o,R)}if(typeof o=="function"){var{content:I}=S,N=YF(S,kme);if(b=G.createElement(o,N),G.isValidElement(b))return b}else b=Xme(e);var D=sl(e);if(XR(y)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Kme(e,i,b,D,y);T=Jme(y,e.offset,e.position)}else T=Zme(e,y);return G.createElement(l_,{zIndex:e.zIndex},G.createElement(vN,x1({ref:c,className:Lr("recharts-label",s)},D,T,{textAnchor:Nme(D.textAnchor)?D.textAnchor:T.textAnchor,breakAll:u}),b))}sq.displayName="Label";var Ew={},Tw={},KF;function ege(){return KF||(KF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Tw)),Tw}var Aw={},JF;function tge(){return JF||(JF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Aw)),Aw}var ZF;function nge(){return ZF||(ZF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ege(),n=tge(),i=jI();function r(a){if(i.isArrayLike(a))return e.last(n.toArray(a))}t.last=r})(Ew)),Ew}var Mw,QF;function ige(){return QF||(QF=1,Mw=nge().last),Mw}var rge=ige();const age=fl(rge);var oge=["valueAccessor"],sge=["dataKey","clockWise","id","textBreakAll","zIndex"];function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S1.apply(null,arguments)}function ek(t,e){if(t==null)return{};var n,i,r=lge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lge(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var uge=t=>Array.isArray(t.value)?age(t.value):t.value,lq=G.createContext(void 0);lq.Provider;var uq=G.createContext(void 0),cge=uq.Provider;function fge(){return G.useContext(lq)}function dge(){return G.useContext(uq)}function ES(t){var{valueAccessor:e=uge}=t,n=ek(t,oge),{dataKey:i,clockWise:r,id:a,textBreakAll:o,zIndex:s}=n,u=ek(n,sge),c=fge(),d=dge(),p=c||d;return!p||!p.length?null:G.createElement(l_,{zIndex:s??Hl.label},G.createElement(vd,{className:"recharts-label-list"},p.map((v,y)=>{var b,T=bs(i)?e(v,y):dr(v&&v.payload,i),S=bs(a)?{}:{id:"".concat(a,"-").concat(y)};return G.createElement(sq,S1({key:"label-".concat(y)},sl(v),u,S,{fill:(b=n.fill)!==null&&b!==void 0?b:v.fill,parentViewBox:v.parentViewBox,value:T,textBreakAll:o,viewBox:v.viewBox,index:y,zIndex:0}))})))}ES.displayName="LabelList";function hge(t){var{label:e}=t;return e?e===!0?G.createElement(ES,{key:"labelList-implicit"}):G.isValidElement(e)||Yme(e)?G.createElement(ES,{key:"labelList-implicit",content:e}):typeof e=="object"?G.createElement(ES,S1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var cq=t=>t.graphicalItems.polarItems,pge=Xe([Gi,e_],VP),xT=Xe([cq,tr,pge],HP),mge=Xe([xT],qP),ST=Xe([mge,PP],WP),gge=Xe([ST,tr,xT],XP);Xe([ST,tr,xT],(t,e,n)=>n.length>0?t.flatMap(i=>n.flatMap(r=>{var a,o=dr(i,(a=e.dataKey)!==null&&a!==void 0?a:r.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:dr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})));var tk=()=>{},vge=Xe([ST,tr,xT,gT,Gi],JP),yge=Xe([tr,$P,KP,tk,vge,tk,Ti,Gi],ZP),fq=Xe([tr,Ti,ST,gge,Qy,Gi,yge],QP),_ge=Xe([fq,tr,Fg],nN);Xe([tr,fq,_ge,Gi],rN);var bge={radiusAxis:{},angleAxis:{}},dq=Zo({name:"polarAxis",initialState:bge,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:RCe,removeRadiusAxis:ICe,addAngleAxis:PCe,removeAngleAxis:NCe}=dq.actions,xge=dq.reducer;function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(i){Sge(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Sge(t,e,n){return(e=Ege(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Age=(t,e)=>e,yN=Xe([cq,Age],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Mge=[],_N=(t,e,n)=>(n==null?void 0:n.length)===0?Mge:n,hq=Xe([PP,yN,_N],(t,e,n)=>{var{chartData:i}=t;if(e!=null){var r;if((e==null?void 0:e.data)!=null&&e.data.length>0?r=e.data:r=i,(!r||!r.length)&&n!=null&&(r=n.map(a=>ik(ik({},e.presentationProps),a.props))),r!=null)return r}}),wge=Xe([hq,yN,_N],(t,e,n)=>{if(!(t==null||e==null))return t.map((i,r)=>{var a,o=dr(i,e.nameKey,e.name),s;return n!=null&&(a=n[r])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=n[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?s=i.fill:s=e.fill,{value:IV(o,e.dataKey),color:s,payload:i,type:e.legendType}})}),Cge=Xe([hq,yN,_N,da],(t,e,n,i)=>{if(!(e==null||t==null))return Nve({offset:i,pieSettings:e,displayedData:t,cells:n})}),ww={exports:{}},fi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function Rge(){if(rk)return fi;rk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function b(T){if(typeof T=="object"&&T!==null){var S=T.$$typeof;switch(S){case t:switch(T=T.type,T){case n:case r:case i:case u:case c:case v:return T;default:switch(T=T&&T.$$typeof,T){case o:case s:case p:case d:return T;case a:return T;default:return S}}case e:return S}}}return fi.ContextConsumer=a,fi.ContextProvider=o,fi.Element=t,fi.ForwardRef=s,fi.Fragment=n,fi.Lazy=p,fi.Memo=d,fi.Portal=e,fi.Profiler=r,fi.StrictMode=i,fi.Suspense=u,fi.SuspenseList=c,fi.isContextConsumer=function(T){return b(T)===a},fi.isContextProvider=function(T){return b(T)===o},fi.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},fi.isForwardRef=function(T){return b(T)===s},fi.isFragment=function(T){return b(T)===n},fi.isLazy=function(T){return b(T)===p},fi.isMemo=function(T){return b(T)===d},fi.isPortal=function(T){return b(T)===e},fi.isProfiler=function(T){return b(T)===r},fi.isStrictMode=function(T){return b(T)===i},fi.isSuspense=function(T){return b(T)===u},fi.isSuspenseList=function(T){return b(T)===c},fi.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===r||T===i||T===u||T===c||typeof T=="object"&&T!==null&&(T.$$typeof===p||T.$$typeof===d||T.$$typeof===o||T.$$typeof===a||T.$$typeof===s||T.$$typeof===y||T.getModuleId!==void 0)},fi.typeOf=b,fi}var ak;function Ige(){return ak||(ak=1,ww.exports=Rge()),ww.exports}var Pge=Ige(),ok=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",sk=null,Cw=null,pq=t=>{if(t===sk&&Array.isArray(Cw))return Cw;var e=[];return G.Children.forEach(t,n=>{bs(n)||(Pge.isFragment(n)?e=e.concat(pq(n.props.children)):e.push(n))}),Cw=e,sk=t,e};function mq(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(r=>ok(r)):i=[ok(e)],pq(t).forEach(r=>{var a=oy(r,"type.displayName")||oy(r,"type.name");a&&i.indexOf(a)!==-1&&n.push(r)}),n}var Rw={},lk;function Nge(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${a}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(Rw)),Rw}var Iw,uk;function Dge(){return uk||(uk=1,Iw=Nge().isPlainObject),Iw}var Oge=Dge();const Lge=fl(Oge);var ck,fk,dk,hk,pk;function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(i){Uge(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Uge(t,e,n){return(e=Fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=kge(t,"string");return typeof e=="symbol"?e:e+""}function kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E1.apply(null,arguments)}function S0(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vk=(t,e,n,i,r)=>{var a=n-i,o;return o=cr(ck||(ck=S0(["M ",",",""])),t,e),o+=cr(fk||(fk=S0(["L ",",",""])),t+n,e),o+=cr(dk||(dk=S0(["L ",",",""])),t+n-a/2,e+r),o+=cr(hk||(hk=S0(["L ",",",""])),t+n-a/2-i,e+r),o+=cr(pk||(pk=S0(["L ",","," Z"])),t,e),o},Bge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zge=t=>{var e=Yu(t,Bge),{x:n,y:i,upperWidth:r,lowerWidth:a,height:o,className:s}=e,{animationEasing:u,animationDuration:c,animationBegin:d,isUpdateAnimationActive:p}=e,v=G.useRef(null),[y,b]=G.useState(-1),T=G.useRef(r),S=G.useRef(a),A=G.useRef(o),R=G.useRef(n),I=G.useRef(i),N=sP(t,"trapezoid-");if(G.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Q=v.current.getTotalLength();Q&&b(Q)}catch{}},[]),n!==+n||i!==+i||r!==+r||a!==+a||o!==+o||r===0&&a===0||o===0)return null;var D=Lr("recharts-trapezoid",s);if(!p)return G.createElement("g",null,G.createElement("path",E1({},sl(e),{className:D,d:vk(n,i,r,a,o)})));var O=T.current,F=S.current,z=A.current,U=R.current,B=I.current,j="0px ".concat(y===-1?1:y,"px"),W="".concat(y,"px 0px"),Y=jV(["strokeDasharray"],c,u);return G.createElement(oP,{animationId:N,key:N,canBegin:y>0,duration:c,easing:u,isActive:p,begin:d},Q=>{var ae=kl(O,r,Q),X=kl(F,a,Q),ne=kl(z,o,Q),ge=kl(U,n,Q),pe=kl(B,i,Q);v.current&&(T.current=ae,S.current=X,A.current=ne,R.current=ge,I.current=pe);var de=Q>0?{transition:Y,strokeDasharray:W}:{strokeDasharray:j};return G.createElement("path",E1({},sl(e),{className:D,d:vk(ge,pe,ae,X,ne),ref:v,style:gk(gk({},de),e.style)}))})},Gge=["option","shapeType","activeClassName"];function Vge(t,e){if(t==null)return{};var n,i,r=Hge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hge(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(i){qge(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xge(t,e){return T1(T1({},e),t)}function Yge(t,e){return t==="symbols"}function _k(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return G.createElement(KV,n);case"trapezoid":return G.createElement(zge,n);case"sector":return G.createElement(e8,n);case"symbols":if(Yge(e))return G.createElement(BG,n);break;case"curve":return G.createElement(rP,n);default:return null}}function $ge(t){return G.isValidElement(t)?t.props:t}function Kge(t){var{option:e,shapeType:n,activeClassName:i="recharts-active-shape"}=t,r=Vge(t,Gge),a;if(G.isValidElement(e))a=G.cloneElement(e,T1(T1({},r),$ge(e)));else if(typeof e=="function")a=e(r,r.index);else if(Lge(e)&&typeof e!="boolean"){var o=Xge(e,r);a=G.createElement(_k,{shapeType:n,elementProps:o})}else{var s=r;a=G.createElement(_k,{shapeType:n,elementProps:s})}return r.isActive?G.createElement(vd,{className:i},a):a}var Jge=(t,e,n)=>{var i=Xr();return(r,a)=>o=>{t==null||t(r,a,o),i(RH({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}},Zge=t=>{var e=Xr();return(n,i)=>r=>{t==null||t(n,i,r),e(ehe())}},Qge=(t,e,n)=>{var i=Xr();return(r,a)=>o=>{t==null||t(r,a,o),i(the({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}};function eve(t){var{tooltipEntrySettings:e}=t,n=Xr(),i=Md(),r=G.useRef(null);return G.useLayoutEffect(()=>{i||(r.current===null?n(Kde(e)):r.current!==e&&n(Jde({prev:r.current,next:e})),r.current=e)},[e,n,i]),G.useLayoutEffect(()=>()=>{r.current&&(n(Zde(r.current)),r.current=null)},[n]),null}function tve(t){var{legendPayload:e}=t,n=Xr(),i=bn(Ti),r=G.useRef(null);return G.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(r.current===null?n(Rse(e)):r.current!==e&&n(Ise({prev:r.current,next:e})),r.current=e)},[n,i,e]),G.useLayoutEffect(()=>()=>{r.current&&(n(Pse(r.current)),r.current=null)},[n]),null}var Pw,nve=()=>{var[t]=G.useState(()=>sy("uid-"));return t},ive=(Pw=GW.useId)!==null&&Pw!==void 0?Pw:nve;function rve(t,e){var n=ive();return e||(t?"".concat(t,"-").concat(n):n)}var ave=G.createContext(void 0),ove=t=>{var{id:e,type:n,children:i}=t,r=rve("recharts-".concat(n),e);return G.createElement(ave.Provider,{value:r},i(r))},sve={cartesianItems:[],polarItems:[]},gq=Zo({name:"graphicalItems",initialState:sve,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Bi()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,r=Xl(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},prepare:Bi()},removeCartesianGraphicalItem:{reducer(t,e){var n=Xl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Bi()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Bi()},removePolarGraphicalItem:{reducer(t,e){var n=Xl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Bi()}}}),{addCartesianGraphicalItem:DCe,replaceCartesianGraphicalItem:OCe,removeCartesianGraphicalItem:LCe,addPolarGraphicalItem:lve,removePolarGraphicalItem:uve}=gq.actions,cve=gq.reducer;function fve(t){var e=Xr();return G.useLayoutEffect(()=>(e(lve(t)),()=>{e(uve(t))}),[e,t]),null}var dve=["key"],hve=["onMouseEnter","onClick","onMouseLeave"],pve=["id"],mve=["id"];function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(i){gve(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gve(t,e,n){return(e=vve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=yve(t,"string");return typeof e=="symbol"?e:e+""}function yve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bd.apply(null,arguments)}function ET(t,e){if(t==null)return{};var n,i,r=_ve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ve(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function bve(t){var e=G.useMemo(()=>mq(t.children,bT),[t.children]),n=bn(i=>wge(i,t.id,e));return n==null?null:G.createElement(tve,{legendPayload:n})}var xve=G.memo(t=>{var{dataKey:e,nameKey:n,sectors:i,stroke:r,strokeWidth:a,fill:o,name:s,hide:u,tooltipType:c,id:d}=t,p={dataDefinedOnItem:i.map(v=>v.tooltipPayload),positions:i.map(v=>v.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:o,dataKey:e,nameKey:n,name:IV(s,e),hide:u,type:c,color:o,unit:"",graphicalItemId:d}};return G.createElement(eve,{tooltipEntrySettings:p})}),Sve=(t,e)=>t>e?"start":t<e?"end":"middle",Eve=(t,e,n)=>gs(typeof e=="function"?e(t):e,n,n*.8),Tve=(t,e,n)=>{var{top:i,left:r,width:a,height:o}=e,s=JV(a,o),u=r+gs(t.cx,a,a/2),c=i+gs(t.cy,o,o/2),d=gs(t.innerRadius,s,0),p=Eve(n,t.outerRadius,s),v=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:c,innerRadius:d,outerRadius:p,maxRadius:v}},Ave=(t,e)=>{var n=$o(e-t),i=Math.min(Math.abs(e-t),360);return n*i};function Mve(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var wve=(t,e)=>{if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Lr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:i}=e,r=ET(e,dve);return G.createElement(rP,bd({},r,{type:"linear",className:n}))},Cve=(t,e,n)=>{if(G.isValidElement(t))return G.cloneElement(t,e);var i=n;if(typeof t=="function"&&(i=t(e),G.isValidElement(i)))return i;var r=Lr("recharts-pie-label-text",Mve(t));return G.createElement(vN,bd({},e,{alignmentBaseline:"middle",className:r}),i)};function Rve(t){var{sectors:e,props:n,showLabels:i}=t,{label:r,labelLine:a,dataKey:o}=n;if(!i||!r||!e)return null;var s=lg(n),u=nR(r),c=nR(a),d=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,p=e.map((v,y)=>{var b=(v.startAngle+v.endAngle)/2,T=Dr(v.cx,v.cy,v.outerRadius+d,b),S=fr(fr(fr(fr({},s),v),{},{stroke:"none"},u),{},{index:y,textAnchor:Sve(T.x,v.cx)},T),A=fr(fr(fr(fr({},s),v),{},{fill:"none",stroke:v.fill},c),{},{index:y,points:[Dr(v.cx,v.cy,v.outerRadius,b),T],key:"line"});return G.createElement(l_,{zIndex:Hl.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},G.createElement(vd,null,a&&wve(a,A),Cve(r,S,dr(v,o))))});return G.createElement(vd,{className:"recharts-pie-labels"},p)}function Ive(t){var{sectors:e,props:n,showLabels:i}=t,{label:r}=n;return typeof r=="object"&&r!=null&&"position"in r?G.createElement(hge,{label:r}):G.createElement(Rve,{sectors:e,props:n,showLabels:i})}function Pve(t){var{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:r,shape:a,id:o}=t,s=bn(by),u=bn(HH),c=bn(zhe),{onMouseEnter:d,onClick:p,onMouseLeave:v}=r,y=ET(r,hve),b=Jge(d,r.dataKey,o),T=Zge(v),S=Qge(p,r.dataKey,o);return e==null||e.length===0?null:G.createElement(G.Fragment,null,e.map((A,R)=>{if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&e.length!==1)return null;var I=c==null||c===o,N=String(R)===s&&(u==null||r.dataKey===u)&&I,D=s?i:null,O=n&&N?n:D,F=fr(fr({},A),{},{stroke:A.stroke,tabIndex:-1,[NV]:R,[DV]:o});return G.createElement(vd,bd({key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(R),tabIndex:-1,className:"recharts-pie-sector"},Ere(y,A,R),{onMouseEnter:b(A,R),onMouseLeave:T(A,R),onClick:S(A,R)}),G.createElement(Kge,bd({option:a??O,index:R,shapeType:"sector",isActive:N},F)))}))}function Nve(t){var e,{pieSettings:n,displayedData:i,cells:r,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:u,dataKey:c,nameKey:d,tooltipType:p}=n,v=Math.abs(n.minAngle),y=Ave(s,u),b=Math.abs(y),T=i.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=i.filter(O=>dr(O,c,0)!==0).length,A=(b>=360?S:S-1)*T,R=b-S*v-A,I=i.reduce((O,F)=>{var z=dr(F,c,0);return O+(nn(z)?z:0)},0),N;if(I>0){var D;N=i.map((O,F)=>{var z=dr(O,c,0),U=dr(O,d,F),B=Tve(n,a,O),j=(nn(z)?z:0)/I,W,Y=fr(fr({},O),r&&r[F]&&r[F].props);F?W=D.endAngle+$o(y)*T*(z!==0?1:0):W=s;var Q=W+$o(y)*((z!==0?v:0)+j*R),ae=(W+Q)/2,X=(B.innerRadius+B.outerRadius)/2,ne=[{name:U,value:z,payload:Y,dataKey:c,type:p,graphicalItemId:n.id}],ge=Dr(B.cx,B.cy,X,ae);return D=fr(fr(fr(fr({},n.presentationProps),{},{percent:j,cornerRadius:typeof o=="string"?parseFloat(o):o,name:U,tooltipPayload:ne,midAngle:ae,middleRadius:X,tooltipPosition:ge},Y),B),{},{value:z,dataKey:c,startAngle:W,endAngle:Q,payload:Y,paddingAngle:$o(y)*T}),D})}return N}function Dve(t){var{showLabels:e,sectors:n,children:i}=t,r=G.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return G.createElement(cge,{value:e?r:void 0},i)}function Ove(t){var{props:e,previousSectorsRef:n,id:i}=t,{sectors:r,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:u,activeShape:c,inactiveShape:d,onAnimationStart:p,onAnimationEnd:v}=e,y=sP(e,"recharts-pie-"),b=n.current,[T,S]=G.useState(!1),A=G.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),R=G.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return G.createElement(Dve,{showLabels:!T,sectors:r},G.createElement(oP,{animationId:y,begin:o,duration:s,isActive:a,easing:u,onAnimationStart:R,onAnimationEnd:A,key:y},I=>{var N=[],D=r&&r[0],O=D==null?void 0:D.startAngle;return r==null||r.forEach((F,z)=>{var U=b&&b[z],B=z>0?oy(F,"paddingAngle",0):0;if(U){var j=kl(U.endAngle-U.startAngle,F.endAngle-F.startAngle,I),W=fr(fr({},F),{},{startAngle:O+B,endAngle:O+j+B});N.push(W),O=W.endAngle}else{var{endAngle:Y,startAngle:Q}=F,ae=kl(0,Y-Q,I),X=fr(fr({},F),{},{startAngle:O+B,endAngle:O+ae+B});N.push(X),O=X.endAngle}}),n.current=N,G.createElement(vd,null,G.createElement(Pve,{sectors:N,activeShape:c,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:i}))}),G.createElement(Ive,{showLabels:!T,sectors:r,props:e}),e.children)}var Lve={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Hl.area};function Uve(t){var{id:e}=t,n=ET(t,pve),{hide:i,className:r,rootTabIndex:a}=t,o=G.useMemo(()=>mq(t.children,bT),[t.children]),s=bn(d=>Cge(d,e,o)),u=G.useRef(null),c=Lr("recharts-pie",r);return i||s==null?(u.current=null,G.createElement(vd,{tabIndex:a,className:c})):G.createElement(l_,{zIndex:t.zIndex},G.createElement(xve,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),G.createElement(vd,{tabIndex:a,className:c},G.createElement(Ove,{props:fr(fr({},n),{},{sectors:s}),previousSectorsRef:u,id:e})))}function vq(t){var e=Yu(t,Lve),{id:n}=e,i=ET(e,mve),r=lg(i);return G.createElement(ove,{id:n,type:"pie"},a=>G.createElement(G.Fragment,null,G.createElement(fve,{type:"pie",id:a,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r,maxRadius:e.maxRadius}),G.createElement(bve,bd({},i,{id:a})),G.createElement(Uve,bd({},i,{id:a}))))}vq.displayName="Pie";function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(i){Fve(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Fve(t,e,n){return(e=kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Bve(t,"string");return typeof e=="symbol"?e:e+""}function Bve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zve={xAxis:{},yAxis:{},zAxis:{}},yq=Zo({name:"cartesianAxis",initialState:zve,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Bi()},replaceXAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.xAxis[n.id],t.xAxis[i.id]=i)},prepare:Bi()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Bi()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Bi()},replaceYAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.yAxis[n.id],t.yAxis[i.id]=i)},prepare:Bi()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Bi()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Bi()},replaceZAxis:{reducer(t,e){var{prev:n,next:i}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete t.zAxis[n.id],t.zAxis[i.id]=i)},prepare:Bi()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Bi()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,r=t.yAxis[n];if(r){var a=r.widthHistory||[];if(a.length===3&&a[0]===a[2]&&i===a[1]&&i!==r.width&&Math.abs(i-a[0])<=1)return;var o=[...a,i].slice(-3);t.yAxis[n]=Sk(Sk({},t.yAxis[n]),{},{width:i,widthHistory:o})}}}}),{addXAxis:UCe,replaceXAxis:FCe,removeXAxis:kCe,addYAxis:BCe,replaceYAxis:zCe,removeYAxis:GCe,addZAxis:VCe,replaceZAxis:HCe,removeZAxis:qCe,updateYAxisWidth:WCe}=yq.actions,Gve=yq.reducer,Vve=Xe([da],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Hve=Xe([Vve,cf,ff],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),qve=()=>bn(Hve),Wve=t=>{var{chartData:e}=t,n=Xr(),i=Md();return G.useEffect(()=>i?()=>{}:(n(NF(e)),()=>{n(NF(void 0))}),[e,n,i]),null},Ek={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_q=Zo({name:"brush",initialState:Ek,reducers:{setBrushSettings(t,e){return e.payload==null?Ek:e.payload}}}),{setBrushSettings:jCe}=_q.actions,jve=_q.reducer,Xve={dots:[],areas:[],lines:[]},bq=Zo({name:"referenceElements",initialState:Xve,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Xl(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Xl(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Xl(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:XCe,removeDot:YCe,addArea:$Ce,removeArea:KCe,addLine:JCe,removeLine:ZCe}=bq.actions,Yve=bq.reducer,$ve=G.createContext(void 0),Kve=t=>{var{children:e}=t,[n]=G.useState("".concat(sy("recharts"),"-clip")),i=qve();if(i==null)return null;var{x:r,y:a,width:o,height:s}=i;return G.createElement($ve.Provider,{value:n},G.createElement("defs",null,G.createElement("clipPath",{id:n},G.createElement("rect",{x:r,y:a,height:s,width:o}))),e)},Jve={},xq=Zo({name:"errorBars",initialState:Jve,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:QCe,replaceErrorBar:eRe,removeErrorBar:tRe}=xq.actions,Zve=xq.reducer,Nw={exports:{}},Dw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function Qve(){if(Tk)return Dw;Tk=1;var t=Tg();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return Dw.useSyncExternalStoreWithSelector=function(u,c,d,p,v){var y=r(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=o(function(){function S(D){if(!A){if(A=!0,R=D,D=p(D),v!==void 0&&b.hasValue){var O=b.value;if(v(O,D))return I=O}return I=D}if(O=I,n(R,D))return O;var F=p(D);return v!==void 0&&v(O,F)?(R=D,O):(R=D,I=F)}var A=!1,R,I,N=d===void 0?null:d;return[function(){return S(c())},N===null?void 0:function(){return S(N())}]},[c,d,p,v]);var T=i(u,y[0],y[1]);return a(function(){b.hasValue=!0,b.value=T},[T]),s(T),T},Dw}var Ak;function e0e(){return Ak||(Ak=1,Nw.exports=Qve()),Nw.exports}e0e();function t0e(t){t()}function n0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){t0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var Mk={notify(){},get:()=>[]};function i0e(t,e){let n,i=Mk,r=0,a=!1;function o(T){d();const S=i.subscribe(T);let A=!1;return()=>{A||(A=!0,S(),p())}}function s(){i.notify()}function u(){b.onStateChange&&b.onStateChange()}function c(){return a}function d(){r++,n||(n=t.subscribe(u),i=n0e())}function p(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=Mk)}function v(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:c,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return b}var r0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a0e=r0e(),o0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s0e=o0e(),l0e=()=>a0e||s0e?G.useLayoutEffect:G.useEffect,u0e=l0e();function wk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function c0e(t,e){if(wk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!wk(t[n[r]],e[n[r]]))return!1;return!0}var Ow=Symbol.for("react-redux-context"),Lw=typeof globalThis<"u"?globalThis:{};function f0e(){if(!G.createContext)return{};const t=Lw[Ow]??(Lw[Ow]=new Map);let e=t.get(G.createContext);return e||(e=G.createContext(null),t.set(G.createContext,e)),e}var d0e=f0e();function h0e(t){const{children:e,context:n,serverState:i,store:r}=t,a=G.useMemo(()=>{const u=i0e(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),o=G.useMemo(()=>r.getState(),[r]);u0e(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const s=n||d0e;return G.createElement(s.Provider,{value:a},e)}var p0e=h0e,m0e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function g0e(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function v0e(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var i of n)if(m0e.has(i)){if(t[i]==null&&e[i]==null)continue;if(!c0e(t[i],e[i]))return!1}else if(!g0e(t[i],e[i]))return!1;return!0}var y0e=(t,e)=>e,bN=Xe([y0e,Ti,nH,$r,BH,hf,ipe,da],cpe),xN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},Sq=ll("mouseClick"),Eq=jy();Eq.startListening({actionCreator:Sq,effect:(t,e)=>{var n=t.payload,i=bN(e.getState(),xN(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(nhe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var YR=ll("mouseMove"),Tq=jy(),vx=null;Tq.startListening({actionCreator:YR,effect:(t,e)=>{var n=t.payload;vx!==null&&cancelAnimationFrame(vx);var i=xN(n);vx=requestAnimationFrame(()=>{var r=e.getState(),a=sN(r,r.tooltip.settings.shared);if(a==="axis"){var o=bN(r,i);(o==null?void 0:o.activeIndex)!=null?e.dispatch(PH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(IH())}vx=null})}});function _0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Ck={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Aq=Zo({name:"rootProps",initialState:Ck,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Ck.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),b0e=Aq.reducer,{updateOptions:x0e}=Aq.actions,Mq=Zo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:S0e}=Mq.actions,E0e=Mq.reducer,wq=ll("keyDown"),Cq=ll("focus"),SN=jy();SN.startListening({actionCreator:wq,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=lN(r,zg(n),i_(n),o_(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var u=hf(n);if(a==="Enter"){var c=b1(n,"axis","hover",String(r.index));e.dispatch(HR({active:!r.active,activeIndex:r.index,activeCoordinate:c}));return}var d=jde(n),p=d==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=s+v*p;if(!(u==null||y>=u.length||y<0)){var b=b1(n,"axis","hover",String(y));e.dispatch(HR({active:!0,activeIndex:y.toString(),activeCoordinate:b}))}}}}}});SN.startListening({actionCreator:Cq,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",o=b1(n,"axis","hover",String(a));e.dispatch(HR({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var nl=ll("externalEvent"),Rq=jy(),Uw=new Map;Rq.startListening({actionCreator:nl,effect:(t,e)=>{var{handler:n,reactEvent:i}=t.payload;if(n!=null){i.persist();var r=i.type,a=Uw.get(r);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=e.getState(),u={activeCoordinate:Vhe(s),activeDataKey:HH(s),activeIndex:by(s),activeLabel:VH(s),activeTooltipIndex:by(s),isTooltipActive:Hhe(s)};n(u,i)}finally{Uw.delete(r)}});Uw.set(r,o)}}});var T0e=Xe([kg],t=>t.tooltipItemPayloads),A0e=Xe([T0e,a_,(t,e)=>e,(t,e,n)=>n],(t,e,n,i)=>{var r=t.find(s=>s.settings.graphicalItemId===i);if(r!=null){var{positions:a}=r;if(a!=null){var o=e(a,n);return o}}}),Iq=ll("touchMove"),Pq=jy();Pq.startListening({actionCreator:Iq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),r=sN(i,i.tooltip.settings.shared);if(r==="axis"){var a=n.touches[0];if(a==null)return;var o=bN(i,xN({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(PH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(r==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(NV),p=(s=c.getAttribute(DV))!==null&&s!==void 0?s:void 0,v=Bg(i).find(T=>T.id===p);if(d==null||v==null||p==null)return;var{dataKey:y}=v,b=A0e(i,d,p);e.dispatch(RH({activeDataKey:y,activeIndex:d,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var M0e=tV({brush:jve,cartesianAxis:Gve,chartData:Vpe,errorBars:Zve,graphicalItems:cve,layout:Soe,legend:Nse,options:Fpe,polarAxis:xge,polarOptions:E0e,referenceElements:Yve,rootProps:b0e,tooltip:ihe,zIndex:Tpe}),w0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Xae({reducer:M0e,preloadedState:e,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Eq.middleware,Tq.middleware,SN.middleware,Rq.middleware,Pq.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(gV({type:"raf"}))},devTools:{serialize:{replacer:_0e},name:"recharts-".concat(n)}})};function C0e(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=Md(),a=G.useRef(null);if(r)return n;a.current==null&&(a.current=w0e(e,i));var o=YI;return G.createElement(p0e,{context:o,store:a.current},n)}function R0e(t){var{layout:e,margin:n}=t,i=Xr(),r=Md();return G.useEffect(()=>{r||(i(_oe(e)),i(yoe(n)))},[i,r,e,n]),null}var I0e=G.memo(R0e,v0e);function P0e(t){var e=Xr();return G.useEffect(()=>{e(x0e(t))},[e,t]),null}function Rk(t){var{zIndex:e,isPanorama:n}=t,i=G.useRef(null),r=Xr();return G.useLayoutEffect(()=>(i.current&&r(Spe({zIndex:e,element:i.current,isPanorama:n})),()=>{r(Epe({zIndex:e,isPanorama:n}))}),[r,e,n]),G.createElement("g",{tabIndex:-1,ref:i})}function Ik(t){var{children:e,isPanorama:n}=t,i=bn(dpe);if(!i||i.length===0)return e;var r=i.filter(o=>o<0),a=i.filter(o=>o>0);return G.createElement(G.Fragment,null,r.map(o=>G.createElement(Rk,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>G.createElement(Rk,{key:o,zIndex:o,isPanorama:n})))}var N0e=["children"];function D0e(t,e){if(t==null)return{};var n,i,r=O0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O0e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},A1.apply(null,arguments)}var L0e={width:"100%",height:"100%",display:"block"},U0e=G.forwardRef((t,e)=>{var n=pse(),i=mse(),r=WV();if(!yd(n)||!yd(i))return null;var{children:a,otherAttributes:o,title:s,desc:u}=t,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=r?0:void 0,typeof o.role=="string"?d=o.role:d=r?"application":void 0),G.createElement(_G,A1({},o,{title:s,desc:u,role:d,tabIndex:c,width:n,height:i,style:L0e,ref:e}),a)}),F0e=t=>{var{children:e}=t,n=bn(ZE);if(!n)return null;var{width:i,height:r,y:a,x:o}=n;return G.createElement(_G,{width:i,height:r,x:o,y:a},e)},Pk=G.forwardRef((t,e)=>{var{children:n}=t,i=D0e(t,N0e),r=Md();return r?G.createElement(F0e,null,G.createElement(Ik,{isPanorama:!0},n)):G.createElement(U0e,A1({ref:e},i),G.createElement(Ik,{isPanorama:!1},n))});function k0e(){var t=Xr(),[e,n]=G.useState(null),i=bn(Foe);return G.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),a=r.width/e.offsetWidth;Ur(a)&&a!==i&&t(xoe(a))}},[e,t,i]),n}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function B0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(i){z0e(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function z0e(t,e,n){return(e=G0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=V0e(t,"string");return typeof e=="symbol"?e:e+""}function V0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},rp.apply(null,arguments)}var H0e=()=>(Jpe(),null);function M1(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var q0e=G.forwardRef((t,e)=>{var n,i,r=G.useRef(null),[a,o]=G.useState({containerWidth:M1((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:M1((i=t.style)===null||i===void 0?void 0:i.height)}),s=G.useCallback((c,d)=>{o(p=>{var v=Math.round(c),y=Math.round(d);return p.containerWidth===v&&p.containerHeight===y?p:{containerWidth:v,containerHeight:y}})},[]),u=G.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=c.getBoundingClientRect();s(d,p);var v=b=>{var{width:T,height:S}=b[0].contentRect;s(T,S)},y=new ResizeObserver(v);y.observe(c),r.current=y}},[e,s]);return G.useEffect(()=>()=>{var c=r.current;c!=null&&c.disconnect()},[s]),G.createElement(G.Fragment,null,G.createElement(tT,{width:a.containerWidth,height:a.containerHeight}),G.createElement("div",rp({ref:u},t)))}),W0e=G.forwardRef((t,e)=>{var{width:n,height:i}=t,[r,a]=G.useState({containerWidth:M1(n),containerHeight:M1(i)}),o=G.useCallback((u,c)=>{a(d=>{var p=Math.round(u),v=Math.round(c);return d.containerWidth===p&&d.containerHeight===v?d:{containerWidth:p,containerHeight:v}})},[]),s=G.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[e,o]);return G.createElement(G.Fragment,null,G.createElement(tT,{width:r.containerWidth,height:r.containerHeight}),G.createElement("div",rp({ref:s},t)))}),j0e=G.forwardRef((t,e)=>{var{width:n,height:i}=t;return G.createElement(G.Fragment,null,G.createElement(tT,{width:n,height:i}),G.createElement("div",rp({ref:e},t)))}),X0e=G.forwardRef((t,e)=>{var{width:n,height:i}=t;return Jc(n)||Jc(i)?G.createElement(W0e,rp({},t,{ref:e})):G.createElement(j0e,rp({},t,{ref:e}))});function Y0e(t){return t===!0?q0e:X0e}var $0e=G.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:p,onMouseUp:v,onTouchEnd:y,onTouchMove:b,onTouchStart:T,style:S,width:A,responsive:R,dispatchTouchEvents:I=!0}=t,N=G.useRef(null),D=Xr(),[O,F]=G.useState(null),[z,U]=G.useState(null),B=k0e(),j=tP(),W=(j==null?void 0:j.width)>0?j.width:A,Y=(j==null?void 0:j.height)>0?j.height:r,Q=G.useCallback(he=>{B(he),typeof e=="function"&&e(he),F(he),U(he),he!=null&&(N.current=he)},[B,e,F,U]),ae=G.useCallback(he=>{D(Sq(he)),D(nl({handler:a,reactEvent:he}))},[D,a]),X=G.useCallback(he=>{D(YR(he)),D(nl({handler:c,reactEvent:he}))},[D,c]),ne=G.useCallback(he=>{D(IH()),D(nl({handler:d,reactEvent:he}))},[D,d]),ge=G.useCallback(he=>{D(YR(he)),D(nl({handler:p,reactEvent:he}))},[D,p]),pe=G.useCallback(()=>{D(Cq())},[D]),de=G.useCallback(he=>{D(wq(he.key))},[D]),H=G.useCallback(he=>{D(nl({handler:o,reactEvent:he}))},[D,o]),te=G.useCallback(he=>{D(nl({handler:s,reactEvent:he}))},[D,s]),ie=G.useCallback(he=>{D(nl({handler:u,reactEvent:he}))},[D,u]),ce=G.useCallback(he=>{D(nl({handler:v,reactEvent:he}))},[D,v]),ye=G.useCallback(he=>{D(nl({handler:T,reactEvent:he}))},[D,T]),oe=G.useCallback(he=>{I&&D(Iq(he)),D(nl({handler:b,reactEvent:he}))},[D,I,b]),le=G.useCallback(he=>{D(nl({handler:y,reactEvent:he}))},[D,y]),Se=Y0e(R);return G.createElement(KH.Provider,{value:O},G.createElement(Eie.Provider,{value:z},G.createElement(Se,{width:W??(S==null?void 0:S.width),height:Y??(S==null?void 0:S.height),className:Lr("recharts-wrapper",i),style:B0e({position:"relative",cursor:"default",width:W,height:Y},S),onClick:ae,onContextMenu:H,onDoubleClick:te,onFocus:pe,onKeyDown:de,onMouseDown:ie,onMouseEnter:X,onMouseLeave:ne,onMouseMove:ge,onMouseUp:ce,onTouchEnd:le,onTouchMove:oe,onTouchStart:ye,ref:Q},G.createElement(H0e,null),n)))}),K0e=["width","height","responsive","children","className","style","compact","title","desc"];function J0e(t,e){if(t==null)return{};var n,i,r=Z0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z0e(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Q0e=G.forwardRef((t,e)=>{var{width:n,height:i,responsive:r,children:a,className:o,style:s,compact:u,title:c,desc:d}=t,p=J0e(t,K0e),v=lg(p);return u?G.createElement(G.Fragment,null,G.createElement(tT,{width:n,height:i}),G.createElement(Pk,{otherAttributes:v,title:c,desc:d},a)):G.createElement($0e,{className:o,style:s,width:n,height:i,responsive:r??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},G.createElement(Pk,{otherAttributes:v,title:c,desc:d,ref:e},G.createElement(Kve,null,a)))});function eye(t){var e=Xr();return G.useEffect(()=>{e(S0e(t))},[e,t]),null}var tye=["layout"];function $R(){return $R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$R.apply(null,arguments)}function nye(t,e){if(t==null)return{};var n,i,r=iye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iye(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var rye={top:5,right:5,bottom:5,left:5},Nq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},aye=G.forwardRef(function(e,n){var i,r=Yu(e.categoricalChartProps,Nq),{layout:a}=r,o=nye(r,tye),{chartName:s,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e,p={chartName:s,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return G.createElement(C0e,{preloadedState:{options:p},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:s},G.createElement(Wve,{chartData:r.data}),G.createElement(I0e,{layout:a,margin:r.margin}),G.createElement(P0e,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),G.createElement(eye,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),G.createElement(Q0e,$R({},o,{ref:n})))});function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(i){oye(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function oye(t,e,n){return(e=sye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sye(t){var e=lye(t,"string");return typeof e=="symbol"?e:e+""}function lye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uye=["item"],cye=Ok(Ok({},Nq),{},{layout:"centric",startAngle:0,endAngle:360}),fye=G.forwardRef((t,e)=>{var n=Yu(t,cye);return G.createElement(aye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:uye,tooltipPayloadSearcher:Lpe,categoricalChartProps:n,ref:e})});const dye=async(t,e)=>{const n=await fetch("/api/post-tweet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t.resumen_tweet+(e?`

${e}`:"")})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to post tweet")}},hye=({active:t,payload:e,lang:n})=>{if(t&&e&&e.length){const i=Pg[n],r=e&&Array.isArray(e)&&e.length>0?e[0]:null;if(!r)return null;const a=r.name===i.transparencyLevel;return re.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-3 rounded-xl shadow-2xl max-w-[200px]",children:[re.jsxs("p",{className:"text-sm font-bold mb-1",style:{color:r.fill},children:[r.name,": ",r.value,"%"]}),re.jsx("p",{className:"text-[10px] text-slate-400 leading-tight",children:a?i.transparencyTooltip:i.opacityTooltip})]})}return null},pye=({data:t,boeId:e,title:n,lang:i,isLoggedIn:r})=>{const a=Pg[i],[o,s]=G.useState(!1),[u,c]=G.useState(!1),[d,p]=G.useState(!1),[v,y]=G.useState(t.tweet_sent||!1);G.useEffect(()=>{y(t.tweet_sent||!1)},[t.tweet_sent]);const b=[{name:a.transparencyLevel,value:t.nivel_transparencia},{name:a.opacityLevel,value:100-t.nivel_transparencia}],T=["#22c55e","#ef4444"],S=`https://www.boe.es/buscar/doc.php?id=${e}`,A=()=>{navigator.clipboard.writeText(`${t.resumen_tweet}

${S}`),s(!0),setTimeout(()=>s(!1),2e3)},R=async()=>{if(!v){p(!0);try{await dye(t,S);const D={...t,tweet_sent:!0};await B0(e,n,D),y(!0)}catch(D){console.error(D),alert("Error posting tweet: "+D.message)}finally{p(!1)}}},I=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)),c(!0),setTimeout(()=>c(!1),2e3)},N=()=>{const D=JSON.stringify({boe_id:e,timestamp:new Date().toISOString(),report:t},null,2),O=new Blob([D],{type:"application/json"}),F=URL.createObjectURL(O),z=document.createElement("a");z.href=F,z.download=`Audit_${e}_${new Date().getTime()}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(F)};return re.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20",children:[re.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[re.jsxs("div",{className:"flex-1 bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[re.jsxs("div",{className:"flex justify-between items-center mb-4",children:[re.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[re.jsx(b3,{className:"text-emerald-400"}),a.transparencyLevel]}),re.jsxs("span",{className:`text-4xl font-black ${t.nivel_transparencia<=33?"text-red-400":t.nivel_transparencia<70?"text-amber-400":"text-emerald-400"}`,children:[t.nivel_transparencia,"%"]})]}),re.jsx("div",{className:"h-48 w-full",children:re.jsx(fse,{width:"100%",height:"100%",children:re.jsxs(fye,{children:[re.jsx(vq,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",stroke:"none",children:b.map((D,O)=>re.jsx(bT,{fill:T[O%T.length]},`cell-${O}`))}),re.jsx(ame,{content:D=>re.jsx(hye,{...D,lang:i})})]})})}),re.jsx("p",{className:"text-slate-400 text-sm mt-4 italic",children:a.transparencyDesc})]}),re.jsxs("div",{className:"flex-[1.5] bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl flex flex-col",children:[re.jsxs("div",{className:"flex justify-between items-start mb-4",children:[re.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[re.jsx(iY,{className:"text-blue-400"}),a.citizenSummary]}),re.jsx("div",{className:"flex gap-2",children:re.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg text-sm font-bold transition-all border border-slate-700 hover:border-blue-500/50",children:[re.jsx(CI,{size:14}),a.viewOfficial]})})]}),re.jsx("div",{className:"text-slate-200 leading-relaxed text-lg flex-1",children:t.resumen_ciudadano}),re.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[re.jsxs("span",{className:"bg-slate-800 px-3 py-1 rounded-full text-xs text-slate-400 font-mono",children:["ID: ",e]}),re.jsx("span",{className:"bg-emerald-950/40 text-emerald-400 px-3 py-1 rounded-full text-xs border border-emerald-900/50",children:"Gemini 3 Flash"}),t.comunidad_autonoma&&re.jsxs("span",{className:"bg-blue-950/40 text-blue-400 px-3 py-1 rounded-full text-xs border border-blue-900/50 flex items-center gap-1",children:[re.jsx(dz,{size:10}),t.comunidad_autonoma]}),t.tipologia&&re.jsxs("span",{className:"bg-purple-950/40 text-purple-400 px-3 py-1 rounded-full text-xs border border-purple-900/50 flex items-center gap-1",children:[re.jsx(zC,{size:10}),t.tipologia]}),(()=>{const D=t.nivel_transparencia;let O=a.transparencyAcceptable,F="bg-emerald-950/40 text-emerald-400 border-emerald-900/50";return D<=33?(O=a.transparencyVeryBad,F="bg-red-950/40 text-red-400 border-red-900/50"):D<70&&(O=a.transparencyBad,F="bg-amber-950/40 text-amber-400 border-amber-900/50"),re.jsx("span",{className:`${F} px-3 py-1 rounded-full text-xs border flex items-center gap-1`,children:O})})()]})]})]}),re.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[re.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[re.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-4 text-red-400",children:[re.jsx(TY,{}),a.redFlags]}),re.jsx("ul",{className:"space-y-3",children:t.banderas_rojas.map((D,O)=>re.jsxs("li",{className:"flex gap-3 items-start bg-red-950/20 border border-red-900/30 p-3 rounded-lg",children:[re.jsx("span",{className:"text-red-500 mt-1",children:""}),re.jsx("span",{className:"text-slate-300 text-sm",children:D})]},O))})]}),re.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[re.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 mb-6",children:[re.jsx(SY,{className:"text-purple-400"}),a.impactBalance]}),re.jsxs("div",{className:"space-y-6",children:[re.jsxs("div",{children:[re.jsxs("h4",{className:"text-emerald-400 font-semibold mb-2 flex items-center gap-2 text-sm",children:[re.jsx(b3,{size:14})," ",a.winners]}),re.jsx("div",{className:"flex flex-wrap gap-2",children:t.vencedores_vencidos.ganadores.map((D,O)=>re.jsx("span",{className:"bg-emerald-900/30 text-emerald-100 px-3 py-1 rounded-lg border border-emerald-800/50 text-xs",children:D},O))})]}),re.jsxs("div",{children:[re.jsxs("h4",{className:"text-red-400 font-semibold mb-2 flex items-center gap-2 text-sm",children:[re.jsx(WX,{size:14})," ",a.losers]}),re.jsx("div",{className:"flex flex-wrap gap-2",children:t.vencedores_vencidos.perdedores.map((D,O)=>re.jsx("span",{className:"bg-red-900/30 text-red-100 px-3 py-1 rounded-lg border border-red-800/50 text-xs",children:D},O))})]})]})]})]}),re.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[re.jsxs("div",{className:`${r?"lg:col-span-2":"lg:col-span-3"} bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl`,children:[re.jsxs("h3",{className:"text-2xl font-bold mb-6 border-b border-slate-800 pb-4 flex items-center gap-3",children:[re.jsx(bY,{className:"text-amber-400"}),a.criticalAnalysis]}),re.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap first-letter:text-5xl first-letter:font-bold first-letter:float-left first-letter:mr-3 first-letter:mt-1",children:t.analisis_critico})]}),r&&re.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl flex flex-col",children:[re.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-emerald-400",children:[re.jsx(cz,{size:20}),a.jsonExportTitle]}),re.jsx("div",{className:"bg-slate-950 rounded-xl border border-slate-800 p-4 font-mono text-[10px] overflow-auto max-h-[300px] custom-scrollbar text-emerald-500/80 mb-4 flex-1",children:re.jsx("pre",{children:JSON.stringify(t,null,2)})}),re.jsxs("div",{className:"flex gap-2",children:[re.jsxs("button",{onClick:I,className:"flex-1 flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-white py-3 rounded-xl font-bold text-xs transition-all",children:[u?re.jsx(QA,{size:14,className:"text-emerald-500"}):re.jsx(x3,{size:14}),a.copyJson]}),re.jsxs("button",{onClick:N,className:"flex-1 flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-xl font-bold text-xs transition-all",children:[re.jsx(uz,{size:14}),a.downloadJson]})]})]})]}),re.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-4 shadow-xl max-w-2xl",children:[re.jsxs("div",{className:"flex items-center justify-between mb-3",children:[re.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2 text-slate-300",children:[re.jsx(MY,{size:14,className:"text-blue-400"}),a.tweetSummaryTitle]}),re.jsx("button",{onClick:A,className:"text-slate-500 hover:text-white transition-colors",children:o?re.jsx(QA,{size:14,className:"text-emerald-500"}):re.jsx(x3,{size:14})})]}),re.jsxs("div",{className:"bg-slate-950 p-3 rounded-lg border border-slate-800 text-xs text-slate-400 leading-relaxed italic mb-3",children:['"',t.resumen_tweet,re.jsx("br",{}),re.jsx("br",{}),S,'"']}),re.jsxs("button",{onClick:R,disabled:v||d||!r,className:`w-full py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-2 transition-all ${v?"bg-emerald-900/30 text-emerald-400 cursor-not-allowed border border-emerald-900/50":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/20"}`,children:[d?re.jsx(fz,{size:14,className:"animate-spin"}):v?re.jsx(QA,{size:14}):re.jsx(gY,{size:14}),v?"Tweet Enviado":"Publicar Tweet"]})]})]})},TS=({title:t,description:e,keywords:n=[]})=>(G.useEffect(()=>{document.title=t;const i=(a,o)=>{let s=document.querySelector(`meta[name="${a}"]`);s||(s=document.createElement("meta"),s.setAttribute("name",a),document.head.appendChild(s)),s.setAttribute("content",o)};i("description",e),n.length>0&&i("keywords",n.join(", "));const r=(a,o)=>{let s=document.querySelector(`meta[property="${a}"]`);s||(s=document.createElement("meta"),s.setAttribute("property",a),document.head.appendChild(s)),s.setAttribute("content",o)};r("og:title",t),r("og:description",e)},[t,e,n]),null),mye=({performAudit:t,state:e,t:n,isLoggedIn:i,searchId:r,lang:a,resetState:o,history:s,isHistoryLoaded:u})=>{const{boeId:c}=Ij(),d=wg(),p=s.find(y=>y.boeId===(c||r)),v=(p==null?void 0:p.title)||c||"BOE Document";if(G.useEffect(()=>{c&&u&&t(c)},[c,i,u]),e.error)return re.jsxs("div",{className:"bg-red-950/20 border border-red-900/50 p-8 rounded-3xl flex flex-col items-center gap-4 text-red-200 mt-8",children:[re.jsx(VX,{className:"text-red-500",size:64}),re.jsx("h3",{className:"font-bold text-2xl",children:n.errorTitle}),re.jsx("p",{className:"text-slate-400",children:e.error}),re.jsx("button",{onClick:()=>c&&t(c),className:"bg-slate-800 hover:bg-slate-700 px-10 py-3 rounded-xl font-bold",children:n.retryBtn})]});if(e.loading||!u)return re.jsxs("div",{className:"flex flex-col items-center justify-center py-24 space-y-6",children:[re.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),re.jsxs("div",{className:"text-center space-y-2",children:[re.jsx("h2",{className:"text-2xl font-bold",children:u?n.decodingOpacity:"Cargando historial..."}),re.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:u?n.processingGemini:"Verificando auditoras previas"})]})]});if(e.result){const y=["BOE",r,"Auditora","Transparencia",...e.result.banderas_rojas||[],e.result.tipologia,e.result.comunidad_autonoma].filter(b=>!!b);return re.jsxs("div",{className:"space-y-6",children:[re.jsx(TS,{title:`Auditora ${r} - ${v}`,description:e.result.resumen_tweet||e.result.resumen_ciudadano.substring(0,160),keywords:y}),re.jsxs("button",{onClick:()=>d("/"),className:"flex items-center gap-2 bg-slate-900 border border-slate-800 px-6 py-3 rounded-xl text-slate-300 hover:bg-slate-800 transition-all",children:[re.jsx(lz,{size:18})," ",n.backToHome]}),re.jsx(pye,{data:e.result,boeId:r,title:v,lang:a,isLoggedIn:i})]})}return null};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const u_="182",Lh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Uh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Dq=0,KR=1,Oq=2,gye=3,Lq=0,og=1,j0=2,Vh=3,af=0,yo=1,Vl=2,Vu=0,$h=1,w1=2,JR=3,ZR=4,Uq=5,cd=100,Fq=101,kq=102,Bq=103,zq=104,Gq=200,Vq=201,Hq=202,qq=203,C1=204,R1=205,Wq=206,jq=207,Xq=208,Yq=209,$q=210,Kq=211,Jq=212,Zq=213,Qq=214,I1=0,P1=1,N1=2,ap=3,D1=4,O1=5,L1=6,U1=7,c_=0,e9=1,t9=2,al=0,EN=1,TN=2,AN=3,TT=4,MN=5,wN=6,CN=7,QR="attached",n9="detached",AT=300,qu=301,xd=302,Sy=303,Ey=304,Gg=306,Ty=1e3,Jo=1001,Ay=1002,br=1003,RN=1004,vye=1004,Qm=1005,yye=1005,mi=1006,X0=1007,_ye=1007,Bu=1008,bye=1008,po=1009,IN=1010,PN=1011,pg=1012,MT=1013,cl=1014,vo=1015,Wu=1016,wT=1017,CT=1018,mg=1020,NN=35902,DN=35899,ON=1021,LN=1022,ja=1023,ju=1026,hd=1027,RT=1028,f_=1029,op=1030,IT=1031,xye=1032,PT=1033,Y0=33776,$0=33777,K0=33778,J0=33779,F1=35840,k1=35841,B1=35842,z1=35843,G1=36196,V1=37492,H1=37496,q1=37488,W1=37489,j1=37490,X1=37491,Y1=37808,$1=37809,K1=37810,J1=37811,Z1=37812,Q1=37813,eE=37814,tE=37815,nE=37816,iE=37817,rE=37818,aE=37819,oE=37820,sE=37821,lE=36492,uE=36494,cE=36495,fE=36283,dE=36284,hE=36285,pE=36286,i9=2200,r9=2201,a9=2202,My=2300,mE=2301,AS=2302,Hh=2400,qh=2401,wy=2402,NT=2500,UN=2501,Sye=0,Eye=1,Tye=2,o9=3200,s9=3201,Aye=3202,Mye=3203,Nd=0,l9=1,zc="",qa="srgb",Sd="srgb-linear",Cy="linear",ni="srgb",wye="",Cye="rg",Rye="ga",Iye=0,Fh=7680,Pye=7681,Nye=7682,Dye=7683,Oye=34055,Lye=34056,Uye=5386,Fye=512,kye=513,Bye=514,zye=515,Gye=516,Vye=517,Hye=518,eI=519,u9=512,c9=513,f9=514,DT=515,d9=516,h9=517,OT=518,p9=519,Ry=35044,qye=35048,Wye=35040,jye=35045,Xye=35049,Yye=35041,$ye=35046,Kye=35050,Jye=35042,Zye="100",tI="300 es",ms=2e3,gg=2001,Qye={COMPUTE:"compute",RENDER:"render"},e_e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},t_e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function m9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const n_e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function eg(t,e){return new n_e[t](e)}function g9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Iy(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function v9(){const t=Iy("canvas");return t.style.display="block",t}const Lk={};let Ed=null;function i_e(t){Ed=t}function r_e(){return Ed}function Py(...t){const e="THREE."+t.shift();Ed?Ed("log",e,...t):console.log(e,...t)}function Mt(...t){const e="THREE."+t.shift();Ed?Ed("warn",e,...t):console.warn(e,...t)}function Ht(...t){const e="THREE."+t.shift();Ed?Ed("error",e,...t):console.error(e,...t)}function vg(...t){const e=t.join(" ");e in Lk||(Lk[e]=!0,Mt(...t))}function a_e(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}let $u=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const Ga=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Uk=1234567;const Kh=Math.PI/180,yg=180/Math.PI;function ys(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ga[t&255]+Ga[t>>8&255]+Ga[t>>16&255]+Ga[t>>24&255]+"-"+Ga[e&255]+Ga[e>>8&255]+"-"+Ga[e>>16&15|64]+Ga[e>>24&255]+"-"+Ga[n&63|128]+Ga[n>>8&255]+"-"+Ga[n>>16&255]+Ga[n>>24&255]+Ga[i&255]+Ga[i>>8&255]+Ga[i>>16&255]+Ga[i>>24&255]).toLowerCase()}function Qt(t,e,n){return Math.max(e,Math.min(n,t))}function FN(t,e){return(t%e+e)%e}function o_e(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function s_e(t,e,n){return t!==e?(n-t)/(e-t):0}function Z0(t,e,n){return(1-n)*t+n*e}function l_e(t,e,n,i){return Z0(t,e,1-Math.exp(-n*i))}function u_e(t,e=1){return e-Math.abs(FN(t,e*2)-e)}function c_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function f_e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function d_e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function h_e(t,e){return t+Math.random()*(e-t)}function p_e(t){return t*(.5-Math.random())}function m_e(t){t!==void 0&&(Uk=t);let e=Uk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function g_e(t){return t*Kh}function v_e(t){return t*yg}function y_e(t){return(t&t-1)===0&&t!==0}function __e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function b_e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function x_e(t,e,n,i,r){const a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),c=a((e+i)/2),d=o((e+i)/2),p=a((e-i)/2),v=o((e-i)/2),y=a((i-e)/2),b=o((i-e)/2);switch(r){case"XYX":t.set(s*d,u*p,u*v,s*c);break;case"YZY":t.set(u*v,s*d,u*p,s*c);break;case"ZXZ":t.set(u*p,u*v,s*d,s*c);break;case"XZX":t.set(s*d,u*b,u*y,s*c);break;case"YXY":t.set(u*y,s*d,u*b,s*c);break;case"ZYZ":t.set(u*b,u*y,s*d,s*c);break;default:Mt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function mo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function gn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const y9={DEG2RAD:Kh,RAD2DEG:yg,generateUUID:ys,clamp:Qt,euclideanModulo:FN,mapLinear:o_e,inverseLerp:s_e,lerp:Z0,damp:l_e,pingpong:u_e,smoothstep:c_e,smootherstep:f_e,randInt:d_e,randFloat:h_e,randFloatSpread:p_e,seededRandom:m_e,degToRad:g_e,radToDeg:v_e,isPowerOfTwo:y_e,ceilPowerOfTwo:__e,floorPowerOfTwo:b_e,setQuaternionFromProperEuler:x_e,normalize:gn,denormalize:mo};class st{constructor(e=0,n=0){st.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xa{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,o,s){let u=i[r+0],c=i[r+1],d=i[r+2],p=i[r+3],v=a[o+0],y=a[o+1],b=a[o+2],T=a[o+3];if(s<=0){e[n+0]=u,e[n+1]=c,e[n+2]=d,e[n+3]=p;return}if(s>=1){e[n+0]=v,e[n+1]=y,e[n+2]=b,e[n+3]=T;return}if(p!==T||u!==v||c!==y||d!==b){let S=u*v+c*y+d*b+p*T;S<0&&(v=-v,y=-y,b=-b,T=-T,S=-S);let A=1-s;if(S<.9995){const R=Math.acos(S),I=Math.sin(R);A=Math.sin(A*R)/I,s=Math.sin(s*R)/I,u=u*A+v*s,c=c*A+y*s,d=d*A+b*s,p=p*A+T*s}else{u=u*A+v*s,c=c*A+y*s,d=d*A+b*s,p=p*A+T*s;const R=1/Math.sqrt(u*u+c*c+d*d+p*p);u*=R,c*=R,d*=R,p*=R}}e[n]=u,e[n+1]=c,e[n+2]=d,e[n+3]=p}static multiplyQuaternionsFlat(e,n,i,r,a,o){const s=i[r],u=i[r+1],c=i[r+2],d=i[r+3],p=a[o],v=a[o+1],y=a[o+2],b=a[o+3];return e[n]=s*b+d*p+u*y-c*v,e[n+1]=u*b+d*v+c*p-s*y,e[n+2]=c*b+d*y+s*v-u*p,e[n+3]=d*b-s*p-u*v-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,o=e._order,s=Math.cos,u=Math.sin,c=s(i/2),d=s(r/2),p=s(a/2),v=u(i/2),y=u(r/2),b=u(a/2);switch(o){case"XYZ":this._x=v*d*p+c*y*b,this._y=c*y*p-v*d*b,this._z=c*d*b+v*y*p,this._w=c*d*p-v*y*b;break;case"YXZ":this._x=v*d*p+c*y*b,this._y=c*y*p-v*d*b,this._z=c*d*b-v*y*p,this._w=c*d*p+v*y*b;break;case"ZXY":this._x=v*d*p-c*y*b,this._y=c*y*p+v*d*b,this._z=c*d*b+v*y*p,this._w=c*d*p-v*y*b;break;case"ZYX":this._x=v*d*p-c*y*b,this._y=c*y*p+v*d*b,this._z=c*d*b-v*y*p,this._w=c*d*p+v*y*b;break;case"YZX":this._x=v*d*p+c*y*b,this._y=c*y*p+v*d*b,this._z=c*d*b-v*y*p,this._w=c*d*p-v*y*b;break;case"XZY":this._x=v*d*p-c*y*b,this._y=c*y*p-v*d*b,this._z=c*d*b+v*y*p,this._w=c*d*p+v*y*b;break;default:Mt("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],u=n[9],c=n[2],d=n[6],p=n[10],v=i+s+p;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(d-u)*y,this._y=(a-c)*y,this._z=(o-r)*y}else if(i>s&&i>p){const y=2*Math.sqrt(1+i-s-p);this._w=(d-u)/y,this._x=.25*y,this._y=(r+o)/y,this._z=(a+c)/y}else if(s>p){const y=2*Math.sqrt(1+s-i-p);this._w=(a-c)/y,this._x=(r+o)/y,this._y=.25*y,this._z=(u+d)/y}else{const y=2*Math.sqrt(1+p-i-s);this._w=(o-r)/y,this._x=(a+c)/y,this._y=(u+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,o=e._w,s=n._x,u=n._y,c=n._z,d=n._w;return this._x=i*d+o*s+r*c-a*u,this._y=r*d+o*u+a*s-i*c,this._z=a*d+o*c+i*u-r*s,this._w=o*d-i*s-r*u-a*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let i=e._x,r=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(i=-i,r=-r,a=-a,o=-o,s=-s);let u=1-n;if(s<.9995){const c=Math.acos(s),d=Math.sin(c);u=Math.sin(u*c)/d,n=Math.sin(n*c)/d,this._x=this._x*u+i*n,this._y=this._y*u+r*n,this._z=this._z*u+a*n,this._w=this._w*u+o*n,this._onChangeCallback()}else this._x=this._x*u+i*n,this._y=this._y*u+r*n,this._z=this._z*u+a*n,this._w=this._w*u+o*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,n=0,i=0){se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Fk.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Fk.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,o=e.y,s=e.z,u=e.w,c=2*(o*r-s*i),d=2*(s*n-a*r),p=2*(a*i-o*n);return this.x=n+u*c+o*p-s*d,this.y=i+u*d+s*c-a*p,this.z=r+u*p+a*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this.z=Qt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this.z=Qt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,o=n.x,s=n.y,u=n.z;return this.x=r*u-a*s,this.y=a*o-i*u,this.z=i*s-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Fw.copy(this).projectOnVector(e),this.sub(Fw)}reflect(e){return this.sub(Fw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Qt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fw=new se,Fk=new Xa;class un{constructor(e,n,i,r,a,o,s,u,c){un.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,o,s,u,c)}set(e,n,i,r,a,o,s,u,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=s,d[3]=n,d[4]=a,d[5]=u,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,o=i[0],s=i[3],u=i[6],c=i[1],d=i[4],p=i[7],v=i[2],y=i[5],b=i[8],T=r[0],S=r[3],A=r[6],R=r[1],I=r[4],N=r[7],D=r[2],O=r[5],F=r[8];return a[0]=o*T+s*R+u*D,a[3]=o*S+s*I+u*O,a[6]=o*A+s*N+u*F,a[1]=c*T+d*R+p*D,a[4]=c*S+d*I+p*O,a[7]=c*A+d*N+p*F,a[2]=v*T+y*R+b*D,a[5]=v*S+y*I+b*O,a[8]=v*A+y*N+b*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],d=e[8];return n*o*d-n*s*c-i*a*d+i*s*u+r*a*c-r*o*u}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],d=e[8],p=d*o-s*c,v=s*u-d*a,y=c*a-o*u,b=n*p+i*v+r*y;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/b;return e[0]=p*T,e[1]=(r*c-d*i)*T,e[2]=(s*i-r*o)*T,e[3]=v*T,e[4]=(d*n-r*u)*T,e[5]=(r*a-s*n)*T,e[6]=y*T,e[7]=(i*u-c*n)*T,e[8]=(o*n-i*a)*T,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,o,s){const u=Math.cos(a),c=Math.sin(a);return this.set(i*u,i*c,-i*(u*o+c*s)+o+e,-r*c,r*u,-r*(-c*o+u*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(kw.makeScale(e,n)),this}rotate(e){return this.premultiply(kw.makeRotation(-e)),this}translate(e,n){return this.premultiply(kw.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const kw=new un,kk=new un().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Bk=new un().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function S_e(){const t={enabled:!0,workingColorSpace:Sd,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===ni&&(r.r=jc(r.r),r.g=jc(r.g),r.b=jc(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===ni&&(r.r=sg(r.r),r.g=sg(r.g),r.b=sg(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===zc?Cy:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return vg("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return vg("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Sd]:{primaries:e,whitePoint:i,transfer:Cy,toXYZ:kk,fromXYZ:Bk,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:qa},outputColorSpaceConfig:{drawingBufferColorSpace:qa}},[qa]:{primaries:e,whitePoint:i,transfer:ni,toXYZ:kk,fromXYZ:Bk,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:qa}}}),t}const Fn=S_e();function jc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function sg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Sm;class _9{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Sm===void 0&&(Sm=Iy("canvas")),Sm.width=e.width,Sm.height=e.height;const r=Sm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Sm}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Iy("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=jc(a[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(jc(n[i]/255)*255):n[i]=jc(n[i]);return{data:n,width:e.width,height:e.height}}else return Mt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let E_e=0;class pd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:E_e++}),this.uuid=ys(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,s=r.length;o<s;o++)r[o].isDataTexture?a.push(Bw(r[o].image)):a.push(Bw(r[o]))}else a=Bw(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function Bw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_9.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Mt("Texture: Unable to serialize Texture."),{})}let T_e=0;const zw=new se;class Qi extends $u{constructor(e=Qi.DEFAULT_IMAGE,n=Qi.DEFAULT_MAPPING,i=Jo,r=Jo,a=mi,o=Bu,s=ja,u=po,c=Qi.DEFAULT_ANISOTROPY,d=zc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:T_e++}),this.uuid=ys(),this.name="",this.source=new pd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=u,this.offset=new st(0,0),this.repeat=new st(1,1),this.center=new st(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new un,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(zw).x}get height(){return this.source.getSize(zw).y}get depth(){return this.source.getSize(zw).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){Mt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Mt(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==AT)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ty:e.x=e.x-Math.floor(e.x);break;case Jo:e.x=e.x<0?0:1;break;case Ay:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ty:e.y=e.y-Math.floor(e.y);break;case Jo:e.y=e.y<0?0:1;break;case Ay:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Qi.DEFAULT_IMAGE=null;Qi.DEFAULT_MAPPING=AT;Qi.DEFAULT_ANISOTROPY=1;class ri{constructor(e=0,n=0,i=0,r=1){ri.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const u=e.elements,c=u[0],d=u[4],p=u[8],v=u[1],y=u[5],b=u[9],T=u[2],S=u[6],A=u[10];if(Math.abs(d-v)<.01&&Math.abs(p-T)<.01&&Math.abs(b-S)<.01){if(Math.abs(d+v)<.1&&Math.abs(p+T)<.1&&Math.abs(b+S)<.1&&Math.abs(c+y+A-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const I=(c+1)/2,N=(y+1)/2,D=(A+1)/2,O=(d+v)/4,F=(p+T)/4,z=(b+S)/4;return I>N&&I>D?I<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(I),r=O/i,a=F/i):N>D?N<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),i=O/r,a=z/r):D<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(D),i=F/a,r=z/a),this.set(i,r,a,n),this}let R=Math.sqrt((S-b)*(S-b)+(p-T)*(p-T)+(v-d)*(v-d));return Math.abs(R)<.001&&(R=1),this.x=(S-b)/R,this.y=(p-T)/R,this.z=(v-d)/R,this.w=Math.acos((c+y+A-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Qt(this.x,e.x,n.x),this.y=Qt(this.y,e.y,n.y),this.z=Qt(this.z,e.z,n.z),this.w=Qt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Qt(this.x,e,n),this.y=Qt(this.y,e,n),this.z=Qt(this.z,e,n),this.w=Qt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Qt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class kN extends $u{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:mi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new ri(0,0,e,n),this.scissorTest=!1,this.viewport=new ri(0,0,e,n);const r={width:e,height:n,depth:i.depth},a=new Qi(r);this.textures=[];const o=i.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:mi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new pd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _s extends kN{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class LT extends Qi{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Jo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class A_e extends _s{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new LT(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class UT extends Qi{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Jo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class M_e extends _s{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new UT(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class ua{constructor(e=new se(1/0,1/0,1/0),n=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Dl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Dl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Dl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Dl):Dl.fromBufferAttribute(a,o),Dl.applyMatrix4(e.matrixWorld),this.expandByPoint(Dl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),yx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),yx.copy(i.boundingBox)),yx.applyMatrix4(e.matrixWorld),this.union(yx)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Dl),Dl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(E0),_x.subVectors(this.max,E0),Em.subVectors(e.a,E0),Tm.subVectors(e.b,E0),Am.subVectors(e.c,E0),td.subVectors(Tm,Em),nd.subVectors(Am,Tm),gh.subVectors(Em,Am);let n=[0,-td.z,td.y,0,-nd.z,nd.y,0,-gh.z,gh.y,td.z,0,-td.x,nd.z,0,-nd.x,gh.z,0,-gh.x,-td.y,td.x,0,-nd.y,nd.x,0,-gh.y,gh.x,0];return!Gw(n,Em,Tm,Am,_x)||(n=[1,0,0,0,1,0,0,0,1],!Gw(n,Em,Tm,Am,_x))?!1:(bx.crossVectors(td,nd),n=[bx.x,bx.y,bx.z],Gw(n,Em,Tm,Am,_x))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Dl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Dl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ic[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ic[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ic[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ic[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ic[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ic[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ic[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ic[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ic),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ic=[new se,new se,new se,new se,new se,new se,new se,new se],Dl=new se,yx=new ua,Em=new se,Tm=new se,Am=new se,td=new se,nd=new se,gh=new se,E0=new se,_x=new se,bx=new se,vh=new se;function Gw(t,e,n,i,r){for(let a=0,o=t.length-3;a<=o;a+=3){vh.fromArray(t,a);const s=r.x*Math.abs(vh.x)+r.y*Math.abs(vh.y)+r.z*Math.abs(vh.z),u=e.dot(vh),c=n.dot(vh),d=i.dot(vh);if(Math.max(-Math.max(u,c,d),Math.min(u,c,d))>s)return!1}return!0}const w_e=new ua,T0=new se,Vw=new se;class ca{constructor(e=new se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):w_e.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;T0.subVectors(e,this.center);const n=T0.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(T0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Vw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(T0.copy(e.center).add(Vw)),this.expandByPoint(T0.copy(e.center).sub(Vw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Pc=new se,Hw=new se,xx=new se,id=new se,qw=new se,Sx=new se,Ww=new se;class mp{constructor(e=new se,n=new se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Pc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Pc.copy(this.origin).addScaledVector(this.direction,n),Pc.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){Hw.copy(e).add(n).multiplyScalar(.5),xx.copy(n).sub(e).normalize(),id.copy(this.origin).sub(Hw);const a=e.distanceTo(n)*.5,o=-this.direction.dot(xx),s=id.dot(this.direction),u=-id.dot(xx),c=id.lengthSq(),d=Math.abs(1-o*o);let p,v,y,b;if(d>0)if(p=o*u-s,v=o*s-u,b=a*d,p>=0)if(v>=-b)if(v<=b){const T=1/d;p*=T,v*=T,y=p*(p+o*v+2*s)+v*(o*p+v+2*u)+c}else v=a,p=Math.max(0,-(o*v+s)),y=-p*p+v*(v+2*u)+c;else v=-a,p=Math.max(0,-(o*v+s)),y=-p*p+v*(v+2*u)+c;else v<=-b?(p=Math.max(0,-(-o*a+s)),v=p>0?-a:Math.min(Math.max(-a,-u),a),y=-p*p+v*(v+2*u)+c):v<=b?(p=0,v=Math.min(Math.max(-a,-u),a),y=v*(v+2*u)+c):(p=Math.max(0,-(o*a+s)),v=p>0?a:Math.min(Math.max(-a,-u),a),y=-p*p+v*(v+2*u)+c);else v=o>0?-a:a,p=Math.max(0,-(o*v+s)),y=-p*p+v*(v+2*u)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(Hw).addScaledVector(xx,v),y}intersectSphere(e,n){Pc.subVectors(e.center,this.origin);const i=Pc.dot(this.direction),r=Pc.dot(Pc)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),s=i-o,u=i+o;return u<0?null:s<0?this.at(u,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,o,s,u;const c=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,v=this.origin;return c>=0?(i=(e.min.x-v.x)*c,r=(e.max.x-v.x)*c):(i=(e.max.x-v.x)*c,r=(e.min.x-v.x)*c),d>=0?(a=(e.min.y-v.y)*d,o=(e.max.y-v.y)*d):(a=(e.max.y-v.y)*d,o=(e.min.y-v.y)*d),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),p>=0?(s=(e.min.z-v.z)*p,u=(e.max.z-v.z)*p):(s=(e.max.z-v.z)*p,u=(e.min.z-v.z)*p),i>u||s>r)||((s>i||i!==i)&&(i=s),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Pc)!==null}intersectTriangle(e,n,i,r,a){qw.subVectors(n,e),Sx.subVectors(i,e),Ww.crossVectors(qw,Sx);let o=this.direction.dot(Ww),s;if(o>0){if(r)return null;s=1}else if(o<0)s=-1,o=-o;else return null;id.subVectors(this.origin,e);const u=s*this.direction.dot(Sx.crossVectors(id,Sx));if(u<0)return null;const c=s*this.direction.dot(qw.cross(id));if(c<0||u+c>o)return null;const d=-s*id.dot(Ww);return d<0?null:this.at(d/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class en{constructor(e,n,i,r,a,o,s,u,c,d,p,v,y,b,T,S){en.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,o,s,u,c,d,p,v,y,b,T,S)}set(e,n,i,r,a,o,s,u,c,d,p,v,y,b,T,S){const A=this.elements;return A[0]=e,A[4]=n,A[8]=i,A[12]=r,A[1]=a,A[5]=o,A[9]=s,A[13]=u,A[2]=c,A[6]=d,A[10]=p,A[14]=v,A[3]=y,A[7]=b,A[11]=T,A[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new en().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,i=e.elements,r=1/Mm.setFromMatrixColumn(e,0).length(),a=1/Mm.setFromMatrixColumn(e,1).length(),o=1/Mm.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),s=Math.sin(i),u=Math.cos(r),c=Math.sin(r),d=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const v=o*d,y=o*p,b=s*d,T=s*p;n[0]=u*d,n[4]=-u*p,n[8]=c,n[1]=y+b*c,n[5]=v-T*c,n[9]=-s*u,n[2]=T-v*c,n[6]=b+y*c,n[10]=o*u}else if(e.order==="YXZ"){const v=u*d,y=u*p,b=c*d,T=c*p;n[0]=v+T*s,n[4]=b*s-y,n[8]=o*c,n[1]=o*p,n[5]=o*d,n[9]=-s,n[2]=y*s-b,n[6]=T+v*s,n[10]=o*u}else if(e.order==="ZXY"){const v=u*d,y=u*p,b=c*d,T=c*p;n[0]=v-T*s,n[4]=-o*p,n[8]=b+y*s,n[1]=y+b*s,n[5]=o*d,n[9]=T-v*s,n[2]=-o*c,n[6]=s,n[10]=o*u}else if(e.order==="ZYX"){const v=o*d,y=o*p,b=s*d,T=s*p;n[0]=u*d,n[4]=b*c-y,n[8]=v*c+T,n[1]=u*p,n[5]=T*c+v,n[9]=y*c-b,n[2]=-c,n[6]=s*u,n[10]=o*u}else if(e.order==="YZX"){const v=o*u,y=o*c,b=s*u,T=s*c;n[0]=u*d,n[4]=T-v*p,n[8]=b*p+y,n[1]=p,n[5]=o*d,n[9]=-s*d,n[2]=-c*d,n[6]=y*p+b,n[10]=v-T*p}else if(e.order==="XZY"){const v=o*u,y=o*c,b=s*u,T=s*c;n[0]=u*d,n[4]=-p,n[8]=c*d,n[1]=v*p+T,n[5]=o*d,n[9]=y*p-b,n[2]=b*p-y,n[6]=s*d,n[10]=T*p+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(C_e,e,R_e)}lookAt(e,n,i){const r=this.elements;return cs.subVectors(e,n),cs.lengthSq()===0&&(cs.z=1),cs.normalize(),rd.crossVectors(i,cs),rd.lengthSq()===0&&(Math.abs(i.z)===1?cs.x+=1e-4:cs.z+=1e-4,cs.normalize(),rd.crossVectors(i,cs)),rd.normalize(),Ex.crossVectors(cs,rd),r[0]=rd.x,r[4]=Ex.x,r[8]=cs.x,r[1]=rd.y,r[5]=Ex.y,r[9]=cs.y,r[2]=rd.z,r[6]=Ex.z,r[10]=cs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,o=i[0],s=i[4],u=i[8],c=i[12],d=i[1],p=i[5],v=i[9],y=i[13],b=i[2],T=i[6],S=i[10],A=i[14],R=i[3],I=i[7],N=i[11],D=i[15],O=r[0],F=r[4],z=r[8],U=r[12],B=r[1],j=r[5],W=r[9],Y=r[13],Q=r[2],ae=r[6],X=r[10],ne=r[14],ge=r[3],pe=r[7],de=r[11],H=r[15];return a[0]=o*O+s*B+u*Q+c*ge,a[4]=o*F+s*j+u*ae+c*pe,a[8]=o*z+s*W+u*X+c*de,a[12]=o*U+s*Y+u*ne+c*H,a[1]=d*O+p*B+v*Q+y*ge,a[5]=d*F+p*j+v*ae+y*pe,a[9]=d*z+p*W+v*X+y*de,a[13]=d*U+p*Y+v*ne+y*H,a[2]=b*O+T*B+S*Q+A*ge,a[6]=b*F+T*j+S*ae+A*pe,a[10]=b*z+T*W+S*X+A*de,a[14]=b*U+T*Y+S*ne+A*H,a[3]=R*O+I*B+N*Q+D*ge,a[7]=R*F+I*j+N*ae+D*pe,a[11]=R*z+I*W+N*X+D*de,a[15]=R*U+I*Y+N*ne+D*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],o=e[1],s=e[5],u=e[9],c=e[13],d=e[2],p=e[6],v=e[10],y=e[14],b=e[3],T=e[7],S=e[11],A=e[15],R=u*y-c*v,I=s*y-c*p,N=s*v-u*p,D=o*y-c*d,O=o*v-u*d,F=o*p-s*d;return n*(T*R-S*I+A*N)-i*(b*R-S*D+A*O)+r*(b*I-T*D+A*F)-a*(b*N-T*O+S*F)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],d=e[8],p=e[9],v=e[10],y=e[11],b=e[12],T=e[13],S=e[14],A=e[15],R=p*S*c-T*v*c+T*u*y-s*S*y-p*u*A+s*v*A,I=b*v*c-d*S*c-b*u*y+o*S*y+d*u*A-o*v*A,N=d*T*c-b*p*c+b*s*y-o*T*y-d*s*A+o*p*A,D=b*p*u-d*T*u-b*s*v+o*T*v+d*s*S-o*p*S,O=n*R+i*I+r*N+a*D;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/O;return e[0]=R*F,e[1]=(T*v*a-p*S*a-T*r*y+i*S*y+p*r*A-i*v*A)*F,e[2]=(s*S*a-T*u*a+T*r*c-i*S*c-s*r*A+i*u*A)*F,e[3]=(p*u*a-s*v*a-p*r*c+i*v*c+s*r*y-i*u*y)*F,e[4]=I*F,e[5]=(d*S*a-b*v*a+b*r*y-n*S*y-d*r*A+n*v*A)*F,e[6]=(b*u*a-o*S*a-b*r*c+n*S*c+o*r*A-n*u*A)*F,e[7]=(o*v*a-d*u*a+d*r*c-n*v*c-o*r*y+n*u*y)*F,e[8]=N*F,e[9]=(b*p*a-d*T*a-b*i*y+n*T*y+d*i*A-n*p*A)*F,e[10]=(o*T*a-b*s*a+b*i*c-n*T*c-o*i*A+n*s*A)*F,e[11]=(d*s*a-o*p*a-d*i*c+n*p*c+o*i*y-n*s*y)*F,e[12]=D*F,e[13]=(d*T*r-b*p*r+b*i*v-n*T*v-d*i*S+n*p*S)*F,e[14]=(b*s*r-o*T*r-b*i*u+n*T*u+o*i*S-n*s*S)*F,e[15]=(o*p*r-d*s*r+d*i*u-n*p*u-o*i*v+n*s*v)*F,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,o=e.x,s=e.y,u=e.z,c=a*o,d=a*s;return this.set(c*o+i,c*s-r*u,c*u+r*s,0,c*s+r*u,d*s+i,d*u-r*o,0,c*u-r*s,d*u+r*o,a*u*u+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,o=n._y,s=n._z,u=n._w,c=a+a,d=o+o,p=s+s,v=a*c,y=a*d,b=a*p,T=o*d,S=o*p,A=s*p,R=u*c,I=u*d,N=u*p,D=i.x,O=i.y,F=i.z;return r[0]=(1-(T+A))*D,r[1]=(y+N)*D,r[2]=(b-I)*D,r[3]=0,r[4]=(y-N)*O,r[5]=(1-(v+A))*O,r[6]=(S+R)*O,r[7]=0,r[8]=(b+I)*F,r[9]=(S-R)*F,r[10]=(1-(v+T))*F,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return i.set(1,1,1),n.identity(),this;let a=Mm.set(r[0],r[1],r[2]).length();const o=Mm.set(r[4],r[5],r[6]).length(),s=Mm.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),Ol.copy(this);const c=1/a,d=1/o,p=1/s;return Ol.elements[0]*=c,Ol.elements[1]*=c,Ol.elements[2]*=c,Ol.elements[4]*=d,Ol.elements[5]*=d,Ol.elements[6]*=d,Ol.elements[8]*=p,Ol.elements[9]*=p,Ol.elements[10]*=p,n.setFromRotationMatrix(Ol),i.x=a,i.y=o,i.z=s,this}makePerspective(e,n,i,r,a,o,s=ms,u=!1){const c=this.elements,d=2*a/(n-e),p=2*a/(i-r),v=(n+e)/(n-e),y=(i+r)/(i-r);let b,T;if(u)b=a/(o-a),T=o*a/(o-a);else if(s===ms)b=-(o+a)/(o-a),T=-2*o*a/(o-a);else if(s===gg)b=-o/(o-a),T=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=d,c[4]=0,c[8]=v,c[12]=0,c[1]=0,c[5]=p,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=b,c[14]=T,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,i,r,a,o,s=ms,u=!1){const c=this.elements,d=2/(n-e),p=2/(i-r),v=-(n+e)/(n-e),y=-(i+r)/(i-r);let b,T;if(u)b=1/(o-a),T=o/(o-a);else if(s===ms)b=-2/(o-a),T=-(o+a)/(o-a);else if(s===gg)b=-1/(o-a),T=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=d,c[4]=0,c[8]=0,c[12]=v,c[1]=0,c[5]=p,c[9]=0,c[13]=y,c[2]=0,c[6]=0,c[10]=b,c[14]=T,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Mm=new se,Ol=new en,C_e=new se(0,0,0),R_e=new se(1,1,1),rd=new se,Ex=new se,cs=new se,zk=new en,Gk=new Xa;class Ss{constructor(e=0,n=0,i=0,r=Ss.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],s=r[8],u=r[1],c=r[5],d=r[9],p=r[2],v=r[6],y=r[10];switch(n){case"XYZ":this._y=Math.asin(Qt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(v,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,y),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(Qt(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-p,y),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Qt(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(s,y));break;case"XZY":this._z=Math.asin(-Qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-d,y),this._y=0);break;default:Mt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return zk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zk,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Gk.setFromEuler(this),this.setFromQuaternion(Gk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ss.DEFAULT_ORDER="XYZ";class _g{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let I_e=0;const Vk=new se,wm=new Xa,Nc=new en,Tx=new se,A0=new se,P_e=new se,N_e=new Xa,Hk=new se(1,0,0),qk=new se(0,1,0),Wk=new se(0,0,1),jk={type:"added"},D_e={type:"removed"},Cm={type:"childadded",child:null},jw={type:"childremoved",child:null};class Hn extends $u{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:I_e++}),this.uuid=ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hn.DEFAULT_UP.clone();const e=new se,n=new Ss,i=new Xa,r=new se(1,1,1);function a(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new en},normalMatrix:{value:new un}}),this.matrix=new en,this.matrixWorld=new en,this.matrixAutoUpdate=Hn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _g,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return wm.setFromAxisAngle(e,n),this.quaternion.multiply(wm),this}rotateOnWorldAxis(e,n){return wm.setFromAxisAngle(e,n),this.quaternion.premultiply(wm),this}rotateX(e){return this.rotateOnAxis(Hk,e)}rotateY(e){return this.rotateOnAxis(qk,e)}rotateZ(e){return this.rotateOnAxis(Wk,e)}translateOnAxis(e,n){return Vk.copy(e).applyQuaternion(this.quaternion),this.position.add(Vk.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Hk,e)}translateY(e){return this.translateOnAxis(qk,e)}translateZ(e){return this.translateOnAxis(Wk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nc.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Tx.copy(e):Tx.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),A0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nc.lookAt(A0,Tx,this.up):Nc.lookAt(Tx,A0,this.up),this.quaternion.setFromRotationMatrix(Nc),r&&(Nc.extractRotation(r.matrixWorld),wm.setFromRotationMatrix(Nc),this.quaternion.premultiply(wm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Ht("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(jk),Cm.child=e,this.dispatchEvent(Cm),Cm.child=null):Ht("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(D_e),jw.child=e,this.dispatchEvent(jw),jw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(jk),Cm.child=e,this.dispatchEvent(Cm),Cm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A0,e,P_e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(A0,N_e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(s=>({...s})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let c=0,d=u.length;c<d;c++){const p=u[c];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,c=this.material.length;u<c;u++)s.push(a(e.materials,this.material[u]));r.material=s}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];r.animations.push(a(e.animations,u))}}if(n){const s=o(e.geometries),u=o(e.materials),c=o(e.textures),d=o(e.images),p=o(e.shapes),v=o(e.skeletons),y=o(e.animations),b=o(e.nodes);s.length>0&&(i.geometries=s),u.length>0&&(i.materials=u),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),p.length>0&&(i.shapes=p),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),b.length>0&&(i.nodes=b)}return i.object=r,i;function o(s){const u=[];for(const c in s){const d=s[c];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Hn.DEFAULT_UP=new se(0,1,0);Hn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Hn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ll=new se,Dc=new se,Xw=new se,Oc=new se,Rm=new se,Im=new se,Xk=new se,Yw=new se,$w=new se,Kw=new se,Jw=new ri,Zw=new ri,Qw=new ri;class Yo{constructor(e=new se,n=new se,i=new se){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ll.subVectors(e,n),r.cross(Ll);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Ll.subVectors(r,n),Dc.subVectors(i,n),Xw.subVectors(e,n);const o=Ll.dot(Ll),s=Ll.dot(Dc),u=Ll.dot(Xw),c=Dc.dot(Dc),d=Dc.dot(Xw),p=o*c-s*s;if(p===0)return a.set(0,0,0),null;const v=1/p,y=(c*u-s*d)*v,b=(o*d-s*u)*v;return a.set(1-y-b,b,y)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Oc)===null?!1:Oc.x>=0&&Oc.y>=0&&Oc.x+Oc.y<=1}static getInterpolation(e,n,i,r,a,o,s,u){return this.getBarycoord(e,n,i,r,Oc)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Oc.x),u.addScaledVector(o,Oc.y),u.addScaledVector(s,Oc.z),u)}static getInterpolatedAttribute(e,n,i,r,a,o){return Jw.setScalar(0),Zw.setScalar(0),Qw.setScalar(0),Jw.fromBufferAttribute(e,n),Zw.fromBufferAttribute(e,i),Qw.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(Jw,a.x),o.addScaledVector(Zw,a.y),o.addScaledVector(Qw,a.z),o}static isFrontFacing(e,n,i,r){return Ll.subVectors(i,n),Dc.subVectors(e,n),Ll.cross(Dc).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ll.subVectors(this.c,this.b),Dc.subVectors(this.a,this.b),Ll.cross(Dc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Yo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Yo.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Yo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let o,s;Rm.subVectors(r,i),Im.subVectors(a,i),Yw.subVectors(e,i);const u=Rm.dot(Yw),c=Im.dot(Yw);if(u<=0&&c<=0)return n.copy(i);$w.subVectors(e,r);const d=Rm.dot($w),p=Im.dot($w);if(d>=0&&p<=d)return n.copy(r);const v=u*p-d*c;if(v<=0&&u>=0&&d<=0)return o=u/(u-d),n.copy(i).addScaledVector(Rm,o);Kw.subVectors(e,a);const y=Rm.dot(Kw),b=Im.dot(Kw);if(b>=0&&y<=b)return n.copy(a);const T=y*c-u*b;if(T<=0&&c>=0&&b<=0)return s=c/(c-b),n.copy(i).addScaledVector(Im,s);const S=d*b-y*p;if(S<=0&&p-d>=0&&y-b>=0)return Xk.subVectors(a,r),s=(p-d)/(p-d+(y-b)),n.copy(r).addScaledVector(Xk,s);const A=1/(S+T+v);return o=T*A,s=v*A,n.copy(i).addScaledVector(Rm,o).addScaledVector(Im,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const b9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ad={h:0,s:0,l:0},Ax={h:0,s:0,l:0};function eC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ct{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=qa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=Fn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Fn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=Fn.workingColorSpace){if(e=FN(e,1),n=Qt(n,0,1),i=Qt(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;this.r=eC(o,a,e+1/3),this.g=eC(o,a,e),this.b=eC(o,a,e-1/3)}return Fn.colorSpaceToWorking(this,r),this}setStyle(e,n=qa){function i(a){a!==void 0&&parseFloat(a)<1&&Mt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:Mt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);Mt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=qa){const i=b9[e.toLowerCase()];return i!==void 0?this.setHex(i,n):Mt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jc(e.r),this.g=jc(e.g),this.b=jc(e.b),this}copyLinearToSRGB(e){return this.r=sg(e.r),this.g=sg(e.g),this.b=sg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=qa){return Fn.workingToColorSpace(Va.copy(this),e),Math.round(Qt(Va.r*255,0,255))*65536+Math.round(Qt(Va.g*255,0,255))*256+Math.round(Qt(Va.b*255,0,255))}getHexString(e=qa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Fn.workingColorSpace){Fn.workingToColorSpace(Va.copy(this),n);const i=Va.r,r=Va.g,a=Va.b,o=Math.max(i,r,a),s=Math.min(i,r,a);let u,c;const d=(s+o)/2;if(s===o)u=0,c=0;else{const p=o-s;switch(c=d<=.5?p/(o+s):p/(2-o-s),o){case i:u=(r-a)/p+(r<a?6:0);break;case r:u=(a-i)/p+2;break;case a:u=(i-r)/p+4;break}u/=6}return e.h=u,e.s=c,e.l=d,e}getRGB(e,n=Fn.workingColorSpace){return Fn.workingToColorSpace(Va.copy(this),n),e.r=Va.r,e.g=Va.g,e.b=Va.b,e}getStyle(e=qa){Fn.workingToColorSpace(Va.copy(this),e);const n=Va.r,i=Va.g,r=Va.b;return e!==qa?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(ad),this.setHSL(ad.h+e,ad.s+n,ad.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ad),e.getHSL(Ax);const i=Z0(ad.h,Ax.h,n),r=Z0(ad.s,Ax.s,n),a=Z0(ad.l,Ax.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Va=new Ct;Ct.NAMES=b9;let O_e=0;class Ya extends $u{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O_e++}),this.uuid=ys(),this.name="",this.type="Material",this.blending=$h,this.side=af,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=C1,this.blendDst=R1,this.blendEquation=cd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ct(0,0,0),this.blendAlpha=0,this.depthFunc=ap,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=eI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fh,this.stencilZFail=Fh,this.stencilZPass=Fh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){Mt(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Mt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==$h&&(i.blending=this.blending),this.side!==af&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==C1&&(i.blendSrc=this.blendSrc),this.blendDst!==R1&&(i.blendDst=this.blendDst),this.blendEquation!==cd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ap&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==eI&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Fh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Fh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const s in a){const u=a[s];delete u.metadata,o.push(u)}return o}if(n){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class pf extends Ya{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=c_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gc=L_e();function L_e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):c<-14?(i[u]=1024>>-c-14,i[u|256]=1024>>-c-14|32768,r[u]=-c-1,r[u|256]=-c-1):c<=15?(i[u]=c+15<<10,i[u|256]=c+15<<10|32768,r[u]=13,r[u|256]=13):c<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,d=0;for(;(c&8388608)===0;)c<<=1,d-=8388608;c&=-8388609,d+=947912704,a[u]=c|d}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:s}}function jo(t){Math.abs(t)>65504&&Mt("DataUtils.toHalfFloat(): Value out of range."),t=Qt(t,-65504,65504),Gc.floatView[0]=t;const e=Gc.uint32View[0],n=e>>23&511;return Gc.baseTable[n]+((e&8388607)>>Gc.shiftTable[n])}function V0(t){const e=t>>10;return Gc.uint32View[0]=Gc.mantissaTable[Gc.offsetTable[e]+(t&1023)]+Gc.exponentTable[e],Gc.floatView[0]}class U_e{static toHalfFloat(e){return jo(e)}static fromHalfFloat(e){return V0(e)}}const Pr=new se,Mx=new st;let F_e=0;class di{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:F_e++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Ry,this.updateRanges=[],this.gpuType=vo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Mx.fromBufferAttribute(this,n),Mx.applyMatrix3(e),this.setXY(n,Mx.x,Mx.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix3(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix4(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.applyNormalMatrix(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Pr.fromBufferAttribute(this,n),Pr.transformDirection(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=mo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=gn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=mo(n,this.array)),n}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=mo(n,this.array)),n}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=mo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=mo(n,this.array)),n}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array),a=gn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ry&&(e.usage=this.usage),e}}class k_e extends di{constructor(e,n,i){super(new Int8Array(e),n,i)}}class B_e extends di{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class z_e extends di{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class G_e extends di{constructor(e,n,i){super(new Int16Array(e),n,i)}}class BN extends di{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class V_e extends di{constructor(e,n,i){super(new Int32Array(e),n,i)}}class zN extends di{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class H_e extends di{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=V0(this.array[e*this.itemSize]);return this.normalized&&(n=mo(n,this.array)),n}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize]=jo(n),this}getY(e){let n=V0(this.array[e*this.itemSize+1]);return this.normalized&&(n=mo(n,this.array)),n}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+1]=jo(n),this}getZ(e){let n=V0(this.array[e*this.itemSize+2]);return this.normalized&&(n=mo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+2]=jo(n),this}getW(e){let n=V0(this.array[e*this.itemSize+3]);return this.normalized&&(n=mo(n,this.array)),n}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+3]=jo(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(i),this.array[e+2]=jo(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array),a=gn(a,this.array)),this.array[e+0]=jo(n),this.array[e+1]=jo(i),this.array[e+2]=jo(r),this.array[e+3]=jo(a),this}}class Ft extends di{constructor(e,n,i){super(new Float32Array(e),n,i)}}let q_e=0;const tl=new en,tC=new Hn,Pm=new se,fs=new ua,M0=new ua,sa=new se;class cn extends $u{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:q_e++}),this.uuid=ys(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(m9(e)?zN:BN)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new un().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return tl.makeRotationFromQuaternion(e),this.applyMatrix4(tl),this}rotateX(e){return tl.makeRotationX(e),this.applyMatrix4(tl),this}rotateY(e){return tl.makeRotationY(e),this.applyMatrix4(tl),this}rotateZ(e){return tl.makeRotationZ(e),this.applyMatrix4(tl),this}translate(e,n,i){return tl.makeTranslation(e,n,i),this.applyMatrix4(tl),this}scale(e,n,i){return tl.makeScale(e,n,i),this.applyMatrix4(tl),this}lookAt(e){return tC.lookAt(e),tC.updateMatrix(),this.applyMatrix4(tC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pm).negate(),this.translate(Pm.x,Pm.y,Pm.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ft(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&Mt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ua);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];fs.setFromBufferAttribute(a),this.morphTargetsRelative?(sa.addVectors(this.boundingBox.min,fs.min),this.boundingBox.expandByPoint(sa),sa.addVectors(this.boundingBox.max,fs.max),this.boundingBox.expandByPoint(sa)):(this.boundingBox.expandByPoint(fs.min),this.boundingBox.expandByPoint(fs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ht('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ca);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new se,1/0);return}if(e){const i=this.boundingSphere.center;if(fs.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];M0.setFromBufferAttribute(s),this.morphTargetsRelative?(sa.addVectors(fs.min,M0.min),fs.expandByPoint(sa),sa.addVectors(fs.max,M0.max),fs.expandByPoint(sa)):(fs.expandByPoint(M0.min),fs.expandByPoint(M0.max))}fs.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)sa.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(sa));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],u=this.morphTargetsRelative;for(let c=0,d=s.count;c<d;c++)sa.fromBufferAttribute(s,c),u&&(Pm.fromBufferAttribute(e,c),sa.add(Pm)),r=Math.max(r,i.distanceToSquared(sa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Ht('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Ht("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new di(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),s=[],u=[];for(let z=0;z<i.count;z++)s[z]=new se,u[z]=new se;const c=new se,d=new se,p=new se,v=new st,y=new st,b=new st,T=new se,S=new se;function A(z,U,B){c.fromBufferAttribute(i,z),d.fromBufferAttribute(i,U),p.fromBufferAttribute(i,B),v.fromBufferAttribute(a,z),y.fromBufferAttribute(a,U),b.fromBufferAttribute(a,B),d.sub(c),p.sub(c),y.sub(v),b.sub(v);const j=1/(y.x*b.y-b.x*y.y);isFinite(j)&&(T.copy(d).multiplyScalar(b.y).addScaledVector(p,-y.y).multiplyScalar(j),S.copy(p).multiplyScalar(y.x).addScaledVector(d,-b.x).multiplyScalar(j),s[z].add(T),s[U].add(T),s[B].add(T),u[z].add(S),u[U].add(S),u[B].add(S))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let z=0,U=R.length;z<U;++z){const B=R[z],j=B.start,W=B.count;for(let Y=j,Q=j+W;Y<Q;Y+=3)A(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const I=new se,N=new se,D=new se,O=new se;function F(z){D.fromBufferAttribute(r,z),O.copy(D);const U=s[z];I.copy(U),I.sub(D.multiplyScalar(D.dot(U))).normalize(),N.crossVectors(O,U);const j=N.dot(u[z])<0?-1:1;o.setXYZW(z,I.x,I.y,I.z,j)}for(let z=0,U=R.length;z<U;++z){const B=R[z],j=B.start,W=B.count;for(let Y=j,Q=j+W;Y<Q;Y+=3)F(e.getX(Y+0)),F(e.getX(Y+1)),F(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new di(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new se,a=new se,o=new se,s=new se,u=new se,c=new se,d=new se,p=new se;if(e)for(let v=0,y=e.count;v<y;v+=3){const b=e.getX(v+0),T=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(n,b),a.fromBufferAttribute(n,T),o.fromBufferAttribute(n,S),d.subVectors(o,a),p.subVectors(r,a),d.cross(p),s.fromBufferAttribute(i,b),u.fromBufferAttribute(i,T),c.fromBufferAttribute(i,S),s.add(d),u.add(d),c.add(d),i.setXYZ(b,s.x,s.y,s.z),i.setXYZ(T,u.x,u.y,u.z),i.setXYZ(S,c.x,c.y,c.z)}else for(let v=0,y=n.count;v<y;v+=3)r.fromBufferAttribute(n,v+0),a.fromBufferAttribute(n,v+1),o.fromBufferAttribute(n,v+2),d.subVectors(o,a),p.subVectors(r,a),d.cross(p),i.setXYZ(v+0,d.x,d.y,d.z),i.setXYZ(v+1,d.x,d.y,d.z),i.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)sa.fromBufferAttribute(e,n),sa.normalize(),e.setXYZ(n,sa.x,sa.y,sa.z)}toNonIndexed(){function e(s,u){const c=s.array,d=s.itemSize,p=s.normalized,v=new c.constructor(u.length*d);let y=0,b=0;for(let T=0,S=u.length;T<S;T++){s.isInterleavedBufferAttribute?y=u[T]*s.data.stride+s.offset:y=u[T]*d;for(let A=0;A<d;A++)v[b++]=c[y++]}return new di(v,d,p)}if(this.index===null)return Mt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new cn,i=this.index.array,r=this.attributes;for(const s in r){const u=r[s],c=e(u,i);n.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const u=[],c=a[s];for(let d=0,p=c.length;d<p;d++){const v=c[d],y=e(v,i);u.push(y)}n.morphAttributes[s]=u}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,u=o.length;s<u;s++){const c=o[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const u in i){const c=i[u];e.data.attributes[u]=c.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],d=[];for(let p=0,v=c.length;p<v;p++){const y=c[p];d.push(y.toJSON(e.data))}d.length>0&&(r[u]=d,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(n))}const a=e.morphAttributes;for(const c in a){const d=[],p=a[c];for(let v=0,y=p.length;v<y;v++)d.push(p[v].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const p=o[c];this.addGroup(p.start,p.count,p.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Yk=new en,yh=new mp,wx=new ca,$k=new se,Cx=new se,Rx=new se,Ix=new se,nC=new se,Px=new se,Kk=new se,Nx=new se;class er extends Hn{constructor(e=new cn,n=new pf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(a&&s){Px.set(0,0,0);for(let u=0,c=a.length;u<c;u++){const d=s[u],p=a[u];d!==0&&(nC.fromBufferAttribute(p,e),o?Px.addScaledVector(nC,d):Px.addScaledVector(nC.sub(n),d))}n.add(Px)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),wx.copy(i.boundingSphere),wx.applyMatrix4(a),yh.copy(e.ray).recast(e.near),!(wx.containsPoint(yh.origin)===!1&&(yh.intersectSphere(wx,$k)===null||yh.origin.distanceToSquared($k)>(e.far-e.near)**2))&&(Yk.copy(a).invert(),yh.copy(e.ray).applyMatrix4(Yk),!(i.boundingBox!==null&&yh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,yh)))}_computeIntersections(e,n,i){let r;const a=this.geometry,o=this.material,s=a.index,u=a.attributes.position,c=a.attributes.uv,d=a.attributes.uv1,p=a.attributes.normal,v=a.groups,y=a.drawRange;if(s!==null)if(Array.isArray(o))for(let b=0,T=v.length;b<T;b++){const S=v[b],A=o[S.materialIndex],R=Math.max(S.start,y.start),I=Math.min(s.count,Math.min(S.start+S.count,y.start+y.count));for(let N=R,D=I;N<D;N+=3){const O=s.getX(N),F=s.getX(N+1),z=s.getX(N+2);r=Dx(this,A,e,i,c,d,p,O,F,z),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const b=Math.max(0,y.start),T=Math.min(s.count,y.start+y.count);for(let S=b,A=T;S<A;S+=3){const R=s.getX(S),I=s.getX(S+1),N=s.getX(S+2);r=Dx(this,o,e,i,c,d,p,R,I,N),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(u!==void 0)if(Array.isArray(o))for(let b=0,T=v.length;b<T;b++){const S=v[b],A=o[S.materialIndex],R=Math.max(S.start,y.start),I=Math.min(u.count,Math.min(S.start+S.count,y.start+y.count));for(let N=R,D=I;N<D;N+=3){const O=N,F=N+1,z=N+2;r=Dx(this,A,e,i,c,d,p,O,F,z),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const b=Math.max(0,y.start),T=Math.min(u.count,y.start+y.count);for(let S=b,A=T;S<A;S+=3){const R=S,I=S+1,N=S+2;r=Dx(this,o,e,i,c,d,p,R,I,N),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function W_e(t,e,n,i,r,a,o,s){let u;if(e.side===yo?u=i.intersectTriangle(o,a,r,!0,s):u=i.intersectTriangle(r,a,o,e.side===af,s),u===null)return null;Nx.copy(s),Nx.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Nx);return c<n.near||c>n.far?null:{distance:c,point:Nx.clone(),object:t}}function Dx(t,e,n,i,r,a,o,s,u,c){t.getVertexPosition(s,Cx),t.getVertexPosition(u,Rx),t.getVertexPosition(c,Ix);const d=W_e(t,e,n,i,Cx,Rx,Ix,Kk);if(d){const p=new se;Yo.getBarycoord(Kk,Cx,Rx,Ix,p),r&&(d.uv=Yo.getInterpolatedAttribute(r,s,u,c,p,new st)),a&&(d.uv1=Yo.getInterpolatedAttribute(a,s,u,c,p,new st)),o&&(d.normal=Yo.getInterpolatedAttribute(o,s,u,c,p,new se),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const v={a:s,b:u,c,normal:new se,materialIndex:0};Yo.getNormal(Cx,Rx,Ix,v.normal),d.face=v,d.barycoord=p}return d}class gp extends cn{constructor(e=1,n=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const s=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const u=[],c=[],d=[],p=[];let v=0,y=0;b("z","y","x",-1,-1,i,n,e,o,a,0),b("z","y","x",1,-1,i,n,-e,o,a,1),b("x","z","y",1,1,e,i,n,r,o,2),b("x","z","y",1,-1,e,i,-n,r,o,3),b("x","y","z",1,-1,e,n,i,r,a,4),b("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Ft(c,3)),this.setAttribute("normal",new Ft(d,3)),this.setAttribute("uv",new Ft(p,2));function b(T,S,A,R,I,N,D,O,F,z,U){const B=N/F,j=D/z,W=N/2,Y=D/2,Q=O/2,ae=F+1,X=z+1;let ne=0,ge=0;const pe=new se;for(let de=0;de<X;de++){const H=de*j-Y;for(let te=0;te<ae;te++){const ie=te*B-W;pe[T]=ie*R,pe[S]=H*I,pe[A]=Q,c.push(pe.x,pe.y,pe.z),pe[T]=0,pe[S]=0,pe[A]=O>0?1:-1,d.push(pe.x,pe.y,pe.z),p.push(te/F),p.push(1-de/z),ne+=1}}for(let de=0;de<z;de++)for(let H=0;H<F;H++){const te=v+H+ae*de,ie=v+H+ae*(de+1),ce=v+(H+1)+ae*(de+1),ye=v+(H+1)+ae*de;u.push(te,ie,ye),u.push(ie,ce,ye),ge+=6}s.addGroup(y,ge,U),y+=ge,v+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bg(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Mt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function fo(t){const e={};for(let n=0;n<t.length;n++){const i=bg(t[n]);for(const r in i)e[r]=i[r]}return e}function j_e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function x9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Fn.workingColorSpace}const GN={clone:bg,merge:fo};var X_e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Y_e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Es extends Ya{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=X_e,this.fragmentShader=Y_e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bg(e.uniforms),this.uniformsGroups=j_e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class FT extends Hn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new en,this.projectionMatrix=new en,this.projectionMatrixInverse=new en,this.coordinateSystem=ms,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const od=new se,Jk=new st,Zk=new st;class _r extends FT{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=yg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yg*2*Math.atan(Math.tan(Kh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){od.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(od.x,od.y).multiplyScalar(-e/od.z),od.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(od.x,od.y).multiplyScalar(-e/od.z)}getViewSize(e,n){return this.getViewBounds(e,Jk,Zk),n.subVectors(Zk,Jk)}setViewOffset(e,n,i,r,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Kh*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,c=o.fullHeight;a+=o.offsetX*r/u,n-=o.offsetY*i/c,r*=o.width/u,i*=o.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Nm=-90,Dm=1;class S9 extends Hn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new _r(Nm,Dm,e,n);r.layers=this.layers,this.add(r);const a=new _r(Nm,Dm,e,n);a.layers=this.layers,this.add(a);const o=new _r(Nm,Dm,e,n);o.layers=this.layers,this.add(o);const s=new _r(Nm,Dm,e,n);s.layers=this.layers,this.add(s);const u=new _r(Nm,Dm,e,n);u.layers=this.layers,this.add(u);const c=new _r(Nm,Dm,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,o,s,u]=n;for(const c of n)this.remove(c);if(e===ms)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===gg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,u,c,d]=this.children,p=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,s),e.setRenderTarget(i,3,r),e.render(n,u),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(n,d),e.setRenderTarget(p,v,y),e.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class d_ extends Qi{constructor(e=[],n=qu,i,r,a,o,s,u,c,d){super(e,n,i,r,a,o,s,u,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VN extends _s{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new d_(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new gp(5,5,5),a=new Es({name:"CubemapFromEquirect",uniforms:bg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:yo,blending:Vu});a.uniforms.tEquirect.value=n;const o=new er(r,a),s=n.minFilter;return n.minFilter===Bu&&(n.minFilter=mi),new S9(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(a)}}class tg extends Hn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $_e={type:"move"};class MS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,o=null;const s=this._targetRay,u=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const T of e.hand.values()){const S=n.getJointPose(T,i),A=this._getHandJoint(c,T);S!==null&&(A.matrix.fromArray(S.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=S.radius),A.visible=S!==null}const d=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],v=d.position.distanceTo(p.position),y=.02,b=.005;c.inputState.pinching&&v>y+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&v<=y-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent($_e)))}return s!==null&&(s.visible=r!==null),u!==null&&(u.visible=a!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new tg;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class kT{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=n}clone(){return new kT(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class BT{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=n,this.far=i}clone(){return new BT(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class HN extends Hn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ss,this.environmentIntensity=1,this.environmentRotation=new Ss,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class zT{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ry,this.updateRanges=[],this.version=0,this.uuid=ys()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const co=new se;class sp{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)co.fromBufferAttribute(this,n),co.applyMatrix4(e),this.setXYZ(n,co.x,co.y,co.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)co.fromBufferAttribute(this,n),co.applyNormalMatrix(e),this.setXYZ(n,co.x,co.y,co.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)co.fromBufferAttribute(this,n),co.transformDirection(e),this.setXYZ(n,co.x,co.y,co.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=mo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=gn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=mo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=mo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=mo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=mo(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),i=gn(i,this.array),r=gn(r,this.array),a=gn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Py("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new di(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Py("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qN extends Ya{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Om;const w0=new se,Lm=new se,Um=new se,Fm=new st,C0=new st,E9=new en,Ox=new se,R0=new se,Lx=new se,Qk=new st,iC=new st,e4=new st;class T9 extends Hn{constructor(e=new qN){if(super(),this.isSprite=!0,this.type="Sprite",Om===void 0){Om=new cn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new zT(n,5);Om.setIndex([0,1,2,0,2,3]),Om.setAttribute("position",new sp(i,3,0,!1)),Om.setAttribute("uv",new sp(i,2,3,!1))}this.geometry=Om,this.material=e,this.center=new st(.5,.5),this.count=1}raycast(e,n){e.camera===null&&Ht('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Lm.setFromMatrixScale(this.matrixWorld),E9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Um.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Lm.multiplyScalar(-Um.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;Ux(Ox.set(-.5,-.5,0),Um,o,Lm,r,a),Ux(R0.set(.5,-.5,0),Um,o,Lm,r,a),Ux(Lx.set(.5,.5,0),Um,o,Lm,r,a),Qk.set(0,0),iC.set(1,0),e4.set(1,1);let s=e.ray.intersectTriangle(Ox,R0,Lx,!1,w0);if(s===null&&(Ux(R0.set(-.5,.5,0),Um,o,Lm,r,a),iC.set(0,1),s=e.ray.intersectTriangle(Ox,Lx,R0,!1,w0),s===null))return;const u=e.ray.origin.distanceTo(w0);u<e.near||u>e.far||n.push({distance:u,point:w0.clone(),uv:Yo.getInterpolation(w0,Ox,R0,Lx,Qk,iC,e4,new st),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ux(t,e,n,i,r,a){Fm.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(C0.x=a*Fm.x-r*Fm.y,C0.y=r*Fm.x+a*Fm.y):C0.copy(Fm),t.copy(e),t.x+=C0.x,t.y+=C0.y,t.applyMatrix4(E9)}const Fx=new se,t4=new se;class A9 extends Hn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Fx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Fx);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Fx.setFromMatrixPosition(e.matrixWorld),t4.setFromMatrixPosition(this.matrixWorld);const i=Fx.distanceTo(t4)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const n4=new se,i4=new ri,r4=new ri,K_e=new se,a4=new en,kx=new se,rC=new ca,o4=new en,aC=new mp;class M9 extends er{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=QR,this.bindMatrix=new en,this.bindMatrixInverse=new en,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ua),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,kx),this.boundingBox.expandByPoint(kx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ca),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,kx),this.boundingSphere.expandByPoint(kx)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rC.copy(this.boundingSphere),rC.applyMatrix4(r),e.ray.intersectsSphere(rC)!==!1&&(o4.copy(r).invert(),aC.copy(e.ray).applyMatrix4(o4),!(this.boundingBox!==null&&aC.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,aC)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ri,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===QR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===n9?this.bindMatrixInverse.copy(this.bindMatrix).invert():Mt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;i4.fromBufferAttribute(r.attributes.skinIndex,e),r4.fromBufferAttribute(r.attributes.skinWeight,e),n4.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=r4.getComponent(a);if(o!==0){const s=i4.getComponent(a);a4.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),n.addScaledVector(K_e.copy(n4).applyMatrix4(a4),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class WN extends Hn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yl extends Qi{constructor(e=null,n=1,i=1,r,a,o,s,u,c=br,d=br,p,v){super(null,o,s,u,c,d,r,a,p,v),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const s4=new en,J_e=new en;class GT{constructor(e=[],n=[]){this.uuid=ys(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Mt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new en)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new en;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:J_e;s4.multiplyMatrices(s,n[a]),s4.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new GT(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Yl(n,e,e,ja,vo);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=n[a];o===void 0&&(Mt("Skeleton: No bone found with UUID:",a),o=new WN),this.bones.push(o),this.boneInverses.push(new en().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const o=n[r];e.bones.push(o.uuid);const s=i[r];e.boneInverses.push(s.toArray())}return e}}class lp extends di{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const km=new en,l4=new en,Bx=[],u4=new ua,Z_e=new en,I0=new er,P0=new ca;class w9 extends er{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new lp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Z_e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ua),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,km),u4.copy(e.boundingBox).applyMatrix4(km),this.boundingBox.union(u4)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ca),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,km),P0.copy(e.boundingSphere).applyMatrix4(km),this.boundingSphere.union(P0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let s=0;s<i.length;s++)i[s]=r[o+s]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(I0.geometry=this.geometry,I0.material=this.material,I0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),P0.copy(this.boundingSphere),P0.applyMatrix4(i),e.ray.intersectsSphere(P0)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,km),l4.multiplyMatrices(i,km),I0.matrixWorld=l4,I0.raycast(e,Bx);for(let o=0,s=Bx.length;o<s;o++){const u=Bx[o];u.instanceId=a,u.object=this,n.push(u)}Bx.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new lp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Yl(new Float32Array(r*this.count),r,this.count,RT,vo));const a=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const s=this.geometry.morphTargetsRelative?1:1-o,u=r*e;a[u]=s,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const oC=new se,Q_e=new se,ebe=new un;class kc{constructor(e=new se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=oC.subVectors(i,n).cross(Q_e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(oC),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||ebe.getNormalMatrix(e),r=this.coplanarPoint(oC).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _h=new ca,tbe=new st(.5,.5),zx=new se;class Vg{constructor(e=new kc,n=new kc,i=new kc,r=new kc,a=new kc,o=new kc){this.planes=[e,n,i,r,a,o]}set(e,n,i,r,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(i),s[3].copy(r),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=ms,i=!1){const r=this.planes,a=e.elements,o=a[0],s=a[1],u=a[2],c=a[3],d=a[4],p=a[5],v=a[6],y=a[7],b=a[8],T=a[9],S=a[10],A=a[11],R=a[12],I=a[13],N=a[14],D=a[15];if(r[0].setComponents(c-o,y-d,A-b,D-R).normalize(),r[1].setComponents(c+o,y+d,A+b,D+R).normalize(),r[2].setComponents(c+s,y+p,A+T,D+I).normalize(),r[3].setComponents(c-s,y-p,A-T,D-I).normalize(),i)r[4].setComponents(u,v,S,N).normalize(),r[5].setComponents(c-u,y-v,A-S,D-N).normalize();else if(r[4].setComponents(c-u,y-v,A-S,D-N).normalize(),n===ms)r[5].setComponents(c+u,y+v,A+S,D+N).normalize();else if(n===gg)r[5].setComponents(u,v,S,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_h.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_h.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_h)}intersectsSprite(e){_h.center.set(0,0,0);const n=tbe.distanceTo(e.center);return _h.radius=.7071067811865476+n,_h.applyMatrix4(e.matrixWorld),this.intersectsSphere(_h)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(zx.x=r.normal.x>0?e.max.x:e.min.x,zx.y=r.normal.y>0?e.max.y:e.min.y,zx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(zx)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Lu=new en,Uu=new Vg;class VT{constructor(){this.coordinateSystem=ms}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Uu.setFromProjectionMatrix(Lu,r.coordinateSystem,r.reversedDepth),Uu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Uu.setFromProjectionMatrix(Lu,r.coordinateSystem,r.reversedDepth),Uu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Uu.setFromProjectionMatrix(Lu,r.coordinateSystem,r.reversedDepth),Uu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Uu.setFromProjectionMatrix(Lu,r.coordinateSystem,r.reversedDepth),Uu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Lu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Uu.setFromProjectionMatrix(Lu,r.coordinateSystem,r.reversedDepth),Uu.containsPoint(e))return!0}return!1}clone(){return new VT}}function sC(t,e){return t-e}function nbe(t,e){return t.z-e.z}function ibe(t,e){return e.z-t.z}class rbe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=n,s.z=i,s.index=r}reset(){this.list.length=0,this.index=0}}const Wo=new en,abe=new Ct(1,1,1),c4=new Vg,obe=new VT,Gx=new ua,bh=new ca,N0=new se,f4=new se,sbe=new se,lC=new rbe,Ha=new er,Vx=[];function lbe(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function xh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class C9 extends er{constructor(e,n,i=n*2,r){super(new cn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Yl(n,e,e,ja,vo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Yl(n,e,e,f_,cl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Yl(n,e,e,ja,vo);i.colorSpace=Fn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:u,normalized:c}=o,d=new s.constructor(i*u),p=new di(d,u,c);n.setAttribute(a,p)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new di(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ua);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Wo),this.getBoundingBoxAt(a,Gx).applyMatrix4(Wo),e.union(Gx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ca);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Wo),this.getBoundingSphereAt(a,bh).applyMatrix4(Wo),e.union(bh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(sC),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Wo.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(abe.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(sC),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=n.getIndex(),s=this._geometryInfo[e];if(r&&o.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const d in i.attributes){const p=n.getAttribute(d),v=i.getAttribute(d);lbe(p,v,u);const y=p.itemSize;for(let b=p.count,T=c;b<T;b++){const S=u+b;for(let A=0;A<y;A++)v.setComponent(S,A,0)}v.needsUpdate=!0,v.addUpdateRange(u*y,c*y)}if(r){const d=s.indexStart,p=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let v=0;v<o.count;v++)a.setX(d+v,u+o.getX(v));for(let v=o.count,y=p;v<y;v++)a.setX(d+v,u);a.needsUpdate=!0,a.addUpdateRange(d,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((o,s)=>s).sort((o,s)=>i[o].vertexStart-i[s].vertexStart),a=this.geometry;for(let o=0,s=i.length;o<s;o++){const u=r[o],c=i[u];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:p,reservedIndexCount:v}=c,y=a.index,b=y.array,T=e-p;for(let S=d;S<d+v;S++)b[S]=b[S]+T;y.array.copyWithin(n,d,d+v),y.addUpdateRange(n,v),y.needsUpdate=!0,c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:p}=c,v=a.attributes;for(const y in v){const b=v[y],{array:T,itemSize:S}=b;T.copyWithin(e*S,d*S,(d+p)*S),b.addUpdateRange(e*S,p*S),b.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new ua,o=i.index,s=i.attributes.position;for(let u=r.start,c=r.start+r.count;u<c;u++){let d=u;o&&(d=o.getX(d)),a.expandByPoint(N0.fromBufferAttribute(s,d))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new ca;this.getBoundingBoxAt(e,Gx),Gx.getCenter(a.center);const o=i.index,s=i.attributes.position;let u=0;for(let c=r.start,d=r.start+r.count;c<d;c++){let p=c;o&&(p=o.getX(p)),N0.fromBufferAttribute(s,p),u=Math.max(u,a.center.distanceToSquared(N0))}a.radius=Math.sqrt(u),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(sC);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);xh(this._multiDrawCounts,r),xh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),xh(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),xh(s.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),xh(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...i.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new cn,this._initializeGeometry(a));const o=this.geometry;a.index&&xh(a.index.array,o.index.array);for(const s in a.attributes)xh(a.attributes[s].array,o.attributes[s].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Ha.material=this.material,Ha.geometry.index=o.index,Ha.geometry.attributes=o.attributes,Ha.geometry.boundingBox===null&&(Ha.geometry.boundingBox=new ua),Ha.geometry.boundingSphere===null&&(Ha.geometry.boundingSphere=new ca);for(let s=0,u=i.length;s<u;s++){if(!i[s].visible||!i[s].active)continue;const c=i[s].geometryIndex,d=r[c];Ha.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(s,Ha.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ha.geometry.boundingBox),this.getBoundingSphereAt(c,Ha.geometry.boundingSphere),Ha.raycast(e,Vx);for(let p=0,v=Vx.length;p<v;p++){const y=Vx[p];y.object=this,y.batchId=s,n.push(y)}Vx.length=0}Ha.material=null,Ha.geometry.index=null,Ha.geometry.attributes={},Ha.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,p=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,b=y.image.data,T=i.isArrayCamera?obe:c4;v&&!i.isArrayCamera&&(Wo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),c4.setFromProjectionMatrix(Wo,i.coordinateSystem,i.reversedDepth));let S=0;if(this.sortObjects){Wo.copy(this.matrixWorld).invert(),N0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Wo),f4.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Wo);for(let I=0,N=u.length;I<N;I++)if(u[I].visible&&u[I].active){const D=u[I].geometryIndex;this.getMatrixAt(I,Wo),this.getBoundingSphereAt(D,bh).applyMatrix4(Wo);let O=!1;if(v&&(O=!T.intersectsSphere(bh,i)),!O){const F=p[D],z=sbe.subVectors(bh.center,N0).dot(f4);lC.push(F.start,F.count,z,I)}}const A=lC.list,R=this.customSort;R===null?A.sort(a.transparent?ibe:nbe):R.call(this,A,i);for(let I=0,N=A.length;I<N;I++){const D=A[I];c[S]=D.start*s,d[S]=D.count,b[S]=D.index,S++}lC.reset()}else for(let A=0,R=u.length;A<R;A++)if(u[A].visible&&u[A].active){const I=u[A].geometryIndex;let N=!1;if(v&&(this.getMatrixAt(A,Wo),this.getBoundingSphereAt(I,bh).applyMatrix4(Wo),N=!T.intersectsSphere(bh,i)),!N){const D=p[I];c[S]=D.start*s,d[S]=D.count,b[S]=A,S++}}y.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class xo extends Ya{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const gE=new se,vE=new se,d4=new en,D0=new mp,Hx=new ca,uC=new se,h4=new se;class Td extends Hn{constructor(e=new cn,n=new xo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)gE.fromBufferAttribute(n,r-1),vE.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=gE.distanceTo(vE);e.setAttribute("lineDistance",new Ft(i,1))}else Mt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Hx.copy(i.boundingSphere),Hx.applyMatrix4(r),Hx.radius+=a,e.ray.intersectsSphere(Hx)===!1)return;d4.copy(r).invert(),D0.copy(e.ray).applyMatrix4(d4);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,c=this.isLineSegments?2:1,d=i.index,v=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let T=y,S=b-1;T<S;T+=c){const A=d.getX(T),R=d.getX(T+1),I=qx(this,e,D0,u,A,R,T);I&&n.push(I)}if(this.isLineLoop){const T=d.getX(b-1),S=d.getX(y),A=qx(this,e,D0,u,T,S,b-1);A&&n.push(A)}}else{const y=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let T=y,S=b-1;T<S;T+=c){const A=qx(this,e,D0,u,T,T+1,T);A&&n.push(A)}if(this.isLineLoop){const T=qx(this,e,D0,u,b-1,y,b-1);T&&n.push(T)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function qx(t,e,n,i,r,a,o){const s=t.geometry.attributes.position;if(gE.fromBufferAttribute(s,r),vE.fromBufferAttribute(s,a),n.distanceSqToSegment(gE,vE,uC,h4)>i)return;uC.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(uC);if(!(c<e.near||c>e.far))return{distance:c,point:h4.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const p4=new se,m4=new se;class Ku extends Td{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)p4.fromBufferAttribute(n,r),m4.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+p4.distanceTo(m4);e.setAttribute("lineDistance",new Ft(i,1))}else Mt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class R9 extends Td{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class jN extends Ya{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const g4=new en,nI=new mp,Wx=new ca,jx=new se;class I9 extends Hn{constructor(e=new cn,n=new jN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Wx.copy(i.boundingSphere),Wx.applyMatrix4(r),Wx.radius+=a,e.ray.intersectsSphere(Wx)===!1)return;g4.copy(r).invert(),nI.copy(e.ray).applyMatrix4(g4);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,c=i.index,p=i.attributes.position;if(c!==null){const v=Math.max(0,o.start),y=Math.min(c.count,o.start+o.count);for(let b=v,T=y;b<T;b++){const S=c.getX(b);jx.fromBufferAttribute(p,S),v4(jx,S,u,r,e,n,this)}}else{const v=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let b=v,T=y;b<T;b++)jx.fromBufferAttribute(p,b),v4(jx,b,u,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function v4(t,e,n,i,r,a,o){const s=nI.distanceSqToPoint(t);if(s<n){const u=new se;nI.closestPointToPoint(t,u),u.applyMatrix4(i);const c=r.ray.origin.distanceTo(u);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class P9 extends Qi{constructor(e,n,i,r,a=mi,o=mi,s,u,c){super(e,n,i,r,a,o,s,u,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function p(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(p))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class ube extends P9{constructor(e,n,i,r,a,o,s,u){super({},e,n,i,r,a,o,s,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class cbe extends Qi{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=br,this.minFilter=br,this.generateMipmaps=!1,this.needsUpdate=!0}}class HT extends Qi{constructor(e,n,i,r,a,o,s,u,c,d,p,v){super(null,o,s,u,c,d,r,a,p,v),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class fbe extends HT{constructor(e,n,i,r,a,o){super(e,n,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Jo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dbe extends HT{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,qu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hbe extends Qi{constructor(e,n,i,r,a,o,s,u,c){super(e,n,i,r,a,o,s,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xg extends Qi{constructor(e,n,i=cl,r,a,o,s=br,u=br,c,d=ju,p=1){if(d!==ju&&d!==hd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:n,depth:p};super(v,r,a,o,s,u,d,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new pd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class N9 extends xg{constructor(e,n=cl,i=qu,r,a,o=br,s=br,u,c=ju){const d={width:e,height:e,depth:1},p=[d,d,d,d,d,d];super(e,e,n,i,r,a,o,s,u,c),this.image=p,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class XN extends Qi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class qT extends cn{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],s=[],u=[],c=[],d=n/2,p=Math.PI/2*e,v=n,y=2*p+v,b=i*2+a,T=r+1,S=new se,A=new se;for(let R=0;R<=b;R++){let I=0,N=0,D=0,O=0;if(R<=i){const U=R/i,B=U*Math.PI/2;N=-d-e*Math.cos(B),D=e*Math.sin(B),O=-e*Math.cos(B),I=U*p}else if(R<=i+a){const U=(R-i)/a;N=-d+U*n,D=e,O=0,I=p+U*v}else{const U=(R-i-a)/i,B=U*Math.PI/2;N=d+e*Math.sin(B),D=e*Math.cos(B),O=e*Math.sin(B),I=p+v+U*p}const F=Math.max(0,Math.min(1,I/y));let z=0;R===0?z=.5/r:R===b&&(z=-.5/r);for(let U=0;U<=r;U++){const B=U/r,j=B*Math.PI*2,W=Math.sin(j),Y=Math.cos(j);A.x=-D*Y,A.y=N,A.z=D*W,s.push(A.x,A.y,A.z),S.set(-D*Y,O,D*W),S.normalize(),u.push(S.x,S.y,S.z),c.push(B+z,F)}if(R>0){const U=(R-1)*T;for(let B=0;B<r;B++){const j=U+B,W=U+B+1,Y=R*T+B,Q=R*T+B+1;o.push(j,W,Y),o.push(W,Q,Y)}}}this.setIndex(o),this.setAttribute("position",new Ft(s,3)),this.setAttribute("normal",new Ft(u,3)),this.setAttribute("uv",new Ft(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qT(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class WT extends cn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],o=[],s=[],u=[],c=new se,d=new st;o.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let p=0,v=3;p<=n;p++,v+=3){const y=i+p/n*r;c.x=e*Math.cos(y),c.y=e*Math.sin(y),o.push(c.x,c.y,c.z),s.push(0,0,1),d.x=(o[v]/e+1)/2,d.y=(o[v+1]/e+1)/2,u.push(d.x,d.y)}for(let p=1;p<=n;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("normal",new Ft(s,3)),this.setAttribute("uv",new Ft(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WT(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class h_ extends cn{constructor(e=1,n=1,i=1,r=32,a=1,o=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u};const c=this;r=Math.floor(r),a=Math.floor(a);const d=[],p=[],v=[],y=[];let b=0;const T=[],S=i/2;let A=0;R(),o===!1&&(e>0&&I(!0),n>0&&I(!1)),this.setIndex(d),this.setAttribute("position",new Ft(p,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2));function R(){const N=new se,D=new se;let O=0;const F=(n-e)/i;for(let z=0;z<=a;z++){const U=[],B=z/a,j=B*(n-e)+e;for(let W=0;W<=r;W++){const Y=W/r,Q=Y*u+s,ae=Math.sin(Q),X=Math.cos(Q);D.x=j*ae,D.y=-B*i+S,D.z=j*X,p.push(D.x,D.y,D.z),N.set(ae,F,X).normalize(),v.push(N.x,N.y,N.z),y.push(Y,1-B),U.push(b++)}T.push(U)}for(let z=0;z<r;z++)for(let U=0;U<a;U++){const B=T[U][z],j=T[U+1][z],W=T[U+1][z+1],Y=T[U][z+1];(e>0||U!==0)&&(d.push(B,j,Y),O+=3),(n>0||U!==a-1)&&(d.push(j,W,Y),O+=3)}c.addGroup(A,O,0),A+=O}function I(N){const D=b,O=new st,F=new se;let z=0;const U=N===!0?e:n,B=N===!0?1:-1;for(let W=1;W<=r;W++)p.push(0,S*B,0),v.push(0,B,0),y.push(.5,.5),b++;const j=b;for(let W=0;W<=r;W++){const Q=W/r*u+s,ae=Math.cos(Q),X=Math.sin(Q);F.x=U*X,F.y=S*B,F.z=U*ae,p.push(F.x,F.y,F.z),v.push(0,B,0),O.x=ae*.5+.5,O.y=X*.5*B+.5,y.push(O.x,O.y),b++}for(let W=0;W<r;W++){const Y=D+W,Q=j+W;N===!0?d.push(Q,Q+1,Y):d.push(Q+1,Q,Y),z+=3}c.addGroup(A,z,N===!0?1:2),A+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class p_ extends h_{constructor(e=1,n=1,i=32,r=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,i,r,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new p_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Dd extends cn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],o=[];s(r),c(i),d(),this.setAttribute("position",new Ft(a,3)),this.setAttribute("normal",new Ft(a.slice(),3)),this.setAttribute("uv",new Ft(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(R){const I=new se,N=new se,D=new se;for(let O=0;O<n.length;O+=3)y(n[O+0],I),y(n[O+1],N),y(n[O+2],D),u(I,N,D,R)}function u(R,I,N,D){const O=D+1,F=[];for(let z=0;z<=O;z++){F[z]=[];const U=R.clone().lerp(N,z/O),B=I.clone().lerp(N,z/O),j=O-z;for(let W=0;W<=j;W++)W===0&&z===O?F[z][W]=U:F[z][W]=U.clone().lerp(B,W/j)}for(let z=0;z<O;z++)for(let U=0;U<2*(O-z)-1;U++){const B=Math.floor(U/2);U%2===0?(v(F[z][B+1]),v(F[z+1][B]),v(F[z][B])):(v(F[z][B+1]),v(F[z+1][B+1]),v(F[z+1][B]))}}function c(R){const I=new se;for(let N=0;N<a.length;N+=3)I.x=a[N+0],I.y=a[N+1],I.z=a[N+2],I.normalize().multiplyScalar(R),a[N+0]=I.x,a[N+1]=I.y,a[N+2]=I.z}function d(){const R=new se;for(let I=0;I<a.length;I+=3){R.x=a[I+0],R.y=a[I+1],R.z=a[I+2];const N=S(R)/2/Math.PI+.5,D=A(R)/Math.PI+.5;o.push(N,1-D)}b(),p()}function p(){for(let R=0;R<o.length;R+=6){const I=o[R+0],N=o[R+2],D=o[R+4],O=Math.max(I,N,D),F=Math.min(I,N,D);O>.9&&F<.1&&(I<.2&&(o[R+0]+=1),N<.2&&(o[R+2]+=1),D<.2&&(o[R+4]+=1))}}function v(R){a.push(R.x,R.y,R.z)}function y(R,I){const N=R*3;I.x=e[N+0],I.y=e[N+1],I.z=e[N+2]}function b(){const R=new se,I=new se,N=new se,D=new se,O=new st,F=new st,z=new st;for(let U=0,B=0;U<a.length;U+=9,B+=6){R.set(a[U+0],a[U+1],a[U+2]),I.set(a[U+3],a[U+4],a[U+5]),N.set(a[U+6],a[U+7],a[U+8]),O.set(o[B+0],o[B+1]),F.set(o[B+2],o[B+3]),z.set(o[B+4],o[B+5]),D.copy(R).add(I).add(N).divideScalar(3);const j=S(D);T(O,B+0,R,j),T(F,B+2,I,j),T(z,B+4,N,j)}}function T(R,I,N,D){D<0&&R.x===1&&(o[I]=R.x-1),N.x===0&&N.z===0&&(o[I]=D/2/Math.PI+.5)}function S(R){return Math.atan2(R.z,-R.x)}function A(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dd(e.vertices,e.indices,e.radius,e.detail)}}class jT extends Dd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new jT(e.radius,e.detail)}}const Xx=new se,Yx=new se,cC=new se,$x=new Yo;class D9 extends cn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(Kh*n),o=e.getIndex(),s=e.getAttribute("position"),u=o?o.count:s.count,c=[0,0,0],d=["a","b","c"],p=new Array(3),v={},y=[];for(let b=0;b<u;b+=3){o?(c[0]=o.getX(b),c[1]=o.getX(b+1),c[2]=o.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:T,b:S,c:A}=$x;if(T.fromBufferAttribute(s,c[0]),S.fromBufferAttribute(s,c[1]),A.fromBufferAttribute(s,c[2]),$x.getNormal(cC),p[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,p[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let R=0;R<3;R++){const I=(R+1)%3,N=p[R],D=p[I],O=$x[d[R]],F=$x[d[I]],z=`${N}_${D}`,U=`${D}_${N}`;U in v&&v[U]?(cC.dot(v[U].normal)<=a&&(y.push(O.x,O.y,O.z),y.push(F.x,F.y,F.z)),v[U]=null):z in v||(v[z]={index0:c[R],index1:c[I],normal:cC.clone()})}}for(const b in v)if(v[b]){const{index0:T,index1:S}=v[b];Xx.fromBufferAttribute(s,T),Yx.fromBufferAttribute(s,S),y.push(Xx.x,Xx.y,Xx.z),y.push(Yx.x,Yx.y,Yx.z)}this.setAttribute("position",new Ft(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ql{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Mt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let o;n?o=n:o=e*i[a-1];let s=0,u=a-1,c;for(;s<=u;)if(r=Math.floor(s+(u-s)/2),c=i[r]-o,c<0)s=r+1;else if(c>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(a-1);const d=i[r],v=i[r+1]-d,y=(o-d)/v;return(r+y)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),s=this.getPoint(a),u=n||(o.isVector2?new st:new se);return u.copy(s).sub(o).normalize(),u}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new se,r=[],a=[],o=[],s=new se,u=new en;for(let y=0;y<=e;y++){const b=y/e;r[y]=this.getTangentAt(b,new se)}a[0]=new se,o[0]=new se;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),p=Math.abs(r[0].y),v=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),p<=c&&(c=p,i.set(0,1,0)),v<=c&&i.set(0,0,1),s.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],s),o[0].crossVectors(r[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),o[y]=o[y-1].clone(),s.crossVectors(r[y-1],r[y]),s.length()>Number.EPSILON){s.normalize();const b=Math.acos(Qt(r[y-1].dot(r[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(s,b))}o[y].crossVectors(r[y],a[y])}if(n===!0){let y=Math.acos(Qt(a[0].dot(a[e]),-1,1));y/=e,r[0].dot(s.crossVectors(a[0],a[e]))>0&&(y=-y);for(let b=1;b<=e;b++)a[b].applyMatrix4(u.makeRotationAxis(r[b],y*b)),o[b].crossVectors(r[b],a[b])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class XT extends Ql{constructor(e=0,n=0,i=1,r=1,a=0,o=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=u}getPoint(e,n=new st){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const s=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),v=u-this.aX,y=c-this.aY;u=v*d-y*p+this.aX,c=v*p+y*d+this.aY}return i.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class O9 extends XT{constructor(e,n,i,r,a,o){super(e,n,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function YN(){let t=0,e=0,n=0,i=0;function r(a,o,s,u){t=a,e=s,n=-3*a+3*o-2*s-u,i=2*a-2*o+s+u}return{initCatmullRom:function(a,o,s,u,c){r(o,s,c*(s-a),c*(u-o))},initNonuniformCatmullRom:function(a,o,s,u,c,d,p){let v=(o-a)/c-(s-a)/(c+d)+(s-o)/d,y=(s-o)/d-(u-o)/(d+p)+(u-s)/p;v*=d,y*=d,r(o,s,v,y)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+i*s}}}const Kx=new se,fC=new YN,dC=new YN,hC=new YN;class L9 extends Ql{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new se){const i=n,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:u===0&&s===a-1&&(s=a-2,u=1);let c,d;this.closed||s>0?c=r[(s-1)%a]:(Kx.subVectors(r[0],r[1]).add(r[0]),c=Kx);const p=r[s%a],v=r[(s+1)%a];if(this.closed||s+2<a?d=r[(s+2)%a]:(Kx.subVectors(r[a-1],r[a-2]).add(r[a-1]),d=Kx),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(p),y),T=Math.pow(p.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(d),y);T<1e-4&&(T=1),b<1e-4&&(b=T),S<1e-4&&(S=T),fC.initNonuniformCatmullRom(c.x,p.x,v.x,d.x,b,T,S),dC.initNonuniformCatmullRom(c.y,p.y,v.y,d.y,b,T,S),hC.initNonuniformCatmullRom(c.z,p.z,v.z,d.z,b,T,S)}else this.curveType==="catmullrom"&&(fC.initCatmullRom(c.x,p.x,v.x,d.x,this.tension),dC.initCatmullRom(c.y,p.y,v.y,d.y,this.tension),hC.initCatmullRom(c.z,p.z,v.z,d.z,this.tension));return i.set(fC.calc(u),dC.calc(u),hC.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new se().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function y4(t,e,n,i,r){const a=(i-e)*.5,o=(r-n)*.5,s=t*t,u=t*s;return(2*n-2*i+a+o)*u+(-3*n+3*i-2*a-o)*s+a*t+n}function pbe(t,e){const n=1-t;return n*n*e}function mbe(t,e){return 2*(1-t)*t*e}function gbe(t,e){return t*t*e}function Q0(t,e,n,i){return pbe(t,e)+mbe(t,n)+gbe(t,i)}function vbe(t,e){const n=1-t;return n*n*n*e}function ybe(t,e){const n=1-t;return 3*n*n*t*e}function _be(t,e){return 3*(1-t)*t*t*e}function bbe(t,e){return t*t*t*e}function ey(t,e,n,i,r){return vbe(t,e)+ybe(t,n)+_be(t,i)+bbe(t,r)}class $N extends Ql{constructor(e=new st,n=new st,i=new st,r=new st){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new st){const i=n,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return i.set(ey(e,r.x,a.x,o.x,s.x),ey(e,r.y,a.y,o.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class U9 extends Ql{constructor(e=new se,n=new se,i=new se,r=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new se){const i=n,r=this.v0,a=this.v1,o=this.v2,s=this.v3;return i.set(ey(e,r.x,a.x,o.x,s.x),ey(e,r.y,a.y,o.y,s.y),ey(e,r.z,a.z,o.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class KN extends Ql{constructor(e=new st,n=new st){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new st){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new st){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class F9 extends Ql{constructor(e=new se,n=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new se){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new se){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JN extends Ql{constructor(e=new st,n=new st,i=new st){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new st){const i=n,r=this.v0,a=this.v1,o=this.v2;return i.set(Q0(e,r.x,a.x,o.x),Q0(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZN extends Ql{constructor(e=new se,n=new se,i=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new se){const i=n,r=this.v0,a=this.v1,o=this.v2;return i.set(Q0(e,r.x,a.x,o.x),Q0(e,r.y,a.y,o.y),Q0(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QN extends Ql{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new st){const i=n,r=this.points,a=(r.length-1)*e,o=Math.floor(a),s=a-o,u=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],p=r[o>r.length-3?r.length-1:o+2];return i.set(y4(s,u.x,c.x,d.x,p.x),y4(s,u.y,c.y,d.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new st().fromArray(r))}return this}}var yE=Object.freeze({__proto__:null,ArcCurve:O9,CatmullRomCurve3:L9,CubicBezierCurve:$N,CubicBezierCurve3:U9,EllipseCurve:XT,LineCurve:KN,LineCurve3:F9,QuadraticBezierCurve:JN,QuadraticBezierCurve3:ZN,SplineCurve:QN});class k9 extends Ql{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new yE[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,s=this.curves[a],u=s.getLength(),c=u===0?0:1-o/u;return s.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(s);for(let c=0;c<u.length;c++){const d=u[c];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new yE[r.type]().fromJSON(r))}return this}}class _E extends k9{constructor(e){super(),this.type="Path",this.currentPoint=new st,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new KN(this.currentPoint.clone(),new st(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new JN(this.currentPoint.clone(),new st(e,n),new st(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,o){const s=new $N(this.currentPoint.clone(),new st(e,n),new st(i,r),new st(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new QN(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,o){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,n+u,i,r,a,o),this}absarc(e,n,i,r,a,o){return this.absellipse(e,n,i,i,r,a,o),this}ellipse(e,n,i,r,a,o,s,u){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,i,r,a,o,s,u),this}absellipse(e,n,i,r,a,o,s,u){const c=new XT(e,n,i,r,a,o,s,u);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jh extends _E{constructor(e){super(e),this.uuid=ys(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new _E().fromJSON(r))}return this}}function xbe(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=B9(t,0,r,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,u,c;if(i&&(a=Mbe(t,e,a,n)),t.length>80*n){s=t[0],u=t[1];let d=s,p=u;for(let v=n;v<r;v+=n){const y=t[v],b=t[v+1];y<s&&(s=y),b<u&&(u=b),y>d&&(d=y),b>p&&(p=b)}c=Math.max(d-s,p-u),c=c!==0?32767/c:0}return Ny(a,o,n,s,u,c,0),o}function B9(t,e,n,i,r){let a;if(r===Fbe(t,e,n,i)>0)for(let o=e;o<n;o+=i)a=_4(o/i|0,t[o],t[o+1],a);else for(let o=n-i;o>=e;o-=i)a=_4(o/i|0,t[o],t[o+1],a);return a&&Sg(a,a.next)&&(Oy(a),a=a.next),a}function up(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(Sg(n,n.next)||Ji(n.prev,n,n.next)===0)){if(Oy(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Ny(t,e,n,i,r,a,o){if(!t)return;!o&&a&&Pbe(t,i,r,a);let s=t;for(;t.prev!==t.next;){const u=t.prev,c=t.next;if(a?Ebe(t,i,r,a):Sbe(t)){e.push(u.i,t.i,c.i),Oy(t),t=c.next,s=c.next;continue}if(t=c,t===s){o?o===1?(t=Tbe(up(t),e),Ny(t,e,n,i,r,a,2)):o===2&&Abe(t,e,n,i,r,a):Ny(up(t),e,n,i,r,a,1);break}}}function Sbe(t){const e=t.prev,n=t,i=t.next;if(Ji(e,n,i)>=0)return!1;const r=e.x,a=n.x,o=i.x,s=e.y,u=n.y,c=i.y,d=Math.min(r,a,o),p=Math.min(s,u,c),v=Math.max(r,a,o),y=Math.max(s,u,c);let b=i.next;for(;b!==e;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=y&&H0(r,s,a,u,o,c,b.x,b.y)&&Ji(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function Ebe(t,e,n,i){const r=t.prev,a=t,o=t.next;if(Ji(r,a,o)>=0)return!1;const s=r.x,u=a.x,c=o.x,d=r.y,p=a.y,v=o.y,y=Math.min(s,u,c),b=Math.min(d,p,v),T=Math.max(s,u,c),S=Math.max(d,p,v),A=iI(y,b,e,n,i),R=iI(T,S,e,n,i);let I=t.prevZ,N=t.nextZ;for(;I&&I.z>=A&&N&&N.z<=R;){if(I.x>=y&&I.x<=T&&I.y>=b&&I.y<=S&&I!==r&&I!==o&&H0(s,d,u,p,c,v,I.x,I.y)&&Ji(I.prev,I,I.next)>=0||(I=I.prevZ,N.x>=y&&N.x<=T&&N.y>=b&&N.y<=S&&N!==r&&N!==o&&H0(s,d,u,p,c,v,N.x,N.y)&&Ji(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;I&&I.z>=A;){if(I.x>=y&&I.x<=T&&I.y>=b&&I.y<=S&&I!==r&&I!==o&&H0(s,d,u,p,c,v,I.x,I.y)&&Ji(I.prev,I,I.next)>=0)return!1;I=I.prevZ}for(;N&&N.z<=R;){if(N.x>=y&&N.x<=T&&N.y>=b&&N.y<=S&&N!==r&&N!==o&&H0(s,d,u,p,c,v,N.x,N.y)&&Ji(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Tbe(t,e){let n=t;do{const i=n.prev,r=n.next.next;!Sg(i,r)&&G9(i,n,n.next,r)&&Dy(i,r)&&Dy(r,i)&&(e.push(i.i,n.i,r.i),Oy(n),Oy(n.next),n=t=r),n=n.next}while(n!==t);return up(n)}function Abe(t,e,n,i,r,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&Obe(o,s)){let u=V9(o,s);o=up(o,o.next),u=up(u,u.next),Ny(o,e,n,i,r,a,0),Ny(u,e,n,i,r,a,0);return}s=s.next}o=o.next}while(o!==t)}function Mbe(t,e,n,i){const r=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*i,u=a<o-1?e[a+1]*i:t.length,c=B9(t,s,u,i,!1);c===c.next&&(c.steiner=!0),r.push(Dbe(c))}r.sort(wbe);for(let a=0;a<r.length;a++)n=Cbe(r[a],n);return n}function wbe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function Cbe(t,e){const n=Rbe(t,e);if(!n)return e;const i=V9(n,t);return up(i,i.next),up(n,n.next)}function Rbe(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,o;if(Sg(t,n))return n;do{if(Sg(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const p=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=i&&p>a&&(a=p,o=n.x<n.next.x?n:n.next,p===i))return o}n=n.next}while(n!==e);if(!o)return null;const s=o,u=o.x,c=o.y;let d=1/0;n=o;do{if(i>=n.x&&n.x>=u&&i!==n.x&&z9(r<c?i:a,r,u,c,r<c?a:i,r,n.x,n.y)){const p=Math.abs(r-n.y)/(i-n.x);Dy(n,t)&&(p<d||p===d&&(n.x>o.x||n.x===o.x&&Ibe(o,n)))&&(o=n,d=p)}n=n.next}while(n!==s);return o}function Ibe(t,e){return Ji(t.prev,t,e.prev)<0&&Ji(e.next,t,t.next)<0}function Pbe(t,e,n,i){let r=t;do r.z===0&&(r.z=iI(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Nbe(r)}function Nbe(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let o=i,s=0;for(let c=0;c<n&&(s++,o=o.nextZ,!!o);c++);let u=n;for(;s>0||u>0&&o;)s!==0&&(u===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,s--):(r=o,o=o.nextZ,u--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=o}a.nextZ=null,n*=2}while(e>1);return t}function iI(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Dbe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function z9(t,e,n,i,r,a,o,s){return(r-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(i-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function H0(t,e,n,i,r,a,o,s){return!(t===o&&e===s)&&z9(t,e,n,i,r,a,o,s)}function Obe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Lbe(t,e)&&(Dy(t,e)&&Dy(e,t)&&Ube(t,e)&&(Ji(t.prev,t,e.prev)||Ji(t,e.prev,e))||Sg(t,e)&&Ji(t.prev,t,t.next)>0&&Ji(e.prev,e,e.next)>0)}function Ji(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Sg(t,e){return t.x===e.x&&t.y===e.y}function G9(t,e,n,i){const r=Zx(Ji(t,e,n)),a=Zx(Ji(t,e,i)),o=Zx(Ji(n,i,t)),s=Zx(Ji(n,i,e));return!!(r!==a&&o!==s||r===0&&Jx(t,n,e)||a===0&&Jx(t,i,e)||o===0&&Jx(n,t,i)||s===0&&Jx(n,e,i))}function Jx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zx(t){return t>0?1:t<0?-1:0}function Lbe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&G9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Dy(t,e){return Ji(t.prev,t,t.next)<0?Ji(t,e,t.next)>=0&&Ji(t,t.prev,e)>=0:Ji(t,e,t.prev)<0||Ji(t,t.next,e)<0}function Ube(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function V9(t,e){const n=rI(t.i,t.x,t.y),i=rI(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function _4(t,e,n,i){const r=rI(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Oy(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rI(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Fbe(t,e,n,i){let r=0;for(let a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}class kbe{static triangulate(e,n,i=2){return xbe(e,n,i)}}class ql{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return ql.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];b4(e),x4(i,e);let o=e.length;n.forEach(b4);for(let u=0;u<n.length;u++)r.push(o),o+=n[u].length,x4(i,n[u]);const s=kbe.triangulate(i,r);for(let u=0;u<s.length;u+=3)a.push(s.slice(u,u+3));return a}}function b4(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function x4(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class YT extends cn{constructor(e=new Jh([new st(.5,.5),new st(-.5,.5),new st(-.5,-.5),new st(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let s=0,u=e.length;s<u;s++){const c=e[s];o(c)}this.setAttribute("position",new Ft(r,3)),this.setAttribute("uv",new Ft(a,2)),this.computeVertexNormals();function o(s){const u=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let v=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,b=n.bevelSize!==void 0?n.bevelSize:y-.1,T=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const A=n.extrudePath,R=n.UVGenerator!==void 0?n.UVGenerator:Bbe;let I,N=!1,D,O,F,z;if(A){I=A.getSpacedPoints(d),N=!0,v=!1;const Ee=A.isCatmullRomCurve3?A.closed:!1;D=A.computeFrenetFrames(d,Ee),O=new se,F=new se,z=new se}v||(S=0,y=0,b=0,T=0);const U=s.extractPoints(c);let B=U.shape;const j=U.holes;if(!ql.isClockWise(B)){B=B.reverse();for(let Ee=0,Oe=j.length;Ee<Oe;Ee++){const Me=j[Ee];ql.isClockWise(Me)&&(j[Ee]=Me.reverse())}}function Y(Ee){const Me=10000000000000001e-36;let Je=Ee[0];for(let K=1;K<=Ee.length;K++){const at=K%Ee.length,je=Ee[at],Re=je.x-Je.x,Ve=je.y-Je.y,$=Re*Re+Ve*Ve,q=Math.max(Math.abs(je.x),Math.abs(je.y),Math.abs(Je.x),Math.abs(Je.y)),fe=Me*q*q;if($<=fe){Ee.splice(at,1),K--;continue}Je=je}}Y(B),j.forEach(Y);const Q=j.length,ae=B;for(let Ee=0;Ee<Q;Ee++){const Oe=j[Ee];B=B.concat(Oe)}function X(Ee,Oe,Me){return Oe||Ht("ExtrudeGeometry: vec does not exist"),Ee.clone().addScaledVector(Oe,Me)}const ne=B.length;function ge(Ee,Oe,Me){let Je,K,at;const je=Ee.x-Oe.x,Re=Ee.y-Oe.y,Ve=Me.x-Ee.x,$=Me.y-Ee.y,q=je*je+Re*Re,fe=je*$-Re*Ve;if(Math.abs(fe)>Number.EPSILON){const Le=Math.sqrt(q),Ce=Math.sqrt(Ve*Ve+$*$),Te=Oe.x-Re/Le,ot=Oe.y+je/Le,it=Me.x-$/Ce,mt=Me.y+Ve/Ce,xt=((it-Te)*$-(mt-ot)*Ve)/(je*$-Re*Ve);Je=Te+je*xt-Ee.x,K=ot+Re*xt-Ee.y;const We=Je*Je+K*K;if(We<=2)return new st(Je,K);at=Math.sqrt(We/2)}else{let Le=!1;je>Number.EPSILON?Ve>Number.EPSILON&&(Le=!0):je<-Number.EPSILON?Ve<-Number.EPSILON&&(Le=!0):Math.sign(Re)===Math.sign($)&&(Le=!0),Le?(Je=-Re,K=je,at=Math.sqrt(q)):(Je=je,K=Re,at=Math.sqrt(q/2))}return new st(Je/at,K/at)}const pe=[];for(let Ee=0,Oe=ae.length,Me=Oe-1,Je=Ee+1;Ee<Oe;Ee++,Me++,Je++)Me===Oe&&(Me=0),Je===Oe&&(Je=0),pe[Ee]=ge(ae[Ee],ae[Me],ae[Je]);const de=[];let H,te=pe.concat();for(let Ee=0,Oe=Q;Ee<Oe;Ee++){const Me=j[Ee];H=[];for(let Je=0,K=Me.length,at=K-1,je=Je+1;Je<K;Je++,at++,je++)at===K&&(at=0),je===K&&(je=0),H[Je]=ge(Me[Je],Me[at],Me[je]);de.push(H),te=te.concat(H)}let ie;if(S===0)ie=ql.triangulateShape(ae,j);else{const Ee=[],Oe=[];for(let Me=0;Me<S;Me++){const Je=Me/S,K=y*Math.cos(Je*Math.PI/2),at=b*Math.sin(Je*Math.PI/2)+T;for(let je=0,Re=ae.length;je<Re;je++){const Ve=X(ae[je],pe[je],at);he(Ve.x,Ve.y,-K),Je===0&&Ee.push(Ve)}for(let je=0,Re=Q;je<Re;je++){const Ve=j[je];H=de[je];const $=[];for(let q=0,fe=Ve.length;q<fe;q++){const Le=X(Ve[q],H[q],at);he(Le.x,Le.y,-K),Je===0&&$.push(Le)}Je===0&&Oe.push($)}}ie=ql.triangulateShape(Ee,Oe)}const ce=ie.length,ye=b+T;for(let Ee=0;Ee<ne;Ee++){const Oe=v?X(B[Ee],te[Ee],ye):B[Ee];N?(F.copy(D.normals[0]).multiplyScalar(Oe.x),O.copy(D.binormals[0]).multiplyScalar(Oe.y),z.copy(I[0]).add(F).add(O),he(z.x,z.y,z.z)):he(Oe.x,Oe.y,0)}for(let Ee=1;Ee<=d;Ee++)for(let Oe=0;Oe<ne;Oe++){const Me=v?X(B[Oe],te[Oe],ye):B[Oe];N?(F.copy(D.normals[Ee]).multiplyScalar(Me.x),O.copy(D.binormals[Ee]).multiplyScalar(Me.y),z.copy(I[Ee]).add(F).add(O),he(z.x,z.y,z.z)):he(Me.x,Me.y,p/d*Ee)}for(let Ee=S-1;Ee>=0;Ee--){const Oe=Ee/S,Me=y*Math.cos(Oe*Math.PI/2),Je=b*Math.sin(Oe*Math.PI/2)+T;for(let K=0,at=ae.length;K<at;K++){const je=X(ae[K],pe[K],Je);he(je.x,je.y,p+Me)}for(let K=0,at=j.length;K<at;K++){const je=j[K];H=de[K];for(let Re=0,Ve=je.length;Re<Ve;Re++){const $=X(je[Re],H[Re],Je);N?he($.x,$.y+I[d-1].y,I[d-1].x+Me):he($.x,$.y,p+Me)}}}oe(),le();function oe(){const Ee=r.length/3;if(v){let Oe=0,Me=ne*Oe;for(let Je=0;Je<ce;Je++){const K=ie[Je];De(K[2]+Me,K[1]+Me,K[0]+Me)}Oe=d+S*2,Me=ne*Oe;for(let Je=0;Je<ce;Je++){const K=ie[Je];De(K[0]+Me,K[1]+Me,K[2]+Me)}}else{for(let Oe=0;Oe<ce;Oe++){const Me=ie[Oe];De(Me[2],Me[1],Me[0])}for(let Oe=0;Oe<ce;Oe++){const Me=ie[Oe];De(Me[0]+ne*d,Me[1]+ne*d,Me[2]+ne*d)}}i.addGroup(Ee,r.length/3-Ee,0)}function le(){const Ee=r.length/3;let Oe=0;Se(ae,Oe),Oe+=ae.length;for(let Me=0,Je=j.length;Me<Je;Me++){const K=j[Me];Se(K,Oe),Oe+=K.length}i.addGroup(Ee,r.length/3-Ee,1)}function Se(Ee,Oe){let Me=Ee.length;for(;--Me>=0;){const Je=Me;let K=Me-1;K<0&&(K=Ee.length-1);for(let at=0,je=d+S*2;at<je;at++){const Re=ne*at,Ve=ne*(at+1),$=Oe+Je+Re,q=Oe+K+Re,fe=Oe+K+Ve,Le=Oe+Je+Ve;Fe($,q,fe,Le)}}}function he(Ee,Oe,Me){u.push(Ee),u.push(Oe),u.push(Me)}function De(Ee,Oe,Me){ve(Ee),ve(Oe),ve(Me);const Je=r.length/3,K=R.generateTopUV(i,r,Je-3,Je-2,Je-1);ct(K[0]),ct(K[1]),ct(K[2])}function Fe(Ee,Oe,Me,Je){ve(Ee),ve(Oe),ve(Je),ve(Oe),ve(Me),ve(Je);const K=r.length/3,at=R.generateSideWallUV(i,r,K-6,K-3,K-2,K-1);ct(at[0]),ct(at[1]),ct(at[3]),ct(at[1]),ct(at[2]),ct(at[3])}function ve(Ee){r.push(u[Ee*3+0]),r.push(u[Ee*3+1]),r.push(u[Ee*3+2])}function ct(Ee){a.push(Ee.x),a.push(Ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return zbe(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];i.push(s)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new yE[r.type]().fromJSON(r)),new YT(i,e.options)}}const Bbe={generateTopUV:function(t,e,n,i,r){const a=e[n*3],o=e[n*3+1],s=e[i*3],u=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new st(a,o),new st(s,u),new st(c,d)]},generateSideWallUV:function(t,e,n,i,r,a){const o=e[n*3],s=e[n*3+1],u=e[n*3+2],c=e[i*3],d=e[i*3+1],p=e[i*3+2],v=e[r*3],y=e[r*3+1],b=e[r*3+2],T=e[a*3],S=e[a*3+1],A=e[a*3+2];return Math.abs(s-d)<Math.abs(o-c)?[new st(o,1-u),new st(c,1-p),new st(v,1-b),new st(T,1-A)]:[new st(s,1-u),new st(d,1-p),new st(y,1-b),new st(S,1-A)]}};function zbe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $T extends Dd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $T(e.radius,e.detail)}}class KT extends cn{constructor(e=[new st(0,-.5),new st(.5,0),new st(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Qt(r,0,Math.PI*2);const a=[],o=[],s=[],u=[],c=[],d=1/n,p=new se,v=new st,y=new se,b=new se,T=new se;let S=0,A=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:S=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,y.x=A*1,y.y=-S,y.z=A*0,T.copy(y),y.normalize(),u.push(y.x,y.y,y.z);break;case e.length-1:u.push(T.x,T.y,T.z);break;default:S=e[R+1].x-e[R].x,A=e[R+1].y-e[R].y,y.x=A*1,y.y=-S,y.z=A*0,b.copy(y),y.x+=T.x,y.y+=T.y,y.z+=T.z,y.normalize(),u.push(y.x,y.y,y.z),T.copy(b)}for(let R=0;R<=n;R++){const I=i+R*d*r,N=Math.sin(I),D=Math.cos(I);for(let O=0;O<=e.length-1;O++){p.x=e[O].x*N,p.y=e[O].y,p.z=e[O].x*D,o.push(p.x,p.y,p.z),v.x=R/n,v.y=O/(e.length-1),s.push(v.x,v.y);const F=u[3*O+0]*N,z=u[3*O+1],U=u[3*O+0]*D;c.push(F,z,U)}}for(let R=0;R<n;R++)for(let I=0;I<e.length-1;I++){const N=I+R*e.length,D=N,O=N+e.length,F=N+e.length+1,z=N+1;a.push(D,O,z),a.push(F,z,O)}this.setIndex(a),this.setAttribute("position",new Ft(o,3)),this.setAttribute("uv",new Ft(s,2)),this.setAttribute("normal",new Ft(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KT(e.points,e.segments,e.phiStart,e.phiLength)}}class m_ extends Dd{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new m_(e.radius,e.detail)}}class mf extends cn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,o=n/2,s=Math.floor(i),u=Math.floor(r),c=s+1,d=u+1,p=e/s,v=n/u,y=[],b=[],T=[],S=[];for(let A=0;A<d;A++){const R=A*v-o;for(let I=0;I<c;I++){const N=I*p-a;b.push(N,-R,0),T.push(0,0,1),S.push(I/s),S.push(1-A/u)}}for(let A=0;A<u;A++)for(let R=0;R<s;R++){const I=R+c*A,N=R+c*(A+1),D=R+1+c*(A+1),O=R+1+c*A;y.push(I,N,O),y.push(N,D,O)}this.setIndex(y),this.setAttribute("position",new Ft(b,3)),this.setAttribute("normal",new Ft(T,3)),this.setAttribute("uv",new Ft(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mf(e.width,e.height,e.widthSegments,e.heightSegments)}}class JT extends cn{constructor(e=.5,n=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const s=[],u=[],c=[],d=[];let p=e;const v=(n-e)/r,y=new se,b=new st;for(let T=0;T<=r;T++){for(let S=0;S<=i;S++){const A=a+S/i*o;y.x=p*Math.cos(A),y.y=p*Math.sin(A),u.push(y.x,y.y,y.z),c.push(0,0,1),b.x=(y.x/n+1)/2,b.y=(y.y/n+1)/2,d.push(b.x,b.y)}p+=v}for(let T=0;T<r;T++){const S=T*(i+1);for(let A=0;A<i;A++){const R=A+S,I=R,N=R+i+1,D=R+i+2,O=R+1;s.push(I,N,O),s.push(N,D,O)}}this.setIndex(s),this.setAttribute("position",new Ft(u,3)),this.setAttribute("normal",new Ft(c,3)),this.setAttribute("uv",new Ft(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JT(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ZT extends cn{constructor(e=new Jh([new st(0,.5),new st(-.5,-.5),new st(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],o=[];let s=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(s,u,d),s+=u,u=0;this.setIndex(i),this.setAttribute("position",new Ft(r,3)),this.setAttribute("normal",new Ft(a,3)),this.setAttribute("uv",new Ft(o,2));function c(d){const p=r.length/3,v=d.extractPoints(n);let y=v.shape;const b=v.holes;ql.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,A=b.length;S<A;S++){const R=b[S];ql.isClockWise(R)===!0&&(b[S]=R.reverse())}const T=ql.triangulateShape(y,b);for(let S=0,A=b.length;S<A;S++){const R=b[S];y=y.concat(R)}for(let S=0,A=y.length;S<A;S++){const R=y[S];r.push(R.x,R.y,0),a.push(0,0,1),o.push(R.x,R.y)}for(let S=0,A=T.length;S<A;S++){const R=T[S],I=R[0]+p,N=R[1]+p,D=R[2]+p;i.push(I,N,D),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Gbe(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=n[e.shapes[r]];i.push(o)}return new ZT(i,e.curveSegments)}}function Gbe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class g_ extends cn{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const u=Math.min(o+s,Math.PI);let c=0;const d=[],p=new se,v=new se,y=[],b=[],T=[],S=[];for(let A=0;A<=i;A++){const R=[],I=A/i;let N=0;A===0&&o===0?N=.5/n:A===i&&u===Math.PI&&(N=-.5/n);for(let D=0;D<=n;D++){const O=D/n;p.x=-e*Math.cos(r+O*a)*Math.sin(o+I*s),p.y=e*Math.cos(o+I*s),p.z=e*Math.sin(r+O*a)*Math.sin(o+I*s),b.push(p.x,p.y,p.z),v.copy(p).normalize(),T.push(v.x,v.y,v.z),S.push(O+N,1-I),R.push(c++)}d.push(R)}for(let A=0;A<i;A++)for(let R=0;R<n;R++){const I=d[A][R+1],N=d[A][R],D=d[A+1][R],O=d[A+1][R+1];(A!==0||o>0)&&y.push(I,N,O),(A!==i-1||u<Math.PI)&&y.push(N,D,O)}this.setIndex(y),this.setAttribute("position",new Ft(b,3)),this.setAttribute("normal",new Ft(T,3)),this.setAttribute("uv",new Ft(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class QT extends Dd{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new QT(e.radius,e.detail)}}class eA extends cn{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],s=[],u=[],c=[],d=new se,p=new se,v=new se;for(let y=0;y<=i;y++)for(let b=0;b<=r;b++){const T=b/r*a,S=y/i*Math.PI*2;p.x=(e+n*Math.cos(S))*Math.cos(T),p.y=(e+n*Math.cos(S))*Math.sin(T),p.z=n*Math.sin(S),s.push(p.x,p.y,p.z),d.x=e*Math.cos(T),d.y=e*Math.sin(T),v.subVectors(p,d).normalize(),u.push(v.x,v.y,v.z),c.push(b/r),c.push(y/i)}for(let y=1;y<=i;y++)for(let b=1;b<=r;b++){const T=(r+1)*y+b-1,S=(r+1)*(y-1)+b-1,A=(r+1)*(y-1)+b,R=(r+1)*y+b;o.push(T,S,R),o.push(S,A,R)}this.setIndex(o),this.setAttribute("position",new Ft(s,3)),this.setAttribute("normal",new Ft(u,3)),this.setAttribute("uv",new Ft(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class tA extends cn{constructor(e=1,n=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const s=[],u=[],c=[],d=[],p=new se,v=new se,y=new se,b=new se,T=new se,S=new se,A=new se;for(let I=0;I<=i;++I){const N=I/i*a*Math.PI*2;R(N,a,o,e,y),R(N+.01,a,o,e,b),S.subVectors(b,y),A.addVectors(b,y),T.crossVectors(S,A),A.crossVectors(T,S),T.normalize(),A.normalize();for(let D=0;D<=r;++D){const O=D/r*Math.PI*2,F=-n*Math.cos(O),z=n*Math.sin(O);p.x=y.x+(F*A.x+z*T.x),p.y=y.y+(F*A.y+z*T.y),p.z=y.z+(F*A.z+z*T.z),u.push(p.x,p.y,p.z),v.subVectors(p,y).normalize(),c.push(v.x,v.y,v.z),d.push(I/i),d.push(D/r)}}for(let I=1;I<=i;I++)for(let N=1;N<=r;N++){const D=(r+1)*(I-1)+(N-1),O=(r+1)*I+(N-1),F=(r+1)*I+N,z=(r+1)*(I-1)+N;s.push(D,O,z),s.push(O,F,z)}this.setIndex(s),this.setAttribute("position",new Ft(u,3)),this.setAttribute("normal",new Ft(c,3)),this.setAttribute("uv",new Ft(d,2));function R(I,N,D,O,F){const z=Math.cos(I),U=Math.sin(I),B=D/N*I,j=Math.cos(B);F.x=O*(2+j)*.5*z,F.y=O*(2+j)*U*.5,F.z=O*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class nA extends cn{constructor(e=new ZN(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new se,u=new se,c=new st;let d=new se;const p=[],v=[],y=[],b=[];T(),this.setIndex(b),this.setAttribute("position",new Ft(p,3)),this.setAttribute("normal",new Ft(v,3)),this.setAttribute("uv",new Ft(y,2));function T(){for(let I=0;I<n;I++)S(I);S(a===!1?n:0),R(),A()}function S(I){d=e.getPointAt(I/n,d);const N=o.normals[I],D=o.binormals[I];for(let O=0;O<=r;O++){const F=O/r*Math.PI*2,z=Math.sin(F),U=-Math.cos(F);u.x=U*N.x+z*D.x,u.y=U*N.y+z*D.y,u.z=U*N.z+z*D.z,u.normalize(),v.push(u.x,u.y,u.z),s.x=d.x+i*u.x,s.y=d.y+i*u.y,s.z=d.z+i*u.z,p.push(s.x,s.y,s.z)}}function A(){for(let I=1;I<=n;I++)for(let N=1;N<=r;N++){const D=(r+1)*(I-1)+(N-1),O=(r+1)*I+(N-1),F=(r+1)*I+N,z=(r+1)*(I-1)+N;b.push(D,O,z),b.push(O,F,z)}}function R(){for(let I=0;I<=n;I++)for(let N=0;N<=r;N++)c.x=I/n,c.y=N/r,y.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new nA(new yE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class H9 extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new se,a=new se;if(e.index!==null){const o=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,d=u.length;c<d;++c){const p=u[c],v=p.start,y=p.count;for(let b=v,T=v+y;b<T;b+=3)for(let S=0;S<3;S++){const A=s.getX(b+S),R=s.getX(b+(S+1)%3);r.fromBufferAttribute(o,A),a.fromBufferAttribute(o,R),S4(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,u=o.count/3;s<u;s++)for(let c=0;c<3;c++){const d=3*s+c,p=3*s+(c+1)%3;r.fromBufferAttribute(o,d),a.fromBufferAttribute(o,p),S4(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ft(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function S4(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var E4=Object.freeze({__proto__:null,BoxGeometry:gp,CapsuleGeometry:qT,CircleGeometry:WT,ConeGeometry:p_,CylinderGeometry:h_,DodecahedronGeometry:jT,EdgesGeometry:D9,ExtrudeGeometry:YT,IcosahedronGeometry:$T,LatheGeometry:KT,OctahedronGeometry:m_,PlaneGeometry:mf,PolyhedronGeometry:Dd,RingGeometry:JT,ShapeGeometry:ZT,SphereGeometry:g_,TetrahedronGeometry:QT,TorusGeometry:eA,TorusKnotGeometry:tA,TubeGeometry:nA,WireframeGeometry:H9});class q9 extends Ya{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class eD extends Es{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class tD extends Ya{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W9 extends tD{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new st(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class j9 extends Ya{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=c_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class X9 extends Ya{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Y9 extends Ya{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $9 extends Ya{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ss,this.combine=c_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iA extends Ya{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=o9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rA extends Ya{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class K9 extends Ya{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nd,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J9 extends xo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wh(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Z9(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function aI(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,o=0;o!==i;++a){const s=n[a]*e;for(let u=0;u!==e;++u)r[o++]=t[s+u]}return r}function nD(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),n.push(o)),a=t[r++];while(a!==void 0)}function Vbe(t,e,n,i,r=30){const a=t.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const c=a.tracks[u],d=c.getValueSize(),p=[],v=[];for(let y=0;y<c.times.length;++y){const b=c.times[y]*r;if(!(b<n||b>=i)){p.push(c.times[y]);for(let T=0;T<d;++T)v.push(c.values[y*d+T])}}p.length!==0&&(c.times=Wh(p,c.times.constructor),c.values=Wh(v,c.values.constructor),o.push(c))}a.tracks=o;let s=1/0;for(let u=0;u<a.tracks.length;++u)s>a.tracks[u].times[0]&&(s=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*s);return a.resetDuration(),a}function Hbe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let o=0;o<r;++o){const s=n.tracks[o],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const c=t.tracks.find(function(A){return A.name===s.name&&A.ValueTypeName===u});if(c===void 0)continue;let d=0;const p=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let v=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const b=s.times.length-1;let T;if(a<=s.times[0]){const A=d,R=p-d;T=s.values.slice(A,R)}else if(a>=s.times[b]){const A=b*p+d,R=A+p-d;T=s.values.slice(A,R)}else{const A=s.createInterpolant(),R=d,I=p-d;A.evaluate(a),T=A.resultBuffer.slice(R,I)}u==="quaternion"&&new Xa().fromArray(T).normalize().conjugate().toArray(T);const S=c.times.length;for(let A=0;A<S;++A){const R=A*y+v;if(u==="quaternion")Xa.multiplyQuaternionsFlat(c.values,R,T,0,c.values,R);else{const I=y-v*2;for(let N=0;N<I;++N)c.values[R+N]-=T[N]}}}return t.blendMode=UN,t}class qbe{static convertArray(e,n){return Wh(e,n)}static isTypedArray(e){return g9(e)}static getKeyframeOrder(e){return Z9(e)}static sortedArray(e,n,i){return aI(e,n,i)}static flattenJSON(e,n,i,r){nD(e,n,i,r)}static subclip(e,n,i,r,a=30){return Vbe(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return Hbe(e,n,i,r)}}class v_{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let s=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(a=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(i=2,a=s);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=n[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const s=i+o>>>1;e<n[s]?o=s:i=s+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)n[o]=i[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Q9 extends v_{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hh,endingEnd:Hh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,o=e+1,s=r[a],u=r[o];if(s===void 0)switch(this.getSettings_().endingStart){case qh:a=e,s=2*n-i;break;case wy:a=r.length-2,s=n+r[a]-r[a+1];break;default:a=e,s=i}if(u===void 0)switch(this.getSettings_().endingEnd){case qh:o=e,u=2*i-n;break;case wy:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=n}const c=(i-n)*.5,d=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(u-i),this._offsetPrev=a*d,this._offsetNext=o*d}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,d=this._offsetPrev,p=this._offsetNext,v=this._weightPrev,y=this._weightNext,b=(i-n)/(r-n),T=b*b,S=T*b,A=-v*S+2*v*T-v*b,R=(1+v)*S+(-1.5-2*v)*T+(-.5+v)*b+1,I=(-1-y)*S+(1.5+y)*T+.5*b,N=y*S-y*T;for(let D=0;D!==s;++D)a[D]=A*o[d+D]+R*o[c+D]+I*o[u+D]+N*o[p+D];return a}}class iD extends v_{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,d=(i-n)/(r-n),p=1-d;for(let v=0;v!==s;++v)a[v]=o[c+v]*p+o[u+v]*d;return a}}class e7 extends v_{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class pl{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wh(n,this.TimeBufferType),this.values=Wh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Wh(e.times,Array),values:Wh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new e7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new iD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Q9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case My:n=this.InterpolantFactoryMethodDiscrete;break;case mE:n=this.InterpolantFactoryMethodLinear;break;case AS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Mt("KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return My;case this.InterpolantFactoryMethodLinear:return mE;case this.InterpolantFactoryMethodSmooth:return AS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>n;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(Ht("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(Ht("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const u=i[s];if(typeof u=="number"&&isNaN(u)){Ht("KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(o!==null&&o>u){Ht("KeyframeTrack: Out of order keys.",this,s,u,o),e=!1;break}o=u}if(r!==void 0&&g9(r))for(let s=0,u=r.length;s!==u;++s){const c=r[s];if(isNaN(c)){Ht("KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===AS,a=e.length-1;let o=1;for(let s=1;s<a;++s){let u=!1;const c=e[s],d=e[s+1];if(c!==d&&(s!==1||c!==e[0]))if(r)u=!0;else{const p=s*i,v=p-i,y=p+i;for(let b=0;b!==i;++b){const T=n[p+b];if(T!==n[v+b]||T!==n[y+b]){u=!0;break}}}if(u){if(s!==o){e[o]=e[s];const p=s*i,v=o*i;for(let y=0;y!==i;++y)n[v+y]=n[p+y]}++o}}if(a>0){e[o]=e[a];for(let s=a*i,u=o*i,c=0;c!==i;++c)n[u+c]=n[s+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}pl.prototype.ValueTypeName="";pl.prototype.TimeBufferType=Float32Array;pl.prototype.ValueBufferType=Float32Array;pl.prototype.DefaultInterpolation=mE;class vp extends pl{constructor(e,n,i){super(e,n,i)}}vp.prototype.ValueTypeName="bool";vp.prototype.ValueBufferType=Array;vp.prototype.DefaultInterpolation=My;vp.prototype.InterpolantFactoryMethodLinear=void 0;vp.prototype.InterpolantFactoryMethodSmooth=void 0;class rD extends pl{constructor(e,n,i,r){super(e,n,i,r)}}rD.prototype.ValueTypeName="color";class Ly extends pl{constructor(e,n,i,r){super(e,n,i,r)}}Ly.prototype.ValueTypeName="number";class t7 extends v_{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=(i-n)/(r-n);let c=e*s;for(let d=c+s;c!==d;c+=4)Xa.slerpFlat(a,0,o,c-s,o,c,u);return a}}class y_ extends pl{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new t7(this.times,this.values,this.getValueSize(),e)}}y_.prototype.ValueTypeName="quaternion";y_.prototype.InterpolantFactoryMethodSmooth=void 0;class yp extends pl{constructor(e,n,i){super(e,n,i)}}yp.prototype.ValueTypeName="string";yp.prototype.ValueBufferType=Array;yp.prototype.DefaultInterpolation=My;yp.prototype.InterpolantFactoryMethodLinear=void 0;yp.prototype.InterpolantFactoryMethodSmooth=void 0;class Uy extends pl{constructor(e,n,i,r){super(e,n,i,r)}}Uy.prototype.ValueTypeName="vector";class Fy{constructor(e="",n=-1,i=[],r=NT){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=ys(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,s=i.length;o!==s;++o)n.push(jbe(i[o]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=i.length;a!==o;++a)n.push(pl.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,o=[];for(let s=0;s<a;s++){let u=[],c=[];u.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);const d=Z9(u);u=aI(u,1,d),c=aI(c,1,d),!r&&u[0]===0&&(u.push(a),c.push(c[0])),o.push(new Ly(".morphTargetInfluences["+n[s].name+"]",u,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const c=e[s],d=c.name.match(a);if(d&&d.length>1){const p=d[1];let v=r[p];v||(r[p]=v=[]),v.push(c)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],n,i));return o}static parseAnimation(e,n){if(Mt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Ht("AnimationClip: No animation in JSONLoader data."),null;const i=function(p,v,y,b,T){if(y.length!==0){const S=[],A=[];nD(y,S,A,b),S.length!==0&&T.push(new p(v,S,A))}},r=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const v=c[p].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let b;for(b=0;b<v.length;b++)if(v[b].morphTargets)for(let T=0;T<v[b].morphTargets.length;T++)y[v[b].morphTargets[T]]=-1;for(const T in y){const S=[],A=[];for(let R=0;R!==v[b].morphTargets.length;++R){const I=v[b];S.push(I.time),A.push(I.morphTarget===T?1:0)}r.push(new Ly(".morphTargetInfluence["+T+"]",S,A))}u=y.length*o}else{const y=".bones["+n[p].name+"]";i(Uy,y+".position",v,"pos",r),i(y_,y+".quaternion",v,"rot",r),i(Uy,y+".scale",v,"scl",r)}}return r.length===0?null:new this(a,u,r,s)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Wbe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ly;case"vector":case"vector2":case"vector3":case"vector4":return Uy;case"color":return rD;case"quaternion":return y_;case"bool":case"boolean":return vp;case"string":return yp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function jbe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Wbe(t.type);if(t.times===void 0){const n=[],i=[];nD(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const zu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class aD{constructor(e,n,i){const r=this;let a=!1,o=0,s=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this._abortController=null,this.itemStart=function(d){s++,a===!1&&r.onStart!==void 0&&r.onStart(d,o,s),a=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,s),o===s&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,p){return c.push(d,p),this},this.removeHandler=function(d){const p=c.indexOf(d);return p!==-1&&c.splice(p,2),this},this.getHandler=function(d){for(let p=0,v=c.length;p<v;p+=2){const y=c[p],b=c[p+1];if(y.global&&(y.lastIndex=0),y.test(d))return b}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const n7=new aD;class Qo{constructor(e){this.manager=e!==void 0?e:n7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Qo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Lc={};class Xbe extends Error{constructor(e,n){super(e),this.response=n}}class of extends Qo{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=zu.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Lc[e]!==void 0){Lc[e].push({onLoad:n,onProgress:i,onError:r});return}Lc[e]=[],Lc[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,u=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Mt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Lc[e],p=c.body.getReader(),v=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),y=v?parseInt(v):0,b=y!==0;let T=0;const S=new ReadableStream({start(A){R();function R(){p.read().then(({done:I,value:N})=>{if(I)A.close();else{T+=N.byteLength;const D=new ProgressEvent("progress",{lengthComputable:b,loaded:T,total:y});for(let O=0,F=d.length;O<F;O++){const z=d[O];z.onProgress&&z.onProgress(D)}A.enqueue(N),R()}},I=>{A.error(I)})}}});return new Response(S)}else throw new Xbe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,s));case"json":return c.json();default:if(s==="")return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(s),v=p&&p[1]?p[1].toLowerCase():void 0,y=new TextDecoder(v);return c.arrayBuffer().then(b=>y.decode(b))}}}).then(c=>{zu.add(`file:${e}`,c);const d=Lc[e];delete Lc[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onLoad&&y.onLoad(c)}}).catch(c=>{const d=Lc[e];if(d===void 0)throw this.manager.itemError(e),c;delete Lc[e];for(let p=0,v=d.length;p<v;p++){const y=d[p];y.onError&&y.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Ybe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new of(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(u){r?r(u):Ht(u),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Fy.parse(e[i]);n.push(r)}return n}}class $be extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=[],s=new HT,u=new of(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let c=0;function d(p){u.load(e[p],function(v){const y=a.parse(v,!0);o[p]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},c+=1,c===6&&(y.mipmapCount===1&&(s.minFilter=mi),s.image=o,s.format=y.format,s.needsUpdate=!0,n&&n(s))},i,r)}if(Array.isArray(e))for(let p=0,v=e.length;p<v;++p)d(p);else u.load(e,function(p){const v=a.parse(p,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let b=0;b<y;b++){o[b]={mipmaps:[]};for(let T=0;T<v.mipmapCount;T++)o[b].mipmaps.push(v.mipmaps[b*v.mipmapCount+T]),o[b].format=v.format,o[b].width=v.width,o[b].height=v.height}s.image=o}else s.image.width=v.width,s.image.height=v.height,s.mipmaps=v.mipmaps;v.mipmapCount===1&&(s.minFilter=mi),s.format=v.format,s.needsUpdate=!0,n&&n(s)},i,r);return s}}const Bm=new WeakMap;class ky extends Qo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=zu.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0);else{let p=Bm.get(o);p===void 0&&(p=[],Bm.set(o,p)),p.push({onLoad:n,onError:r})}return o}const s=Iy("img");function u(){d(),n&&n(this);const p=Bm.get(this)||[];for(let v=0;v<p.length;v++){const y=p[v];y.onLoad&&y.onLoad(this)}Bm.delete(this),a.manager.itemEnd(e)}function c(p){d(),r&&r(p),zu.remove(`image:${e}`);const v=Bm.get(this)||[];for(let y=0;y<v.length;y++){const b=v[y];b.onError&&b.onError(p)}Bm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){s.removeEventListener("load",u,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),zu.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class Kbe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=new d_;a.colorSpace=qa;const o=new ky(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function u(c){o.load(e[c],function(d){a.images[c]=d,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let c=0;c<e.length;++c)u(c);return a}}class Jbe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new Yl,s=new of(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(u){let c;try{c=a.parse(u)}catch(d){if(r!==void 0)r(d);else{d(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Jo,o.wrapT=c.wrapT!==void 0?c.wrapT:Jo,o.magFilter=c.magFilter!==void 0?c.magFilter:mi,o.minFilter=c.minFilter!==void 0?c.minFilter:mi,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Bu),c.mipmapCount===1&&(o.minFilter=mi),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class Zbe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=new Qi,o=new ky(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Od extends Hn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class i7 extends Od{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const pC=new en,T4=new se,A4=new se;class oD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new st(512,512),this.mapType=po,this.map=null,this.mapPass=null,this.matrix=new en,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new st(1,1),this._viewportCount=1,this._viewports=[new ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;T4.setFromMatrixPosition(e.matrixWorld),n.position.copy(T4),A4.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(A4),n.updateMatrixWorld(),pC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pC,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(pC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Qbe extends oD{constructor(){super(new _r(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=yg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class r7 extends Od{constructor(e,n,i=0,r=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.target=new Hn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Qbe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class exe extends oD{constructor(){super(new _r(90,1,.5,500)),this.isPointLightShadow=!0}}class a7 extends Od{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new exe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class Xc extends FT{constructor(e=-1,n=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,s=r+n,u=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=d*this.view.offsetY,u=s-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class txe extends oD{constructor(){super(new Xc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class o7 extends Od{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Hn.DEFAULT_UP),this.updateMatrix(),this.target=new Hn,this.shadow=new txe}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class s7 extends Od{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class l7 extends Od{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class sD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(i*a)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*i*a),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class u7 extends Od{constructor(e=new sD,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class aA extends Qo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,o=new of(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(u){r?r(u):Ht(u),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&Mt("MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new Ct().setHex(o.value);break;case"v2":r.uniforms[a].value=new st().fromArray(o.value);break;case"v3":r.uniforms[a].value=new se().fromArray(o.value);break;case"v4":r.uniforms[a].value=new ri().fromArray(o.value);break;case"m3":r.uniforms[a].value=new un().fromArray(o.value);break;case"m4":r.uniforms[a].value=new en().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new st().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new st().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return aA.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:q9,SpriteMaterial:qN,RawShaderMaterial:eD,ShaderMaterial:Es,PointsMaterial:jN,MeshPhysicalMaterial:W9,MeshStandardMaterial:tD,MeshPhongMaterial:j9,MeshToonMaterial:X9,MeshNormalMaterial:Y9,MeshLambertMaterial:$9,MeshDepthMaterial:iA,MeshDistanceMaterial:rA,MeshBasicMaterial:pf,MeshMatcapMaterial:K9,LineDashedMaterial:J9,LineBasicMaterial:xo,Material:Ya};return new n[e]}}class oI{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class lD extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class c7 extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new of(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(u){r?r(u):Ht(u),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(y,b){if(n[b]!==void 0)return n[b];const S=y.interleavedBuffers[b],A=a(y,S.buffer),R=eg(S.type,A),I=new zT(R,S.stride);return I.uuid=S.uuid,n[b]=I,I}function a(y,b){if(i[b]!==void 0)return i[b];const S=y.arrayBuffers[b],A=new Uint32Array(S).buffer;return i[b]=A,A}const o=e.isInstancedBufferGeometry?new lD:new cn,s=e.data.index;if(s!==void 0){const y=eg(s.type,s.array);o.setIndex(new di(y,1))}const u=e.data.attributes;for(const y in u){const b=u[y];let T;if(b.isInterleavedBufferAttribute){const S=r(e.data,b.data);T=new sp(S,b.itemSize,b.offset,b.normalized)}else{const S=eg(b.type,b.array),A=b.isInstancedBufferAttribute?lp:di;T=new A(S,b.itemSize,b.normalized)}b.name!==void 0&&(T.name=b.name),b.usage!==void 0&&T.setUsage(b.usage),o.setAttribute(y,T)}const c=e.data.morphAttributes;if(c)for(const y in c){const b=c[y],T=[];for(let S=0,A=b.length;S<A;S++){const R=b[S];let I;if(R.isInterleavedBufferAttribute){const N=r(e.data,R.data);I=new sp(N,R.itemSize,R.offset,R.normalized)}else{const N=eg(R.type,R.array);I=new di(N,R.itemSize,R.normalized)}R.name!==void 0&&(I.name=R.name),T.push(I)}o.morphAttributes[y]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let y=0,b=p.length;y!==b;++y){const T=p[y];o.addGroup(T.start,T.count,T.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(o.boundingSphere=new ca().fromJSON(v)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class nxe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=this.path===""?oI.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new of(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(p){r!==void 0&&r(p),p("ObjectLoader: Can't parse "+e+".",p.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Ht("ObjectLoader: Can't load "+e);return}a.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?oI.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new of(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),s=JSON.parse(o),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(s)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,a,u,s,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let p=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,s,o,n),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),this.bindLightTargets(u),u}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Jh().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new GT().fromJSON(e[a],r);i[s.uuid]=s}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new c7;for(let a=0,o=e.length;a<o;a++){let s;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(u);break;default:u.type in E4?s=E4[u.type].fromJSON(u,n):Mt(`ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),i[u.uuid]=s}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new aA;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Fy.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function o(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const c=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return u.data?{data:eg(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new aD(n);a=new ky(u),a.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const p=e[c],v=p.url;if(Array.isArray(v)){const y=[];for(let b=0,T=v.length;b<T;b++){const S=v[b],A=s(S);A!==null&&(A instanceof HTMLImageElement?y.push(A):y.push(new Yl(A.data,A.width,A.height)))}r[p.uuid]=new pd(y)}else{const y=s(p.url);r[p.uuid]=new pd(y)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(o){if(typeof o=="string"){const s=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await r.loadAsync(u)}else return o.data?{data:eg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new ky(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const u=e[o],c=u.url;if(Array.isArray(c)){const d=[];for(let p=0,v=c.length;p<v;p++){const y=c[p],b=await a(y);b!==null&&(b instanceof HTMLImageElement?d.push(b):d.push(new Yl(b.data,b.width,b.height)))}i[u.uuid]=new pd(d)}else{const d=await a(u.url);i[u.uuid]=new pd(d)}}}return i}parseTextures(e,n){function i(a,o){return typeof a=="number"?a:(Mt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&Mt('ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&Mt("ObjectLoader: Undefined image",s.image);const u=n[s.image],c=u.data;let d;Array.isArray(c)?(d=new d_,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Yl:d=new Qi,c&&(d.needsUpdate=!0)),d.source=u,d.uuid=s.uuid,s.name!==void 0&&(d.name=s.name),s.mapping!==void 0&&(d.mapping=i(s.mapping,ixe)),s.channel!==void 0&&(d.channel=s.channel),s.offset!==void 0&&d.offset.fromArray(s.offset),s.repeat!==void 0&&d.repeat.fromArray(s.repeat),s.center!==void 0&&d.center.fromArray(s.center),s.rotation!==void 0&&(d.rotation=s.rotation),s.wrap!==void 0&&(d.wrapS=i(s.wrap[0],M4),d.wrapT=i(s.wrap[1],M4)),s.format!==void 0&&(d.format=s.format),s.internalFormat!==void 0&&(d.internalFormat=s.internalFormat),s.type!==void 0&&(d.type=s.type),s.colorSpace!==void 0&&(d.colorSpace=s.colorSpace),s.minFilter!==void 0&&(d.minFilter=i(s.minFilter,w4)),s.magFilter!==void 0&&(d.magFilter=i(s.magFilter,w4)),s.anisotropy!==void 0&&(d.anisotropy=s.anisotropy),s.flipY!==void 0&&(d.flipY=s.flipY),s.generateMipmaps!==void 0&&(d.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(d.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(d.compareFunction=s.compareFunction),s.userData!==void 0&&(d.userData=s.userData),r[s.uuid]=d}return r}parseObject(e,n,i,r,a){let o;function s(v){return n[v]===void 0&&Mt("ObjectLoader: Undefined geometry",v),n[v]}function u(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let b=0,T=v.length;b<T;b++){const S=v[b];i[S]===void 0&&Mt("ObjectLoader: Undefined material",S),y.push(i[S])}return y}return i[v]===void 0&&Mt("ObjectLoader: Undefined material",v),i[v]}}function c(v){return r[v]===void 0&&Mt("ObjectLoader: Undefined texture",v),r[v]}let d,p;switch(e.type){case"Scene":o=new HN,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ct(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new BT(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new kT(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new _r(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Xc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new s7(e.color,e.intensity);break;case"DirectionalLight":o=new o7(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new a7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new l7(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new r7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new i7(e.color,e.groundColor,e.intensity);break;case"LightProbe":const v=new sD().fromArray(e.sh);o=new u7(v,e.intensity);break;case"SkinnedMesh":d=s(e.geometry),p=u(e.material),o=new M9(d,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=s(e.geometry),p=u(e.material),o=new er(d,p);break;case"InstancedMesh":d=s(e.geometry),p=u(e.material);const y=e.count,b=e.instanceMatrix,T=e.instanceColor;o=new w9(d,p,y),o.instanceMatrix=new lp(new Float32Array(b.array),16),T!==void 0&&(o.instanceColor=new lp(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":d=s(e.geometry),p=u(e.material),o=new C9(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(S=>{let A=null,R=null;return S.boundingBox!==void 0&&(A=new ua().fromJSON(S.boundingBox)),S.boundingSphere!==void 0&&(R=new ca().fromJSON(S.boundingSphere)),{...S,boundingBox:A,boundingSphere:R}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new ca().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ua().fromJSON(e.boundingBox));break;case"LOD":o=new A9;break;case"Line":o=new Td(s(e.geometry),u(e.material));break;case"LineLoop":o=new R9(s(e.geometry),u(e.material));break;case"LineSegments":o=new Ku(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new I9(s(e.geometry),u(e.material));break;case"Sprite":o=new T9(u(e.material));break;case"Group":o=new tg;break;case"Bone":o=new WN;break;default:o=new Hn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)o.add(this.parseObject(v[y],n,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const b=v[y];o.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const b=v[y],T=o.getObjectByProperty("uuid",b.object);T!==void 0&&o.addLevel(T,b.distance,b.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?Mt("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Hn}})}}const ixe={UVMapping:AT,CubeReflectionMapping:qu,CubeRefractionMapping:xd,EquirectangularReflectionMapping:Sy,EquirectangularRefractionMapping:Ey,CubeUVReflectionMapping:Gg},M4={RepeatWrapping:Ty,ClampToEdgeWrapping:Jo,MirroredRepeatWrapping:Ay},w4={NearestFilter:br,NearestMipmapNearestFilter:RN,NearestMipmapLinearFilter:Qm,LinearFilter:mi,LinearMipmapNearestFilter:X0,LinearMipmapLinearFilter:Bu},mC=new WeakMap;class rxe extends Qo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Mt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Mt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=zu.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(c=>{if(mC.has(o)===!0)r&&r(mC.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return zu.add(`image-bitmap:${e}`,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){r&&r(c),mC.set(u,c),zu.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});zu.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Qx;class uD{static getContext(){return Qx===void 0&&(Qx=new(window.AudioContext||window.webkitAudioContext)),Qx}static setContext(e){Qx=e}}class axe extends Qo{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new of(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const c=u.slice(0);uD.getContext().decodeAudioData(c,function(p){n(p)}).catch(s)}catch(c){s(c)}},i,r);function s(u){r?r(u):Ht(u),a.manager.itemError(e)}}}const C4=new en,R4=new en,Sh=new en;class oxe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _r,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _r,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Sh.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,o=n.near*Math.tan(Kh*n.fov*.5)/n.zoom;let s,u;R4.elements[12]=-r,C4.elements[12]=r,s=-o*n.aspect+a,u=o*n.aspect+a,Sh.elements[0]=2*n.near/(u-s),Sh.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(Sh),s=-o*n.aspect-a,u=o*n.aspect-a,Sh.elements[0]=2*n.near/(u-s),Sh.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(Sh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(R4),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(C4)}}class f7 extends _r{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class cD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Eh=new se,gC=new Xa,sxe=new se,Th=new se,Ah=new se;class lxe extends Hn{constructor(){super(),this.type="AudioListener",this.context=uD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new cD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Eh,gC,sxe),Th.set(0,0,-1).applyQuaternion(gC),Ah.set(0,1,0).applyQuaternion(gC),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Eh.x,i),n.positionY.linearRampToValueAtTime(Eh.y,i),n.positionZ.linearRampToValueAtTime(Eh.z,i),n.forwardX.linearRampToValueAtTime(Th.x,i),n.forwardY.linearRampToValueAtTime(Th.y,i),n.forwardZ.linearRampToValueAtTime(Th.z,i),n.upX.linearRampToValueAtTime(Ah.x,i),n.upY.linearRampToValueAtTime(Ah.y,i),n.upZ.linearRampToValueAtTime(Ah.z,i)}else n.setPosition(Eh.x,Eh.y,Eh.z),n.setOrientation(Th.x,Th.y,Th.z,Ah.x,Ah.y,Ah.z)}}class d7 extends Hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Mt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Mt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Mt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Mt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Mt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Mt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Mt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Mt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Mh=new se,I4=new Xa,uxe=new se,wh=new se;class cxe extends d7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mh,I4,uxe),wh.set(0,0,1).applyQuaternion(I4);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Mh.x,i),n.positionY.linearRampToValueAtTime(Mh.y,i),n.positionZ.linearRampToValueAtTime(Mh.z,i),n.orientationX.linearRampToValueAtTime(wh.x,i),n.orientationY.linearRampToValueAtTime(wh.y,i),n.orientationZ.linearRampToValueAtTime(wh.z,i)}else n.setPosition(Mh.x,Mh.y,Mh.z),n.setOrientation(wh.x,wh.y,wh.z)}}class fxe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class h7{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,o;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==r;++s)i[a+s]=i[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(i,a,0,s,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=n*this._origIndex;this._mixBufferRegion(i,r,u,1-a,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let u=n,c=n+n;u!==c;++u)if(i[u]!==i[u+n]){s.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,o=r;a!==o;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){Xa.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const o=this._workIndex*a;Xa.multiplyQuaternionsFlat(e,o,e,n,e,i),Xa.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,a){const o=1-r;for(let s=0;s!==a;++s){const u=n+s;e[u]=e[u]*o+e[i+s]*r}}_lerpAdditive(e,n,i,r,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[i+o]*r}}}const fD="\\[\\]\\.:\\/",dxe=new RegExp("["+fD+"]","g"),dD="[^"+fD+"]",hxe="[^"+fD.replace("\\.","")+"]",pxe=/((?:WC+[\/:])*)/.source.replace("WC",dD),mxe=/(WCOD+)?/.source.replace("WCOD",hxe),gxe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",dD),vxe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",dD),yxe=new RegExp("^"+pxe+mxe+gxe+vxe+"$"),_xe=["material","materials","bones","map"];class bxe{constructor(e,n,i){const r=i||Vn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Vn{constructor(e,n,i){this.path=n,this.parsedPath=i||Vn.parseTrackName(n),this.node=Vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Vn.Composite(e,n,i):new Vn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(dxe,"")}static parseTrackName(e){const n=yxe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);_xe.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const u=i(s.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=Vn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Mt("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){Ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ht("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ht("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ht("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ht("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Ht("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){Ht("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;Ht("PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ht("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vn.Composite=bxe;Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray];Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xxe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ys(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let s,u=e.length,c=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const v=arguments[d],y=v.uuid;let b=n[y];if(b===void 0){b=u++,n[y]=b,e.push(v);for(let T=0,S=o;T!==S;++T)a[T].push(new Vn(v,i[T],r[T]))}else if(b<c){s=e[b];const T=--c,S=e[T];n[S.uuid]=b,e[b]=S,n[y]=T,e[T]=v;for(let A=0,R=o;A!==R;++A){const I=a[A],N=I[T];let D=I[b];I[b]=N,D===void 0&&(D=new Vn(v,i[A],r[A])),I[T]=D}}else e[b]!==s&&Ht("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const u=arguments[o],c=u.uuid,d=n[c];if(d!==void 0&&d>=a){const p=a++,v=e[p];n[v.uuid]=d,e[d]=v,n[c]=p,e[p]=u;for(let y=0,b=r;y!==b;++y){const T=i[y],S=T[p],A=T[d];T[d]=S,T[p]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,u=arguments.length;s!==u;++s){const c=arguments[s],d=c.uuid,p=n[d];if(p!==void 0)if(delete n[d],p<a){const v=--a,y=e[v],b=--o,T=e[b];n[y.uuid]=p,e[p]=y,n[T.uuid]=v,e[v]=T,e.pop();for(let S=0,A=r;S!==A;++S){const R=i[S],I=R[v],N=R[b];R[p]=I,R[v]=N,R.pop()}}else{const v=--o,y=e[v];v>0&&(n[y.uuid]=p),e[p]=y,e.pop();for(let b=0,T=r;b!==T;++b){const S=i[b];S[p]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,s=this._parsedPaths,u=this._objects,c=u.length,d=this.nCachedObjects_,p=new Array(c);r=a.length,i[e]=r,o.push(e),s.push(n),a.push(p);for(let v=d,y=u.length;v!==y;++v){const b=u[v];p[v]=new Vn(b,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,u=o[s],c=e[s];n[c]=i,o[i]=u,o.pop(),a[i]=a[s],a.pop(),r[i]=r[s],r.pop()}}}class p7{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,o=a.length,s=new Array(o),u={endingStart:Hh,endingEnd:Hh};for(let c=0;c!==o;++c){const d=a[c].createInterpolant(null);s[c]=d,d.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=r9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,s=r/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,c=s.sampleValues;return u[0]=a,u[1]=a+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?n=0:(this._startTime=null,n=i*u)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UN:for(let d=0,p=u.length;d!==p;++d)u[d].evaluate(o),c[d].accumulateAdditive(s);break;case NT:default:for(let d=0,p=u.length;d!==p;++d)u[d].evaluate(o),c[d].accumulate(r,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===a9;if(e===0)return a===-1?r:o&&(a&1)===1?n-r:r;if(i===i9){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const s=Math.floor(r/n);r-=n*s,a+=Math.abs(s);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(o&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=qh,r.endingEnd=qh):(e?r.endingStart=this.zeroSlopeAtStart?qh:Hh:r.endingStart=wy,n?r.endingEnd=this.zeroSlopeAtEnd?qh:Hh:r.endingEnd=wy)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,u=o.sampleValues;return s[0]=a,u[0]=n,s[1]=a+e,u[1]=i,this}}const Sxe=new Float32Array(1);class Exe extends $u{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,s=e._interpolants,u=i.uuid,c=this._bindingsByRootAndName;let d=c[u];d===void 0&&(d={},c[u]=d);for(let p=0;p!==a;++p){const v=r[p],y=v.name;let b=d[y];if(b!==void 0)++b.referenceCount,o[p]=b;else{if(b=o[p],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,u,y));continue}const T=n&&n._propertyBindings[p].binding.parsedPath;b=new h7(Vn.create(i,y,T),v.ValueTypeName,v.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,u,y),o[p]=b}s[p].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],u=s.knownActions,c=u[u.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,u[d]=c,u.pop(),e._byClipCacheIndex=null;const p=s.actionByRoot,v=(e._localRoot||this._root).uuid;delete p[v],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,s=o[r],u=n[n.length-1],c=e._cacheIndex;u._cacheIndex=c,n[c]=u,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new iD(new Float32Array(2),new Float32Array(2),1,Sxe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let o=typeof e=="string"?Fy.findByName(r,e):e;const s=o!==null?o.uuid:e,u=this._actionsByClip[s];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=NT),u!==void 0){const p=u.actionByRoot[a];if(p!==void 0&&p.blendMode===i)return p;c=u.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new p7(this,o,n,i);return this._bindAction(d,c),this._addInactiveAction(d,s,a),d}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?Fy.findByName(i,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,a,o);const s=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let s=0,u=o.length;s!==u;++s){const c=o[s];this._deactivateAction(c);const d=c._cacheIndex,p=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=d,n[d]=p,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const s=i[o].actionByRoot,u=s[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Txe extends kN{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new UT(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class hD{constructor(e){this.value=e}clone(){return new hD(this.value.clone===void 0?this.value:this.value.clone())}}let Axe=0;class Mxe extends $u{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Axe++}),this.name="",this.usage=Ry,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class wxe extends zT{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Cxe{constructor(e,n,i,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const P4=new en;class m7{constructor(e,n,i=0,r=1/0){this.ray=new mp(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new _g,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Ht("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return P4.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(P4),this}intersectObject(e,n=!0,i=[]){return sI(e,this,i,n),i.sort(N4),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)sI(e[r],this,i,n);return i.sort(N4),i}}function N4(t,e){return t.distance-e.distance}function sI(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let o=0,s=a.length;o<s;o++)sI(a[o],e,n,!0)}}class Rxe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Ixe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Ixe(){this._document.hidden===!1&&this.reset()}class bE{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Qt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Pxe{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class pD{constructor(e,n,i,r){pD.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const D4=new st;class Nxe{constructor(e=new st(1/0,1/0),n=new st(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=D4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,D4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const O4=new se,eS=new se,zm=new se,Gm=new se,vC=new se,Dxe=new se,Oxe=new se;class Lxe{constructor(e=new se,n=new se){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){O4.subVectors(e,this.start),eS.subVectors(this.end,this.start);const i=eS.dot(eS);let a=eS.dot(O4)/i;return n&&(a=Qt(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=Dxe,i=Oxe){const r=10000000000000001e-32;let a,o;const s=this.start,u=e.start,c=this.end,d=e.end;zm.subVectors(c,s),Gm.subVectors(d,u),vC.subVectors(s,u);const p=zm.dot(zm),v=Gm.dot(Gm),y=Gm.dot(vC);if(p<=r&&v<=r)return n.copy(s),i.copy(u),n.sub(i),n.dot(n);if(p<=r)a=0,o=y/v,o=Qt(o,0,1);else{const b=zm.dot(vC);if(v<=r)o=0,a=Qt(-b/p,0,1);else{const T=zm.dot(Gm),S=p*v-T*T;S!==0?a=Qt((T*y-b*v)/S,0,1):a=0,o=(T*a+y)/v,o<0?(o=0,a=Qt(-b/p,0,1)):o>1&&(o=1,a=Qt((T-b)/p,0,1))}}return n.copy(s).add(zm.multiplyScalar(a)),i.copy(u).add(Gm.multiplyScalar(o)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const L4=new se;class Uxe extends Hn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new cn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,u=32;o<u;o++,s++){const c=o/u*Math.PI*2,d=s/u*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ft(r,3));const a=new xo({fog:!1,toneMapped:!1});this.cone=new Ku(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),L4.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(L4),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const sd=new se,tS=new en,yC=new en;class Fxe extends Ku{constructor(e){const n=g7(e),i=new cn,r=[],a=[];for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Ft(r,3)),i.setAttribute("color",new Ft(a,3));const o=new xo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new Ct(255),u=new Ct(65280);this.setColors(s,u)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");yC.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(tS.multiplyMatrices(yC,s.matrixWorld),sd.setFromMatrixPosition(tS),r.setXYZ(o,sd.x,sd.y,sd.z),tS.multiplyMatrices(yC,s.parent.matrixWorld),sd.setFromMatrixPosition(tS),r.setXYZ(o+1,sd.x,sd.y,sd.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function g7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...g7(t.children[n]));return e}class kxe extends er{constructor(e,n,i){const r=new g_(n,4,2),a=new pf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Bxe=new se,U4=new Ct,F4=new Ct;class zxe extends Hn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new m_(n);r.rotateY(Math.PI*.5),this.material=new pf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new di(o,3)),this.add(new er(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");U4.copy(this.light.color),F4.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?U4:F4;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Bxe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Gxe extends Ku{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ct(i),r=new Ct(r);const a=n/2,o=e/n,s=e/2,u=[],c=[];for(let v=0,y=0,b=-s;v<=n;v++,b+=o){u.push(-s,0,b,s,0,b),u.push(b,0,-s,b,0,s);const T=v===a?i:r;T.toArray(c,y),y+=3,T.toArray(c,y),y+=3,T.toArray(c,y),y+=3,T.toArray(c,y),y+=3}const d=new cn;d.setAttribute("position",new Ft(u,3)),d.setAttribute("color",new Ft(c,3));const p=new xo({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vxe extends Ku{constructor(e=10,n=16,i=8,r=64,a=4473924,o=8947848){a=new Ct(a),o=new Ct(o);const s=[],u=[];if(n>1)for(let p=0;p<n;p++){const v=p/n*(Math.PI*2),y=Math.sin(v)*e,b=Math.cos(v)*e;s.push(0,0,0),s.push(y,0,b);const T=p&1?a:o;u.push(T.r,T.g,T.b),u.push(T.r,T.g,T.b)}for(let p=0;p<i;p++){const v=p&1?a:o,y=e-e/i*p;for(let b=0;b<r;b++){let T=b/r*(Math.PI*2),S=Math.sin(T)*y,A=Math.cos(T)*y;s.push(S,0,A),u.push(v.r,v.g,v.b),T=(b+1)/r*(Math.PI*2),S=Math.sin(T)*y,A=Math.cos(T)*y,s.push(S,0,A),u.push(v.r,v.g,v.b)}}const c=new cn;c.setAttribute("position",new Ft(s,3)),c.setAttribute("color",new Ft(u,3));const d=new xo({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const k4=new se,nS=new se,B4=new se;class Hxe extends Hn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new cn;r.setAttribute("position",new Ft([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new xo({fog:!1,toneMapped:!1});this.lightPlane=new Td(r,a),this.add(this.lightPlane),r=new cn,r.setAttribute("position",new Ft([0,0,0,0,0,1],3)),this.targetLine=new Td(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),k4.setFromMatrixPosition(this.light.matrixWorld),nS.setFromMatrixPosition(this.light.target.matrixWorld),B4.subVectors(nS,k4),this.lightPlane.lookAt(nS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nS),this.targetLine.scale.z=B4.length()}}const iS=new se,lr=new FT;class qxe extends Ku{constructor(e){const n=new cn,i=new xo({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(b,T){u(b),u(T)}function u(b){r.push(0,0,0),a.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(r.length/3-1)}n.setAttribute("position",new Ft(r,3)),n.setAttribute("color",new Ft(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ct(16755200),d=new Ct(16711680),p=new Ct(43775),v=new Ct(16777215),y=new Ct(3355443);this.setColors(c,d,p,v,y)}setColors(e,n,i,r,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,i.r,i.g,i.b),s.setXYZ(33,i.r,i.g,i.b),s.setXYZ(34,i.r,i.g,i.b),s.setXYZ(35,i.r,i.g,i.b),s.setXYZ(36,i.r,i.g,i.b),s.setXYZ(37,i.r,i.g,i.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,o;if(lr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===ms)a=-1,o=1;else if(this.camera.coordinateSystem===gg)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);yr("c",n,e,lr,0,0,a),yr("t",n,e,lr,0,0,o),yr("n1",n,e,lr,-i,-r,a),yr("n2",n,e,lr,i,-r,a),yr("n3",n,e,lr,-i,r,a),yr("n4",n,e,lr,i,r,a),yr("f1",n,e,lr,-i,-r,o),yr("f2",n,e,lr,i,-r,o),yr("f3",n,e,lr,-i,r,o),yr("f4",n,e,lr,i,r,o),yr("u1",n,e,lr,i*.7,r*1.1,a),yr("u2",n,e,lr,-i*.7,r*1.1,a),yr("u3",n,e,lr,0,r*2,a),yr("cf1",n,e,lr,-i,0,o),yr("cf2",n,e,lr,i,0,o),yr("cf3",n,e,lr,0,-r,o),yr("cf4",n,e,lr,0,r,o),yr("cn1",n,e,lr,-i,0,a),yr("cn2",n,e,lr,i,0,a),yr("cn3",n,e,lr,0,-r,a),yr("cn4",n,e,lr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yr(t,e,n,i,r,a,o){iS.set(r,a,o).unproject(i);const s=e[t];if(s!==void 0){const u=n.getAttribute("position");for(let c=0,d=s.length;c<d;c++)u.setXYZ(s[c],iS.x,iS.y,iS.z)}}const rS=new ua;class Wxe extends Ku{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new cn;a.setIndex(new di(i,1)),a.setAttribute("position",new di(r,3)),super(a,new xo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&rS.setFromObject(this.object),rS.isEmpty())return;const e=rS.min,n=rS.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jxe extends Ku{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new cn;a.setIndex(new di(i,1)),a.setAttribute("position",new Ft(r,3)),super(a,new xo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xxe extends Td{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new cn;o.setAttribute("position",new Ft(a,3)),o.computeBoundingSphere(),super(o,new xo({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new cn;u.setAttribute("position",new Ft(s,3)),u.computeBoundingSphere(),this.add(new er(u,new pf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const z4=new se;let aS,_C;class Yxe extends Hn{constructor(e=new se(0,0,1),n=new se(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",aS===void 0&&(aS=new cn,aS.setAttribute("position",new Ft([0,0,0,0,1,0],3)),_C=new p_(.5,1,5,1),_C.translate(0,-.5,0)),this.position.copy(n),this.line=new Td(aS,new xo({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new er(_C,new pf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{z4.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(z4,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $xe extends Ku{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new cn;r.setAttribute("position",new Ft(n,3)),r.setAttribute("color",new Ft(i,3));const a=new xo({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Ct,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kxe{constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new _E,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,o){return this.currentPath.bezierCurveTo(e,n,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(A){const R=[];for(let I=0,N=A.length;I<N;I++){const D=A[I],O=new Jh;O.curves=D.curves,R.push(O)}return R}function i(A,R){const I=R.length;let N=!1;for(let D=I-1,O=0;O<I;D=O++){let F=R[D],z=R[O],U=z.x-F.x,B=z.y-F.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(F=R[O],U=-U,z=R[D],B=-B),A.y<F.y||A.y>z.y)continue;if(A.y===F.y){if(A.x===F.x)return!0}else{const j=B*(A.x-F.x)-U*(A.y-F.y);if(j===0)return!0;if(j<0)continue;N=!N}}else{if(A.y!==F.y)continue;if(z.x<=A.x&&A.x<=F.x||F.x<=A.x&&A.x<=z.x)return!0}}return N}const r=ql.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,u;const c=[];if(a.length===1)return s=a[0],u=new Jh,u.curves=s.curves,c.push(u),c;let d=!r(a[0].getPoints());d=e?!d:d;const p=[],v=[];let y=[],b=0,T;v[b]=void 0,y[b]=[];for(let A=0,R=a.length;A<R;A++)s=a[A],T=s.getPoints(),o=r(T),o=e?!o:o,o?(!d&&v[b]&&b++,v[b]={s:new Jh,p:T},v[b].s.curves=s.curves,d&&b++,y[b]=[]):y[b].push({h:s,p:T[0]});if(!v[0])return n(a);if(v.length>1){let A=!1,R=0;for(let I=0,N=v.length;I<N;I++)p[I]=[];for(let I=0,N=v.length;I<N;I++){const D=y[I];for(let O=0;O<D.length;O++){const F=D[O];let z=!0;for(let U=0;U<v.length;U++)i(F.p,v[U].p)&&(I!==U&&R++,z?(z=!1,p[U].push(F)):A=!0);z&&p[I].push(F)}}R>0&&A===!1&&(y=p)}let S;for(let A=0,R=v.length;A<R;A++){u=v[A].s,c.push(u),S=y[A];for(let I=0,N=S.length;I<N;I++)u.holes.push(S[I].h)}return c}}class Jxe extends $u{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Mt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Zxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Qxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function eSe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function lI(t,e,n,i){const r=tSe(i);switch(n){case ON:return t*e;case RT:return t*e/r.components*r.byteLength;case f_:return t*e/r.components*r.byteLength;case op:return t*e*2/r.components*r.byteLength;case IT:return t*e*2/r.components*r.byteLength;case LN:return t*e*3/r.components*r.byteLength;case ja:return t*e*4/r.components*r.byteLength;case PT:return t*e*4/r.components*r.byteLength;case Y0:case $0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case K0:case J0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case k1:case z1:return Math.max(t,16)*Math.max(e,8)/4;case F1:case B1:return Math.max(t,8)*Math.max(e,8)/2;case G1:case V1:case q1:case W1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case H1:case j1:case X1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Y1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case $1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case K1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case J1:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Z1:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Q1:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case eE:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case tE:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case nE:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case iE:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case rE:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case aE:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case oE:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case sE:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case lE:case uE:case cE:return Math.ceil(t/4)*Math.ceil(e/4)*16;case fE:case dE:return Math.ceil(t/4)*Math.ceil(e/4)*8;case hE:case pE:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function tSe(t){switch(t){case po:case IN:return{byteLength:1,components:1};case pg:case PN:case Wu:return{byteLength:2,components:1};case wT:case CT:return{byteLength:2,components:4};case cl:case MT:case vo:return{byteLength:4,components:1};case NN:case DN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class nSe{static contain(e,n){return Zxe(e,n)}static cover(e,n){return Qxe(e,n)}static fill(e){return eSe(e)}static getByteLength(e,n,i,r){return lI(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:u_}}));typeof window<"u"&&(window.__THREE__?Mt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=u_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function v7(){let t=null,e=!1,n=null,i=null;function r(a,o){n(a,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function iSe(t){const e=new WeakMap;function n(s,u){const c=s.array,d=s.usage,p=c.byteLength,v=t.createBuffer();t.bindBuffer(u,v),t.bufferData(u,c,d),s.onUploadCallback();let y;if(c instanceof Float32Array)y=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)y=t.HALF_FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)y=t.SHORT;else if(c instanceof Uint32Array)y=t.UNSIGNED_INT;else if(c instanceof Int32Array)y=t.INT;else if(c instanceof Int8Array)y=t.BYTE;else if(c instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:v,type:y,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:p}}function i(s,u,c){const d=u.array,p=u.updateRanges;if(t.bindBuffer(c,s),p.length===0)t.bufferSubData(c,0,d);else{p.sort((y,b)=>y.start-b.start);let v=0;for(let y=1;y<p.length;y++){const b=p[v],T=p[y];T.start<=b.start+b.count+1?b.count=Math.max(b.count,T.start+T.count-b.start):(++v,p[v]=T)}p.length=v+1;for(let y=0,b=p.length;y<b;y++){const T=p[y];t.bufferSubData(c,T.start*d.BYTES_PER_ELEMENT,d,T.start,T.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);u&&(t.deleteBuffer(u.buffer),e.delete(s))}function o(s,u){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const d=e.get(s);(!d||d.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,u));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,s,u),c.version=s.version}}return{get:r,remove:a,update:o}}var rSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,aSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,oSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lSe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,uSe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,cSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fSe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dSe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hSe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,pSe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,mSe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gSe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vSe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ySe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_Se=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,bSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,SSe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ESe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,TSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ASe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,MSe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,wSe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,CSe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,RSe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ISe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PSe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,NSe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,DSe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,OSe="gl_FragColor = linearToOutputTexel( gl_FragColor );",LSe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,USe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,FSe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,kSe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BSe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,GSe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,VSe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,HSe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,qSe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,WSe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jSe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,XSe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,YSe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$Se=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,KSe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,JSe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ZSe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,QSe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,e1e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,t1e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,n1e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,i1e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,r1e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,a1e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,o1e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s1e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,l1e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,u1e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,c1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,f1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,d1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,h1e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,p1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,m1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,g1e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,v1e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,y1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,b1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,x1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,S1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,E1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,T1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,A1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,M1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,w1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,C1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,R1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,I1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,P1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,N1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,D1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,O1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,L1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,U1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,F1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,k1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,B1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,z1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,G1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,V1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,H1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,q1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,W1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,j1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,X1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Y1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,K1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,J1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Z1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Q1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eEe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tEe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nEe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const iEe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rEe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aEe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oEe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sEe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lEe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uEe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cEe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,fEe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dEe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,hEe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pEe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mEe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gEe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vEe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yEe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Ee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bEe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xEe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,SEe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EEe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,TEe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,AEe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MEe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wEe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,CEe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,REe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IEe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PEe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,NEe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DEe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OEe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,LEe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UEe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:rSe,alphahash_pars_fragment:aSe,alphamap_fragment:oSe,alphamap_pars_fragment:sSe,alphatest_fragment:lSe,alphatest_pars_fragment:uSe,aomap_fragment:cSe,aomap_pars_fragment:fSe,batching_pars_vertex:dSe,batching_vertex:hSe,begin_vertex:pSe,beginnormal_vertex:mSe,bsdfs:gSe,iridescence_fragment:vSe,bumpmap_pars_fragment:ySe,clipping_planes_fragment:_Se,clipping_planes_pars_fragment:bSe,clipping_planes_pars_vertex:xSe,clipping_planes_vertex:SSe,color_fragment:ESe,color_pars_fragment:TSe,color_pars_vertex:ASe,color_vertex:MSe,common:wSe,cube_uv_reflection_fragment:CSe,defaultnormal_vertex:RSe,displacementmap_pars_vertex:ISe,displacementmap_vertex:PSe,emissivemap_fragment:NSe,emissivemap_pars_fragment:DSe,colorspace_fragment:OSe,colorspace_pars_fragment:LSe,envmap_fragment:USe,envmap_common_pars_fragment:FSe,envmap_pars_fragment:kSe,envmap_pars_vertex:BSe,envmap_physical_pars_fragment:KSe,envmap_vertex:zSe,fog_vertex:GSe,fog_pars_vertex:VSe,fog_fragment:HSe,fog_pars_fragment:qSe,gradientmap_pars_fragment:WSe,lightmap_pars_fragment:jSe,lights_lambert_fragment:XSe,lights_lambert_pars_fragment:YSe,lights_pars_begin:$Se,lights_toon_fragment:JSe,lights_toon_pars_fragment:ZSe,lights_phong_fragment:QSe,lights_phong_pars_fragment:e1e,lights_physical_fragment:t1e,lights_physical_pars_fragment:n1e,lights_fragment_begin:i1e,lights_fragment_maps:r1e,lights_fragment_end:a1e,logdepthbuf_fragment:o1e,logdepthbuf_pars_fragment:s1e,logdepthbuf_pars_vertex:l1e,logdepthbuf_vertex:u1e,map_fragment:c1e,map_pars_fragment:f1e,map_particle_fragment:d1e,map_particle_pars_fragment:h1e,metalnessmap_fragment:p1e,metalnessmap_pars_fragment:m1e,morphinstance_vertex:g1e,morphcolor_vertex:v1e,morphnormal_vertex:y1e,morphtarget_pars_vertex:_1e,morphtarget_vertex:b1e,normal_fragment_begin:x1e,normal_fragment_maps:S1e,normal_pars_fragment:E1e,normal_pars_vertex:T1e,normal_vertex:A1e,normalmap_pars_fragment:M1e,clearcoat_normal_fragment_begin:w1e,clearcoat_normal_fragment_maps:C1e,clearcoat_pars_fragment:R1e,iridescence_pars_fragment:I1e,opaque_fragment:P1e,packing:N1e,premultiplied_alpha_fragment:D1e,project_vertex:O1e,dithering_fragment:L1e,dithering_pars_fragment:U1e,roughnessmap_fragment:F1e,roughnessmap_pars_fragment:k1e,shadowmap_pars_fragment:B1e,shadowmap_pars_vertex:z1e,shadowmap_vertex:G1e,shadowmask_pars_fragment:V1e,skinbase_vertex:H1e,skinning_pars_vertex:q1e,skinning_vertex:W1e,skinnormal_vertex:j1e,specularmap_fragment:X1e,specularmap_pars_fragment:Y1e,tonemapping_fragment:$1e,tonemapping_pars_fragment:K1e,transmission_fragment:J1e,transmission_pars_fragment:Z1e,uv_pars_fragment:Q1e,uv_pars_vertex:eEe,uv_vertex:tEe,worldpos_vertex:nEe,background_vert:iEe,background_frag:rEe,backgroundCube_vert:aEe,backgroundCube_frag:oEe,cube_vert:sEe,cube_frag:lEe,depth_vert:uEe,depth_frag:cEe,distance_vert:fEe,distance_frag:dEe,equirect_vert:hEe,equirect_frag:pEe,linedashed_vert:mEe,linedashed_frag:gEe,meshbasic_vert:vEe,meshbasic_frag:yEe,meshlambert_vert:_Ee,meshlambert_frag:bEe,meshmatcap_vert:xEe,meshmatcap_frag:SEe,meshnormal_vert:EEe,meshnormal_frag:TEe,meshphong_vert:AEe,meshphong_frag:MEe,meshphysical_vert:wEe,meshphysical_frag:CEe,meshtoon_vert:REe,meshtoon_frag:IEe,points_vert:PEe,points_frag:NEe,shadow_vert:DEe,shadow_frag:OEe,sprite_vert:LEe,sprite_frag:UEe},wt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new un}},envmap:{envMap:{value:null},envMapRotation:{value:new un},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new un}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new un}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new un},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new un},normalScale:{value:new st(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new un},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new un}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new un}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new un}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0},uvTransform:{value:new un}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new st(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}}},Fl={basic:{uniforms:fo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:fo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:fo([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:fo([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:fo([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:fo([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:fo([wt.points,wt.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:fo([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:fo([wt.common,wt.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:fo([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:fo([wt.sprite,wt.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new un},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new un}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distance:{uniforms:fo([wt.common,wt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distance_vert,fragmentShader:mn.distance_frag},shadow:{uniforms:fo([wt.lights,wt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};Fl.physical={uniforms:fo([Fl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new un},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new un},clearcoatNormalScale:{value:new st(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new un},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new un},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new un},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new un},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new un},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new un},transmissionSamplerSize:{value:new st},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new un},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new un},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new un},anisotropyVector:{value:new st},anisotropyMap:{value:null},anisotropyMapTransform:{value:new un}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const oS={r:0,b:0,g:0},Ch=new Ss,FEe=new en;function kEe(t,e,n,i,r,a,o){const s=new Ct(0);let u=a===!0?0:1,c,d,p=null,v=0,y=null;function b(I){let N=I.isScene===!0?I.background:null;return N&&N.isTexture&&(N=(I.backgroundBlurriness>0?n:e).get(N)),N}function T(I){let N=!1;const D=b(I);D===null?A(s,u):D&&D.isColor&&(A(D,1),N=!0);const O=t.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,o):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(I,N){const D=b(N);D&&(D.isCubeTexture||D.mapping===Gg)?(d===void 0&&(d=new er(new gp(1,1,1),new Es({name:"BackgroundCubeMaterial",uniforms:bg(Fl.backgroundCube.uniforms),vertexShader:Fl.backgroundCube.vertexShader,fragmentShader:Fl.backgroundCube.fragmentShader,side:yo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(O,F,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),Ch.copy(N.backgroundRotation),Ch.x*=-1,Ch.y*=-1,Ch.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Ch.y*=-1,Ch.z*=-1),d.material.uniforms.envMap.value=D,d.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(FEe.makeRotationFromEuler(Ch)),d.material.toneMapped=Fn.getTransfer(D.colorSpace)!==ni,(p!==D||v!==D.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,p=D,v=D.version,y=t.toneMapping),d.layers.enableAll(),I.unshift(d,d.geometry,d.material,0,0,null)):D&&D.isTexture&&(c===void 0&&(c=new er(new mf(2,2),new Es({name:"BackgroundMaterial",uniforms:bg(Fl.background.uniforms),vertexShader:Fl.background.vertexShader,fragmentShader:Fl.background.fragmentShader,side:af,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=D,c.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,c.material.toneMapped=Fn.getTransfer(D.colorSpace)!==ni,D.matrixAutoUpdate===!0&&D.updateMatrix(),c.material.uniforms.uvTransform.value.copy(D.matrix),(p!==D||v!==D.version||y!==t.toneMapping)&&(c.material.needsUpdate=!0,p=D,v=D.version,y=t.toneMapping),c.layers.enableAll(),I.unshift(c,c.geometry,c.material,0,0,null))}function A(I,N){I.getRGB(oS,x9(t)),i.buffers.color.setClear(oS.r,oS.g,oS.b,N,o)}function R(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(I,N=1){s.set(I),u=N,A(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(I){u=I,A(s,u)},render:T,addToRenderList:S,dispose:R}}function BEe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,o=!1;function s(B,j,W,Y,Q){let ae=!1;const X=p(Y,W,j);a!==X&&(a=X,c(a.object)),ae=y(B,Y,W,Q),ae&&b(B,Y,W,Q),Q!==null&&e.update(Q,t.ELEMENT_ARRAY_BUFFER),(ae||o)&&(o=!1,N(B,j,W,Y),Q!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(Q).buffer))}function u(){return t.createVertexArray()}function c(B){return t.bindVertexArray(B)}function d(B){return t.deleteVertexArray(B)}function p(B,j,W){const Y=W.wireframe===!0;let Q=i[B.id];Q===void 0&&(Q={},i[B.id]=Q);let ae=Q[j.id];ae===void 0&&(ae={},Q[j.id]=ae);let X=ae[Y];return X===void 0&&(X=v(u()),ae[Y]=X),X}function v(B){const j=[],W=[],Y=[];for(let Q=0;Q<n;Q++)j[Q]=0,W[Q]=0,Y[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:W,attributeDivisors:Y,object:B,attributes:{},index:null}}function y(B,j,W,Y){const Q=a.attributes,ae=j.attributes;let X=0;const ne=W.getAttributes();for(const ge in ne)if(ne[ge].location>=0){const de=Q[ge];let H=ae[ge];if(H===void 0&&(ge==="instanceMatrix"&&B.instanceMatrix&&(H=B.instanceMatrix),ge==="instanceColor"&&B.instanceColor&&(H=B.instanceColor)),de===void 0||de.attribute!==H||H&&de.data!==H.data)return!0;X++}return a.attributesNum!==X||a.index!==Y}function b(B,j,W,Y){const Q={},ae=j.attributes;let X=0;const ne=W.getAttributes();for(const ge in ne)if(ne[ge].location>=0){let de=ae[ge];de===void 0&&(ge==="instanceMatrix"&&B.instanceMatrix&&(de=B.instanceMatrix),ge==="instanceColor"&&B.instanceColor&&(de=B.instanceColor));const H={};H.attribute=de,de&&de.data&&(H.data=de.data),Q[ge]=H,X++}a.attributes=Q,a.attributesNum=X,a.index=Y}function T(){const B=a.newAttributes;for(let j=0,W=B.length;j<W;j++)B[j]=0}function S(B){A(B,0)}function A(B,j){const W=a.newAttributes,Y=a.enabledAttributes,Q=a.attributeDivisors;W[B]=1,Y[B]===0&&(t.enableVertexAttribArray(B),Y[B]=1),Q[B]!==j&&(t.vertexAttribDivisor(B,j),Q[B]=j)}function R(){const B=a.newAttributes,j=a.enabledAttributes;for(let W=0,Y=j.length;W<Y;W++)j[W]!==B[W]&&(t.disableVertexAttribArray(W),j[W]=0)}function I(B,j,W,Y,Q,ae,X){X===!0?t.vertexAttribIPointer(B,j,W,Q,ae):t.vertexAttribPointer(B,j,W,Y,Q,ae)}function N(B,j,W,Y){T();const Q=Y.attributes,ae=W.getAttributes(),X=j.defaultAttributeValues;for(const ne in ae){const ge=ae[ne];if(ge.location>=0){let pe=Q[ne];if(pe===void 0&&(ne==="instanceMatrix"&&B.instanceMatrix&&(pe=B.instanceMatrix),ne==="instanceColor"&&B.instanceColor&&(pe=B.instanceColor)),pe!==void 0){const de=pe.normalized,H=pe.itemSize,te=e.get(pe);if(te===void 0)continue;const ie=te.buffer,ce=te.type,ye=te.bytesPerElement,oe=ce===t.INT||ce===t.UNSIGNED_INT||pe.gpuType===MT;if(pe.isInterleavedBufferAttribute){const le=pe.data,Se=le.stride,he=pe.offset;if(le.isInstancedInterleavedBuffer){for(let De=0;De<ge.locationSize;De++)A(ge.location+De,le.meshPerAttribute);B.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let De=0;De<ge.locationSize;De++)S(ge.location+De);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let De=0;De<ge.locationSize;De++)I(ge.location+De,H/ge.locationSize,ce,de,Se*ye,(he+H/ge.locationSize*De)*ye,oe)}else{if(pe.isInstancedBufferAttribute){for(let le=0;le<ge.locationSize;le++)A(ge.location+le,pe.meshPerAttribute);B.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let le=0;le<ge.locationSize;le++)S(ge.location+le);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let le=0;le<ge.locationSize;le++)I(ge.location+le,H/ge.locationSize,ce,de,H*ye,H/ge.locationSize*le*ye,oe)}}else if(X!==void 0){const de=X[ne];if(de!==void 0)switch(de.length){case 2:t.vertexAttrib2fv(ge.location,de);break;case 3:t.vertexAttrib3fv(ge.location,de);break;case 4:t.vertexAttrib4fv(ge.location,de);break;default:t.vertexAttrib1fv(ge.location,de)}}}}R()}function D(){z();for(const B in i){const j=i[B];for(const W in j){const Y=j[W];for(const Q in Y)d(Y[Q].object),delete Y[Q];delete j[W]}delete i[B]}}function O(B){if(i[B.id]===void 0)return;const j=i[B.id];for(const W in j){const Y=j[W];for(const Q in Y)d(Y[Q].object),delete Y[Q];delete j[W]}delete i[B.id]}function F(B){for(const j in i){const W=i[j];if(W[B.id]===void 0)continue;const Y=W[B.id];for(const Q in Y)d(Y[Q].object),delete Y[Q];delete W[B.id]}}function z(){U(),o=!0,a!==r&&(a=r,c(a.object))}function U(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:s,reset:z,resetDefaultState:U,dispose:D,releaseStatesOfGeometry:O,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:S,disableUnusedAttributes:R}}function zEe(t,e,n){let i;function r(c){i=c}function a(c,d){t.drawArrays(i,c,d),n.update(d,i,1)}function o(c,d,p){p!==0&&(t.drawArraysInstanced(i,c,d,p),n.update(d,i,p))}function s(c,d,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,d,0,p);let y=0;for(let b=0;b<p;b++)y+=d[b];n.update(y,i,1)}function u(c,d,p,v){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<c.length;b++)o(c[b],d[b],v[b]);else{y.multiDrawArraysInstancedWEBGL(i,c,0,d,0,v,0,p);let b=0;for(let T=0;T<p;T++)b+=d[T]*v[T];n.update(b,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=u}function GEe(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(F){return!(F!==ja&&i.convert(F)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(F){const z=F===Wu&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==po&&i.convert(F)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==vo&&!z)}function u(F){if(F==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=u(c);d!==c&&(Mt("WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const p=n.logarithmicDepthBuffer===!0,v=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),A=t.getParameter(t.MAX_VERTEX_ATTRIBS),R=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),I=t.getParameter(t.MAX_VARYING_VECTORS),N=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),D=t.getParameter(t.MAX_SAMPLES),O=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:p,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:b,maxTextureSize:T,maxCubemapSize:S,maxAttributes:A,maxVertexUniforms:R,maxVaryings:I,maxFragmentUniforms:N,maxSamples:D,samples:O}}function VEe(t){const e=this;let n=null,i=0,r=!1,a=!1;const o=new kc,s=new un,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,v){const y=p.length!==0||v||i!==0||r;return r=v,i=p.length,y},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,v){n=d(p,v,0)},this.setState=function(p,v,y){const b=p.clippingPlanes,T=p.clipIntersection,S=p.clipShadows,A=t.get(p);if(!r||b===null||b.length===0||a&&!S)a?d(null):c();else{const R=a?0:i,I=R*4;let N=A.clippingState||null;u.value=N,N=d(b,v,I,y);for(let D=0;D!==I;++D)N[D]=n[D];A.clippingState=N,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function c(){u.value!==n&&(u.value=n,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(p,v,y,b){const T=p!==null?p.length:0;let S=null;if(T!==0){if(S=u.value,b!==!0||S===null){const A=y+T*4,R=v.matrixWorldInverse;s.getNormalMatrix(R),(S===null||S.length<A)&&(S=new Float32Array(A));for(let I=0,N=y;I!==T;++I,N+=4)o.copy(p[I]).applyMatrix4(R,s),o.normal.toArray(S,N),S[N+3]=o.constant}u.value=S,u.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,S}}function HEe(t){let e=new WeakMap;function n(o,s){return s===Sy?o.mapping=qu:s===Ey&&(o.mapping=xd),o}function i(o){if(o&&o.isTexture){const s=o.mapping;if(s===Sy||s===Ey)if(e.has(o)){const u=e.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const c=new VN(u.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const s=o.target;s.removeEventListener("dispose",r);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const md=4,G4=[.125,.215,.35,.446,.526,.582],kh=20,qEe=256,O0=new Xc,V4=new Ct;let bC=null,xC=0,SC=0,EC=!1;const WEe=new se;class uI{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,a={}){const{size:o=256,position:s=WEe}=a;bC=this._renderer.getRenderTarget(),xC=this._renderer.getActiveCubeFace(),SC=this._renderer.getActiveMipmapLevel(),EC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,s),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=W4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=q4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(bC,xC,SC),this._renderer.xr.enabled=EC,e.scissorTest=!1,Vm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===qu||e.mapping===xd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bC=this._renderer.getRenderTarget(),xC=this._renderer.getActiveCubeFace(),SC=this._renderer.getActiveMipmapLevel(),EC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:mi,minFilter:mi,generateMipmaps:!1,type:Wu,format:ja,colorSpace:Sd,depthBuffer:!1},r=H4(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=H4(e,n,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=jEe(a)),this._blurMaterial=YEe(a,e,n),this._ggxMaterial=XEe(a,e,n)}return r}_compileMaterial(e){const n=new er(new cn,e);this._renderer.compile(n,O0)}_sceneToCubeUV(e,n,i,r,a){const u=new _r(90,1,n,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,v=p.autoClear,y=p.toneMapping;p.getClearColor(V4),p.toneMapping=al,p.autoClear=!1,p.state.buffers.depth.getReversed()&&(p.setRenderTarget(r),p.clearDepth(),p.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new er(new gp,new pf({name:"PMREM.Background",side:yo,depthWrite:!1,depthTest:!1})));const T=this._backgroundBox,S=T.material;let A=!1;const R=e.background;R?R.isColor&&(S.color.copy(R),e.background=null,A=!0):(S.color.copy(V4),A=!0);for(let I=0;I<6;I++){const N=I%3;N===0?(u.up.set(0,c[I],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+d[I],a.y,a.z)):N===1?(u.up.set(0,0,c[I]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+d[I],a.z)):(u.up.set(0,c[I],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+d[I]));const D=this._cubeSize;Vm(r,N*D,I>2?D:0,D,D),p.setRenderTarget(r),A&&p.render(T,u),p.render(e,u)}p.toneMapping=y,p.autoClear=v,e.background=R}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===qu||e.mapping===xd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=W4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=q4());const a=r?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const u=this._cubeSize;Vm(n,0,0,3*u,2*u),i.setRenderTarget(n),i.render(o,O0)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[i];s.material=o;const u=o.uniforms,c=i/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),p=Math.sqrt(c*c-d*d),v=0+c*1.25,y=p*v,{_lodMax:b}=this,T=this._sizeLods[i],S=3*T*(i>b-md?i-b+md:0),A=4*(this._cubeSize-T);u.envMap.value=e.texture,u.roughness.value=y,u.mipInt.value=b-n,Vm(a,S,A,3*T,2*T),r.setRenderTarget(a),r.render(s,O0),u.envMap.value=a.texture,u.roughness.value=0,u.mipInt.value=b-i,Vm(e,S,A,3*T,2*T),r.setRenderTarget(e),r.render(s,O0)}_blur(e,n,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,o,s){const u=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Ht("blur direction must be either latitudinal or longitudinal!");const d=3,p=this._lodMeshes[r];p.material=c;const v=c.uniforms,y=this._sizeLods[i]-1,b=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*kh-1),T=a/b,S=isFinite(a)?1+Math.floor(d*T):kh;S>kh&&Mt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${kh}`);const A=[];let R=0;for(let F=0;F<kh;++F){const z=F/T,U=Math.exp(-z*z/2);A.push(U),F===0?R+=U:F<S&&(R+=2*U)}for(let F=0;F<A.length;F++)A[F]=A[F]/R;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=A,v.latitudinal.value=o==="latitudinal",s&&(v.poleAxis.value=s);const{_lodMax:I}=this;v.dTheta.value=b,v.mipInt.value=I-i;const N=this._sizeLods[r],D=3*N*(r>I-md?r-I+md:0),O=4*(this._cubeSize-N);Vm(n,D,O,3*N,2*N),u.setRenderTarget(n),u.render(p,O0)}}function jEe(t){const e=[],n=[],i=[];let r=t;const a=t-md+1+G4.length;for(let o=0;o<a;o++){const s=Math.pow(2,r);e.push(s);let u=1/s;o>t-md?u=G4[o-t+md-1]:o===0&&(u=0),n.push(u);const c=1/(s-2),d=-c,p=1+c,v=[d,d,p,d,p,p,d,d,p,p,d,p],y=6,b=6,T=3,S=2,A=1,R=new Float32Array(T*b*y),I=new Float32Array(S*b*y),N=new Float32Array(A*b*y);for(let O=0;O<y;O++){const F=O%3*2/3-1,z=O>2?0:-1,U=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0];R.set(U,T*b*O),I.set(v,S*b*O);const B=[O,O,O,O,O,O];N.set(B,A*b*O)}const D=new cn;D.setAttribute("position",new di(R,T)),D.setAttribute("uv",new di(I,S)),D.setAttribute("faceIndex",new di(N,A)),i.push(new er(D,null)),r>md&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function H4(t,e,n){const i=new _s(t,e,n);return i.texture.mapping=Gg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Vm(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function XEe(t,e,n){return new Es({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:qEe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:oA(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Vu,depthTest:!1,depthWrite:!1})}function YEe(t,e,n){const i=new Float32Array(kh),r=new se(0,1,0);return new Es({name:"SphericalGaussianBlur",defines:{n:kh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:oA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Vu,depthTest:!1,depthWrite:!1})}function q4(){return new Es({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Vu,depthTest:!1,depthWrite:!1})}function W4(){return new Es({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Vu,depthTest:!1,depthWrite:!1})}function oA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $Ee(t){let e=new WeakMap,n=null;function i(s){if(s&&s.isTexture){const u=s.mapping,c=u===Sy||u===Ey,d=u===qu||u===xd;if(c||d){let p=e.get(s);const v=p!==void 0?p.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==v)return n===null&&(n=new uI(t)),p=c?n.fromEquirectangular(s,p):n.fromCubemap(s,p),p.texture.pmremVersion=s.pmremVersion,e.set(s,p),p.texture;if(p!==void 0)return p.texture;{const y=s.image;return c&&y&&y.height>0||d&&y&&r(y)?(n===null&&(n=new uI(t)),p=c?n.fromEquirectangular(s):n.fromCubemap(s),p.texture.pmremVersion=s.pmremVersion,e.set(s,p),s.addEventListener("dispose",a),p.texture):null}}}return s}function r(s){let u=0;const c=6;for(let d=0;d<c;d++)s[d]!==void 0&&u++;return u===c}function a(s){const u=s.target;u.removeEventListener("dispose",a);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function KEe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&vg("WebGLRenderer: "+i+" extension not supported."),r}}}function JEe(t,e,n,i){const r={},a=new WeakMap;function o(p){const v=p.target;v.index!==null&&e.remove(v.index);for(const b in v.attributes)e.remove(v.attributes[b]);v.removeEventListener("dispose",o),delete r[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function s(p,v){return r[v.id]===!0||(v.addEventListener("dispose",o),r[v.id]=!0,n.memory.geometries++),v}function u(p){const v=p.attributes;for(const y in v)e.update(v[y],t.ARRAY_BUFFER)}function c(p){const v=[],y=p.index,b=p.attributes.position;let T=0;if(y!==null){const R=y.array;T=y.version;for(let I=0,N=R.length;I<N;I+=3){const D=R[I+0],O=R[I+1],F=R[I+2];v.push(D,O,O,F,F,D)}}else if(b!==void 0){const R=b.array;T=b.version;for(let I=0,N=R.length/3-1;I<N;I+=3){const D=I+0,O=I+1,F=I+2;v.push(D,O,O,F,F,D)}}else return;const S=new(m9(v)?zN:BN)(v,1);S.version=T;const A=a.get(p);A&&e.remove(A),a.set(p,S)}function d(p){const v=a.get(p);if(v){const y=p.index;y!==null&&v.version<y.version&&c(p)}else c(p);return a.get(p)}return{get:s,update:u,getWireframeAttribute:d}}function ZEe(t,e,n){let i;function r(v){i=v}let a,o;function s(v){a=v.type,o=v.bytesPerElement}function u(v,y){t.drawElements(i,y,a,v*o),n.update(y,i,1)}function c(v,y,b){b!==0&&(t.drawElementsInstanced(i,y,a,v*o,b),n.update(y,i,b))}function d(v,y,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,a,v,0,b);let S=0;for(let A=0;A<b;A++)S+=y[A];n.update(S,i,1)}function p(v,y,b,T){if(b===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let A=0;A<v.length;A++)c(v[A]/o,y[A],T[A]);else{S.multiDrawElementsInstancedWEBGL(i,y,0,a,v,0,T,0,b);let A=0;for(let R=0;R<b;R++)A+=y[R]*T[R];n.update(A,i,1)}}this.setMode=r,this.setIndex=s,this.render=u,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=p}function QEe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:Ht("WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function eTe(t,e,n){const i=new WeakMap,r=new ri;function a(o,s,u){const c=o.morphTargetInfluences,d=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,p=d!==void 0?d.length:0;let v=i.get(s);if(v===void 0||v.count!==p){let B=function(){z.dispose(),i.delete(s),s.removeEventListener("dispose",B)};var y=B;v!==void 0&&v.texture.dispose();const b=s.morphAttributes.position!==void 0,T=s.morphAttributes.normal!==void 0,S=s.morphAttributes.color!==void 0,A=s.morphAttributes.position||[],R=s.morphAttributes.normal||[],I=s.morphAttributes.color||[];let N=0;b===!0&&(N=1),T===!0&&(N=2),S===!0&&(N=3);let D=s.attributes.position.count*N,O=1;D>e.maxTextureSize&&(O=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const F=new Float32Array(D*O*4*p),z=new LT(F,D,O,p);z.type=vo,z.needsUpdate=!0;const U=N*4;for(let j=0;j<p;j++){const W=A[j],Y=R[j],Q=I[j],ae=D*O*4*j;for(let X=0;X<W.count;X++){const ne=X*U;b===!0&&(r.fromBufferAttribute(W,X),F[ae+ne+0]=r.x,F[ae+ne+1]=r.y,F[ae+ne+2]=r.z,F[ae+ne+3]=0),T===!0&&(r.fromBufferAttribute(Y,X),F[ae+ne+4]=r.x,F[ae+ne+5]=r.y,F[ae+ne+6]=r.z,F[ae+ne+7]=0),S===!0&&(r.fromBufferAttribute(Q,X),F[ae+ne+8]=r.x,F[ae+ne+9]=r.y,F[ae+ne+10]=r.z,F[ae+ne+11]=Q.itemSize===4?r.w:1)}}v={count:p,texture:z,size:new st(D,O)},i.set(s,v),s.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let b=0;for(let S=0;S<c.length;S++)b+=c[S];const T=s.morphTargetsRelative?1:1-b;u.getUniforms().setValue(t,"morphTargetBaseInfluence",T),u.getUniforms().setValue(t,"morphTargetInfluences",c)}u.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:a}}function tTe(t,e,n,i){let r=new WeakMap;function a(u){const c=i.render.frame,d=u.geometry,p=e.get(u,d);if(r.get(p)!==c&&(e.update(p),r.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),r.get(u)!==c&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),r.set(u,c))),u.isSkinnedMesh){const v=u.skeleton;r.get(v)!==c&&(v.update(),r.set(v,c))}return p}function o(){r=new WeakMap}function s(u){const c=u.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:o}}const nTe={[EN]:"LINEAR_TONE_MAPPING",[TN]:"REINHARD_TONE_MAPPING",[AN]:"CINEON_TONE_MAPPING",[TT]:"ACES_FILMIC_TONE_MAPPING",[wN]:"AGX_TONE_MAPPING",[CN]:"NEUTRAL_TONE_MAPPING",[MN]:"CUSTOM_TONE_MAPPING"};function iTe(t,e,n,i,r){const a=new _s(e,n,{type:t,depthBuffer:i,stencilBuffer:r}),o=new _s(e,n,{type:Wu,depthBuffer:!1,stencilBuffer:!1}),s=new cn;s.setAttribute("position",new Ft([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new Ft([0,2,0,0,2,0],2));const u=new eD({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new er(s,u),d=new Xc(-1,1,1,-1,0,1);let p=null,v=null,y=!1,b,T=null,S=[],A=!1;this.setSize=function(R,I){a.setSize(R,I),o.setSize(R,I);for(let N=0;N<S.length;N++){const D=S[N];D.setSize&&D.setSize(R,I)}},this.setEffects=function(R){S=R,A=S.length>0&&S[0].isRenderPass===!0;const I=a.width,N=a.height;for(let D=0;D<S.length;D++){const O=S[D];O.setSize&&O.setSize(I,N)}},this.begin=function(R,I){if(y||R.toneMapping===al&&S.length===0)return!1;if(T=I,I!==null){const N=I.width,D=I.height;(a.width!==N||a.height!==D)&&this.setSize(N,D)}return A===!1&&R.setRenderTarget(a),b=R.toneMapping,R.toneMapping=al,!0},this.hasRenderPass=function(){return A},this.end=function(R,I){R.toneMapping=b,y=!0;let N=a,D=o;for(let O=0;O<S.length;O++){const F=S[O];if(F.enabled!==!1&&(F.render(R,D,N,I),F.needsSwap!==!1)){const z=N;N=D,D=z}}if(p!==R.outputColorSpace||v!==R.toneMapping){p=R.outputColorSpace,v=R.toneMapping,u.defines={},Fn.getTransfer(p)===ni&&(u.defines.SRGB_TRANSFER="");const O=nTe[v];O&&(u.defines[O]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=N.texture,R.setRenderTarget(T),R.render(c,d),T=null,y=!1},this.isCompositing=function(){return y},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),u.dispose()}}const y7=new Qi,cI=new xg(1,1),_7=new LT,b7=new UT,x7=new d_,j4=[],X4=[],Y4=new Float32Array(16),$4=new Float32Array(9),K4=new Float32Array(4);function Hg(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=j4[r];if(a===void 0&&(a=new Float32Array(r),j4[r]=a),e!==0){i.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Wr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function jr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function sA(t,e){let n=X4[e];n===void 0&&(n=new Int32Array(e),X4[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function rTe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function aTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wr(n,e))return;t.uniform2fv(this.addr,e),jr(n,e)}}function oTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Wr(n,e))return;t.uniform3fv(this.addr,e),jr(n,e)}}function sTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wr(n,e))return;t.uniform4fv(this.addr,e),jr(n,e)}}function lTe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),jr(n,e)}else{if(Wr(n,i))return;K4.set(i),t.uniformMatrix2fv(this.addr,!1,K4),jr(n,i)}}function uTe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),jr(n,e)}else{if(Wr(n,i))return;$4.set(i),t.uniformMatrix3fv(this.addr,!1,$4),jr(n,i)}}function cTe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Wr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),jr(n,e)}else{if(Wr(n,i))return;Y4.set(i),t.uniformMatrix4fv(this.addr,!1,Y4),jr(n,i)}}function fTe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function dTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wr(n,e))return;t.uniform2iv(this.addr,e),jr(n,e)}}function hTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wr(n,e))return;t.uniform3iv(this.addr,e),jr(n,e)}}function pTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wr(n,e))return;t.uniform4iv(this.addr,e),jr(n,e)}}function mTe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function gTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Wr(n,e))return;t.uniform2uiv(this.addr,e),jr(n,e)}}function vTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Wr(n,e))return;t.uniform3uiv(this.addr,e),jr(n,e)}}function yTe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Wr(n,e))return;t.uniform4uiv(this.addr,e),jr(n,e)}}function _Te(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(cI.compareFunction=n.isReversedDepthBuffer()?OT:DT,a=cI):a=y7,n.setTexture2D(e||a,r)}function bTe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||b7,r)}function xTe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||x7,r)}function STe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||_7,r)}function ETe(t){switch(t){case 5126:return rTe;case 35664:return aTe;case 35665:return oTe;case 35666:return sTe;case 35674:return lTe;case 35675:return uTe;case 35676:return cTe;case 5124:case 35670:return fTe;case 35667:case 35671:return dTe;case 35668:case 35672:return hTe;case 35669:case 35673:return pTe;case 5125:return mTe;case 36294:return gTe;case 36295:return vTe;case 36296:return yTe;case 35678:case 36198:case 36298:case 36306:case 35682:return _Te;case 35679:case 36299:case 36307:return bTe;case 35680:case 36300:case 36308:case 36293:return xTe;case 36289:case 36303:case 36311:case 36292:return STe}}function TTe(t,e){t.uniform1fv(this.addr,e)}function ATe(t,e){const n=Hg(e,this.size,2);t.uniform2fv(this.addr,n)}function MTe(t,e){const n=Hg(e,this.size,3);t.uniform3fv(this.addr,n)}function wTe(t,e){const n=Hg(e,this.size,4);t.uniform4fv(this.addr,n)}function CTe(t,e){const n=Hg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function RTe(t,e){const n=Hg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ITe(t,e){const n=Hg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function PTe(t,e){t.uniform1iv(this.addr,e)}function NTe(t,e){t.uniform2iv(this.addr,e)}function DTe(t,e){t.uniform3iv(this.addr,e)}function OTe(t,e){t.uniform4iv(this.addr,e)}function LTe(t,e){t.uniform1uiv(this.addr,e)}function UTe(t,e){t.uniform2uiv(this.addr,e)}function FTe(t,e){t.uniform3uiv(this.addr,e)}function kTe(t,e){t.uniform4uiv(this.addr,e)}function BTe(t,e,n){const i=this.cache,r=e.length,a=sA(n,r);Wr(i,a)||(t.uniform1iv(this.addr,a),jr(i,a));let o;this.type===t.SAMPLER_2D_SHADOW?o=cI:o=y7;for(let s=0;s!==r;++s)n.setTexture2D(e[s]||o,a[s])}function zTe(t,e,n){const i=this.cache,r=e.length,a=sA(n,r);Wr(i,a)||(t.uniform1iv(this.addr,a),jr(i,a));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||b7,a[o])}function GTe(t,e,n){const i=this.cache,r=e.length,a=sA(n,r);Wr(i,a)||(t.uniform1iv(this.addr,a),jr(i,a));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||x7,a[o])}function VTe(t,e,n){const i=this.cache,r=e.length,a=sA(n,r);Wr(i,a)||(t.uniform1iv(this.addr,a),jr(i,a));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||_7,a[o])}function HTe(t){switch(t){case 5126:return TTe;case 35664:return ATe;case 35665:return MTe;case 35666:return wTe;case 35674:return CTe;case 35675:return RTe;case 35676:return ITe;case 5124:case 35670:return PTe;case 35667:case 35671:return NTe;case 35668:case 35672:return DTe;case 35669:case 35673:return OTe;case 5125:return LTe;case 36294:return UTe;case 36295:return FTe;case 36296:return kTe;case 35678:case 36198:case 36298:case 36306:case 35682:return BTe;case 35679:case 36299:case 36307:return zTe;case 35680:case 36300:case 36308:case 36293:return GTe;case 36289:case 36303:case 36311:case 36292:return VTe}}class qTe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=ETe(n.type)}}class WTe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=HTe(n.type)}}class jTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const s=r[a];s.setValue(e,n[s.id],i)}}}const TC=/(\w+)(\])?(\[|\.)?/g;function J4(t,e){t.seq.push(e),t.map[e.id]=e}function XTe(t,e,n){const i=t.name,r=i.length;for(TC.lastIndex=0;;){const a=TC.exec(i),o=TC.lastIndex;let s=a[1];const u=a[2]==="]",c=a[3];if(u&&(s=s|0),c===void 0||c==="["&&o+2===r){J4(n,c===void 0?new qTe(s,t,e):new WTe(s,t,e));break}else{let p=n.map[s];p===void 0&&(p=new jTe(s),J4(n,p)),n=p}}}class wS{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<i;++o){const s=e.getActiveUniform(n,o),u=e.getUniformLocation(n,s.name);XTe(s,u,this)}const r=[],a=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(o):a.push(o);r.length>0&&(this.seq=r.concat(a))}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,o=n.length;a!==o;++a){const s=n[a],u=i[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function Z4(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const YTe=37297;let $Te=0;function KTe(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=r;o<a;o++){const s=o+1;i.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return i.join(`
`)}const Q4=new un;function JTe(t){Fn._getMatrix(Q4,Fn.workingColorSpace,t);const e=`mat3( ${Q4.elements.map(n=>n.toFixed(4))} )`;switch(Fn.getTransfer(t)){case Cy:return[e,"LinearTransferOETF"];case ni:return[e,"sRGBTransferOETF"];default:return Mt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function eB(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+KTe(t.getShaderSource(e),s)}else return a}function ZTe(t,e){const n=JTe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const QTe={[EN]:"Linear",[TN]:"Reinhard",[AN]:"Cineon",[TT]:"ACESFilmic",[wN]:"AgX",[CN]:"Neutral",[MN]:"Custom"};function eAe(t,e){const n=QTe[e];return n===void 0?(Mt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const sS=new se;function tAe(){Fn.getLuminanceCoefficients(sS);const t=sS.x.toFixed(4),e=sS.y.toFixed(4),n=sS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function nAe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(q0).join(`
`)}function iAe(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function rAe(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function q0(t){return t!==""}function tB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const aAe=/^[ \t]*#include +<([\w\d./]+)>/gm;function fI(t){return t.replace(aAe,sAe)}const oAe=new Map;function sAe(t,e){let n=mn[e];if(n===void 0){const i=oAe.get(e);if(i!==void 0)n=mn[i],Mt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return fI(n)}const lAe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iB(t){return t.replace(lAe,uAe)}function uAe(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function rB(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const cAe={[og]:"SHADOWMAP_TYPE_PCF",[Vh]:"SHADOWMAP_TYPE_VSM"};function fAe(t){return cAe[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const dAe={[qu]:"ENVMAP_TYPE_CUBE",[xd]:"ENVMAP_TYPE_CUBE",[Gg]:"ENVMAP_TYPE_CUBE_UV"};function hAe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":dAe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const pAe={[xd]:"ENVMAP_MODE_REFRACTION"};function mAe(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":pAe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const gAe={[c_]:"ENVMAP_BLENDING_MULTIPLY",[e9]:"ENVMAP_BLENDING_MIX",[t9]:"ENVMAP_BLENDING_ADD"};function vAe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":gAe[t.combine]||"ENVMAP_BLENDING_NONE"}function yAe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function _Ae(t,e,n,i){const r=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const u=fAe(n),c=hAe(n),d=mAe(n),p=vAe(n),v=yAe(n),y=nAe(n),b=iAe(a),T=r.createProgram();let S,A,R=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(q0).join(`
`),S.length>0&&(S+=`
`),A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(q0).join(`
`),A.length>0&&(A+=`
`)):(S=[rB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(q0).join(`
`),A=[rB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==al?"#define TONE_MAPPING":"",n.toneMapping!==al?mn.tonemapping_pars_fragment:"",n.toneMapping!==al?eAe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,ZTe("linearToOutputTexel",n.outputColorSpace),tAe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(q0).join(`
`)),o=fI(o),o=tB(o,n),o=nB(o,n),s=fI(s),s=tB(s,n),s=nB(s,n),o=iB(o),s=iB(s),n.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,A=["#define varying in",n.glslVersion===tI?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===tI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const I=R+S+o,N=R+A+s,D=Z4(r,r.VERTEX_SHADER,I),O=Z4(r,r.FRAGMENT_SHADER,N);r.attachShader(T,D),r.attachShader(T,O),n.index0AttributeName!==void 0?r.bindAttribLocation(T,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function F(j){if(t.debug.checkShaderErrors){const W=r.getProgramInfoLog(T)||"",Y=r.getShaderInfoLog(D)||"",Q=r.getShaderInfoLog(O)||"",ae=W.trim(),X=Y.trim(),ne=Q.trim();let ge=!0,pe=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(ge=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,T,D,O);else{const de=eB(r,D,"vertex"),H=eB(r,O,"fragment");Ht("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ae+`
`+de+`
`+H)}else ae!==""?Mt("WebGLProgram: Program Info Log:",ae):(X===""||ne==="")&&(pe=!1);pe&&(j.diagnostics={runnable:ge,programLog:ae,vertexShader:{log:X,prefix:S},fragmentShader:{log:ne,prefix:A}})}r.deleteShader(D),r.deleteShader(O),z=new wS(r,T),U=rAe(r,T)}let z;this.getUniforms=function(){return z===void 0&&F(this),z};let U;this.getAttributes=function(){return U===void 0&&F(this),U};let B=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=r.getProgramParameter(T,YTe)),B},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$Te++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=D,this.fragmentShader=O,this}let bAe=0;class xAe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new SAe(e),n.set(e,i)),i}}class SAe{constructor(e){this.id=bAe++,this.code=e,this.usedTimes=0}}function EAe(t,e,n,i,r,a,o){const s=new _g,u=new xAe,c=new Set,d=[],p=new Map,v=r.logarithmicDepthBuffer;let y=r.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(U){return c.add(U),U===0?"uv":`uv${U}`}function S(U,B,j,W,Y){const Q=W.fog,ae=Y.geometry,X=U.isMeshStandardMaterial?W.environment:null,ne=(U.isMeshStandardMaterial?n:e).get(U.envMap||X),ge=ne&&ne.mapping===Gg?ne.image.height:null,pe=b[U.type];U.precision!==null&&(y=r.getMaxPrecision(U.precision),y!==U.precision&&Mt("WebGLProgram.getParameters:",U.precision,"not supported, using",y,"instead."));const de=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,H=de!==void 0?de.length:0;let te=0;ae.morphAttributes.position!==void 0&&(te=1),ae.morphAttributes.normal!==void 0&&(te=2),ae.morphAttributes.color!==void 0&&(te=3);let ie,ce,ye,oe;if(pe){const Lt=Fl[pe];ie=Lt.vertexShader,ce=Lt.fragmentShader}else ie=U.vertexShader,ce=U.fragmentShader,u.update(U),ye=u.getVertexShaderID(U),oe=u.getFragmentShaderID(U);const le=t.getRenderTarget(),Se=t.state.buffers.depth.getReversed(),he=Y.isInstancedMesh===!0,De=Y.isBatchedMesh===!0,Fe=!!U.map,ve=!!U.matcap,ct=!!ne,Ee=!!U.aoMap,Oe=!!U.lightMap,Me=!!U.bumpMap,Je=!!U.normalMap,K=!!U.displacementMap,at=!!U.emissiveMap,je=!!U.metalnessMap,Re=!!U.roughnessMap,Ve=U.anisotropy>0,$=U.clearcoat>0,q=U.dispersion>0,fe=U.iridescence>0,Le=U.sheen>0,Ce=U.transmission>0,Te=Ve&&!!U.anisotropyMap,ot=$&&!!U.clearcoatMap,it=$&&!!U.clearcoatNormalMap,mt=$&&!!U.clearcoatRoughnessMap,xt=fe&&!!U.iridescenceMap,We=fe&&!!U.iridescenceThicknessMap,Ke=Le&&!!U.sheenColorMap,et=Le&&!!U.sheenRoughnessMap,ue=!!U.specularMap,we=!!U.specularColorMap,ht=!!U.specularIntensityMap,me=Ce&&!!U.transmissionMap,Ye=Ce&&!!U.thicknessMap,tt=!!U.gradientMap,vt=!!U.alphaMap,nt=U.alphaTest>0,Be=!!U.alphaHash,lt=!!U.extensions;let Et=al;U.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(Et=t.toneMapping);const St={shaderID:pe,shaderType:U.type,shaderName:U.name,vertexShader:ie,fragmentShader:ce,defines:U.defines,customVertexShaderID:ye,customFragmentShaderID:oe,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:y,batching:De,batchingColor:De&&Y._colorsTexture!==null,instancing:he,instancingColor:he&&Y.instanceColor!==null,instancingMorph:he&&Y.morphTexture!==null,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:Sd,alphaToCoverage:!!U.alphaToCoverage,map:Fe,matcap:ve,envMap:ct,envMapMode:ct&&ne.mapping,envMapCubeUVHeight:ge,aoMap:Ee,lightMap:Oe,bumpMap:Me,normalMap:Je,displacementMap:K,emissiveMap:at,normalMapObjectSpace:Je&&U.normalMapType===l9,normalMapTangentSpace:Je&&U.normalMapType===Nd,metalnessMap:je,roughnessMap:Re,anisotropy:Ve,anisotropyMap:Te,clearcoat:$,clearcoatMap:ot,clearcoatNormalMap:it,clearcoatRoughnessMap:mt,dispersion:q,iridescence:fe,iridescenceMap:xt,iridescenceThicknessMap:We,sheen:Le,sheenColorMap:Ke,sheenRoughnessMap:et,specularMap:ue,specularColorMap:we,specularIntensityMap:ht,transmission:Ce,transmissionMap:me,thicknessMap:Ye,gradientMap:tt,opaque:U.transparent===!1&&U.blending===$h&&U.alphaToCoverage===!1,alphaMap:vt,alphaTest:nt,alphaHash:Be,combine:U.combine,mapUv:Fe&&T(U.map.channel),aoMapUv:Ee&&T(U.aoMap.channel),lightMapUv:Oe&&T(U.lightMap.channel),bumpMapUv:Me&&T(U.bumpMap.channel),normalMapUv:Je&&T(U.normalMap.channel),displacementMapUv:K&&T(U.displacementMap.channel),emissiveMapUv:at&&T(U.emissiveMap.channel),metalnessMapUv:je&&T(U.metalnessMap.channel),roughnessMapUv:Re&&T(U.roughnessMap.channel),anisotropyMapUv:Te&&T(U.anisotropyMap.channel),clearcoatMapUv:ot&&T(U.clearcoatMap.channel),clearcoatNormalMapUv:it&&T(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:mt&&T(U.clearcoatRoughnessMap.channel),iridescenceMapUv:xt&&T(U.iridescenceMap.channel),iridescenceThicknessMapUv:We&&T(U.iridescenceThicknessMap.channel),sheenColorMapUv:Ke&&T(U.sheenColorMap.channel),sheenRoughnessMapUv:et&&T(U.sheenRoughnessMap.channel),specularMapUv:ue&&T(U.specularMap.channel),specularColorMapUv:we&&T(U.specularColorMap.channel),specularIntensityMapUv:ht&&T(U.specularIntensityMap.channel),transmissionMapUv:me&&T(U.transmissionMap.channel),thicknessMapUv:Ye&&T(U.thicknessMap.channel),alphaMapUv:vt&&T(U.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(Je||Ve),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!ae.attributes.uv&&(Fe||vt),fog:!!Q,useFog:U.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:U.flatShading===!0&&U.wireframe===!1,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Se,skinning:Y.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:te,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:Et,decodeVideoTexture:Fe&&U.map.isVideoTexture===!0&&Fn.getTransfer(U.map.colorSpace)===ni,decodeVideoTextureEmissive:at&&U.emissiveMap.isVideoTexture===!0&&Fn.getTransfer(U.emissiveMap.colorSpace)===ni,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Vl,flipSided:U.side===yo,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:lt&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(lt&&U.extensions.multiDraw===!0||De)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return St.vertexUv1s=c.has(1),St.vertexUv2s=c.has(2),St.vertexUv3s=c.has(3),c.clear(),St}function A(U){const B=[];if(U.shaderID?B.push(U.shaderID):(B.push(U.customVertexShaderID),B.push(U.customFragmentShaderID)),U.defines!==void 0)for(const j in U.defines)B.push(j),B.push(U.defines[j]);return U.isRawShaderMaterial===!1&&(R(B,U),I(B,U),B.push(t.outputColorSpace)),B.push(U.customProgramCacheKey),B.join()}function R(U,B){U.push(B.precision),U.push(B.outputColorSpace),U.push(B.envMapMode),U.push(B.envMapCubeUVHeight),U.push(B.mapUv),U.push(B.alphaMapUv),U.push(B.lightMapUv),U.push(B.aoMapUv),U.push(B.bumpMapUv),U.push(B.normalMapUv),U.push(B.displacementMapUv),U.push(B.emissiveMapUv),U.push(B.metalnessMapUv),U.push(B.roughnessMapUv),U.push(B.anisotropyMapUv),U.push(B.clearcoatMapUv),U.push(B.clearcoatNormalMapUv),U.push(B.clearcoatRoughnessMapUv),U.push(B.iridescenceMapUv),U.push(B.iridescenceThicknessMapUv),U.push(B.sheenColorMapUv),U.push(B.sheenRoughnessMapUv),U.push(B.specularMapUv),U.push(B.specularColorMapUv),U.push(B.specularIntensityMapUv),U.push(B.transmissionMapUv),U.push(B.thicknessMapUv),U.push(B.combine),U.push(B.fogExp2),U.push(B.sizeAttenuation),U.push(B.morphTargetsCount),U.push(B.morphAttributeCount),U.push(B.numDirLights),U.push(B.numPointLights),U.push(B.numSpotLights),U.push(B.numSpotLightMaps),U.push(B.numHemiLights),U.push(B.numRectAreaLights),U.push(B.numDirLightShadows),U.push(B.numPointLightShadows),U.push(B.numSpotLightShadows),U.push(B.numSpotLightShadowsWithMaps),U.push(B.numLightProbes),U.push(B.shadowMapType),U.push(B.toneMapping),U.push(B.numClippingPlanes),U.push(B.numClipIntersection),U.push(B.depthPacking)}function I(U,B){s.disableAll(),B.instancing&&s.enable(0),B.instancingColor&&s.enable(1),B.instancingMorph&&s.enable(2),B.matcap&&s.enable(3),B.envMap&&s.enable(4),B.normalMapObjectSpace&&s.enable(5),B.normalMapTangentSpace&&s.enable(6),B.clearcoat&&s.enable(7),B.iridescence&&s.enable(8),B.alphaTest&&s.enable(9),B.vertexColors&&s.enable(10),B.vertexAlphas&&s.enable(11),B.vertexUv1s&&s.enable(12),B.vertexUv2s&&s.enable(13),B.vertexUv3s&&s.enable(14),B.vertexTangents&&s.enable(15),B.anisotropy&&s.enable(16),B.alphaHash&&s.enable(17),B.batching&&s.enable(18),B.dispersion&&s.enable(19),B.batchingColor&&s.enable(20),B.gradientMap&&s.enable(21),U.push(s.mask),s.disableAll(),B.fog&&s.enable(0),B.useFog&&s.enable(1),B.flatShading&&s.enable(2),B.logarithmicDepthBuffer&&s.enable(3),B.reversedDepthBuffer&&s.enable(4),B.skinning&&s.enable(5),B.morphTargets&&s.enable(6),B.morphNormals&&s.enable(7),B.morphColors&&s.enable(8),B.premultipliedAlpha&&s.enable(9),B.shadowMapEnabled&&s.enable(10),B.doubleSided&&s.enable(11),B.flipSided&&s.enable(12),B.useDepthPacking&&s.enable(13),B.dithering&&s.enable(14),B.transmission&&s.enable(15),B.sheen&&s.enable(16),B.opaque&&s.enable(17),B.pointsUvs&&s.enable(18),B.decodeVideoTexture&&s.enable(19),B.decodeVideoTextureEmissive&&s.enable(20),B.alphaToCoverage&&s.enable(21),U.push(s.mask)}function N(U){const B=b[U.type];let j;if(B){const W=Fl[B];j=GN.clone(W.uniforms)}else j=U.uniforms;return j}function D(U,B){let j=p.get(B);return j!==void 0?++j.usedTimes:(j=new _Ae(t,B,U,a),d.push(j),p.set(B,j)),j}function O(U){if(--U.usedTimes===0){const B=d.indexOf(U);d[B]=d[d.length-1],d.pop(),p.delete(U.cacheKey),U.destroy()}}function F(U){u.remove(U)}function z(){u.dispose()}return{getParameters:S,getProgramCacheKey:A,getUniforms:N,acquireProgram:D,releaseProgram:O,releaseShaderCache:F,programs:d,dispose:z}}function TAe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function i(o){t.delete(o)}function r(o,s,u){t.get(o)[s]=u}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function AAe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function aB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oB(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function o(p,v,y,b,T,S){let A=t[e];return A===void 0?(A={id:p.id,object:p,geometry:v,material:y,groupOrder:b,renderOrder:p.renderOrder,z:T,group:S},t[e]=A):(A.id=p.id,A.object=p,A.geometry=v,A.material=y,A.groupOrder=b,A.renderOrder=p.renderOrder,A.z=T,A.group=S),e++,A}function s(p,v,y,b,T,S){const A=o(p,v,y,b,T,S);y.transmission>0?i.push(A):y.transparent===!0?r.push(A):n.push(A)}function u(p,v,y,b,T,S){const A=o(p,v,y,b,T,S);y.transmission>0?i.unshift(A):y.transparent===!0?r.unshift(A):n.unshift(A)}function c(p,v){n.length>1&&n.sort(p||AAe),i.length>1&&i.sort(v||aB),r.length>1&&r.sort(v||aB)}function d(){for(let p=e,v=t.length;p<v;p++){const y=t[p];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:s,unshift:u,finish:d,sort:c}}function MAe(){let t=new WeakMap;function e(i,r){const a=t.get(i);let o;return a===void 0?(o=new oB,t.set(i,[o])):r>=a.length?(o=new oB,a.push(o)):o=a[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function wAe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new se,color:new Ct};break;case"SpotLight":n={position:new se,direction:new se,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new se,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":n={direction:new se,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":n={color:new Ct,position:new se,halfWidth:new se,halfHeight:new se};break}return t[e.id]=n,n}}}function CAe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let RAe=0;function IAe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function PAe(t){const e=new wAe,n=CAe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new se);const r=new se,a=new en,o=new en;function s(c){let d=0,p=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let y=0,b=0,T=0,S=0,A=0,R=0,I=0,N=0,D=0,O=0,F=0;c.sort(IAe);for(let U=0,B=c.length;U<B;U++){const j=c[U],W=j.color,Y=j.intensity,Q=j.distance;let ae=null;if(j.shadow&&j.shadow.map&&(j.shadow.map.texture.format===op?ae=j.shadow.map.texture:ae=j.shadow.map.depthTexture||j.shadow.map.texture),j.isAmbientLight)d+=W.r*Y,p+=W.g*Y,v+=W.b*Y;else if(j.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(j.sh.coefficients[X],Y);F++}else if(j.isDirectionalLight){const X=e.get(j);if(X.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const ne=j.shadow,ge=n.get(j);ge.shadowIntensity=ne.intensity,ge.shadowBias=ne.bias,ge.shadowNormalBias=ne.normalBias,ge.shadowRadius=ne.radius,ge.shadowMapSize=ne.mapSize,i.directionalShadow[y]=ge,i.directionalShadowMap[y]=ae,i.directionalShadowMatrix[y]=j.shadow.matrix,R++}i.directional[y]=X,y++}else if(j.isSpotLight){const X=e.get(j);X.position.setFromMatrixPosition(j.matrixWorld),X.color.copy(W).multiplyScalar(Y),X.distance=Q,X.coneCos=Math.cos(j.angle),X.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),X.decay=j.decay,i.spot[T]=X;const ne=j.shadow;if(j.map&&(i.spotLightMap[D]=j.map,D++,ne.updateMatrices(j),j.castShadow&&O++),i.spotLightMatrix[T]=ne.matrix,j.castShadow){const ge=n.get(j);ge.shadowIntensity=ne.intensity,ge.shadowBias=ne.bias,ge.shadowNormalBias=ne.normalBias,ge.shadowRadius=ne.radius,ge.shadowMapSize=ne.mapSize,i.spotShadow[T]=ge,i.spotShadowMap[T]=ae,N++}T++}else if(j.isRectAreaLight){const X=e.get(j);X.color.copy(W).multiplyScalar(Y),X.halfWidth.set(j.width*.5,0,0),X.halfHeight.set(0,j.height*.5,0),i.rectArea[S]=X,S++}else if(j.isPointLight){const X=e.get(j);if(X.color.copy(j.color).multiplyScalar(j.intensity),X.distance=j.distance,X.decay=j.decay,j.castShadow){const ne=j.shadow,ge=n.get(j);ge.shadowIntensity=ne.intensity,ge.shadowBias=ne.bias,ge.shadowNormalBias=ne.normalBias,ge.shadowRadius=ne.radius,ge.shadowMapSize=ne.mapSize,ge.shadowCameraNear=ne.camera.near,ge.shadowCameraFar=ne.camera.far,i.pointShadow[b]=ge,i.pointShadowMap[b]=ae,i.pointShadowMatrix[b]=j.shadow.matrix,I++}i.point[b]=X,b++}else if(j.isHemisphereLight){const X=e.get(j);X.skyColor.copy(j.color).multiplyScalar(Y),X.groundColor.copy(j.groundColor).multiplyScalar(Y),i.hemi[A]=X,A++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=wt.LTC_FLOAT_1,i.rectAreaLTC2=wt.LTC_FLOAT_2):(i.rectAreaLTC1=wt.LTC_HALF_1,i.rectAreaLTC2=wt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=v;const z=i.hash;(z.directionalLength!==y||z.pointLength!==b||z.spotLength!==T||z.rectAreaLength!==S||z.hemiLength!==A||z.numDirectionalShadows!==R||z.numPointShadows!==I||z.numSpotShadows!==N||z.numSpotMaps!==D||z.numLightProbes!==F)&&(i.directional.length=y,i.spot.length=T,i.rectArea.length=S,i.point.length=b,i.hemi.length=A,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=I,i.pointShadowMap.length=I,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=I,i.spotLightMatrix.length=N+D-O,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=F,z.directionalLength=y,z.pointLength=b,z.spotLength=T,z.rectAreaLength=S,z.hemiLength=A,z.numDirectionalShadows=R,z.numPointShadows=I,z.numSpotShadows=N,z.numSpotMaps=D,z.numLightProbes=F,i.version=RAe++)}function u(c,d){let p=0,v=0,y=0,b=0,T=0;const S=d.matrixWorldInverse;for(let A=0,R=c.length;A<R;A++){const I=c[A];if(I.isDirectionalLight){const N=i.directional[p];N.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(S),p++}else if(I.isSpotLight){const N=i.spot[y];N.position.setFromMatrixPosition(I.matrixWorld),N.position.applyMatrix4(S),N.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(S),y++}else if(I.isRectAreaLight){const N=i.rectArea[b];N.position.setFromMatrixPosition(I.matrixWorld),N.position.applyMatrix4(S),o.identity(),a.copy(I.matrixWorld),a.premultiply(S),o.extractRotation(a),N.halfWidth.set(I.width*.5,0,0),N.halfHeight.set(0,I.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),b++}else if(I.isPointLight){const N=i.point[v];N.position.setFromMatrixPosition(I.matrixWorld),N.position.applyMatrix4(S),v++}else if(I.isHemisphereLight){const N=i.hemi[T];N.direction.setFromMatrixPosition(I.matrixWorld),N.direction.transformDirection(S),T++}}}return{setup:s,setupView:u,state:i}}function sB(t){const e=new PAe(t),n=[],i=[];function r(d){c.camera=d,n.length=0,i.length=0}function a(d){n.push(d)}function o(d){i.push(d)}function s(){e.setup(n)}function u(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:s,setupLightsView:u,pushLight:a,pushShadow:o}}function NAe(t){let e=new WeakMap;function n(r,a=0){const o=e.get(r);let s;return o===void 0?(s=new sB(t),e.set(r,[s])):a>=o.length?(s=new sB(t),o.push(s)):s=o[a],s}function i(){e=new WeakMap}return{get:n,dispose:i}}const DAe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,OAe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,LAe=[new se(1,0,0),new se(-1,0,0),new se(0,1,0),new se(0,-1,0),new se(0,0,1),new se(0,0,-1)],UAe=[new se(0,-1,0),new se(0,-1,0),new se(0,0,1),new se(0,0,-1),new se(0,-1,0),new se(0,-1,0)],lB=new en,L0=new se,AC=new se;function FAe(t,e,n){let i=new Vg;const r=new st,a=new st,o=new ri,s=new iA,u=new rA,c={},d=n.maxTextureSize,p={[af]:yo,[yo]:af,[Vl]:Vl},v=new Es({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new st},radius:{value:4}},vertexShader:DAe,fragmentShader:OAe}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const b=new cn;b.setAttribute("position",new di(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new er(b,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=og;let A=this.type;this.render=function(O,F,z){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||O.length===0)return;O.type===j0&&(Mt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),O.type=og);const U=t.getRenderTarget(),B=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),W=t.state;W.setBlending(Vu),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const Y=A!==this.type;Y&&F.traverse(function(Q){Q.material&&(Array.isArray(Q.material)?Q.material.forEach(ae=>ae.needsUpdate=!0):Q.material.needsUpdate=!0)});for(let Q=0,ae=O.length;Q<ae;Q++){const X=O[Q],ne=X.shadow;if(ne===void 0){Mt("WebGLShadowMap:",X,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);const ge=ne.getFrameExtents();if(r.multiply(ge),a.copy(ne.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(a.x=Math.floor(d/ge.x),r.x=a.x*ge.x,ne.mapSize.x=a.x),r.y>d&&(a.y=Math.floor(d/ge.y),r.y=a.y*ge.y,ne.mapSize.y=a.y)),ne.map===null||Y===!0){if(ne.map!==null&&(ne.map.depthTexture!==null&&(ne.map.depthTexture.dispose(),ne.map.depthTexture=null),ne.map.dispose()),this.type===Vh){if(X.isPointLight){Mt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}ne.map=new _s(r.x,r.y,{format:op,type:Wu,minFilter:mi,magFilter:mi,generateMipmaps:!1}),ne.map.texture.name=X.name+".shadowMap",ne.map.depthTexture=new xg(r.x,r.y,vo),ne.map.depthTexture.name=X.name+".shadowMapDepth",ne.map.depthTexture.format=ju,ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=br,ne.map.depthTexture.magFilter=br}else{X.isPointLight?(ne.map=new VN(r.x),ne.map.depthTexture=new N9(r.x,cl)):(ne.map=new _s(r.x,r.y),ne.map.depthTexture=new xg(r.x,r.y,cl)),ne.map.depthTexture.name=X.name+".shadowMap",ne.map.depthTexture.format=ju;const de=t.state.buffers.depth.getReversed();this.type===og?(ne.map.depthTexture.compareFunction=de?OT:DT,ne.map.depthTexture.minFilter=mi,ne.map.depthTexture.magFilter=mi):(ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=br,ne.map.depthTexture.magFilter=br)}ne.camera.updateProjectionMatrix()}const pe=ne.map.isWebGLCubeRenderTarget?6:1;for(let de=0;de<pe;de++){if(ne.map.isWebGLCubeRenderTarget)t.setRenderTarget(ne.map,de),t.clear();else{de===0&&(t.setRenderTarget(ne.map),t.clear());const H=ne.getViewport(de);o.set(a.x*H.x,a.y*H.y,a.x*H.z,a.y*H.w),W.viewport(o)}if(X.isPointLight){const H=ne.camera,te=ne.matrix,ie=X.distance||H.far;ie!==H.far&&(H.far=ie,H.updateProjectionMatrix()),L0.setFromMatrixPosition(X.matrixWorld),H.position.copy(L0),AC.copy(H.position),AC.add(LAe[de]),H.up.copy(UAe[de]),H.lookAt(AC),H.updateMatrixWorld(),te.makeTranslation(-L0.x,-L0.y,-L0.z),lB.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),ne._frustum.setFromProjectionMatrix(lB,H.coordinateSystem,H.reversedDepth)}else ne.updateMatrices(X);i=ne.getFrustum(),N(F,z,ne.camera,X,this.type)}ne.isPointLightShadow!==!0&&this.type===Vh&&R(ne,z),ne.needsUpdate=!1}A=this.type,S.needsUpdate=!1,t.setRenderTarget(U,B,j)};function R(O,F){const z=e.update(T);v.defines.VSM_SAMPLES!==O.blurSamples&&(v.defines.VSM_SAMPLES=O.blurSamples,y.defines.VSM_SAMPLES=O.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new _s(r.x,r.y,{format:op,type:Wu})),v.uniforms.shadow_pass.value=O.map.depthTexture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(F,null,z,v,T,null),y.uniforms.shadow_pass.value=O.mapPass.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(F,null,z,y,T,null)}function I(O,F,z,U){let B=null;const j=z.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(j!==void 0)B=j;else if(B=z.isPointLight===!0?u:s,t.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const W=B.uuid,Y=F.uuid;let Q=c[W];Q===void 0&&(Q={},c[W]=Q);let ae=Q[Y];ae===void 0&&(ae=B.clone(),Q[Y]=ae,F.addEventListener("dispose",D)),B=ae}if(B.visible=F.visible,B.wireframe=F.wireframe,U===Vh?B.side=F.shadowSide!==null?F.shadowSide:F.side:B.side=F.shadowSide!==null?F.shadowSide:p[F.side],B.alphaMap=F.alphaMap,B.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,B.map=F.map,B.clipShadows=F.clipShadows,B.clippingPlanes=F.clippingPlanes,B.clipIntersection=F.clipIntersection,B.displacementMap=F.displacementMap,B.displacementScale=F.displacementScale,B.displacementBias=F.displacementBias,B.wireframeLinewidth=F.wireframeLinewidth,B.linewidth=F.linewidth,z.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const W=t.properties.get(B);W.light=z}return B}function N(O,F,z,U,B){if(O.visible===!1)return;if(O.layers.test(F.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&B===Vh)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,O.matrixWorld);const Y=e.update(O),Q=O.material;if(Array.isArray(Q)){const ae=Y.groups;for(let X=0,ne=ae.length;X<ne;X++){const ge=ae[X],pe=Q[ge.materialIndex];if(pe&&pe.visible){const de=I(O,pe,U,B);O.onBeforeShadow(t,O,F,z,Y,de,ge),t.renderBufferDirect(z,null,Y,de,O,ge),O.onAfterShadow(t,O,F,z,Y,de,ge)}}}else if(Q.visible){const ae=I(O,Q,U,B);O.onBeforeShadow(t,O,F,z,Y,ae,null),t.renderBufferDirect(z,null,Y,ae,O,null),O.onAfterShadow(t,O,F,z,Y,ae,null)}}const W=O.children;for(let Y=0,Q=W.length;Y<Q;Y++)N(W[Y],F,z,U,B)}function D(O){O.target.removeEventListener("dispose",D);for(const z in c){const U=c[z],B=O.target.uuid;B in U&&(U[B].dispose(),delete U[B])}}}const kAe={[I1]:P1,[N1]:L1,[D1]:U1,[ap]:O1,[P1]:I1,[L1]:N1,[U1]:D1,[O1]:ap};function BAe(t,e){function n(){let me=!1;const Ye=new ri;let tt=null;const vt=new ri(0,0,0,0);return{setMask:function(nt){tt!==nt&&!me&&(t.colorMask(nt,nt,nt,nt),tt=nt)},setLocked:function(nt){me=nt},setClear:function(nt,Be,lt,Et,St){St===!0&&(nt*=Et,Be*=Et,lt*=Et),Ye.set(nt,Be,lt,Et),vt.equals(Ye)===!1&&(t.clearColor(nt,Be,lt,Et),vt.copy(Ye))},reset:function(){me=!1,tt=null,vt.set(-1,0,0,0)}}}function i(){let me=!1,Ye=!1,tt=null,vt=null,nt=null;return{setReversed:function(Be){if(Ye!==Be){const lt=e.get("EXT_clip_control");Be?lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.ZERO_TO_ONE_EXT):lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.NEGATIVE_ONE_TO_ONE_EXT),Ye=Be;const Et=nt;nt=null,this.setClear(Et)}},getReversed:function(){return Ye},setTest:function(Be){Be?le(t.DEPTH_TEST):Se(t.DEPTH_TEST)},setMask:function(Be){tt!==Be&&!me&&(t.depthMask(Be),tt=Be)},setFunc:function(Be){if(Ye&&(Be=kAe[Be]),vt!==Be){switch(Be){case I1:t.depthFunc(t.NEVER);break;case P1:t.depthFunc(t.ALWAYS);break;case N1:t.depthFunc(t.LESS);break;case ap:t.depthFunc(t.LEQUAL);break;case D1:t.depthFunc(t.EQUAL);break;case O1:t.depthFunc(t.GEQUAL);break;case L1:t.depthFunc(t.GREATER);break;case U1:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}vt=Be}},setLocked:function(Be){me=Be},setClear:function(Be){nt!==Be&&(Ye&&(Be=1-Be),t.clearDepth(Be),nt=Be)},reset:function(){me=!1,tt=null,vt=null,nt=null,Ye=!1}}}function r(){let me=!1,Ye=null,tt=null,vt=null,nt=null,Be=null,lt=null,Et=null,St=null;return{setTest:function(Lt){me||(Lt?le(t.STENCIL_TEST):Se(t.STENCIL_TEST))},setMask:function(Lt){Ye!==Lt&&!me&&(t.stencilMask(Lt),Ye=Lt)},setFunc:function(Lt,vn,wn){(tt!==Lt||vt!==vn||nt!==wn)&&(t.stencilFunc(Lt,vn,wn),tt=Lt,vt=vn,nt=wn)},setOp:function(Lt,vn,wn){(Be!==Lt||lt!==vn||Et!==wn)&&(t.stencilOp(Lt,vn,wn),Be=Lt,lt=vn,Et=wn)},setLocked:function(Lt){me=Lt},setClear:function(Lt){St!==Lt&&(t.clearStencil(Lt),St=Lt)},reset:function(){me=!1,Ye=null,tt=null,vt=null,nt=null,Be=null,lt=null,Et=null,St=null}}}const a=new n,o=new i,s=new r,u=new WeakMap,c=new WeakMap;let d={},p={},v=new WeakMap,y=[],b=null,T=!1,S=null,A=null,R=null,I=null,N=null,D=null,O=null,F=new Ct(0,0,0),z=0,U=!1,B=null,j=null,W=null,Y=null,Q=null;const ae=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,ne=0;const ge=t.getParameter(t.VERSION);ge.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(ge)[1]),X=ne>=1):ge.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(ge)[1]),X=ne>=2);let pe=null,de={};const H=t.getParameter(t.SCISSOR_BOX),te=t.getParameter(t.VIEWPORT),ie=new ri().fromArray(H),ce=new ri().fromArray(te);function ye(me,Ye,tt,vt){const nt=new Uint8Array(4),Be=t.createTexture();t.bindTexture(me,Be),t.texParameteri(me,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(me,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let lt=0;lt<tt;lt++)me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY?t.texImage3D(Ye,0,t.RGBA,1,1,vt,0,t.RGBA,t.UNSIGNED_BYTE,nt):t.texImage2D(Ye+lt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,nt);return Be}const oe={};oe[t.TEXTURE_2D]=ye(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=ye(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=ye(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=ye(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),le(t.DEPTH_TEST),o.setFunc(ap),Me(!1),Je(KR),le(t.CULL_FACE),Ee(Vu);function le(me){d[me]!==!0&&(t.enable(me),d[me]=!0)}function Se(me){d[me]!==!1&&(t.disable(me),d[me]=!1)}function he(me,Ye){return p[me]!==Ye?(t.bindFramebuffer(me,Ye),p[me]=Ye,me===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Ye),me===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Ye),!0):!1}function De(me,Ye){let tt=y,vt=!1;if(me){tt=v.get(Ye),tt===void 0&&(tt=[],v.set(Ye,tt));const nt=me.textures;if(tt.length!==nt.length||tt[0]!==t.COLOR_ATTACHMENT0){for(let Be=0,lt=nt.length;Be<lt;Be++)tt[Be]=t.COLOR_ATTACHMENT0+Be;tt.length=nt.length,vt=!0}}else tt[0]!==t.BACK&&(tt[0]=t.BACK,vt=!0);vt&&t.drawBuffers(tt)}function Fe(me){return b!==me?(t.useProgram(me),b=me,!0):!1}const ve={[cd]:t.FUNC_ADD,[Fq]:t.FUNC_SUBTRACT,[kq]:t.FUNC_REVERSE_SUBTRACT};ve[Bq]=t.MIN,ve[zq]=t.MAX;const ct={[Gq]:t.ZERO,[Vq]:t.ONE,[Hq]:t.SRC_COLOR,[C1]:t.SRC_ALPHA,[$q]:t.SRC_ALPHA_SATURATE,[Xq]:t.DST_COLOR,[Wq]:t.DST_ALPHA,[qq]:t.ONE_MINUS_SRC_COLOR,[R1]:t.ONE_MINUS_SRC_ALPHA,[Yq]:t.ONE_MINUS_DST_COLOR,[jq]:t.ONE_MINUS_DST_ALPHA,[Kq]:t.CONSTANT_COLOR,[Jq]:t.ONE_MINUS_CONSTANT_COLOR,[Zq]:t.CONSTANT_ALPHA,[Qq]:t.ONE_MINUS_CONSTANT_ALPHA};function Ee(me,Ye,tt,vt,nt,Be,lt,Et,St,Lt){if(me===Vu){T===!0&&(Se(t.BLEND),T=!1);return}if(T===!1&&(le(t.BLEND),T=!0),me!==Uq){if(me!==S||Lt!==U){if((A!==cd||N!==cd)&&(t.blendEquation(t.FUNC_ADD),A=cd,N=cd),Lt)switch(me){case $h:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case w1:t.blendFunc(t.ONE,t.ONE);break;case JR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ZR:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Ht("WebGLState: Invalid blending: ",me);break}else switch(me){case $h:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case w1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case JR:Ht("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ZR:Ht("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ht("WebGLState: Invalid blending: ",me);break}R=null,I=null,D=null,O=null,F.set(0,0,0),z=0,S=me,U=Lt}return}nt=nt||Ye,Be=Be||tt,lt=lt||vt,(Ye!==A||nt!==N)&&(t.blendEquationSeparate(ve[Ye],ve[nt]),A=Ye,N=nt),(tt!==R||vt!==I||Be!==D||lt!==O)&&(t.blendFuncSeparate(ct[tt],ct[vt],ct[Be],ct[lt]),R=tt,I=vt,D=Be,O=lt),(Et.equals(F)===!1||St!==z)&&(t.blendColor(Et.r,Et.g,Et.b,St),F.copy(Et),z=St),S=me,U=!1}function Oe(me,Ye){me.side===Vl?Se(t.CULL_FACE):le(t.CULL_FACE);let tt=me.side===yo;Ye&&(tt=!tt),Me(tt),me.blending===$h&&me.transparent===!1?Ee(Vu):Ee(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),o.setFunc(me.depthFunc),o.setTest(me.depthTest),o.setMask(me.depthWrite),a.setMask(me.colorWrite);const vt=me.stencilWrite;s.setTest(vt),vt&&(s.setMask(me.stencilWriteMask),s.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),s.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),at(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?le(t.SAMPLE_ALPHA_TO_COVERAGE):Se(t.SAMPLE_ALPHA_TO_COVERAGE)}function Me(me){B!==me&&(me?t.frontFace(t.CW):t.frontFace(t.CCW),B=me)}function Je(me){me!==Dq?(le(t.CULL_FACE),me!==j&&(me===KR?t.cullFace(t.BACK):me===Oq?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Se(t.CULL_FACE),j=me}function K(me){me!==W&&(X&&t.lineWidth(me),W=me)}function at(me,Ye,tt){me?(le(t.POLYGON_OFFSET_FILL),(Y!==Ye||Q!==tt)&&(t.polygonOffset(Ye,tt),Y=Ye,Q=tt)):Se(t.POLYGON_OFFSET_FILL)}function je(me){me?le(t.SCISSOR_TEST):Se(t.SCISSOR_TEST)}function Re(me){me===void 0&&(me=t.TEXTURE0+ae-1),pe!==me&&(t.activeTexture(me),pe=me)}function Ve(me,Ye,tt){tt===void 0&&(pe===null?tt=t.TEXTURE0+ae-1:tt=pe);let vt=de[tt];vt===void 0&&(vt={type:void 0,texture:void 0},de[tt]=vt),(vt.type!==me||vt.texture!==Ye)&&(pe!==tt&&(t.activeTexture(tt),pe=tt),t.bindTexture(me,Ye||oe[me]),vt.type=me,vt.texture=Ye)}function $(){const me=de[pe];me!==void 0&&me.type!==void 0&&(t.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function q(){try{t.compressedTexImage2D(...arguments)}catch(me){Ht("WebGLState:",me)}}function fe(){try{t.compressedTexImage3D(...arguments)}catch(me){Ht("WebGLState:",me)}}function Le(){try{t.texSubImage2D(...arguments)}catch(me){Ht("WebGLState:",me)}}function Ce(){try{t.texSubImage3D(...arguments)}catch(me){Ht("WebGLState:",me)}}function Te(){try{t.compressedTexSubImage2D(...arguments)}catch(me){Ht("WebGLState:",me)}}function ot(){try{t.compressedTexSubImage3D(...arguments)}catch(me){Ht("WebGLState:",me)}}function it(){try{t.texStorage2D(...arguments)}catch(me){Ht("WebGLState:",me)}}function mt(){try{t.texStorage3D(...arguments)}catch(me){Ht("WebGLState:",me)}}function xt(){try{t.texImage2D(...arguments)}catch(me){Ht("WebGLState:",me)}}function We(){try{t.texImage3D(...arguments)}catch(me){Ht("WebGLState:",me)}}function Ke(me){ie.equals(me)===!1&&(t.scissor(me.x,me.y,me.z,me.w),ie.copy(me))}function et(me){ce.equals(me)===!1&&(t.viewport(me.x,me.y,me.z,me.w),ce.copy(me))}function ue(me,Ye){let tt=c.get(Ye);tt===void 0&&(tt=new WeakMap,c.set(Ye,tt));let vt=tt.get(me);vt===void 0&&(vt=t.getUniformBlockIndex(Ye,me.name),tt.set(me,vt))}function we(me,Ye){const vt=c.get(Ye).get(me);u.get(Ye)!==vt&&(t.uniformBlockBinding(Ye,vt,me.__bindingPointIndex),u.set(Ye,vt))}function ht(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},pe=null,de={},p={},v=new WeakMap,y=[],b=null,T=!1,S=null,A=null,R=null,I=null,N=null,D=null,O=null,F=new Ct(0,0,0),z=0,U=!1,B=null,j=null,W=null,Y=null,Q=null,ie.set(0,0,t.canvas.width,t.canvas.height),ce.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:le,disable:Se,bindFramebuffer:he,drawBuffers:De,useProgram:Fe,setBlending:Ee,setMaterial:Oe,setFlipSided:Me,setCullFace:Je,setLineWidth:K,setPolygonOffset:at,setScissorTest:je,activeTexture:Re,bindTexture:Ve,unbindTexture:$,compressedTexImage2D:q,compressedTexImage3D:fe,texImage2D:xt,texImage3D:We,updateUBOMapping:ue,uniformBlockBinding:we,texStorage2D:it,texStorage3D:mt,texSubImage2D:Le,texSubImage3D:Ce,compressedTexSubImage2D:Te,compressedTexSubImage3D:ot,scissor:Ke,viewport:et,reset:ht}}function zAe(t,e,n,i,r,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new st,d=new WeakMap;let p;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b($,q){return y?new OffscreenCanvas($,q):Iy("canvas")}function T($,q,fe){let Le=1;const Ce=Ve($);if((Ce.width>fe||Ce.height>fe)&&(Le=fe/Math.max(Ce.width,Ce.height)),Le<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Te=Math.floor(Le*Ce.width),ot=Math.floor(Le*Ce.height);p===void 0&&(p=b(Te,ot));const it=q?b(Te,ot):p;return it.width=Te,it.height=ot,it.getContext("2d").drawImage($,0,0,Te,ot),Mt("WebGLRenderer: Texture has been resized from ("+Ce.width+"x"+Ce.height+") to ("+Te+"x"+ot+")."),it}else return"data"in $&&Mt("WebGLRenderer: Image in DataTexture is too big ("+Ce.width+"x"+Ce.height+")."),$;return $}function S($){return $.generateMipmaps}function A($){t.generateMipmap($)}function R($){return $.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?t.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function I($,q,fe,Le,Ce=!1){if($!==null){if(t[$]!==void 0)return t[$];Mt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Te=q;if(q===t.RED&&(fe===t.FLOAT&&(Te=t.R32F),fe===t.HALF_FLOAT&&(Te=t.R16F),fe===t.UNSIGNED_BYTE&&(Te=t.R8)),q===t.RED_INTEGER&&(fe===t.UNSIGNED_BYTE&&(Te=t.R8UI),fe===t.UNSIGNED_SHORT&&(Te=t.R16UI),fe===t.UNSIGNED_INT&&(Te=t.R32UI),fe===t.BYTE&&(Te=t.R8I),fe===t.SHORT&&(Te=t.R16I),fe===t.INT&&(Te=t.R32I)),q===t.RG&&(fe===t.FLOAT&&(Te=t.RG32F),fe===t.HALF_FLOAT&&(Te=t.RG16F),fe===t.UNSIGNED_BYTE&&(Te=t.RG8)),q===t.RG_INTEGER&&(fe===t.UNSIGNED_BYTE&&(Te=t.RG8UI),fe===t.UNSIGNED_SHORT&&(Te=t.RG16UI),fe===t.UNSIGNED_INT&&(Te=t.RG32UI),fe===t.BYTE&&(Te=t.RG8I),fe===t.SHORT&&(Te=t.RG16I),fe===t.INT&&(Te=t.RG32I)),q===t.RGB_INTEGER&&(fe===t.UNSIGNED_BYTE&&(Te=t.RGB8UI),fe===t.UNSIGNED_SHORT&&(Te=t.RGB16UI),fe===t.UNSIGNED_INT&&(Te=t.RGB32UI),fe===t.BYTE&&(Te=t.RGB8I),fe===t.SHORT&&(Te=t.RGB16I),fe===t.INT&&(Te=t.RGB32I)),q===t.RGBA_INTEGER&&(fe===t.UNSIGNED_BYTE&&(Te=t.RGBA8UI),fe===t.UNSIGNED_SHORT&&(Te=t.RGBA16UI),fe===t.UNSIGNED_INT&&(Te=t.RGBA32UI),fe===t.BYTE&&(Te=t.RGBA8I),fe===t.SHORT&&(Te=t.RGBA16I),fe===t.INT&&(Te=t.RGBA32I)),q===t.RGB&&(fe===t.UNSIGNED_INT_5_9_9_9_REV&&(Te=t.RGB9_E5),fe===t.UNSIGNED_INT_10F_11F_11F_REV&&(Te=t.R11F_G11F_B10F)),q===t.RGBA){const ot=Ce?Cy:Fn.getTransfer(Le);fe===t.FLOAT&&(Te=t.RGBA32F),fe===t.HALF_FLOAT&&(Te=t.RGBA16F),fe===t.UNSIGNED_BYTE&&(Te=ot===ni?t.SRGB8_ALPHA8:t.RGBA8),fe===t.UNSIGNED_SHORT_4_4_4_4&&(Te=t.RGBA4),fe===t.UNSIGNED_SHORT_5_5_5_1&&(Te=t.RGB5_A1)}return(Te===t.R16F||Te===t.R32F||Te===t.RG16F||Te===t.RG32F||Te===t.RGBA16F||Te===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function N($,q){let fe;return $?q===null||q===cl||q===mg?fe=t.DEPTH24_STENCIL8:q===vo?fe=t.DEPTH32F_STENCIL8:q===pg&&(fe=t.DEPTH24_STENCIL8,Mt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===cl||q===mg?fe=t.DEPTH_COMPONENT24:q===vo?fe=t.DEPTH_COMPONENT32F:q===pg&&(fe=t.DEPTH_COMPONENT16),fe}function D($,q){return S($)===!0||$.isFramebufferTexture&&$.minFilter!==br&&$.minFilter!==mi?Math.log2(Math.max(q.width,q.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?q.mipmaps.length:1}function O($){const q=$.target;q.removeEventListener("dispose",O),z(q),q.isVideoTexture&&d.delete(q)}function F($){const q=$.target;q.removeEventListener("dispose",F),B(q)}function z($){const q=i.get($);if(q.__webglInit===void 0)return;const fe=$.source,Le=v.get(fe);if(Le){const Ce=Le[q.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&U($),Object.keys(Le).length===0&&v.delete(fe)}i.remove($)}function U($){const q=i.get($);t.deleteTexture(q.__webglTexture);const fe=$.source,Le=v.get(fe);delete Le[q.__cacheKey],o.memory.textures--}function B($){const q=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray(q.__webglFramebuffer[Le]))for(let Ce=0;Ce<q.__webglFramebuffer[Le].length;Ce++)t.deleteFramebuffer(q.__webglFramebuffer[Le][Ce]);else t.deleteFramebuffer(q.__webglFramebuffer[Le]);q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer[Le])}else{if(Array.isArray(q.__webglFramebuffer))for(let Le=0;Le<q.__webglFramebuffer.length;Le++)t.deleteFramebuffer(q.__webglFramebuffer[Le]);else t.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Le=0;Le<q.__webglColorRenderbuffer.length;Le++)q.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(q.__webglColorRenderbuffer[Le]);q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const fe=$.textures;for(let Le=0,Ce=fe.length;Le<Ce;Le++){const Te=i.get(fe[Le]);Te.__webglTexture&&(t.deleteTexture(Te.__webglTexture),o.memory.textures--),i.remove(fe[Le])}i.remove($)}let j=0;function W(){j=0}function Y(){const $=j;return $>=r.maxTextures&&Mt("WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+r.maxTextures),j+=1,$}function Q($){const q=[];return q.push($.wrapS),q.push($.wrapT),q.push($.wrapR||0),q.push($.magFilter),q.push($.minFilter),q.push($.anisotropy),q.push($.internalFormat),q.push($.format),q.push($.type),q.push($.generateMipmaps),q.push($.premultiplyAlpha),q.push($.flipY),q.push($.unpackAlignment),q.push($.colorSpace),q.join()}function ae($,q){const fe=i.get($);if($.isVideoTexture&&je($),$.isRenderTargetTexture===!1&&$.isExternalTexture!==!0&&$.version>0&&fe.__version!==$.version){const Le=$.image;if(Le===null)Mt("WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)Mt("WebGLRenderer: Texture marked for update but image is incomplete");else{oe(fe,$,q);return}}else $.isExternalTexture&&(fe.__webglTexture=$.sourceTexture?$.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,fe.__webglTexture,t.TEXTURE0+q)}function X($,q){const fe=i.get($);if($.isRenderTargetTexture===!1&&$.version>0&&fe.__version!==$.version){oe(fe,$,q);return}else $.isExternalTexture&&(fe.__webglTexture=$.sourceTexture?$.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,fe.__webglTexture,t.TEXTURE0+q)}function ne($,q){const fe=i.get($);if($.isRenderTargetTexture===!1&&$.version>0&&fe.__version!==$.version){oe(fe,$,q);return}n.bindTexture(t.TEXTURE_3D,fe.__webglTexture,t.TEXTURE0+q)}function ge($,q){const fe=i.get($);if($.isCubeDepthTexture!==!0&&$.version>0&&fe.__version!==$.version){le(fe,$,q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture,t.TEXTURE0+q)}const pe={[Ty]:t.REPEAT,[Jo]:t.CLAMP_TO_EDGE,[Ay]:t.MIRRORED_REPEAT},de={[br]:t.NEAREST,[RN]:t.NEAREST_MIPMAP_NEAREST,[Qm]:t.NEAREST_MIPMAP_LINEAR,[mi]:t.LINEAR,[X0]:t.LINEAR_MIPMAP_NEAREST,[Bu]:t.LINEAR_MIPMAP_LINEAR},H={[u9]:t.NEVER,[p9]:t.ALWAYS,[c9]:t.LESS,[DT]:t.LEQUAL,[f9]:t.EQUAL,[OT]:t.GEQUAL,[d9]:t.GREATER,[h9]:t.NOTEQUAL};function te($,q){if(q.type===vo&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===mi||q.magFilter===X0||q.magFilter===Qm||q.magFilter===Bu||q.minFilter===mi||q.minFilter===X0||q.minFilter===Qm||q.minFilter===Bu)&&Mt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri($,t.TEXTURE_WRAP_S,pe[q.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,pe[q.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,pe[q.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,de[q.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,de[q.minFilter]),q.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,H[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===br||q.minFilter!==Qm&&q.minFilter!==Bu||q.type===vo&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||i.get(q).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");t.texParameterf($,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),i.get(q).__currentAnisotropy=q.anisotropy}}}function ie($,q){let fe=!1;$.__webglInit===void 0&&($.__webglInit=!0,q.addEventListener("dispose",O));const Le=q.source;let Ce=v.get(Le);Ce===void 0&&(Ce={},v.set(Le,Ce));const Te=Q(q);if(Te!==$.__cacheKey){Ce[Te]===void 0&&(Ce[Te]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ce[Te].usedTimes++;const ot=Ce[$.__cacheKey];ot!==void 0&&(Ce[$.__cacheKey].usedTimes--,ot.usedTimes===0&&U(q)),$.__cacheKey=Te,$.__webglTexture=Ce[Te].texture}return fe}function ce($,q,fe){return Math.floor(Math.floor($/fe)/q)}function ye($,q,fe,Le){const Te=$.updateRanges;if(Te.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,q.width,q.height,fe,Le,q.data);else{Te.sort((We,Ke)=>We.start-Ke.start);let ot=0;for(let We=1;We<Te.length;We++){const Ke=Te[ot],et=Te[We],ue=Ke.start+Ke.count,we=ce(et.start,q.width,4),ht=ce(Ke.start,q.width,4);et.start<=ue+1&&we===ht&&ce(et.start+et.count-1,q.width,4)===we?Ke.count=Math.max(Ke.count,et.start+et.count-Ke.start):(++ot,Te[ot]=et)}Te.length=ot+1;const it=t.getParameter(t.UNPACK_ROW_LENGTH),mt=t.getParameter(t.UNPACK_SKIP_PIXELS),xt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,q.width);for(let We=0,Ke=Te.length;We<Ke;We++){const et=Te[We],ue=Math.floor(et.start/4),we=Math.ceil(et.count/4),ht=ue%q.width,me=Math.floor(ue/q.width),Ye=we,tt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,me),n.texSubImage2D(t.TEXTURE_2D,0,ht,me,Ye,tt,fe,Le,q.data)}$.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,it),t.pixelStorei(t.UNPACK_SKIP_PIXELS,mt),t.pixelStorei(t.UNPACK_SKIP_ROWS,xt)}}function oe($,q,fe){let Le=t.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Le=t.TEXTURE_2D_ARRAY),q.isData3DTexture&&(Le=t.TEXTURE_3D);const Ce=ie($,q),Te=q.source;n.bindTexture(Le,$.__webglTexture,t.TEXTURE0+fe);const ot=i.get(Te);if(Te.version!==ot.__version||Ce===!0){n.activeTexture(t.TEXTURE0+fe);const it=Fn.getPrimaries(Fn.workingColorSpace),mt=q.colorSpace===zc?null:Fn.getPrimaries(q.colorSpace),xt=q.colorSpace===zc||it===mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);let We=T(q.image,!1,r.maxTextureSize);We=Re(q,We);const Ke=a.convert(q.format,q.colorSpace),et=a.convert(q.type);let ue=I(q.internalFormat,Ke,et,q.colorSpace,q.isVideoTexture);te(Le,q);let we;const ht=q.mipmaps,me=q.isVideoTexture!==!0,Ye=ot.__version===void 0||Ce===!0,tt=Te.dataReady,vt=D(q,We);if(q.isDepthTexture)ue=N(q.format===hd,q.type),Ye&&(me?n.texStorage2D(t.TEXTURE_2D,1,ue,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,ue,We.width,We.height,0,Ke,et,null));else if(q.isDataTexture)if(ht.length>0){me&&Ye&&n.texStorage2D(t.TEXTURE_2D,vt,ue,ht[0].width,ht[0].height);for(let nt=0,Be=ht.length;nt<Be;nt++)we=ht[nt],me?tt&&n.texSubImage2D(t.TEXTURE_2D,nt,0,0,we.width,we.height,Ke,et,we.data):n.texImage2D(t.TEXTURE_2D,nt,ue,we.width,we.height,0,Ke,et,we.data);q.generateMipmaps=!1}else me?(Ye&&n.texStorage2D(t.TEXTURE_2D,vt,ue,We.width,We.height),tt&&ye(q,We,Ke,et)):n.texImage2D(t.TEXTURE_2D,0,ue,We.width,We.height,0,Ke,et,We.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){me&&Ye&&n.texStorage3D(t.TEXTURE_2D_ARRAY,vt,ue,ht[0].width,ht[0].height,We.depth);for(let nt=0,Be=ht.length;nt<Be;nt++)if(we=ht[nt],q.format!==ja)if(Ke!==null)if(me){if(tt)if(q.layerUpdates.size>0){const lt=lI(we.width,we.height,q.format,q.type);for(const Et of q.layerUpdates){const St=we.data.subarray(Et*lt/we.data.BYTES_PER_ELEMENT,(Et+1)*lt/we.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,nt,0,0,Et,we.width,we.height,1,Ke,St)}q.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,nt,0,0,0,we.width,we.height,We.depth,Ke,we.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,nt,ue,we.width,we.height,We.depth,0,we.data,0,0);else Mt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else me?tt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,nt,0,0,0,we.width,we.height,We.depth,Ke,et,we.data):n.texImage3D(t.TEXTURE_2D_ARRAY,nt,ue,we.width,we.height,We.depth,0,Ke,et,we.data)}else{me&&Ye&&n.texStorage2D(t.TEXTURE_2D,vt,ue,ht[0].width,ht[0].height);for(let nt=0,Be=ht.length;nt<Be;nt++)we=ht[nt],q.format!==ja?Ke!==null?me?tt&&n.compressedTexSubImage2D(t.TEXTURE_2D,nt,0,0,we.width,we.height,Ke,we.data):n.compressedTexImage2D(t.TEXTURE_2D,nt,ue,we.width,we.height,0,we.data):Mt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?tt&&n.texSubImage2D(t.TEXTURE_2D,nt,0,0,we.width,we.height,Ke,et,we.data):n.texImage2D(t.TEXTURE_2D,nt,ue,we.width,we.height,0,Ke,et,we.data)}else if(q.isDataArrayTexture)if(me){if(Ye&&n.texStorage3D(t.TEXTURE_2D_ARRAY,vt,ue,We.width,We.height,We.depth),tt)if(q.layerUpdates.size>0){const nt=lI(We.width,We.height,q.format,q.type);for(const Be of q.layerUpdates){const lt=We.data.subarray(Be*nt/We.data.BYTES_PER_ELEMENT,(Be+1)*nt/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Be,We.width,We.height,1,Ke,et,lt)}q.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,Ke,et,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ue,We.width,We.height,We.depth,0,Ke,et,We.data);else if(q.isData3DTexture)me?(Ye&&n.texStorage3D(t.TEXTURE_3D,vt,ue,We.width,We.height,We.depth),tt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,Ke,et,We.data)):n.texImage3D(t.TEXTURE_3D,0,ue,We.width,We.height,We.depth,0,Ke,et,We.data);else if(q.isFramebufferTexture){if(Ye)if(me)n.texStorage2D(t.TEXTURE_2D,vt,ue,We.width,We.height);else{let nt=We.width,Be=We.height;for(let lt=0;lt<vt;lt++)n.texImage2D(t.TEXTURE_2D,lt,ue,nt,Be,0,Ke,et,null),nt>>=1,Be>>=1}}else if(ht.length>0){if(me&&Ye){const nt=Ve(ht[0]);n.texStorage2D(t.TEXTURE_2D,vt,ue,nt.width,nt.height)}for(let nt=0,Be=ht.length;nt<Be;nt++)we=ht[nt],me?tt&&n.texSubImage2D(t.TEXTURE_2D,nt,0,0,Ke,et,we):n.texImage2D(t.TEXTURE_2D,nt,ue,Ke,et,we);q.generateMipmaps=!1}else if(me){if(Ye){const nt=Ve(We);n.texStorage2D(t.TEXTURE_2D,vt,ue,nt.width,nt.height)}tt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ke,et,We)}else n.texImage2D(t.TEXTURE_2D,0,ue,Ke,et,We);S(q)&&A(Le),ot.__version=Te.version,q.onUpdate&&q.onUpdate(q)}$.__version=q.version}function le($,q,fe){if(q.image.length!==6)return;const Le=ie($,q),Ce=q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+fe);const Te=i.get(Ce);if(Ce.version!==Te.__version||Le===!0){n.activeTexture(t.TEXTURE0+fe);const ot=Fn.getPrimaries(Fn.workingColorSpace),it=q.colorSpace===zc?null:Fn.getPrimaries(q.colorSpace),mt=q.colorSpace===zc||ot===it?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,mt);const xt=q.isCompressedTexture||q.image[0].isCompressedTexture,We=q.image[0]&&q.image[0].isDataTexture,Ke=[];for(let Be=0;Be<6;Be++)!xt&&!We?Ke[Be]=T(q.image[Be],!0,r.maxCubemapSize):Ke[Be]=We?q.image[Be].image:q.image[Be],Ke[Be]=Re(q,Ke[Be]);const et=Ke[0],ue=a.convert(q.format,q.colorSpace),we=a.convert(q.type),ht=I(q.internalFormat,ue,we,q.colorSpace),me=q.isVideoTexture!==!0,Ye=Te.__version===void 0||Le===!0,tt=Ce.dataReady;let vt=D(q,et);te(t.TEXTURE_CUBE_MAP,q);let nt;if(xt){me&&Ye&&n.texStorage2D(t.TEXTURE_CUBE_MAP,vt,ht,et.width,et.height);for(let Be=0;Be<6;Be++){nt=Ke[Be].mipmaps;for(let lt=0;lt<nt.length;lt++){const Et=nt[lt];q.format!==ja?ue!==null?me?tt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt,0,0,Et.width,Et.height,ue,Et.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt,ht,Et.width,Et.height,0,Et.data):Mt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?tt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt,0,0,Et.width,Et.height,ue,we,Et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt,ht,Et.width,Et.height,0,ue,we,Et.data)}}}else{if(nt=q.mipmaps,me&&Ye){nt.length>0&&vt++;const Be=Ve(Ke[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,vt,ht,Be.width,Be.height)}for(let Be=0;Be<6;Be++)if(We){me?tt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,Ke[Be].width,Ke[Be].height,ue,we,Ke[Be].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,ht,Ke[Be].width,Ke[Be].height,0,ue,we,Ke[Be].data);for(let lt=0;lt<nt.length;lt++){const St=nt[lt].image[Be].image;me?tt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt+1,0,0,St.width,St.height,ue,we,St.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt+1,ht,St.width,St.height,0,ue,we,St.data)}}else{me?tt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,0,0,ue,we,Ke[Be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0,ht,ue,we,Ke[Be]);for(let lt=0;lt<nt.length;lt++){const Et=nt[lt];me?tt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt+1,0,0,ue,we,Et.image[Be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,lt+1,ht,ue,we,Et.image[Be])}}}S(q)&&A(t.TEXTURE_CUBE_MAP),Te.__version=Ce.version,q.onUpdate&&q.onUpdate(q)}$.__version=q.version}function Se($,q,fe,Le,Ce,Te){const ot=a.convert(fe.format,fe.colorSpace),it=a.convert(fe.type),mt=I(fe.internalFormat,ot,it,fe.colorSpace),xt=i.get(q),We=i.get(fe);if(We.__renderTarget=q,!xt.__hasExternalTextures){const Ke=Math.max(1,q.width>>Te),et=Math.max(1,q.height>>Te);Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY?n.texImage3D(Ce,Te,mt,Ke,et,q.depth,0,ot,it,null):n.texImage2D(Ce,Te,mt,Ke,et,0,ot,it,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),at(q)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Le,Ce,We.__webglTexture,0,K(q)):(Ce===t.TEXTURE_2D||Ce>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Le,Ce,We.__webglTexture,Te),n.bindFramebuffer(t.FRAMEBUFFER,null)}function he($,q,fe){if(t.bindRenderbuffer(t.RENDERBUFFER,$),q.depthBuffer){const Le=q.depthTexture,Ce=Le&&Le.isDepthTexture?Le.type:null,Te=N(q.stencilBuffer,Ce),ot=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;at(q)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,K(q),Te,q.width,q.height):fe?t.renderbufferStorageMultisample(t.RENDERBUFFER,K(q),Te,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,Te,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ot,t.RENDERBUFFER,$)}else{const Le=q.textures;for(let Ce=0;Ce<Le.length;Ce++){const Te=Le[Ce],ot=a.convert(Te.format,Te.colorSpace),it=a.convert(Te.type),mt=I(Te.internalFormat,ot,it,Te.colorSpace);at(q)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,K(q),mt,q.width,q.height):fe?t.renderbufferStorageMultisample(t.RENDERBUFFER,K(q),mt,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,mt,q.width,q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function De($,q,fe){const Le=q.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ce=i.get(q.depthTexture);if(Ce.__renderTarget=q,(!Ce.__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),Le){if(Ce.__webglInit===void 0&&(Ce.__webglInit=!0,q.depthTexture.addEventListener("dispose",O)),Ce.__webglTexture===void 0){Ce.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture),te(t.TEXTURE_CUBE_MAP,q.depthTexture);const xt=a.convert(q.depthTexture.format),We=a.convert(q.depthTexture.type);let Ke;q.depthTexture.format===ju?Ke=t.DEPTH_COMPONENT24:q.depthTexture.format===hd&&(Ke=t.DEPTH24_STENCIL8);for(let et=0;et<6;et++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,Ke,q.width,q.height,0,xt,We,null)}}else ae(q.depthTexture,0);const Te=Ce.__webglTexture,ot=K(q),it=Le?t.TEXTURE_CUBE_MAP_POSITIVE_X+fe:t.TEXTURE_2D,mt=q.depthTexture.format===hd?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(q.depthTexture.format===ju)at(q)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,mt,it,Te,0,ot):t.framebufferTexture2D(t.FRAMEBUFFER,mt,it,Te,0);else if(q.depthTexture.format===hd)at(q)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,mt,it,Te,0,ot):t.framebufferTexture2D(t.FRAMEBUFFER,mt,it,Te,0);else throw new Error("Unknown depthTexture format")}function Fe($){const q=i.get($),fe=$.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==$.depthTexture){const Le=$.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),Le){const Ce=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,Le.removeEventListener("dispose",Ce)};Le.addEventListener("dispose",Ce),q.__depthDisposeCallback=Ce}q.__boundDepthTexture=Le}if($.depthTexture&&!q.__autoAllocateDepthBuffer)if(fe)for(let Le=0;Le<6;Le++)De(q.__webglFramebuffer[Le],$,Le);else{const Le=$.texture.mipmaps;Le&&Le.length>0?De(q.__webglFramebuffer[0],$,0):De(q.__webglFramebuffer,$,0)}else if(fe){q.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)if(n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer[Le]),q.__webglDepthbuffer[Le]===void 0)q.__webglDepthbuffer[Le]=t.createRenderbuffer(),he(q.__webglDepthbuffer[Le],$,!1);else{const Ce=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=q.__webglDepthbuffer[Le];t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ce,t.RENDERBUFFER,Te)}}else{const Le=$.texture.mipmaps;if(Le&&Le.length>0?n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=t.createRenderbuffer(),he(q.__webglDepthbuffer,$,!1);else{const Ce=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=q.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ce,t.RENDERBUFFER,Te)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve($,q,fe){const Le=i.get($);q!==void 0&&Se(Le.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),fe!==void 0&&Fe($)}function ct($){const q=$.texture,fe=i.get($),Le=i.get(q);$.addEventListener("dispose",F);const Ce=$.textures,Te=$.isWebGLCubeRenderTarget===!0,ot=Ce.length>1;if(ot||(Le.__webglTexture===void 0&&(Le.__webglTexture=t.createTexture()),Le.__version=q.version,o.memory.textures++),Te){fe.__webglFramebuffer=[];for(let it=0;it<6;it++)if(q.mipmaps&&q.mipmaps.length>0){fe.__webglFramebuffer[it]=[];for(let mt=0;mt<q.mipmaps.length;mt++)fe.__webglFramebuffer[it][mt]=t.createFramebuffer()}else fe.__webglFramebuffer[it]=t.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){fe.__webglFramebuffer=[];for(let it=0;it<q.mipmaps.length;it++)fe.__webglFramebuffer[it]=t.createFramebuffer()}else fe.__webglFramebuffer=t.createFramebuffer();if(ot)for(let it=0,mt=Ce.length;it<mt;it++){const xt=i.get(Ce[it]);xt.__webglTexture===void 0&&(xt.__webglTexture=t.createTexture(),o.memory.textures++)}if($.samples>0&&at($)===!1){fe.__webglMultisampledFramebuffer=t.createFramebuffer(),fe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let it=0;it<Ce.length;it++){const mt=Ce[it];fe.__webglColorRenderbuffer[it]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,fe.__webglColorRenderbuffer[it]);const xt=a.convert(mt.format,mt.colorSpace),We=a.convert(mt.type),Ke=I(mt.internalFormat,xt,We,mt.colorSpace,$.isXRRenderTarget===!0),et=K($);t.renderbufferStorageMultisample(t.RENDERBUFFER,et,Ke,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+it,t.RENDERBUFFER,fe.__webglColorRenderbuffer[it])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(fe.__webglDepthRenderbuffer=t.createRenderbuffer(),he(fe.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,Le.__webglTexture),te(t.TEXTURE_CUBE_MAP,q);for(let it=0;it<6;it++)if(q.mipmaps&&q.mipmaps.length>0)for(let mt=0;mt<q.mipmaps.length;mt++)Se(fe.__webglFramebuffer[it][mt],$,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,mt);else Se(fe.__webglFramebuffer[it],$,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+it,0);S(q)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ot){for(let it=0,mt=Ce.length;it<mt;it++){const xt=Ce[it],We=i.get(xt);let Ke=t.TEXTURE_2D;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(Ke=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ke,We.__webglTexture),te(Ke,xt),Se(fe.__webglFramebuffer,$,xt,t.COLOR_ATTACHMENT0+it,Ke,0),S(xt)&&A(Ke)}n.unbindTexture()}else{let it=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(it=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(it,Le.__webglTexture),te(it,q),q.mipmaps&&q.mipmaps.length>0)for(let mt=0;mt<q.mipmaps.length;mt++)Se(fe.__webglFramebuffer[mt],$,q,t.COLOR_ATTACHMENT0,it,mt);else Se(fe.__webglFramebuffer,$,q,t.COLOR_ATTACHMENT0,it,0);S(q)&&A(it),n.unbindTexture()}$.depthBuffer&&Fe($)}function Ee($){const q=$.textures;for(let fe=0,Le=q.length;fe<Le;fe++){const Ce=q[fe];if(S(Ce)){const Te=R($),ot=i.get(Ce).__webglTexture;n.bindTexture(Te,ot),A(Te),n.unbindTexture()}}}const Oe=[],Me=[];function Je($){if($.samples>0){if(at($)===!1){const q=$.textures,fe=$.width,Le=$.height;let Ce=t.COLOR_BUFFER_BIT;const Te=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ot=i.get($),it=q.length>1;if(it)for(let xt=0;xt<q.length;xt++)n.bindFramebuffer(t.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ot.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ot.__webglMultisampledFramebuffer);const mt=$.texture.mipmaps;mt&&mt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ot.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ot.__webglFramebuffer);for(let xt=0;xt<q.length;xt++){if($.resolveDepthBuffer&&($.depthBuffer&&(Ce|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Ce|=t.STENCIL_BUFFER_BIT)),it){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ot.__webglColorRenderbuffer[xt]);const We=i.get(q[xt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,fe,Le,0,0,fe,Le,Ce,t.NEAREST),u===!0&&(Oe.length=0,Me.length=0,Oe.push(t.COLOR_ATTACHMENT0+xt),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Oe.push(Te),Me.push(Te),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Oe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),it)for(let xt=0;xt<q.length;xt++){n.bindFramebuffer(t.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.RENDERBUFFER,ot.__webglColorRenderbuffer[xt]);const We=i.get(q[xt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ot.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ot.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&u){const q=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[q])}}}function K($){return Math.min(r.maxSamples,$.samples)}function at($){const q=i.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function je($){const q=o.render.frame;d.get($)!==q&&(d.set($,q),$.update())}function Re($,q){const fe=$.colorSpace,Le=$.format,Ce=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||fe!==Sd&&fe!==zc&&(Fn.getTransfer(fe)===ni?(Le!==ja||Ce!==po)&&Mt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ht("WebGLTextures: Unsupported texture color space:",fe)),q}function Ve($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(c.width=$.naturalWidth||$.width,c.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(c.width=$.displayWidth,c.height=$.displayHeight):(c.width=$.width,c.height=$.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=W,this.setTexture2D=ae,this.setTexture2DArray=X,this.setTexture3D=ne,this.setTextureCube=ge,this.rebindTextures=ve,this.setupRenderTarget=ct,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Je,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=at,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function S7(t,e){function n(i,r=zc){let a;const o=Fn.getTransfer(r);if(i===po)return t.UNSIGNED_BYTE;if(i===wT)return t.UNSIGNED_SHORT_4_4_4_4;if(i===CT)return t.UNSIGNED_SHORT_5_5_5_1;if(i===NN)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===DN)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===IN)return t.BYTE;if(i===PN)return t.SHORT;if(i===pg)return t.UNSIGNED_SHORT;if(i===MT)return t.INT;if(i===cl)return t.UNSIGNED_INT;if(i===vo)return t.FLOAT;if(i===Wu)return t.HALF_FLOAT;if(i===ON)return t.ALPHA;if(i===LN)return t.RGB;if(i===ja)return t.RGBA;if(i===ju)return t.DEPTH_COMPONENT;if(i===hd)return t.DEPTH_STENCIL;if(i===RT)return t.RED;if(i===f_)return t.RED_INTEGER;if(i===op)return t.RG;if(i===IT)return t.RG_INTEGER;if(i===PT)return t.RGBA_INTEGER;if(i===Y0||i===$0||i===K0||i===J0)if(o===ni)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Y0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===$0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===K0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===J0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Y0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===$0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===K0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===J0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===F1||i===k1||i===B1||i===z1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===F1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===k1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===B1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===z1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===G1||i===V1||i===H1||i===q1||i===W1||i===j1||i===X1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===G1||i===V1)return o===ni?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===H1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(i===q1)return a.COMPRESSED_R11_EAC;if(i===W1)return a.COMPRESSED_SIGNED_R11_EAC;if(i===j1)return a.COMPRESSED_RG11_EAC;if(i===X1)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===Y1||i===$1||i===K1||i===J1||i===Z1||i===Q1||i===eE||i===tE||i===nE||i===iE||i===rE||i===aE||i===oE||i===sE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Y1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===$1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===K1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===J1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Z1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Q1)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===eE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===tE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===nE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===iE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===rE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===aE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===oE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===sE)return o===ni?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===lE||i===uE||i===cE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===lE)return o===ni?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===uE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===cE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===fE||i===dE||i===hE||i===pE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===fE)return a.COMPRESSED_RED_RGTC1_EXT;if(i===dE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===hE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===pE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===mg?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const GAe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,VAe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class HAe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new XN(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Es({vertexShader:GAe,fragmentShader:VAe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new er(new mf(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class qAe extends $u{constructor(e,n){super();const i=this;let r=null,a=1,o=null,s="local-floor",u=1,c=null,d=null,p=null,v=null,y=null,b=null;const T=typeof XRWebGLBinding<"u",S=new HAe,A={},R=n.getContextAttributes();let I=null,N=null;const D=[],O=[],F=new st;let z=null;const U=new _r;U.viewport=new ri;const B=new _r;B.viewport=new ri;const j=[U,B],W=new f7;let Y=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let le=D[oe];return le===void 0&&(le=new MS,D[oe]=le),le.getTargetRaySpace()},this.getControllerGrip=function(oe){let le=D[oe];return le===void 0&&(le=new MS,D[oe]=le),le.getGripSpace()},this.getHand=function(oe){let le=D[oe];return le===void 0&&(le=new MS,D[oe]=le),le.getHandSpace()};function ae(oe){const le=O.indexOf(oe.inputSource);if(le===-1)return;const Se=D[le];Se!==void 0&&(Se.update(oe.inputSource,oe.frame,c||o),Se.dispatchEvent({type:oe.type,data:oe.inputSource}))}function X(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",ne);for(let oe=0;oe<D.length;oe++){const le=O[oe];le!==null&&(O[oe]=null,D[oe].disconnect(le))}Y=null,Q=null,S.reset();for(const oe in A)delete A[oe];e.setRenderTarget(I),y=null,v=null,p=null,r=null,N=null,ye.stop(),i.isPresenting=!1,e.setPixelRatio(z),e.setSize(F.width,F.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(oe){a=oe,i.isPresenting===!0&&Mt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){s=oe,i.isPresenting===!0&&Mt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(oe){c=oe},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return p===null&&T&&(p=new XRWebGLBinding(r,n)),p},this.getFrame=function(){return b},this.getSession=function(){return r},this.setSession=async function(oe){if(r=oe,r!==null){if(I=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",X),r.addEventListener("inputsourceschange",ne),R.xrCompatible!==!0&&await n.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(F),T&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,he=null,De=null;R.depth&&(De=R.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Se=R.stencil?hd:ju,he=R.stencil?mg:cl);const Fe={colorFormat:n.RGBA8,depthFormat:De,scaleFactor:a};p=this.getBinding(),v=p.createProjectionLayer(Fe),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),N=new _s(v.textureWidth,v.textureHeight,{format:ja,type:po,depthTexture:new xg(v.textureWidth,v.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Se={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(r,n,Se),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),N=new _s(y.framebufferWidth,y.framebufferHeight,{format:ja,type:po,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(u),c=null,o=await r.requestReferenceSpace(s),ye.setContext(r),ye.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function ne(oe){for(let le=0;le<oe.removed.length;le++){const Se=oe.removed[le],he=O.indexOf(Se);he>=0&&(O[he]=null,D[he].disconnect(Se))}for(let le=0;le<oe.added.length;le++){const Se=oe.added[le];let he=O.indexOf(Se);if(he===-1){for(let Fe=0;Fe<D.length;Fe++)if(Fe>=O.length){O.push(Se),he=Fe;break}else if(O[Fe]===null){O[Fe]=Se,he=Fe;break}if(he===-1)break}const De=D[he];De&&De.connect(Se)}}const ge=new se,pe=new se;function de(oe,le,Se){ge.setFromMatrixPosition(le.matrixWorld),pe.setFromMatrixPosition(Se.matrixWorld);const he=ge.distanceTo(pe),De=le.projectionMatrix.elements,Fe=Se.projectionMatrix.elements,ve=De[14]/(De[10]-1),ct=De[14]/(De[10]+1),Ee=(De[9]+1)/De[5],Oe=(De[9]-1)/De[5],Me=(De[8]-1)/De[0],Je=(Fe[8]+1)/Fe[0],K=ve*Me,at=ve*Je,je=he/(-Me+Je),Re=je*-Me;if(le.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(Re),oe.translateZ(je),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert(),De[10]===-1)oe.projectionMatrix.copy(le.projectionMatrix),oe.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const Ve=ve+je,$=ct+je,q=K-Re,fe=at+(he-Re),Le=Ee*ct/$*Ve,Ce=Oe*ct/$*Ve;oe.projectionMatrix.makePerspective(q,fe,Le,Ce,Ve,$),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert()}}function H(oe,le){le===null?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(le.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(r===null)return;let le=oe.near,Se=oe.far;S.texture!==null&&(S.depthNear>0&&(le=S.depthNear),S.depthFar>0&&(Se=S.depthFar)),W.near=B.near=U.near=le,W.far=B.far=U.far=Se,(Y!==W.near||Q!==W.far)&&(r.updateRenderState({depthNear:W.near,depthFar:W.far}),Y=W.near,Q=W.far),W.layers.mask=oe.layers.mask|6,U.layers.mask=W.layers.mask&3,B.layers.mask=W.layers.mask&5;const he=oe.parent,De=W.cameras;H(W,he);for(let Fe=0;Fe<De.length;Fe++)H(De[Fe],he);De.length===2?de(W,U,B):W.projectionMatrix.copy(U.projectionMatrix),te(oe,W,he)};function te(oe,le,Se){Se===null?oe.matrix.copy(le.matrixWorld):(oe.matrix.copy(Se.matrixWorld),oe.matrix.invert(),oe.matrix.multiply(le.matrixWorld)),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.updateMatrixWorld(!0),oe.projectionMatrix.copy(le.projectionMatrix),oe.projectionMatrixInverse.copy(le.projectionMatrixInverse),oe.isPerspectiveCamera&&(oe.fov=yg*2*Math.atan(1/oe.projectionMatrix.elements[5]),oe.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(v===null&&y===null))return u},this.setFoveation=function(oe){u=oe,v!==null&&(v.fixedFoveation=oe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=oe)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(W)},this.getCameraTexture=function(oe){return A[oe]};let ie=null;function ce(oe,le){if(d=le.getViewerPose(c||o),b=le,d!==null){const Se=d.views;y!==null&&(e.setRenderTargetFramebuffer(N,y.framebuffer),e.setRenderTarget(N));let he=!1;Se.length!==W.cameras.length&&(W.cameras.length=0,he=!0);for(let ct=0;ct<Se.length;ct++){const Ee=Se[ct];let Oe=null;if(y!==null)Oe=y.getViewport(Ee);else{const Je=p.getViewSubImage(v,Ee);Oe=Je.viewport,ct===0&&(e.setRenderTargetTextures(N,Je.colorTexture,Je.depthStencilTexture),e.setRenderTarget(N))}let Me=j[ct];Me===void 0&&(Me=new _r,Me.layers.enable(ct),Me.viewport=new ri,j[ct]=Me),Me.matrix.fromArray(Ee.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(Ee.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),ct===0&&(W.matrix.copy(Me.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),he===!0&&W.cameras.push(Me)}const De=r.enabledFeatures;if(De&&De.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&T){p=i.getBinding();const ct=p.getDepthInformation(Se[0]);ct&&ct.isValid&&ct.texture&&S.init(ct,r.renderState)}if(De&&De.includes("camera-access")&&T){e.state.unbindTexture(),p=i.getBinding();for(let ct=0;ct<Se.length;ct++){const Ee=Se[ct].camera;if(Ee){let Oe=A[Ee];Oe||(Oe=new XN,A[Ee]=Oe);const Me=p.getCameraImage(Ee);Oe.sourceTexture=Me}}}}for(let Se=0;Se<D.length;Se++){const he=O[Se],De=D[Se];he!==null&&De!==void 0&&De.update(he,le,c||o)}ie&&ie(oe,le),le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:le}),b=null}const ye=new v7;ye.setAnimationLoop(ce),this.setAnimationLoop=function(oe){ie=oe},this.dispose=function(){}}}const Rh=new Ss,WAe=new en;function jAe(t,e){function n(S,A){S.matrixAutoUpdate===!0&&S.updateMatrix(),A.value.copy(S.matrix)}function i(S,A){A.color.getRGB(S.fogColor.value,x9(t)),A.isFog?(S.fogNear.value=A.near,S.fogFar.value=A.far):A.isFogExp2&&(S.fogDensity.value=A.density)}function r(S,A,R,I,N){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(S,A):A.isMeshToonMaterial?(a(S,A),p(S,A)):A.isMeshPhongMaterial?(a(S,A),d(S,A)):A.isMeshStandardMaterial?(a(S,A),v(S,A),A.isMeshPhysicalMaterial&&y(S,A,N)):A.isMeshMatcapMaterial?(a(S,A),b(S,A)):A.isMeshDepthMaterial?a(S,A):A.isMeshDistanceMaterial?(a(S,A),T(S,A)):A.isMeshNormalMaterial?a(S,A):A.isLineBasicMaterial?(o(S,A),A.isLineDashedMaterial&&s(S,A)):A.isPointsMaterial?u(S,A,R,I):A.isSpriteMaterial?c(S,A):A.isShadowMaterial?(S.color.value.copy(A.color),S.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(S,A){S.opacity.value=A.opacity,A.color&&S.diffuse.value.copy(A.color),A.emissive&&S.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(S.map.value=A.map,n(A.map,S.mapTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,n(A.alphaMap,S.alphaMapTransform)),A.bumpMap&&(S.bumpMap.value=A.bumpMap,n(A.bumpMap,S.bumpMapTransform),S.bumpScale.value=A.bumpScale,A.side===yo&&(S.bumpScale.value*=-1)),A.normalMap&&(S.normalMap.value=A.normalMap,n(A.normalMap,S.normalMapTransform),S.normalScale.value.copy(A.normalScale),A.side===yo&&S.normalScale.value.negate()),A.displacementMap&&(S.displacementMap.value=A.displacementMap,n(A.displacementMap,S.displacementMapTransform),S.displacementScale.value=A.displacementScale,S.displacementBias.value=A.displacementBias),A.emissiveMap&&(S.emissiveMap.value=A.emissiveMap,n(A.emissiveMap,S.emissiveMapTransform)),A.specularMap&&(S.specularMap.value=A.specularMap,n(A.specularMap,S.specularMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest);const R=e.get(A),I=R.envMap,N=R.envMapRotation;I&&(S.envMap.value=I,Rh.copy(N),Rh.x*=-1,Rh.y*=-1,Rh.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Rh.y*=-1,Rh.z*=-1),S.envMapRotation.value.setFromMatrix4(WAe.makeRotationFromEuler(Rh)),S.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=A.reflectivity,S.ior.value=A.ior,S.refractionRatio.value=A.refractionRatio),A.lightMap&&(S.lightMap.value=A.lightMap,S.lightMapIntensity.value=A.lightMapIntensity,n(A.lightMap,S.lightMapTransform)),A.aoMap&&(S.aoMap.value=A.aoMap,S.aoMapIntensity.value=A.aoMapIntensity,n(A.aoMap,S.aoMapTransform))}function o(S,A){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,A.map&&(S.map.value=A.map,n(A.map,S.mapTransform))}function s(S,A){S.dashSize.value=A.dashSize,S.totalSize.value=A.dashSize+A.gapSize,S.scale.value=A.scale}function u(S,A,R,I){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,S.size.value=A.size*R,S.scale.value=I*.5,A.map&&(S.map.value=A.map,n(A.map,S.uvTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,n(A.alphaMap,S.alphaMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest)}function c(S,A){S.diffuse.value.copy(A.color),S.opacity.value=A.opacity,S.rotation.value=A.rotation,A.map&&(S.map.value=A.map,n(A.map,S.mapTransform)),A.alphaMap&&(S.alphaMap.value=A.alphaMap,n(A.alphaMap,S.alphaMapTransform)),A.alphaTest>0&&(S.alphaTest.value=A.alphaTest)}function d(S,A){S.specular.value.copy(A.specular),S.shininess.value=Math.max(A.shininess,1e-4)}function p(S,A){A.gradientMap&&(S.gradientMap.value=A.gradientMap)}function v(S,A){S.metalness.value=A.metalness,A.metalnessMap&&(S.metalnessMap.value=A.metalnessMap,n(A.metalnessMap,S.metalnessMapTransform)),S.roughness.value=A.roughness,A.roughnessMap&&(S.roughnessMap.value=A.roughnessMap,n(A.roughnessMap,S.roughnessMapTransform)),A.envMap&&(S.envMapIntensity.value=A.envMapIntensity)}function y(S,A,R){S.ior.value=A.ior,A.sheen>0&&(S.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),S.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(S.sheenColorMap.value=A.sheenColorMap,n(A.sheenColorMap,S.sheenColorMapTransform)),A.sheenRoughnessMap&&(S.sheenRoughnessMap.value=A.sheenRoughnessMap,n(A.sheenRoughnessMap,S.sheenRoughnessMapTransform))),A.clearcoat>0&&(S.clearcoat.value=A.clearcoat,S.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(S.clearcoatMap.value=A.clearcoatMap,n(A.clearcoatMap,S.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,n(A.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(S.clearcoatNormalMap.value=A.clearcoatNormalMap,n(A.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===yo&&S.clearcoatNormalScale.value.negate())),A.dispersion>0&&(S.dispersion.value=A.dispersion),A.iridescence>0&&(S.iridescence.value=A.iridescence,S.iridescenceIOR.value=A.iridescenceIOR,S.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(S.iridescenceMap.value=A.iridescenceMap,n(A.iridescenceMap,S.iridescenceMapTransform)),A.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=A.iridescenceThicknessMap,n(A.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),A.transmission>0&&(S.transmission.value=A.transmission,S.transmissionSamplerMap.value=R.texture,S.transmissionSamplerSize.value.set(R.width,R.height),A.transmissionMap&&(S.transmissionMap.value=A.transmissionMap,n(A.transmissionMap,S.transmissionMapTransform)),S.thickness.value=A.thickness,A.thicknessMap&&(S.thicknessMap.value=A.thicknessMap,n(A.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=A.attenuationDistance,S.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(S.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(S.anisotropyMap.value=A.anisotropyMap,n(A.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=A.specularIntensity,S.specularColor.value.copy(A.specularColor),A.specularColorMap&&(S.specularColorMap.value=A.specularColorMap,n(A.specularColorMap,S.specularColorMapTransform)),A.specularIntensityMap&&(S.specularIntensityMap.value=A.specularIntensityMap,n(A.specularIntensityMap,S.specularIntensityMapTransform))}function b(S,A){A.matcap&&(S.matcap.value=A.matcap)}function T(S,A){const R=e.get(A).light;S.referencePosition.value.setFromMatrixPosition(R.matrixWorld),S.nearDistance.value=R.shadow.camera.near,S.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function XAe(t,e,n,i){let r={},a={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(R,I){const N=I.program;i.uniformBlockBinding(R,N)}function c(R,I){let N=r[R.id];N===void 0&&(b(R),N=d(R),r[R.id]=N,R.addEventListener("dispose",S));const D=I.program;i.updateUBOMapping(R,D);const O=e.render.frame;a[R.id]!==O&&(v(R),a[R.id]=O)}function d(R){const I=p();R.__bindingPointIndex=I;const N=t.createBuffer(),D=R.__size,O=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,N),t.bufferData(t.UNIFORM_BUFFER,D,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,I,N),N}function p(){for(let R=0;R<s;R++)if(o.indexOf(R)===-1)return o.push(R),R;return Ht("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(R){const I=r[R.id],N=R.uniforms,D=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,I);for(let O=0,F=N.length;O<F;O++){const z=Array.isArray(N[O])?N[O]:[N[O]];for(let U=0,B=z.length;U<B;U++){const j=z[U];if(y(j,O,U,D)===!0){const W=j.__offset,Y=Array.isArray(j.value)?j.value:[j.value];let Q=0;for(let ae=0;ae<Y.length;ae++){const X=Y[ae],ne=T(X);typeof X=="number"||typeof X=="boolean"?(j.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,W+Q,j.__data)):X.isMatrix3?(j.__data[0]=X.elements[0],j.__data[1]=X.elements[1],j.__data[2]=X.elements[2],j.__data[3]=0,j.__data[4]=X.elements[3],j.__data[5]=X.elements[4],j.__data[6]=X.elements[5],j.__data[7]=0,j.__data[8]=X.elements[6],j.__data[9]=X.elements[7],j.__data[10]=X.elements[8],j.__data[11]=0):(X.toArray(j.__data,Q),Q+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(R,I,N,D){const O=R.value,F=I+"_"+N;if(D[F]===void 0)return typeof O=="number"||typeof O=="boolean"?D[F]=O:D[F]=O.clone(),!0;{const z=D[F];if(typeof O=="number"||typeof O=="boolean"){if(z!==O)return D[F]=O,!0}else if(z.equals(O)===!1)return z.copy(O),!0}return!1}function b(R){const I=R.uniforms;let N=0;const D=16;for(let F=0,z=I.length;F<z;F++){const U=Array.isArray(I[F])?I[F]:[I[F]];for(let B=0,j=U.length;B<j;B++){const W=U[B],Y=Array.isArray(W.value)?W.value:[W.value];for(let Q=0,ae=Y.length;Q<ae;Q++){const X=Y[Q],ne=T(X),ge=N%D,pe=ge%ne.boundary,de=ge+pe;N+=pe,de!==0&&D-de<ne.storage&&(N+=D-de),W.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=N,N+=ne.storage}}}const O=N%D;return O>0&&(N+=D-O),R.__size=N,R.__cache={},this}function T(R){const I={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(I.boundary=4,I.storage=4):R.isVector2?(I.boundary=8,I.storage=8):R.isVector3||R.isColor?(I.boundary=16,I.storage=12):R.isVector4?(I.boundary=16,I.storage=16):R.isMatrix3?(I.boundary=48,I.storage=48):R.isMatrix4?(I.boundary=64,I.storage=64):R.isTexture?Mt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Mt("WebGLRenderer: Unsupported uniform value type.",R),I}function S(R){const I=R.target;I.removeEventListener("dispose",S);const N=o.indexOf(I.__bindingPointIndex);o.splice(N,1),t.deleteBuffer(r[I.id]),delete r[I.id],delete a[I.id]}function A(){for(const R in r)t.deleteBuffer(r[R]);o=[],r={},a={}}return{bind:u,update:c,dispose:A}}const YAe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Fu=null;function $Ae(){return Fu===null&&(Fu=new Yl(YAe,16,16,op,Wu),Fu.name="DFG_LUT",Fu.minFilter=mi,Fu.magFilter=mi,Fu.wrapS=Jo,Fu.wrapT=Jo,Fu.generateMipmaps=!1,Fu.needsUpdate=!0),Fu}class E7{constructor(e={}){const{canvas:n=v9(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1,reversedDepthBuffer:v=!1,outputBufferType:y=po}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const T=y,S=new Set([PT,IT,f_]),A=new Set([po,cl,pg,mg,wT,CT]),R=new Uint32Array(4),I=new Int32Array(4);let N=null,D=null;const O=[],F=[];let z=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=al,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let B=!1;this._outputColorSpace=qa;let j=0,W=0,Y=null,Q=-1,ae=null;const X=new ri,ne=new ri;let ge=null;const pe=new Ct(0);let de=0,H=n.width,te=n.height,ie=1,ce=null,ye=null;const oe=new ri(0,0,H,te),le=new ri(0,0,H,te);let Se=!1;const he=new Vg;let De=!1,Fe=!1;const ve=new en,ct=new se,Ee=new ri,Oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Me=!1;function Je(){return Y===null?ie:1}let K=i;function at(Z,Ae){return n.getContext(Z,Ae)}try{const Z={alpha:!0,depth:r,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${u_}`),n.addEventListener("webglcontextlost",Et,!1),n.addEventListener("webglcontextrestored",St,!1),n.addEventListener("webglcontextcreationerror",Lt,!1),K===null){const Ae="webgl2";if(K=at(Ae,Z),K===null)throw at(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Z){throw Ht("WebGLRenderer: "+Z.message),Z}let je,Re,Ve,$,q,fe,Le,Ce,Te,ot,it,mt,xt,We,Ke,et,ue,we,ht,me,Ye,tt,vt,nt;function Be(){je=new KEe(K),je.init(),tt=new S7(K,je),Re=new GEe(K,je,e,tt),Ve=new BAe(K,je),Re.reversedDepthBuffer&&v&&Ve.buffers.depth.setReversed(!0),$=new QEe(K),q=new TAe,fe=new zAe(K,je,Ve,q,Re,tt,$),Le=new HEe(U),Ce=new $Ee(U),Te=new iSe(K),vt=new BEe(K,Te),ot=new JEe(K,Te,$,vt),it=new tTe(K,ot,Te,$),ht=new eTe(K,Re,fe),et=new VEe(q),mt=new EAe(U,Le,Ce,je,Re,vt,et),xt=new jAe(U,q),We=new MAe,Ke=new NAe(je),we=new kEe(U,Le,Ce,Ve,it,b,u),ue=new FAe(U,it,Re),nt=new XAe(K,$,Re,Ve),me=new zEe(K,je,$),Ye=new ZEe(K,je,$),$.programs=mt.programs,U.capabilities=Re,U.extensions=je,U.properties=q,U.renderLists=We,U.shadowMap=ue,U.state=Ve,U.info=$}Be(),T!==po&&(z=new iTe(T,n.width,n.height,r,a));const lt=new qAe(U,K);this.xr=lt,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const Z=je.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=je.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(Z){Z!==void 0&&(ie=Z,this.setSize(H,te,!1))},this.getSize=function(Z){return Z.set(H,te)},this.setSize=function(Z,Ae,He=!0){if(lt.isPresenting){Mt("WebGLRenderer: Can't change size while VR device is presenting.");return}H=Z,te=Ae,n.width=Math.floor(Z*ie),n.height=Math.floor(Ae*ie),He===!0&&(n.style.width=Z+"px",n.style.height=Ae+"px"),z!==null&&z.setSize(n.width,n.height),this.setViewport(0,0,Z,Ae)},this.getDrawingBufferSize=function(Z){return Z.set(H*ie,te*ie).floor()},this.setDrawingBufferSize=function(Z,Ae,He){H=Z,te=Ae,ie=He,n.width=Math.floor(Z*He),n.height=Math.floor(Ae*He),this.setViewport(0,0,Z,Ae)},this.setEffects=function(Z){if(T===po){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(Z){for(let Ae=0;Ae<Z.length;Ae++)if(Z[Ae].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(Z||[])},this.getCurrentViewport=function(Z){return Z.copy(X)},this.getViewport=function(Z){return Z.copy(oe)},this.setViewport=function(Z,Ae,He,Ue){Z.isVector4?oe.set(Z.x,Z.y,Z.z,Z.w):oe.set(Z,Ae,He,Ue),Ve.viewport(X.copy(oe).multiplyScalar(ie).round())},this.getScissor=function(Z){return Z.copy(le)},this.setScissor=function(Z,Ae,He,Ue){Z.isVector4?le.set(Z.x,Z.y,Z.z,Z.w):le.set(Z,Ae,He,Ue),Ve.scissor(ne.copy(le).multiplyScalar(ie).round())},this.getScissorTest=function(){return Se},this.setScissorTest=function(Z){Ve.setScissorTest(Se=Z)},this.setOpaqueSort=function(Z){ce=Z},this.setTransparentSort=function(Z){ye=Z},this.getClearColor=function(Z){return Z.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor(...arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha(...arguments)},this.clear=function(Z=!0,Ae=!0,He=!0){let Ue=0;if(Z){let Ie=!1;if(Y!==null){const yt=Y.texture.format;Ie=S.has(yt)}if(Ie){const yt=Y.texture.type,At=A.has(yt),pt=we.getClearColor(),Pt=we.getClearAlpha(),Nt=pt.r,Vt=pt.g,Dt=pt.b;At?(R[0]=Nt,R[1]=Vt,R[2]=Dt,R[3]=Pt,K.clearBufferuiv(K.COLOR,0,R)):(I[0]=Nt,I[1]=Vt,I[2]=Dt,I[3]=Pt,K.clearBufferiv(K.COLOR,0,I))}else Ue|=K.COLOR_BUFFER_BIT}Ae&&(Ue|=K.DEPTH_BUFFER_BIT),He&&(Ue|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Et,!1),n.removeEventListener("webglcontextrestored",St,!1),n.removeEventListener("webglcontextcreationerror",Lt,!1),we.dispose(),We.dispose(),Ke.dispose(),q.dispose(),Le.dispose(),Ce.dispose(),it.dispose(),vt.dispose(),nt.dispose(),mt.dispose(),lt.dispose(),lt.removeEventListener("sessionstart",Sr),lt.removeEventListener("sessionend",pa),ai.stop()};function Et(Z){Z.preventDefault(),Py("WebGLRenderer: Context Lost."),B=!0}function St(){Py("WebGLRenderer: Context Restored."),B=!1;const Z=$.autoReset,Ae=ue.enabled,He=ue.autoUpdate,Ue=ue.needsUpdate,Ie=ue.type;Be(),$.autoReset=Z,ue.enabled=Ae,ue.autoUpdate=He,ue.needsUpdate=Ue,ue.type=Ie}function Lt(Z){Ht("WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function vn(Z){const Ae=Z.target;Ae.removeEventListener("dispose",vn),wn(Ae)}function wn(Z){Qn(Z),q.remove(Z)}function Qn(Z){const Ae=q.get(Z).programs;Ae!==void 0&&(Ae.forEach(function(He){mt.releaseProgram(He)}),Z.isShaderMaterial&&mt.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,Ae,He,Ue,Ie,yt){Ae===null&&(Ae=Oe);const At=Ie.isMesh&&Ie.matrixWorld.determinant()<0,pt=Ka(Z,Ae,He,Ue,Ie);Ve.setMaterial(Ue,At);let Pt=He.index,Nt=1;if(Ue.wireframe===!0){if(Pt=ot.getWireframeAttribute(He),Pt===void 0)return;Nt=2}const Vt=He.drawRange,Dt=He.attributes.position;let qt=Vt.start*Nt,yn=(Vt.start+Vt.count)*Nt;yt!==null&&(qt=Math.max(qt,yt.start*Nt),yn=Math.min(yn,(yt.start+yt.count)*Nt)),Pt!==null?(qt=Math.max(qt,0),yn=Math.min(yn,Pt.count)):Dt!=null&&(qt=Math.max(qt,0),yn=Math.min(yn,Dt.count));const qn=yn-qt;if(qn<0||qn===1/0)return;vt.setup(Ie,Ue,pt,He,Pt);let Pn,Jt=me;if(Pt!==null&&(Pn=Te.get(Pt),Jt=Ye,Jt.setIndex(Pn)),Ie.isMesh)Ue.wireframe===!0?(Ve.setLineWidth(Ue.wireframeLinewidth*Je()),Jt.setMode(K.LINES)):Jt.setMode(K.TRIANGLES);else if(Ie.isLine){let Tt=Ue.linewidth;Tt===void 0&&(Tt=1),Ve.setLineWidth(Tt*Je()),Ie.isLineSegments?Jt.setMode(K.LINES):Ie.isLineLoop?Jt.setMode(K.LINE_LOOP):Jt.setMode(K.LINE_STRIP)}else Ie.isPoints?Jt.setMode(K.POINTS):Ie.isSprite&&Jt.setMode(K.TRIANGLES);if(Ie.isBatchedMesh)if(Ie._multiDrawInstances!==null)vg("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(Ie._multiDrawStarts,Ie._multiDrawCounts,Ie._multiDrawCount,Ie._multiDrawInstances);else if(je.get("WEBGL_multi_draw"))Jt.renderMultiDraw(Ie._multiDrawStarts,Ie._multiDrawCounts,Ie._multiDrawCount);else{const Tt=Ie._multiDrawStarts,xn=Ie._multiDrawCounts,Bt=Ie._multiDrawCount,Oi=Pt?Te.get(Pt).bytesPerElement:1,Qr=q.get(Ue).currentProgram.getUniforms();for(let Gn=0;Gn<Bt;Gn++)Qr.setValue(K,"_gl_DrawID",Gn),Jt.render(Tt[Gn]/Oi,xn[Gn])}else if(Ie.isInstancedMesh)Jt.renderInstances(qt,qn,Ie.count);else if(He.isInstancedBufferGeometry){const Tt=He._maxInstanceCount!==void 0?He._maxInstanceCount:1/0,xn=Math.min(He.instanceCount,Tt);Jt.renderInstances(qt,qn,xn)}else Jt.render(qt,qn)};function nr(Z,Ae,He){Z.transparent===!0&&Z.side===Vl&&Z.forceSinglePass===!1?(Z.side=yo,Z.needsUpdate=!0,Zr(Z,Ae,He),Z.side=af,Z.needsUpdate=!0,Zr(Z,Ae,He),Z.side=Vl):Zr(Z,Ae,He)}this.compile=function(Z,Ae,He=null){He===null&&(He=Z),D=Ke.get(He),D.init(Ae),F.push(D),He.traverseVisible(function(Ie){Ie.isLight&&Ie.layers.test(Ae.layers)&&(D.pushLight(Ie),Ie.castShadow&&D.pushShadow(Ie))}),Z!==He&&Z.traverseVisible(function(Ie){Ie.isLight&&Ie.layers.test(Ae.layers)&&(D.pushLight(Ie),Ie.castShadow&&D.pushShadow(Ie))}),D.setupLights();const Ue=new Set;return Z.traverse(function(Ie){if(!(Ie.isMesh||Ie.isPoints||Ie.isLine||Ie.isSprite))return;const yt=Ie.material;if(yt)if(Array.isArray(yt))for(let At=0;At<yt.length;At++){const pt=yt[At];nr(pt,He,Ie),Ue.add(pt)}else nr(yt,He,Ie),Ue.add(yt)}),D=F.pop(),Ue},this.compileAsync=function(Z,Ae,He=null){const Ue=this.compile(Z,Ae,He);return new Promise(Ie=>{function yt(){if(Ue.forEach(function(At){q.get(At).currentProgram.isReady()&&Ue.delete(At)}),Ue.size===0){Ie(Z);return}setTimeout(yt,10)}je.get("KHR_parallel_shader_compile")!==null?yt():setTimeout(yt,10)})};let Jr=null;function xr(Z){Jr&&Jr(Z)}function Sr(){ai.stop()}function pa(){ai.start()}const ai=new v7;ai.setAnimationLoop(xr),typeof self<"u"&&ai.setContext(self),this.setAnimationLoop=function(Z){Jr=Z,lt.setAnimationLoop(Z),Z===null?ai.stop():ai.start()},lt.addEventListener("sessionstart",Sr),lt.addEventListener("sessionend",pa),this.render=function(Z,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){Ht("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;const He=lt.enabled===!0&&lt.isPresenting===!0,Ue=z!==null&&(Y===null||He)&&z.begin(U,Y);if(Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),lt.enabled===!0&&lt.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(lt.cameraAutoUpdate===!0&&lt.updateCamera(Ae),Ae=lt.getCamera()),Z.isScene===!0&&Z.onBeforeRender(U,Z,Ae,Y),D=Ke.get(Z,F.length),D.init(Ae),F.push(D),ve.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),he.setFromProjectionMatrix(ve,ms,Ae.reversedDepth),Fe=this.localClippingEnabled,De=et.init(this.clippingPlanes,Fe),N=We.get(Z,O.length),N.init(),O.push(N),lt.enabled===!0&&lt.isPresenting===!0){const At=U.xr.getDepthSensingMesh();At!==null&&$n(At,Ae,-1/0,U.sortObjects)}$n(Z,Ae,0,U.sortObjects),N.finish(),U.sortObjects===!0&&N.sort(ce,ye),Me=lt.enabled===!1||lt.isPresenting===!1||lt.hasDepthSensing()===!1,Me&&we.addToRenderList(N,Z),this.info.render.frame++,De===!0&&et.beginShadows();const Ie=D.state.shadowsArray;if(ue.render(Ie,Z,Ae),De===!0&&et.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ue&&z.hasRenderPass())===!1){const At=N.opaque,pt=N.transmissive;if(D.setupLights(),Ae.isArrayCamera){const Pt=Ae.cameras;if(pt.length>0)for(let Nt=0,Vt=Pt.length;Nt<Vt;Nt++){const Dt=Pt[Nt];Di(At,pt,Z,Dt)}Me&&we.render(Z);for(let Nt=0,Vt=Pt.length;Nt<Vt;Nt++){const Dt=Pt[Nt];zn(N,Z,Dt,Dt.viewport)}}else pt.length>0&&Di(At,pt,Z,Ae),Me&&we.render(Z),zn(N,Z,Ae)}Y!==null&&W===0&&(fe.updateMultisampleRenderTarget(Y),fe.updateRenderTargetMipmap(Y)),Ue&&z.end(U),Z.isScene===!0&&Z.onAfterRender(U,Z,Ae),vt.resetDefaultState(),Q=-1,ae=null,F.pop(),F.length>0?(D=F[F.length-1],De===!0&&et.setGlobalState(U.clippingPlanes,D.state.camera)):D=null,O.pop(),O.length>0?N=O[O.length-1]:N=null};function $n(Z,Ae,He,Ue){if(Z.visible===!1)return;if(Z.layers.test(Ae.layers)){if(Z.isGroup)He=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(Ae);else if(Z.isLight)D.pushLight(Z),Z.castShadow&&D.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||he.intersectsSprite(Z)){Ue&&Ee.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ve);const At=it.update(Z),pt=Z.material;pt.visible&&N.push(Z,At,pt,He,Ee.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||he.intersectsObject(Z))){const At=it.update(Z),pt=Z.material;if(Ue&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),Ee.copy(Z.boundingSphere.center)):(At.boundingSphere===null&&At.computeBoundingSphere(),Ee.copy(At.boundingSphere.center)),Ee.applyMatrix4(Z.matrixWorld).applyMatrix4(ve)),Array.isArray(pt)){const Pt=At.groups;for(let Nt=0,Vt=Pt.length;Nt<Vt;Nt++){const Dt=Pt[Nt],qt=pt[Dt.materialIndex];qt&&qt.visible&&N.push(Z,At,qt,He,Ee.z,Dt)}}else pt.visible&&N.push(Z,At,pt,He,Ee.z,null)}}const yt=Z.children;for(let At=0,pt=yt.length;At<pt;At++)$n(yt[At],Ae,He,Ue)}function zn(Z,Ae,He,Ue){const{opaque:Ie,transmissive:yt,transparent:At}=Z;D.setupLightsView(He),De===!0&&et.setGlobalState(U.clippingPlanes,He),Ue&&Ve.viewport(X.copy(Ue)),Ie.length>0&&Fr(Ie,Ae,He),yt.length>0&&Fr(yt,Ae,He),At.length>0&&Fr(At,Ae,He),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function Di(Z,Ae,He,Ue){if((He.isScene===!0?He.overrideMaterial:null)!==null)return;if(D.state.transmissionRenderTarget[Ue.id]===void 0){const qt=je.has("EXT_color_buffer_half_float")||je.has("EXT_color_buffer_float");D.state.transmissionRenderTarget[Ue.id]=new _s(1,1,{generateMipmaps:!0,type:qt?Wu:po,minFilter:Bu,samples:Re.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Fn.workingColorSpace})}const yt=D.state.transmissionRenderTarget[Ue.id],At=Ue.viewport||X;yt.setSize(At.z*U.transmissionResolutionScale,At.w*U.transmissionResolutionScale);const pt=U.getRenderTarget(),Pt=U.getActiveCubeFace(),Nt=U.getActiveMipmapLevel();U.setRenderTarget(yt),U.getClearColor(pe),de=U.getClearAlpha(),de<1&&U.setClearColor(16777215,.5),U.clear(),Me&&we.render(He);const Vt=U.toneMapping;U.toneMapping=al;const Dt=Ue.viewport;if(Ue.viewport!==void 0&&(Ue.viewport=void 0),D.setupLightsView(Ue),De===!0&&et.setGlobalState(U.clippingPlanes,Ue),Fr(Z,He,Ue),fe.updateMultisampleRenderTarget(yt),fe.updateRenderTargetMipmap(yt),je.has("WEBGL_multisampled_render_to_texture")===!1){let qt=!1;for(let yn=0,qn=Ae.length;yn<qn;yn++){const Pn=Ae[yn],{object:Jt,geometry:Tt,material:xn,group:Bt}=Pn;if(xn.side===Vl&&Jt.layers.test(Ue.layers)){const Oi=xn.side;xn.side=yo,xn.needsUpdate=!0,ma(Jt,He,Ue,Tt,xn,Bt),xn.side=Oi,xn.needsUpdate=!0,qt=!0}}qt===!0&&(fe.updateMultisampleRenderTarget(yt),fe.updateRenderTargetMipmap(yt))}U.setRenderTarget(pt,Pt,Nt),U.setClearColor(pe,de),Dt!==void 0&&(Ue.viewport=Dt),U.toneMapping=Vt}function Fr(Z,Ae,He){const Ue=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Ie=0,yt=Z.length;Ie<yt;Ie++){const At=Z[Ie],{object:pt,geometry:Pt,group:Nt}=At;let Vt=At.material;Vt.allowOverride===!0&&Ue!==null&&(Vt=Ue),pt.layers.test(He.layers)&&ma(pt,Ae,He,Pt,Vt,Nt)}}function ma(Z,Ae,He,Ue,Ie,yt){Z.onBeforeRender(U,Ae,He,Ue,Ie,yt),Z.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Ie.onBeforeRender(U,Ae,He,Ue,Z,yt),Ie.transparent===!0&&Ie.side===Vl&&Ie.forceSinglePass===!1?(Ie.side=yo,Ie.needsUpdate=!0,U.renderBufferDirect(He,Ae,Ue,Ie,Z,yt),Ie.side=af,Ie.needsUpdate=!0,U.renderBufferDirect(He,Ae,Ue,Ie,Z,yt),Ie.side=Vl):U.renderBufferDirect(He,Ae,Ue,Ie,Z,yt),Z.onAfterRender(U,Ae,He,Ue,Ie,yt)}function Zr(Z,Ae,He){Ae.isScene!==!0&&(Ae=Oe);const Ue=q.get(Z),Ie=D.state.lights,yt=D.state.shadowsArray,At=Ie.state.version,pt=mt.getParameters(Z,Ie.state,yt,Ae,He),Pt=mt.getProgramCacheKey(pt);let Nt=Ue.programs;Ue.environment=Z.isMeshStandardMaterial?Ae.environment:null,Ue.fog=Ae.fog,Ue.envMap=(Z.isMeshStandardMaterial?Ce:Le).get(Z.envMap||Ue.environment),Ue.envMapRotation=Ue.environment!==null&&Z.envMap===null?Ae.environmentRotation:Z.envMapRotation,Nt===void 0&&(Z.addEventListener("dispose",vn),Nt=new Map,Ue.programs=Nt);let Vt=Nt.get(Pt);if(Vt!==void 0){if(Ue.currentProgram===Vt&&Ue.lightsStateVersion===At)return es(Z,pt),Vt}else pt.uniforms=mt.getUniforms(Z),Z.onBeforeCompile(pt,U),Vt=mt.acquireProgram(pt,Pt),Nt.set(Pt,Vt),Ue.uniforms=pt.uniforms;const Dt=Ue.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Dt.clippingPlanes=et.uniform),es(Z,pt),Ue.needsLights=Ra(Z),Ue.lightsStateVersion=At,Ue.needsLights&&(Dt.ambientLightColor.value=Ie.state.ambient,Dt.lightProbe.value=Ie.state.probe,Dt.directionalLights.value=Ie.state.directional,Dt.directionalLightShadows.value=Ie.state.directionalShadow,Dt.spotLights.value=Ie.state.spot,Dt.spotLightShadows.value=Ie.state.spotShadow,Dt.rectAreaLights.value=Ie.state.rectArea,Dt.ltc_1.value=Ie.state.rectAreaLTC1,Dt.ltc_2.value=Ie.state.rectAreaLTC2,Dt.pointLights.value=Ie.state.point,Dt.pointLightShadows.value=Ie.state.pointShadow,Dt.hemisphereLights.value=Ie.state.hemi,Dt.directionalShadowMap.value=Ie.state.directionalShadowMap,Dt.directionalShadowMatrix.value=Ie.state.directionalShadowMatrix,Dt.spotShadowMap.value=Ie.state.spotShadowMap,Dt.spotLightMatrix.value=Ie.state.spotLightMatrix,Dt.spotLightMap.value=Ie.state.spotLightMap,Dt.pointShadowMap.value=Ie.state.pointShadowMap,Dt.pointShadowMatrix.value=Ie.state.pointShadowMatrix),Ue.currentProgram=Vt,Ue.uniformsList=null,Vt}function $a(Z){if(Z.uniformsList===null){const Ae=Z.currentProgram.getUniforms();Z.uniformsList=wS.seqWithValue(Ae.seq,Z.uniforms)}return Z.uniformsList}function es(Z,Ae){const He=q.get(Z);He.outputColorSpace=Ae.outputColorSpace,He.batching=Ae.batching,He.batchingColor=Ae.batchingColor,He.instancing=Ae.instancing,He.instancingColor=Ae.instancingColor,He.instancingMorph=Ae.instancingMorph,He.skinning=Ae.skinning,He.morphTargets=Ae.morphTargets,He.morphNormals=Ae.morphNormals,He.morphColors=Ae.morphColors,He.morphTargetsCount=Ae.morphTargetsCount,He.numClippingPlanes=Ae.numClippingPlanes,He.numIntersection=Ae.numClipIntersection,He.vertexAlphas=Ae.vertexAlphas,He.vertexTangents=Ae.vertexTangents,He.toneMapping=Ae.toneMapping}function Ka(Z,Ae,He,Ue,Ie){Ae.isScene!==!0&&(Ae=Oe),fe.resetTextureUnits();const yt=Ae.fog,At=Ue.isMeshStandardMaterial?Ae.environment:null,pt=Y===null?U.outputColorSpace:Y.isXRRenderTarget===!0?Y.texture.colorSpace:Sd,Pt=(Ue.isMeshStandardMaterial?Ce:Le).get(Ue.envMap||At),Nt=Ue.vertexColors===!0&&!!He.attributes.color&&He.attributes.color.itemSize===4,Vt=!!He.attributes.tangent&&(!!Ue.normalMap||Ue.anisotropy>0),Dt=!!He.morphAttributes.position,qt=!!He.morphAttributes.normal,yn=!!He.morphAttributes.color;let qn=al;Ue.toneMapped&&(Y===null||Y.isXRRenderTarget===!0)&&(qn=U.toneMapping);const Pn=He.morphAttributes.position||He.morphAttributes.normal||He.morphAttributes.color,Jt=Pn!==void 0?Pn.length:0,Tt=q.get(Ue),xn=D.state.lights;if(De===!0&&(Fe===!0||Z!==ae)){const Vi=Z===ae&&Ue.id===Q;et.setState(Ue,Z,Vi)}let Bt=!1;Ue.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==xn.state.version||Tt.outputColorSpace!==pt||Ie.isBatchedMesh&&Tt.batching===!1||!Ie.isBatchedMesh&&Tt.batching===!0||Ie.isBatchedMesh&&Tt.batchingColor===!0&&Ie.colorTexture===null||Ie.isBatchedMesh&&Tt.batchingColor===!1&&Ie.colorTexture!==null||Ie.isInstancedMesh&&Tt.instancing===!1||!Ie.isInstancedMesh&&Tt.instancing===!0||Ie.isSkinnedMesh&&Tt.skinning===!1||!Ie.isSkinnedMesh&&Tt.skinning===!0||Ie.isInstancedMesh&&Tt.instancingColor===!0&&Ie.instanceColor===null||Ie.isInstancedMesh&&Tt.instancingColor===!1&&Ie.instanceColor!==null||Ie.isInstancedMesh&&Tt.instancingMorph===!0&&Ie.morphTexture===null||Ie.isInstancedMesh&&Tt.instancingMorph===!1&&Ie.morphTexture!==null||Tt.envMap!==Pt||Ue.fog===!0&&Tt.fog!==yt||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==et.numPlanes||Tt.numIntersection!==et.numIntersection)||Tt.vertexAlphas!==Nt||Tt.vertexTangents!==Vt||Tt.morphTargets!==Dt||Tt.morphNormals!==qt||Tt.morphColors!==yn||Tt.toneMapping!==qn||Tt.morphTargetsCount!==Jt)&&(Bt=!0):(Bt=!0,Tt.__version=Ue.version);let Oi=Tt.currentProgram;Bt===!0&&(Oi=Zr(Ue,Ae,Ie));let Qr=!1,Gn=!1,Er=!1;const Cn=Oi.getUniforms(),gi=Tt.uniforms;if(Ve.useProgram(Oi.program)&&(Qr=!0,Gn=!0,Er=!0),Ue.id!==Q&&(Q=Ue.id,Gn=!0),Qr||ae!==Z){Ve.buffers.depth.getReversed()&&Z.reversedDepth!==!0&&(Z._reversedDepth=!0,Z.updateProjectionMatrix()),Cn.setValue(K,"projectionMatrix",Z.projectionMatrix),Cn.setValue(K,"viewMatrix",Z.matrixWorldInverse);const Hi=Cn.map.cameraPosition;Hi!==void 0&&Hi.setValue(K,ct.setFromMatrixPosition(Z.matrixWorld)),Re.logarithmicDepthBuffer&&Cn.setValue(K,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&Cn.setValue(K,"isOrthographic",Z.isOrthographicCamera===!0),ae!==Z&&(ae=Z,Gn=!0,Er=!0)}if(Tt.needsLights&&(xn.state.directionalShadowMap.length>0&&Cn.setValue(K,"directionalShadowMap",xn.state.directionalShadowMap,fe),xn.state.spotShadowMap.length>0&&Cn.setValue(K,"spotShadowMap",xn.state.spotShadowMap,fe),xn.state.pointShadowMap.length>0&&Cn.setValue(K,"pointShadowMap",xn.state.pointShadowMap,fe)),Ie.isSkinnedMesh){Cn.setOptional(K,Ie,"bindMatrix"),Cn.setOptional(K,Ie,"bindMatrixInverse");const Vi=Ie.skeleton;Vi&&(Vi.boneTexture===null&&Vi.computeBoneTexture(),Cn.setValue(K,"boneTexture",Vi.boneTexture,fe))}Ie.isBatchedMesh&&(Cn.setOptional(K,Ie,"batchingTexture"),Cn.setValue(K,"batchingTexture",Ie._matricesTexture,fe),Cn.setOptional(K,Ie,"batchingIdTexture"),Cn.setValue(K,"batchingIdTexture",Ie._indirectTexture,fe),Cn.setOptional(K,Ie,"batchingColorTexture"),Ie._colorsTexture!==null&&Cn.setValue(K,"batchingColorTexture",Ie._colorsTexture,fe));const vi=He.morphAttributes;if((vi.position!==void 0||vi.normal!==void 0||vi.color!==void 0)&&ht.update(Ie,He,Oi),(Gn||Tt.receiveShadow!==Ie.receiveShadow)&&(Tt.receiveShadow=Ie.receiveShadow,Cn.setValue(K,"receiveShadow",Ie.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(gi.envMap.value=Pt,gi.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),Ue.isMeshStandardMaterial&&Ue.envMap===null&&Ae.environment!==null&&(gi.envMapIntensity.value=Ae.environmentIntensity),gi.dfgLUT!==void 0&&(gi.dfgLUT.value=$Ae()),Gn&&(Cn.setValue(K,"toneMappingExposure",U.toneMappingExposure),Tt.needsLights&&So(gi,Er),yt&&Ue.fog===!0&&xt.refreshFogUniforms(gi,yt),xt.refreshMaterialUniforms(gi,Ue,ie,te,D.state.transmissionRenderTarget[Z.id]),wS.upload(K,$a(Tt),gi,fe)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(wS.upload(K,$a(Tt),gi,fe),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&Cn.setValue(K,"center",Ie.center),Cn.setValue(K,"modelViewMatrix",Ie.modelViewMatrix),Cn.setValue(K,"normalMatrix",Ie.normalMatrix),Cn.setValue(K,"modelMatrix",Ie.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const Vi=Ue.uniformsGroups;for(let Hi=0,ts=Vi.length;Hi<ts;Hi++){const Tr=Vi[Hi];nt.update(Tr,Oi),nt.bind(Tr,Oi)}}return Oi}function So(Z,Ae){Z.ambientLightColor.needsUpdate=Ae,Z.lightProbe.needsUpdate=Ae,Z.directionalLights.needsUpdate=Ae,Z.directionalLightShadows.needsUpdate=Ae,Z.pointLights.needsUpdate=Ae,Z.pointLightShadows.needsUpdate=Ae,Z.spotLights.needsUpdate=Ae,Z.spotLightShadows.needsUpdate=Ae,Z.rectAreaLights.needsUpdate=Ae,Z.hemisphereLights.needsUpdate=Ae}function Ra(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return Y},this.setRenderTargetTextures=function(Z,Ae,He){const Ue=q.get(Z);Ue.__autoAllocateDepthBuffer=Z.resolveDepthBuffer===!1,Ue.__autoAllocateDepthBuffer===!1&&(Ue.__useRenderToTexture=!1),q.get(Z.texture).__webglTexture=Ae,q.get(Z.depthTexture).__webglTexture=Ue.__autoAllocateDepthBuffer?void 0:He,Ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Z,Ae){const He=q.get(Z);He.__webglFramebuffer=Ae,He.__useDefaultFramebuffer=Ae===void 0};const Ja=K.createFramebuffer();this.setRenderTarget=function(Z,Ae=0,He=0){Y=Z,j=Ae,W=He;let Ue=null,Ie=!1,yt=!1;if(Z){const pt=q.get(Z);if(pt.__useDefaultFramebuffer!==void 0){Ve.bindFramebuffer(K.FRAMEBUFFER,pt.__webglFramebuffer),X.copy(Z.viewport),ne.copy(Z.scissor),ge=Z.scissorTest,Ve.viewport(X),Ve.scissor(ne),Ve.setScissorTest(ge),Q=-1;return}else if(pt.__webglFramebuffer===void 0)fe.setupRenderTarget(Z);else if(pt.__hasExternalTextures)fe.rebindTextures(Z,q.get(Z.texture).__webglTexture,q.get(Z.depthTexture).__webglTexture);else if(Z.depthBuffer){const Vt=Z.depthTexture;if(pt.__boundDepthTexture!==Vt){if(Vt!==null&&q.has(Vt)&&(Z.width!==Vt.image.width||Z.height!==Vt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");fe.setupDepthRenderbuffer(Z)}}const Pt=Z.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(yt=!0);const Nt=q.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Nt[Ae])?Ue=Nt[Ae][He]:Ue=Nt[Ae],Ie=!0):Z.samples>0&&fe.useMultisampledRTT(Z)===!1?Ue=q.get(Z).__webglMultisampledFramebuffer:Array.isArray(Nt)?Ue=Nt[He]:Ue=Nt,X.copy(Z.viewport),ne.copy(Z.scissor),ge=Z.scissorTest}else X.copy(oe).multiplyScalar(ie).floor(),ne.copy(le).multiplyScalar(ie).floor(),ge=Se;if(He!==0&&(Ue=Ja),Ve.bindFramebuffer(K.FRAMEBUFFER,Ue)&&Ve.drawBuffers(Z,Ue),Ve.viewport(X),Ve.scissor(ne),Ve.setScissorTest(ge),Ie){const pt=q.get(Z.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,pt.__webglTexture,He)}else if(yt){const pt=Ae;for(let Pt=0;Pt<Z.textures.length;Pt++){const Nt=q.get(Z.textures[Pt]);K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+Pt,Nt.__webglTexture,He,pt)}}else if(Z!==null&&He!==0){const pt=q.get(Z.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,pt.__webglTexture,He)}Q=-1},this.readRenderTargetPixels=function(Z,Ae,He,Ue,Ie,yt,At,pt=0){if(!(Z&&Z.isWebGLRenderTarget)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=q.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&At!==void 0&&(Pt=Pt[At]),Pt){Ve.bindFramebuffer(K.FRAMEBUFFER,Pt);try{const Nt=Z.textures[pt],Vt=Nt.format,Dt=Nt.type;if(!Re.textureFormatReadable(Vt)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Re.textureTypeReadable(Dt)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=Z.width-Ue&&He>=0&&He<=Z.height-Ie&&(Z.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+pt),K.readPixels(Ae,He,Ue,Ie,tt.convert(Vt),tt.convert(Dt),yt))}finally{const Nt=Y!==null?q.get(Y).__webglFramebuffer:null;Ve.bindFramebuffer(K.FRAMEBUFFER,Nt)}}},this.readRenderTargetPixelsAsync=async function(Z,Ae,He,Ue,Ie,yt,At,pt=0){if(!(Z&&Z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Pt=q.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&At!==void 0&&(Pt=Pt[At]),Pt)if(Ae>=0&&Ae<=Z.width-Ue&&He>=0&&He<=Z.height-Ie){Ve.bindFramebuffer(K.FRAMEBUFFER,Pt);const Nt=Z.textures[pt],Vt=Nt.format,Dt=Nt.type;if(!Re.textureFormatReadable(Vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Re.textureTypeReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const qt=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,qt),K.bufferData(K.PIXEL_PACK_BUFFER,yt.byteLength,K.STREAM_READ),Z.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+pt),K.readPixels(Ae,He,Ue,Ie,tt.convert(Vt),tt.convert(Dt),0);const yn=Y!==null?q.get(Y).__webglFramebuffer:null;Ve.bindFramebuffer(K.FRAMEBUFFER,yn);const qn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await a_e(K,qn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,qt),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,yt),K.deleteBuffer(qt),K.deleteSync(qn),yt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Z,Ae=null,He=0){const Ue=Math.pow(2,-He),Ie=Math.floor(Z.image.width*Ue),yt=Math.floor(Z.image.height*Ue),At=Ae!==null?Ae.x:0,pt=Ae!==null?Ae.y:0;fe.setTexture2D(Z,0),K.copyTexSubImage2D(K.TEXTURE_2D,He,0,0,At,pt,Ie,yt),Ve.unbindTexture()};const Eo=K.createFramebuffer(),Ot=K.createFramebuffer();this.copyTextureToTexture=function(Z,Ae,He=null,Ue=null,Ie=0,yt=null){yt===null&&(Ie!==0?(vg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),yt=Ie,Ie=0):yt=0);let At,pt,Pt,Nt,Vt,Dt,qt,yn,qn;const Pn=Z.isCompressedTexture?Z.mipmaps[yt]:Z.image;if(He!==null)At=He.max.x-He.min.x,pt=He.max.y-He.min.y,Pt=He.isBox3?He.max.z-He.min.z:1,Nt=He.min.x,Vt=He.min.y,Dt=He.isBox3?He.min.z:0;else{const vi=Math.pow(2,-Ie);At=Math.floor(Pn.width*vi),pt=Math.floor(Pn.height*vi),Z.isDataArrayTexture?Pt=Pn.depth:Z.isData3DTexture?Pt=Math.floor(Pn.depth*vi):Pt=1,Nt=0,Vt=0,Dt=0}Ue!==null?(qt=Ue.x,yn=Ue.y,qn=Ue.z):(qt=0,yn=0,qn=0);const Jt=tt.convert(Ae.format),Tt=tt.convert(Ae.type);let xn;Ae.isData3DTexture?(fe.setTexture3D(Ae,0),xn=K.TEXTURE_3D):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?(fe.setTexture2DArray(Ae,0),xn=K.TEXTURE_2D_ARRAY):(fe.setTexture2D(Ae,0),xn=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Ae.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Ae.unpackAlignment);const Bt=K.getParameter(K.UNPACK_ROW_LENGTH),Oi=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Qr=K.getParameter(K.UNPACK_SKIP_PIXELS),Gn=K.getParameter(K.UNPACK_SKIP_ROWS),Er=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,Pn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Pn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Nt),K.pixelStorei(K.UNPACK_SKIP_ROWS,Vt),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Dt);const Cn=Z.isDataArrayTexture||Z.isData3DTexture,gi=Ae.isDataArrayTexture||Ae.isData3DTexture;if(Z.isDepthTexture){const vi=q.get(Z),Vi=q.get(Ae),Hi=q.get(vi.__renderTarget),ts=q.get(Vi.__renderTarget);Ve.bindFramebuffer(K.READ_FRAMEBUFFER,Hi.__webglFramebuffer),Ve.bindFramebuffer(K.DRAW_FRAMEBUFFER,ts.__webglFramebuffer);for(let Tr=0;Tr<Pt;Tr++)Cn&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,q.get(Z).__webglTexture,Ie,Dt+Tr),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,q.get(Ae).__webglTexture,yt,qn+Tr)),K.blitFramebuffer(Nt,Vt,At,pt,qt,yn,At,pt,K.DEPTH_BUFFER_BIT,K.NEAREST);Ve.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ve.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(Ie!==0||Z.isRenderTargetTexture||q.has(Z)){const vi=q.get(Z),Vi=q.get(Ae);Ve.bindFramebuffer(K.READ_FRAMEBUFFER,Eo),Ve.bindFramebuffer(K.DRAW_FRAMEBUFFER,Ot);for(let Hi=0;Hi<Pt;Hi++)Cn?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,vi.__webglTexture,Ie,Dt+Hi):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,vi.__webglTexture,Ie),gi?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Vi.__webglTexture,yt,qn+Hi):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Vi.__webglTexture,yt),Ie!==0?K.blitFramebuffer(Nt,Vt,At,pt,qt,yn,At,pt,K.COLOR_BUFFER_BIT,K.NEAREST):gi?K.copyTexSubImage3D(xn,yt,qt,yn,qn+Hi,Nt,Vt,At,pt):K.copyTexSubImage2D(xn,yt,qt,yn,Nt,Vt,At,pt);Ve.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ve.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else gi?Z.isDataTexture||Z.isData3DTexture?K.texSubImage3D(xn,yt,qt,yn,qn,At,pt,Pt,Jt,Tt,Pn.data):Ae.isCompressedArrayTexture?K.compressedTexSubImage3D(xn,yt,qt,yn,qn,At,pt,Pt,Jt,Pn.data):K.texSubImage3D(xn,yt,qt,yn,qn,At,pt,Pt,Jt,Tt,Pn):Z.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,yt,qt,yn,At,pt,Jt,Tt,Pn.data):Z.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,yt,qt,yn,Pn.width,Pn.height,Jt,Pn.data):K.texSubImage2D(K.TEXTURE_2D,yt,qt,yn,At,pt,Jt,Tt,Pn);K.pixelStorei(K.UNPACK_ROW_LENGTH,Bt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Oi),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Qr),K.pixelStorei(K.UNPACK_SKIP_ROWS,Gn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Er),yt===0&&Ae.generateMipmaps&&K.generateMipmap(xn),Ve.unbindTexture()},this.initRenderTarget=function(Z){q.get(Z).__webglFramebuffer===void 0&&fe.setupRenderTarget(Z)},this.initTexture=function(Z){Z.isCubeTexture?fe.setTextureCube(Z,0):Z.isData3DTexture?fe.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?fe.setTexture2DArray(Z,0):fe.setTexture2D(Z,0),Ve.unbindTexture()},this.resetState=function(){j=0,W=0,Y=null,Ve.reset(),vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ms}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Fn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Fn._getUnpackColorSpace()}}const KAe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:TT,AddEquation:cd,AddOperation:t9,AdditiveAnimationBlendMode:UN,AdditiveBlending:w1,AgXToneMapping:wN,AlphaFormat:ON,AlwaysCompare:p9,AlwaysDepth:P1,AlwaysStencilFunc:eI,AmbientLight:s7,AnimationAction:p7,AnimationClip:Fy,AnimationLoader:Ybe,AnimationMixer:Exe,AnimationObjectGroup:xxe,AnimationUtils:qbe,ArcCurve:O9,ArrayCamera:f7,ArrowHelper:Yxe,AttachedBindMode:QR,Audio:d7,AudioAnalyser:fxe,AudioContext:uD,AudioListener:lxe,AudioLoader:axe,AxesHelper:$xe,BackSide:yo,BasicDepthPacking:o9,BasicShadowMap:Lq,BatchedMesh:C9,Bone:WN,BooleanKeyframeTrack:vp,Box2:Nxe,Box3:ua,Box3Helper:jxe,BoxGeometry:gp,BoxHelper:Wxe,BufferAttribute:di,BufferGeometry:cn,BufferGeometryLoader:c7,ByteType:IN,Cache:zu,Camera:FT,CameraHelper:qxe,CanvasTexture:hbe,CapsuleGeometry:qT,CatmullRomCurve3:L9,CineonToneMapping:AN,CircleGeometry:WT,ClampToEdgeWrapping:Jo,Clock:cD,Color:Ct,ColorKeyframeTrack:rD,ColorManagement:Fn,CompressedArrayTexture:fbe,CompressedCubeTexture:dbe,CompressedTexture:HT,CompressedTextureLoader:$be,ConeGeometry:p_,ConstantAlphaFactor:Zq,ConstantColorFactor:Kq,Controls:Jxe,CubeCamera:S9,CubeDepthTexture:N9,CubeReflectionMapping:qu,CubeRefractionMapping:xd,CubeTexture:d_,CubeTextureLoader:Kbe,CubeUVReflectionMapping:Gg,CubicBezierCurve:$N,CubicBezierCurve3:U9,CubicInterpolant:Q9,CullFaceBack:KR,CullFaceFront:Oq,CullFaceFrontBack:gye,CullFaceNone:Dq,Curve:Ql,CurvePath:k9,CustomBlending:Uq,CustomToneMapping:MN,CylinderGeometry:h_,Cylindrical:Pxe,Data3DTexture:UT,DataArrayTexture:LT,DataTexture:Yl,DataTextureLoader:Jbe,DataUtils:U_e,DecrementStencilOp:Dye,DecrementWrapStencilOp:Lye,DefaultLoadingManager:n7,DepthFormat:ju,DepthStencilFormat:hd,DepthTexture:xg,DetachedBindMode:n9,DirectionalLight:o7,DirectionalLightHelper:Hxe,DiscreteInterpolant:e7,DodecahedronGeometry:jT,DoubleSide:Vl,DstAlphaFactor:Wq,DstColorFactor:Xq,DynamicCopyUsage:Kye,DynamicDrawUsage:qye,DynamicReadUsage:Xye,EdgesGeometry:D9,EllipseCurve:XT,EqualCompare:f9,EqualDepth:D1,EqualStencilFunc:Bye,EquirectangularReflectionMapping:Sy,EquirectangularRefractionMapping:Ey,Euler:Ss,EventDispatcher:$u,ExternalTexture:XN,ExtrudeGeometry:YT,FileLoader:of,Float16BufferAttribute:H_e,Float32BufferAttribute:Ft,FloatType:vo,Fog:BT,FogExp2:kT,FramebufferTexture:cbe,FrontSide:af,Frustum:Vg,FrustumArray:VT,GLBufferAttribute:Cxe,GLSL1:Zye,GLSL3:tI,GreaterCompare:d9,GreaterDepth:L1,GreaterEqualCompare:OT,GreaterEqualDepth:O1,GreaterEqualStencilFunc:Hye,GreaterStencilFunc:Gye,GridHelper:Gxe,Group:tg,HalfFloatType:Wu,HemisphereLight:i7,HemisphereLightHelper:zxe,IcosahedronGeometry:$T,ImageBitmapLoader:rxe,ImageLoader:ky,ImageUtils:_9,IncrementStencilOp:Nye,IncrementWrapStencilOp:Oye,InstancedBufferAttribute:lp,InstancedBufferGeometry:lD,InstancedInterleavedBuffer:wxe,InstancedMesh:w9,Int16BufferAttribute:G_e,Int32BufferAttribute:V_e,Int8BufferAttribute:k_e,IntType:MT,InterleavedBuffer:zT,InterleavedBufferAttribute:sp,Interpolant:v_,InterpolateDiscrete:My,InterpolateLinear:mE,InterpolateSmooth:AS,InterpolationSamplingMode:t_e,InterpolationSamplingType:e_e,InvertStencilOp:Uye,KeepStencilOp:Fh,KeyframeTrack:pl,LOD:A9,LatheGeometry:KT,Layers:_g,LessCompare:c9,LessDepth:N1,LessEqualCompare:DT,LessEqualDepth:ap,LessEqualStencilFunc:zye,LessStencilFunc:kye,Light:Od,LightProbe:u7,Line:Td,Line3:Lxe,LineBasicMaterial:xo,LineCurve:KN,LineCurve3:F9,LineDashedMaterial:J9,LineLoop:R9,LineSegments:Ku,LinearFilter:mi,LinearInterpolant:iD,LinearMipMapLinearFilter:bye,LinearMipMapNearestFilter:_ye,LinearMipmapLinearFilter:Bu,LinearMipmapNearestFilter:X0,LinearSRGBColorSpace:Sd,LinearToneMapping:EN,LinearTransfer:Cy,Loader:Qo,LoaderUtils:oI,LoadingManager:aD,LoopOnce:i9,LoopPingPong:a9,LoopRepeat:r9,MOUSE:Lh,Material:Ya,MaterialLoader:aA,MathUtils:y9,Matrix2:pD,Matrix3:un,Matrix4:en,MaxEquation:zq,Mesh:er,MeshBasicMaterial:pf,MeshDepthMaterial:iA,MeshDistanceMaterial:rA,MeshLambertMaterial:$9,MeshMatcapMaterial:K9,MeshNormalMaterial:Y9,MeshPhongMaterial:j9,MeshPhysicalMaterial:W9,MeshStandardMaterial:tD,MeshToonMaterial:X9,MinEquation:Bq,MirroredRepeatWrapping:Ay,MixOperation:e9,MultiplyBlending:ZR,MultiplyOperation:c_,NearestFilter:br,NearestMipMapLinearFilter:yye,NearestMipMapNearestFilter:vye,NearestMipmapLinearFilter:Qm,NearestMipmapNearestFilter:RN,NeutralToneMapping:CN,NeverCompare:u9,NeverDepth:I1,NeverStencilFunc:Fye,NoBlending:Vu,NoColorSpace:zc,NoNormalPacking:wye,NoToneMapping:al,NormalAnimationBlendMode:NT,NormalBlending:$h,NormalGAPacking:Rye,NormalRGPacking:Cye,NotEqualCompare:h9,NotEqualDepth:U1,NotEqualStencilFunc:Vye,NumberKeyframeTrack:Ly,Object3D:Hn,ObjectLoader:nxe,ObjectSpaceNormalMap:l9,OctahedronGeometry:m_,OneFactor:Vq,OneMinusConstantAlphaFactor:Qq,OneMinusConstantColorFactor:Jq,OneMinusDstAlphaFactor:jq,OneMinusDstColorFactor:Yq,OneMinusSrcAlphaFactor:R1,OneMinusSrcColorFactor:qq,OrthographicCamera:Xc,PCFShadowMap:og,PCFSoftShadowMap:j0,PMREMGenerator:uI,Path:_E,PerspectiveCamera:_r,Plane:kc,PlaneGeometry:mf,PlaneHelper:Xxe,PointLight:a7,PointLightHelper:kxe,Points:I9,PointsMaterial:jN,PolarGridHelper:Vxe,PolyhedronGeometry:Dd,PositionalAudio:cxe,PropertyBinding:Vn,PropertyMixer:h7,QuadraticBezierCurve:JN,QuadraticBezierCurve3:ZN,Quaternion:Xa,QuaternionKeyframeTrack:y_,QuaternionLinearInterpolant:t7,R11_EAC_Format:q1,RED_GREEN_RGTC2_Format:hE,RED_RGTC1_Format:fE,REVISION:u_,RG11_EAC_Format:j1,RGBADepthPacking:s9,RGBAFormat:ja,RGBAIntegerFormat:PT,RGBA_ASTC_10x10_Format:aE,RGBA_ASTC_10x5_Format:nE,RGBA_ASTC_10x6_Format:iE,RGBA_ASTC_10x8_Format:rE,RGBA_ASTC_12x10_Format:oE,RGBA_ASTC_12x12_Format:sE,RGBA_ASTC_4x4_Format:Y1,RGBA_ASTC_5x4_Format:$1,RGBA_ASTC_5x5_Format:K1,RGBA_ASTC_6x5_Format:J1,RGBA_ASTC_6x6_Format:Z1,RGBA_ASTC_8x5_Format:Q1,RGBA_ASTC_8x6_Format:eE,RGBA_ASTC_8x8_Format:tE,RGBA_BPTC_Format:lE,RGBA_ETC2_EAC_Format:H1,RGBA_PVRTC_2BPPV1_Format:z1,RGBA_PVRTC_4BPPV1_Format:B1,RGBA_S3TC_DXT1_Format:$0,RGBA_S3TC_DXT3_Format:K0,RGBA_S3TC_DXT5_Format:J0,RGBDepthPacking:Aye,RGBFormat:LN,RGBIntegerFormat:xye,RGB_BPTC_SIGNED_Format:uE,RGB_BPTC_UNSIGNED_Format:cE,RGB_ETC1_Format:G1,RGB_ETC2_Format:V1,RGB_PVRTC_2BPPV1_Format:k1,RGB_PVRTC_4BPPV1_Format:F1,RGB_S3TC_DXT1_Format:Y0,RGDepthPacking:Mye,RGFormat:op,RGIntegerFormat:IT,RawShaderMaterial:eD,Ray:mp,Raycaster:m7,RectAreaLight:l7,RedFormat:RT,RedIntegerFormat:f_,ReinhardToneMapping:TN,RenderTarget:kN,RenderTarget3D:Txe,RepeatWrapping:Ty,ReplaceStencilOp:Pye,ReverseSubtractEquation:kq,RingGeometry:JT,SIGNED_R11_EAC_Format:W1,SIGNED_RED_GREEN_RGTC2_Format:pE,SIGNED_RED_RGTC1_Format:dE,SIGNED_RG11_EAC_Format:X1,SRGBColorSpace:qa,SRGBTransfer:ni,Scene:HN,ShaderChunk:mn,ShaderLib:Fl,ShaderMaterial:Es,ShadowMaterial:q9,Shape:Jh,ShapeGeometry:ZT,ShapePath:Kxe,ShapeUtils:ql,ShortType:PN,Skeleton:GT,SkeletonHelper:Fxe,SkinnedMesh:M9,Source:pd,Sphere:ca,SphereGeometry:g_,Spherical:bE,SphericalHarmonics3:sD,SplineCurve:QN,SpotLight:r7,SpotLightHelper:Uxe,Sprite:T9,SpriteMaterial:qN,SrcAlphaFactor:C1,SrcAlphaSaturateFactor:$q,SrcColorFactor:Hq,StaticCopyUsage:$ye,StaticDrawUsage:Ry,StaticReadUsage:jye,StereoCamera:oxe,StreamCopyUsage:Jye,StreamDrawUsage:Wye,StreamReadUsage:Yye,StringKeyframeTrack:yp,SubtractEquation:Fq,SubtractiveBlending:JR,TOUCH:Uh,TangentSpaceNormalMap:Nd,TetrahedronGeometry:QT,Texture:Qi,TextureLoader:Zbe,TextureUtils:nSe,Timer:Rxe,TimestampQuery:Qye,TorusGeometry:eA,TorusKnotGeometry:tA,Triangle:Yo,TriangleFanDrawMode:Tye,TriangleStripDrawMode:Eye,TrianglesDrawMode:Sye,TubeGeometry:nA,UVMapping:AT,Uint16BufferAttribute:BN,Uint32BufferAttribute:zN,Uint8BufferAttribute:B_e,Uint8ClampedBufferAttribute:z_e,Uniform:hD,UniformsGroup:Mxe,UniformsLib:wt,UniformsUtils:GN,UnsignedByteType:po,UnsignedInt101111Type:DN,UnsignedInt248Type:mg,UnsignedInt5999Type:NN,UnsignedIntType:cl,UnsignedShort4444Type:wT,UnsignedShort5551Type:CT,UnsignedShortType:pg,VSMShadowMap:Vh,Vector2:st,Vector3:se,Vector4:ri,VectorKeyframeTrack:Uy,VideoFrameTexture:ube,VideoTexture:P9,WebGL3DRenderTarget:M_e,WebGLArrayRenderTarget:A_e,WebGLCoordinateSystem:ms,WebGLCubeRenderTarget:VN,WebGLRenderTarget:_s,WebGLRenderer:E7,WebGLUtils:S7,WebGPUCoordinateSystem:gg,WebXRController:MS,WireframeGeometry:H9,WrapAroundEnding:wy,ZeroCurvatureEnding:Hh,ZeroFactor:Gq,ZeroSlopeEnding:qh,ZeroStencilOp:Iye,createCanvasElement:v9,error:Ht,getConsoleFunction:r_e,log:Py,setConsoleFunction:i_e,warn:Mt,warnOnce:vg},Symbol.toStringTag,{value:"Module"})),uB=t=>{let e;const n=new Set,i=(c,d)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const v=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,v))}},r=()=>e,s={setState:i,getState:r,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=t(i,r,s);return s},JAe=(t=>t?uB(t):uB),{useSyncExternalStoreWithSelector:ZAe}=Qre,QAe=t=>t;function eMe(t,e=QAe,n){const i=ZAe(t.subscribe,t.getState,t.getInitialState,e,n);return Ul.useDebugValue(i),i}const cB=(t,e)=>{const n=JAe(t),i=(r,a=e)=>eMe(n,r,a);return Object.assign(i,n),i},tMe=((t,e)=>t?cB(t,e):cB),nMe=t=>typeof t=="object"&&typeof t.then=="function",lS=[];function iMe(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function rMe(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const a of lS)if(iMe(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!n)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=lS.indexOf(r);a!==-1&&lS.splice(a,1)},promise:(nMe(t)?t:t(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(lS.push(r),!n)throw r.promise}const aMe=(t,e,n)=>rMe(t,e,!1,n);var dI=BB();const oMe=fl(dI);function mD(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=mD(i,e,n);if(r)return r;i=e?null:i.sibling}}function T7(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const gD=T7(G.createContext(null));class A7 extends G.Component{render(){return G.createElement(gD.Provider,{value:this._reactInternals},this.props.children)}}function M7(){const t=G.useContext(gD);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const i=mD(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const sMe=Symbol.for("react.context"),lMe=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===sMe;function uMe(){const t=M7(),[e]=G.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;lMe(i)&&i!==gD&&!e.has(i)&&e.set(i,G.use(T7(i))),n=n.return}return e}function cMe(){const t=uMe();return G.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>G.createElement(e,null,G.createElement(n.Provider,{...i,value:t.get(n)})),e=>G.createElement(A7,{...e})),[t])}function w7(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const C7=t=>t&&t.isOrthographicCamera,fMe=t=>t&&t.hasOwnProperty("current"),dMe=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),__=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?G.useLayoutEffect:G.useEffect;function R7(t){const e=G.useRef(t);return __(()=>void(e.current=t),[t]),e}function hMe(){const t=M7(),e=cMe();return G.useMemo(()=>({children:n})=>{const r=!!mD(t,!0,a=>a.type===G.StrictMode)?G.StrictMode:G.Fragment;return re.jsx(r,{children:re.jsx(e,{children:n})})},[t,e])}function pMe({set:t}){return __(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const mMe=(t=>(t=class extends G.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function I7(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Hm(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const Ki={obj:t=>t===Object(t)&&!Ki.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Ki.str(t)||Ki.num(t)||Ki.boo(t))return t===e;const a=Ki.obj(t);if(a&&i==="reference")return t===e;const o=Ki.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(s in r?e:t)if(!Ki.equ(t[s],e[s],{strict:r,objects:"reference"}))return!1}else for(s in r?e:t)if(t[s]!==e[s])return!1;if(Ki.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function gMe(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const P7=["children","key","ref"];function vMe(t){const e={};for(const n in t)P7.includes(n)||(e[n]=t[n]);return e}function xE(t,e,n,i){const r=t;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:vMe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function By(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const fB=/-\d+$/;function SE(t,e){if(Ki.str(e.props.attach)){if(fB.test(e.props.attach)){const r=e.props.attach.replace(fB,""),{root:a,key:o}=By(t.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:n,key:i}=By(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else Ki.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function EE(t,e){if(Ki.str(e.props.attach)){const{root:n,key:i}=By(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const hI=[...P7,"args","dispose","attach","object","onUpdate","dispose"],dB=new Map;function yMe(t){let e=dB.get(t.constructor);try{e||(e=new t.constructor,dB.set(t.constructor,e))}catch{}return e}function _Me(t,e){const n={};for(const i in e)if(!hI.includes(i)&&!Ki.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(hI.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=By(t.object,i);if(r.constructor&&r.constructor.length===0){const o=yMe(r);Ki.und(o)||(n[a]=o[a])}else n[a]=0}return n}const bMe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],xMe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function fd(t,e){var n;const i=t.__r3f,r=i&&w7(i).getState(),a=i==null?void 0:i.eventCount;for(const s in e){let u=e[s];if(hI.includes(s))continue;if(i&&xMe.test(s)){typeof u=="function"?i.handlers[s]=u:delete i.handlers[s],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:c,key:d,target:p}=By(t,s);if(p===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${d}".`);if(p instanceof _g&&u instanceof _g)p.mask=u.mask;else if(p instanceof Ct&&dMe(u))p.set(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&u!=null&&u.constructor&&p.constructor===u.constructor)p.copy(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(u))typeof p.fromArray=="function"?p.fromArray(u):p.set(...u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof u=="number")typeof p.setScalar=="function"?p.setScalar(u):p.set(u);else{var o;c[d]=u,r&&!r.linear&&bMe.includes(d)&&(o=c[d])!=null&&o.isTexture&&c[d].format===ja&&c[d].type===po&&(c[d].colorSpace=qa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const s=i.object,u=r.internal.interaction.indexOf(s);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&s.raycast!==null&&r.internal.interaction.push(s)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&qg(i),t}function qg(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function SMe(t,e){t.manual||(C7(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Xo=t=>t==null?void 0:t.isObject3D;function uS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function N7(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function EMe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{N7(n.capturedMap,e,i,r)})}function TMe(t){function e(u){const{internal:c}=t.getState(),d=u.offsetX-c.initialClick[0],p=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function n(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function i(u,c){const d=t.getState(),p=new Set,v=[],y=c?c(d.internal.interaction):d.internal.interaction;for(let A=0;A<y.length;A++){const R=Hm(y[A]);R&&(R.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(u,d);function b(A){const R=Hm(A);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var I;R.events.compute==null||R.events.compute(u,R,(I=R.previousRoot)==null?void 0:I.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(A,!0):[]}let T=y.flatMap(b).sort((A,R)=>{const I=Hm(A.object),N=Hm(R.object);return!I||!N?A.distance-R.distance:N.events.priority-I.events.priority||A.distance-R.distance}).filter(A=>{const R=uS(A);return p.has(R)?!1:(p.add(R),!0)});d.events.filter&&(T=d.events.filter(T,d));for(const A of T){let R=A.object;for(;R;){var S;(S=R.__r3f)!=null&&S.eventCount&&v.push({...A,eventObject:R}),R=R.parent}}if("pointerId"in u&&d.internal.capturedMap.has(u.pointerId))for(let A of d.internal.capturedMap.get(u.pointerId).values())p.has(uS(A.intersection))||v.push(A.intersection);return v}function r(u,c,d,p){if(u.length){const v={stopped:!1};for(const y of u){let b=Hm(y.object);if(b||y.object.traverseAncestors(T=>{const S=Hm(T);if(S)return b=S,!1}),b){const{raycaster:T,pointer:S,camera:A,internal:R}=b,I=new se(S.x,S.y,0).unproject(A),N=U=>{var B,j;return(B=(j=R.capturedMap.get(U))==null?void 0:j.has(y.eventObject))!=null?B:!1},D=U=>{const B={intersection:y,target:c.target};R.capturedMap.has(U)?R.capturedMap.get(U).set(y.eventObject,B):R.capturedMap.set(U,new Map([[y.eventObject,B]])),c.target.setPointerCapture(U)},O=U=>{const B=R.capturedMap.get(U);B&&N7(R.capturedMap,y.eventObject,B,U)};let F={};for(let U in c){let B=c[U];typeof B!="function"&&(F[U]=B)}let z={...y,...F,pointer:S,intersections:u,stopped:v.stopped,delta:d,unprojectedPoint:I,ray:T.ray,camera:A,stopPropagation(){const U="pointerId"in c&&R.capturedMap.get(c.pointerId);if((!U||U.has(y.eventObject))&&(z.stopped=v.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(B=>B.eventObject===y.eventObject))){const B=u.slice(0,u.indexOf(y));a([...B,y])}},target:{hasPointerCapture:N,setPointerCapture:D,releasePointerCapture:O},currentTarget:{hasPointerCapture:N,setPointerCapture:D,releasePointerCapture:O},nativeEvent:c};if(p(z),v.stopped===!0)break}}}return u}function a(u){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!u.length||!u.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const v=d.eventObject.__r3f;if(c.hovered.delete(uS(d)),v!=null&&v.eventCount){const y=v.handlers,b={...d,intersections:u};y.onPointerOut==null||y.onPointerOut(b),y.onPointerLeave==null||y.onPointerLeave(b)}}}function o(u,c){for(let d=0;d<c.length;d++){const p=c[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),a([]))})}}return function(d){const{onPointerMissed:p,internal:v}=t.getState();v.lastEvent.current=d;const y=u==="onPointerMove",b=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",S=i(d,y?n:void 0),A=b?e(d):0;u==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=S.map(I=>I.eventObject)),b&&!S.length&&A<=2&&(o(d,v.interaction),p&&p(d)),y&&a(S);function R(I){const N=I.eventObject,D=N.__r3f;if(!(D!=null&&D.eventCount))return;const O=D.handlers;if(y){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const F=uS(I),z=v.hovered.get(F);z?z.stopped&&I.stopPropagation():(v.hovered.set(F,I),O.onPointerOver==null||O.onPointerOver(I),O.onPointerEnter==null||O.onPointerEnter(I))}O.onPointerMove==null||O.onPointerMove(I)}else{const F=O[u];F?(!b||v.initialHits.includes(N))&&(o(d,v.interaction.filter(z=>!v.initialHits.includes(z))),F(I)):b&&v.initialHits.includes(N)&&o(d,v.interaction.filter(z=>!v.initialHits.includes(z)))}}r(S,d,A,R)}}return{handlePointer:s}}const hB=t=>!!(t!=null&&t.render),D7=G.createContext(null),AMe=(t,e)=>{const n=tMe((s,u)=>{const c=new se,d=new se,p=new se;function v(A=u().camera,R=d,I=u().size){const{width:N,height:D,top:O,left:F}=I,z=N/D;R.isVector3?p.copy(R):p.set(...R);const U=A.getWorldPosition(c).distanceTo(p);if(C7(A))return{width:N/A.zoom,height:D/A.zoom,top:O,left:F,factor:1,distance:U,aspect:z};{const B=A.fov*Math.PI/180,j=2*Math.tan(B/2)*U,W=j*(N/D);return{width:W,height:j,top:O,left:F,factor:N/W,distance:U,aspect:z}}}let y;const b=A=>s(R=>({performance:{...R.performance,current:A}})),T=new st;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>t(u(),A),advance:(A,R)=>e(A,R,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new cD,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=u();y&&clearTimeout(y),A.performance.current!==A.performance.min&&b(A.performance.min),y=setTimeout(()=>b(u().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:A=>s(R=>({...R,events:{...R.events,...A}})),setSize:(A,R,I=0,N=0)=>{const D=u().camera,O={width:A,height:R,top:I,left:N};s(F=>({size:O,viewport:{...F.viewport,...v(D,d,O)}}))},setDpr:A=>s(R=>{const I=I7(A);return{viewport:{...R.viewport,dpr:I,initialDpr:R.viewport.initialDpr||I}}}),setFrameloop:(A="always")=>{const R=u().clock;R.stop(),R.elapsedTime=0,A!=="never"&&(R.start(),R.elapsedTime=0),s(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:G.createRef(),active:!1,frames:0,priority:0,subscribe:(A,R,I)=>{const N=u().internal;return N.priority=N.priority+(R>0?1:0),N.subscribers.push({ref:A,priority:R,store:I}),N.subscribers=N.subscribers.sort((D,O)=>D.priority-O.priority),()=>{const D=u().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(R>0?1:0),D.subscribers=D.subscribers.filter(O=>O.ref!==A))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:s,size:u,viewport:c,gl:d,set:p}=n.getState();if(u.width!==r.width||u.height!==r.height||c.dpr!==a){r=u,a=c.dpr,SMe(s,u),c.dpr>0&&d.setPixelRatio(c.dpr);const v=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,v)}s!==o&&(o=s,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};function O7(){const t=G.useContext(D7);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Uc(t=n=>n,e){return O7()(t,e)}function lA(t,e=0){const n=O7(),i=n.getState().internal.subscribe,r=R7(t);return __(()=>i(r,e,n),[e,i,n]),null}/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const MMe=1,wMe=8,CMe=32,RMe=2;var IMe={version:"9.5.0"};function PMe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pB={exports:{}},mB={exports:{}},gB;function NMe(){return gB||(gB=1,(function(t){t.exports=function(e){function n(h,m,x,w){return new cv(h,m,x,w)}function i(){}function r(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){var m=h,x=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(x=m.return),h=m.return;while(h)}return m.tag===3?x:null}function o(h){if(a(h)!==h)throw Error(r(188))}function s(h){var m=h.alternate;if(!m){if(m=a(h),m===null)throw Error(r(188));return m!==h?null:h}for(var x=h,w=m;;){var L=x.return;if(L===null)break;var k=L.alternate;if(k===null){if(w=L.return,w!==null){x=w;continue}break}if(L.child===k.child){for(k=L.child;k;){if(k===x)return o(L),h;if(k===w)return o(L),m;k=k.sibling}throw Error(r(188))}if(x.return!==w.return)x=L,w=k;else{for(var J=!1,be=L.child;be;){if(be===x){J=!0,x=L,w=k;break}if(be===w){J=!0,w=L,x=k;break}be=be.sibling}if(!J){for(be=k.child;be;){if(be===x){J=!0,x=k,w=L;break}if(be===w){J=!0,w=k,x=L;break}be=be.sibling}if(!J)throw Error(r(189))}}if(x.alternate!==w)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?h:m}function u(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(m=u(h),m!==null)return m;h=h.sibling}return null}function c(h){var m=h.tag;if(m===5||m===26||m===27||m===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(m=c(h),m!==null))return m;h=h.sibling}return null}function d(h){return h===null||typeof h!="object"?null:(h=El&&h[El]||h["@@iterator"],typeof h=="function"?h:null)}function p(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===yu?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case dc:return"Fragment";case pc:return"Profiler";case hc:return"StrictMode";case Gp:return"Suspense";case Sl:return"SuspenseList";case Jd:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case fc:return"Portal";case Do:return h.displayName||"Context";case Kd:return(h._context.displayName||"Context")+".Consumer";case Nf:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Vp:return m=h.displayName||null,m!==null?m:p(h.type)||"Memo";case _a:m=h._payload,h=h._init;try{return p(h(m))}catch{}}return null}function v(h){return{current:h}}function y(h){0>_c||(h.current=tm[_c],tm[_c]=null,_c--)}function b(h,m){_c++,tm[_c]=h.current,h.current=m}function T(h){return h>>>=0,h===0?32:31-(nm(h)/Rb|0)|0}function S(h){var m=h&42;if(m!==0)return m;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function A(h,m,x){var w=h.pendingLanes;if(w===0)return 0;var L=0,k=h.suspendedLanes,J=h.pingedLanes;h=h.warmLanes;var be=w&134217727;return be!==0?(w=be&~k,w!==0?L=S(w):(J&=be,J!==0?L=S(J):x||(x=be&~h,x!==0&&(L=S(x))))):(be=w&~k,be!==0?L=S(be):J!==0?L=S(J):x||(x=w&~h,x!==0&&(L=S(x)))),L===0?0:m!==0&&m!==L&&(m&k)===0&&(k=L&-L,x=m&-m,k>=x||k===32&&(x&4194048)!==0)?m:L}function R(h,m){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&m)===0}function I(h,m){switch(h){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var h=Bf;return Bf<<=1,(Bf&62914560)===0&&(Bf=4194304),h}function D(h){for(var m=[],x=0;31>x;x++)m.push(h);return m}function O(h,m){h.pendingLanes|=m,m!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function F(h,m,x,w,L,k){var J=h.pendingLanes;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=x,h.entangledLanes&=x,h.errorRecoveryDisabledLanes&=x,h.shellSuspendCounter=0;var be=h.entanglements,Ze=h.expirationTimes,dt=h.hiddenUpdates;for(x=J&~x;0<x;){var bt=31-La(x),gt=1<<bt;be[bt]=0,Ze[bt]=-1;var Rt=dt[bt];if(Rt!==null)for(dt[bt]=null,bt=0;bt<Rt.length;bt++){var rn=Rt[bt];rn!==null&&(rn.lane&=-536870913)}x&=~gt}w!==0&&z(h,w,0),k!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=k&~(J&~m))}function z(h,m,x){h.pendingLanes|=m,h.suspendedLanes&=~m;var w=31-La(m);h.entangledLanes|=m,h.entanglements[w]=h.entanglements[w]|1073741824|x&261930}function U(h,m){var x=h.entangledLanes|=m;for(h=h.entanglements;x;){var w=31-La(x),L=1<<w;L&m|h[w]&m&&(h[w]|=m),x&=~L}}function B(h,m){var x=m&-m;return x=(x&42)!==0?1:j(x),(x&(h.suspendedLanes|m))!==0?0:x}function j(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function W(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Y(h){if(typeof $v=="function"&&Nb(h),Ua&&typeof Ua.setStrictMode=="function")try{Ua.setStrictMode(xc,h)}catch{}}function Q(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}function ae(h){if(lm===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);lm=m&&m[1]||"",Hs=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lm+h+Hs}function X(h,m){if(!h||oh)return"";oh=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(m){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(rn){var Rt=rn}Reflect.construct(h,[],gt)}else{try{gt.call()}catch(rn){Rt=rn}h.call(gt.prototype)}}else{try{throw Error()}catch(rn){Rt=rn}(gt=h())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(rn){if(rn&&Rt&&typeof rn.stack=="string")return[rn.stack,Rt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=w.DetermineComponentFrameRoot(),J=k[0],be=k[1];if(J&&be){var Ze=J.split(`
`),dt=be.split(`
`);for(L=w=0;w<Ze.length&&!Ze[w].includes("DetermineComponentFrameRoot");)w++;for(;L<dt.length&&!dt[L].includes("DetermineComponentFrameRoot");)L++;if(w===Ze.length||L===dt.length)for(w=Ze.length-1,L=dt.length-1;1<=w&&0<=L&&Ze[w]!==dt[L];)L--;for(;1<=w&&0<=L;w--,L--)if(Ze[w]!==dt[L]){if(w!==1||L!==1)do if(w--,L--,0>L||Ze[w]!==dt[L]){var bt=`
`+Ze[w].replace(" at new "," at ");return h.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",h.displayName)),bt}while(1<=w&&0<=L);break}}}finally{oh=!1,Error.prepareStackTrace=x}return(x=h?h.displayName||h.name:"")?ae(x):""}function ne(h,m){switch(h.tag){case 26:case 27:case 5:return ae(h.type);case 16:return ae("Lazy");case 13:return h.child!==m&&m!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return X(h.type,!1);case 11:return X(h.type.render,!1);case 1:return X(h.type,!0);case 31:return ae("Activity");default:return""}}function ge(h){try{var m="",x=null;do m+=ne(h,x),x=h,h=h.return;while(h);return m}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function pe(h,m){if(typeof h=="object"&&h!==null){var x=Kv.get(h);return x!==void 0?x:(m={value:h,source:m,stack:ge(m)},Kv.set(h,m),m)}return{value:h,source:m,stack:ge(m)}}function de(h,m){Ml[qs++]=sh,Ml[qs++]=ti,ti=h,sh=m}function H(h,m,x){Uo[ao++]=zr,Uo[ao++]=os,Uo[ao++]=Fo,Fo=h;var w=zr;h=os;var L=32-La(w)-1;w&=~(1<<L),x+=1;var k=32-La(m)+L;if(30<k){var J=L-L%5;k=(w&(1<<J)-1).toString(32),w>>=J,L-=J,zr=1<<32-La(m)+L|x<<L|w,os=k+h}else zr=1<<k|x<<L|w,os=h}function te(h){h.return!==null&&(de(h,1),H(h,1,0))}function ie(h){for(;h===ti;)ti=Ml[--qs],Ml[qs]=null,sh=Ml[--qs],Ml[qs]=null;for(;h===Fo;)Fo=Uo[--ao],Uo[ao]=null,os=Uo[--ao],Uo[ao]=null,zr=Uo[--ao],Uo[ao]=null}function ce(h,m){Uo[ao++]=zr,Uo[ao++]=os,Uo[ao++]=Fo,zr=m.id,os=m.overflow,Fo=h}function ye(h,m){b(Gr,m),b(wl,h),b(Cr,null),h=W_(m),y(Cr),b(Cr,h)}function oe(){y(Cr),y(wl),y(Gr)}function le(h){h.memoizedState!==null&&b(lh,h);var m=Cr.current,x=Lf(m,h.type);m!==x&&(b(wl,h),b(Cr,x))}function Se(h){wl.current===h&&(y(Cr),y(wl)),lh.current===h&&(y(lh),qi?vc._currentValue=gc:vc._currentValue2=gc)}function he(h){var m=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oe(pe(m,h)),um}function De(h,m){if(!bi)throw Error(r(175));vb(h.stateNode,h.type,h.memoizedProps,m,h)||he(h,!0)}function Fe(h){for(mr=h.return;mr;)switch(mr.tag){case 5:case 31:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:mr=mr.return}}function ve(h){if(!bi||h!==mr)return!1;if(!An)return Fe(h),An=!0,!1;var m=h.tag;if(pr?m!==3&&m!==27&&(m!==5||kf(h.type)&&!ba(h.type,h.memoizedProps))&&xi&&he(h):m!==3&&(m!==5||kf(h.type)&&!ba(h.type,h.memoizedProps))&&xi&&he(h),Fe(h),m===13){if(!bi)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));xi=kv(h)}else if(m===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));xi=_b(h)}else xi=pr&&m===27?ub(h.type,xi):mr?lb(h.stateNode):null;return!0}function ct(){bi&&(xi=mr=null,An=!1)}function Ee(){var h=Ws;return h!==null&&(Ba===null?Ba=h:Ba.push.apply(Ba,h),Ws=null),h}function Oe(h){Ws===null?Ws=[h]:Ws.push(h)}function Me(h,m,x){qi?(b(ko,m._currentValue),m._currentValue=x):(b(ko,m._currentValue2),m._currentValue2=x)}function Je(h){var m=ko.current;qi?h._currentValue=m:h._currentValue2=m,y(ko)}function K(h,m,x){for(;h!==null;){var w=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,w!==null&&(w.childLanes|=m)):w!==null&&(w.childLanes&m)!==m&&(w.childLanes|=m),h===x)break;h=h.return}}function at(h,m,x,w){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var k=L.dependencies;if(k!==null){var J=L.child;k=k.firstContext;e:for(;k!==null;){var be=k;k=L;for(var Ze=0;Ze<m.length;Ze++)if(be.context===m[Ze]){k.lanes|=x,be=k.alternate,be!==null&&(be.lanes|=x),K(k.return,x,h),w||(J=null);break e}k=be.next}}else if(L.tag===18){if(J=L.return,J===null)throw Error(r(341));J.lanes|=x,k=J.alternate,k!==null&&(k.lanes|=x),K(J,x,h),J=null}else J=L.child;if(J!==null)J.return=L;else for(J=L;J!==null;){if(J===h){J=null;break}if(L=J.sibling,L!==null){L.return=J.return,J=L;break}J=J.return}L=J}}function je(h,m,x,w){h=null;for(var L=m,k=!1;L!==null;){if(!k){if((L.flags&524288)!==0)k=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var J=L.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var be=L.type;ji(L.pendingProps.value,J.value)||(h!==null?h.push(be):h=[be])}}else if(L===lh.current){if(J=L.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(vc):h=[vc])}L=L.return}h!==null&&at(m,h,x,w),m.flags|=262144}function Re(h){for(h=h.firstContext;h!==null;){var m=h.context;if(!ji(qi?m._currentValue:m._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Ve(h){li=h,ss=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function $(h){return fe(li,h)}function q(h,m){return li===null&&Ve(h),fe(h,m)}function fe(h,m){var x=qi?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:x,next:null},ss===null){if(h===null)throw Error(r(308));ss=m,h.dependencies={lanes:0,firstContext:m},h.flags|=524288}else ss=ss.next=m;return x}function Le(){return{controller:new Db,data:new Map,refCount:0}}function Ce(h){h.refCount--,h.refCount===0&&Rr(bA,function(){h.controller.abort()})}function Te(){}function ot(h){h!==Kn&&h.next===null&&(Kn===null?uh=Kn=h:Kn=Kn.next=h),Bo=!0,aa||(aa=!0,ue())}function it(h,m){if(!cm&&Bo){cm=!0;do for(var x=!1,w=uh;w!==null;){if(h!==0){var L=w.pendingLanes;if(L===0)var k=0;else{var J=w.suspendedLanes,be=w.pingedLanes;k=(1<<31-La(42|h)+1)-1,k&=L&~(J&~be),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(x=!0,et(w,k))}else k=Mn,k=A(w,w===pn?k:0,w.cancelPendingCommit!==null||w.timeoutHandle!==Oa),(k&3)===0||R(w,k)||(x=!0,et(w,k));w=w.next}while(x);cm=!1}}function mt(){xt()}function xt(){Bo=aa=!1;var h=0;Eu!==0&&mc()&&(h=Eu);for(var m=ra(),x=null,w=uh;w!==null;){var L=w.next,k=We(w,m);k===0?(w.next=null,x===null?uh=L:x.next=L,L===null&&(Kn=x)):(x=w,(h!==0||(k&3)!==0)&&(Bo=!0)),w=L}sr!==0&&sr!==5||it(h),Eu!==0&&(Eu=0)}function We(h,m){for(var x=h.suspendedLanes,w=h.pingedLanes,L=h.expirationTimes,k=h.pendingLanes&-62914561;0<k;){var J=31-La(k),be=1<<J,Ze=L[J];Ze===-1?((be&x)===0||(be&w)!==0)&&(L[J]=I(be,m)):Ze<=m&&(h.expiredLanes|=be),k&=~be}if(m=pn,x=Mn,x=A(h,h===m?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==Oa),w=h.callbackNode,x===0||h===m&&(Zn===2||Zn===9)||h.cancelPendingCommit!==null)return w!==null&&w!==null&&rm(w),h.callbackNode=null,h.callbackPriority=0;if((x&3)===0||R(h,x)){if(m=x&-x,m===h.callbackPriority)return m;switch(w!==null&&rm(w),W(x)){case 2:case 8:x=Pb;break;case 32:x=ah;break;case 268435456:x=om;break;default:x=ah}return w=Ke.bind(null,h),x=rh(x,w),h.callbackPriority=m,h.callbackNode=x,m}return w!==null&&w!==null&&rm(w),h.callbackPriority=2,h.callbackNode=null,2}function Ke(h,m){if(sr!==0&&sr!==5)return h.callbackNode=null,h.callbackPriority=0,null;var x=h.callbackNode;if(zs()&&h.callbackNode!==x)return null;var w=Mn;return w=A(h,h===pn?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==Oa),w===0?null:(as(h,w,m),We(h,ra()),h.callbackNode!=null&&h.callbackNode===x?Ke.bind(null,h):null)}function et(h,m){if(zs())return null;as(h,m,!0)}function ue(){Sv?Ev(function(){(Sn&6)!==0?rh(am,mt):xt()}):rh(am,mt)}function we(){if(Eu===0){var h=Cl;h===0&&(h=im,im<<=1,(im&261888)===0&&(im=256)),Eu=h}return Eu}function ht(h,m){if(zf===null){var x=zf=[];Jv=0,Cl=we(),gr={status:"pending",value:void 0,then:function(w){x.push(w)}}}return Jv++,m.then(me,me),m}function me(){if(--Jv===0&&zf!==null){gr!==null&&(gr.status="fulfilled");var h=zf;zf=null,Cl=0,gr=null;for(var m=0;m<h.length;m++)(0,h[m])()}}function Ye(h,m){var x=[],w={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return h.then(function(){w.status="fulfilled",w.value=m;for(var L=0;L<x.length;L++)(0,x[L])(m)},function(L){for(w.status="rejected",w.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),w}function tt(){var h=Tu.current;return h!==null?h:pn.pooledCache}function vt(h,m){m===null?b(Tu,Tu.current):b(Tu,m.pool)}function nt(){var h=tt();return h===null?null:{parent:qi?Si._currentValue:Si._currentValue2,pool:h}}function Be(h,m){if(ji(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var x=Object.keys(h),w=Object.keys(m);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var L=x[w];if(!_A.call(m,L)||!ji(h[L],m[L]))return!1}return!0}function lt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Et(h,m,x){switch(x=h[x],x===void 0?h.push(m):x!==m&&(m.then(Te,Te),m=x),m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,vn(h),h;default:if(typeof m.status=="string")m.then(Te,Te);else{if(h=pn,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=m,h.status="pending",h.then(function(w){if(m.status==="pending"){var L=m;L.status="fulfilled",L.value=w}},function(w){if(m.status==="pending"){var L=m;L.status="rejected",L.reason=w}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw h=m.reason,vn(h),h}throw Sa=m,vr}}function St(h){try{var m=h._init;return m(h._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Sa=x,vr):x}}function Lt(){if(Sa===null)throw Error(r(459));var h=Sa;return Sa=null,h}function vn(h){if(h===vr||h===Go)throw Error(r(483))}function wn(h){var m=Sc;return Sc+=1,Au===null&&(Au=[]),Et(Au,h,m)}function Qn(h,m){m=m.props.ref,h.ref=m!==void 0?m:null}function nr(h,m){throw m.$$typeof===cc?Error(r(525)):(h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h)))}function Jr(h){function m(Ge,Ne){if(h){var $e=Ge.deletions;$e===null?(Ge.deletions=[Ne],Ge.flags|=16):$e.push(Ne)}}function x(Ge,Ne){if(!h)return null;for(;Ne!==null;)m(Ge,Ne),Ne=Ne.sibling;return null}function w(Ge){for(var Ne=new Map;Ge!==null;)Ge.key!==null?Ne.set(Ge.key,Ge):Ne.set(Ge.index,Ge),Ge=Ge.sibling;return Ne}function L(Ge,Ne){return Ge=io(Ge,Ne),Ge.index=0,Ge.sibling=null,Ge}function k(Ge,Ne,$e){return Ge.index=$e,h?($e=Ge.alternate,$e!==null?($e=$e.index,$e<Ne?(Ge.flags|=67108866,Ne):$e):(Ge.flags|=67108866,Ne)):(Ge.flags|=1048576,Ne)}function J(Ge){return h&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function be(Ge,Ne,$e,_t){return Ne===null||Ne.tag!==6?(Ne=fv($e,Ge.mode,_t),Ne.return=Ge,Ne):(Ne=L(Ne,$e),Ne.return=Ge,Ne)}function Ze(Ge,Ne,$e,_t){var Xt=$e.type;return Xt===dc?bt(Ge,Ne,$e.props.children,_t,$e.key):Ne!==null&&(Ne.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_a&&St(Xt)===Ne.type)?(Ne=L(Ne,$e.props),Qn(Ne,$e),Ne.return=Ge,Ne):(Ne=xl($e.type,$e.key,$e.props,null,Ge.mode,_t),Qn(Ne,$e),Ne.return=Ge,Ne)}function dt(Ge,Ne,$e,_t){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==$e.containerInfo||Ne.stateNode.implementation!==$e.implementation?(Ne=hv($e,Ge.mode,_t),Ne.return=Ge,Ne):(Ne=L(Ne,$e.children||[]),Ne.return=Ge,Ne)}function bt(Ge,Ne,$e,_t,Xt){return Ne===null||Ne.tag!==7?(Ne=No($e,Ge.mode,_t,Xt),Ne.return=Ge,Ne):(Ne=L(Ne,$e),Ne.return=Ge,Ne)}function gt(Ge,Ne,$e){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=fv(""+Ne,Ge.mode,$e),Ne.return=Ge,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Gs:return $e=xl(Ne.type,Ne.key,Ne.props,null,Ge.mode,$e),Qn($e,Ne),$e.return=Ge,$e;case fc:return Ne=hv(Ne,Ge.mode,$e),Ne.return=Ge,Ne;case _a:return Ne=St(Ne),gt(Ge,Ne,$e)}if(_u(Ne)||d(Ne))return Ne=No(Ne,Ge.mode,$e,null),Ne.return=Ge,Ne;if(typeof Ne.then=="function")return gt(Ge,wn(Ne),$e);if(Ne.$$typeof===Do)return gt(Ge,q(Ge,Ne),$e);nr(Ge,Ne)}return null}function Rt(Ge,Ne,$e,_t){var Xt=Ne!==null?Ne.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Xt!==null?null:be(Ge,Ne,""+$e,_t);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case Gs:return $e.key===Xt?Ze(Ge,Ne,$e,_t):null;case fc:return $e.key===Xt?dt(Ge,Ne,$e,_t):null;case _a:return $e=St($e),Rt(Ge,Ne,$e,_t)}if(_u($e)||d($e))return Xt!==null?null:bt(Ge,Ne,$e,_t,null);if(typeof $e.then=="function")return Rt(Ge,Ne,wn($e),_t);if($e.$$typeof===Do)return Rt(Ge,Ne,q(Ge,$e),_t);nr(Ge,$e)}return null}function rn(Ge,Ne,$e,_t,Xt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Ge=Ge.get($e)||null,be(Ne,Ge,""+_t,Xt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case Gs:return Ge=Ge.get(_t.key===null?$e:_t.key)||null,Ze(Ne,Ge,_t,Xt);case fc:return Ge=Ge.get(_t.key===null?$e:_t.key)||null,dt(Ne,Ge,_t,Xt);case _a:return _t=St(_t),rn(Ge,Ne,$e,_t,Xt)}if(_u(_t)||d(_t))return Ge=Ge.get($e)||null,bt(Ne,Ge,_t,Xt,null);if(typeof _t.then=="function")return rn(Ge,Ne,$e,wn(_t),Xt);if(_t.$$typeof===Do)return rn(Ge,Ne,$e,q(Ne,_t),Xt);nr(Ne,_t)}return null}function $i(Ge,Ne,$e,_t){for(var Xt=null,Pi=null,Yt=Ne,Ln=Ne=0,Ir=null;Yt!==null&&Ln<$e.length;Ln++){Yt.index>Ln?(Ir=Yt,Yt=null):Ir=Yt.sibling;var Bn=Rt(Ge,Yt,$e[Ln],_t);if(Bn===null){Yt===null&&(Yt=Ir);break}h&&Yt&&Bn.alternate===null&&m(Ge,Yt),Ne=k(Bn,Ne,Ln),Pi===null?Xt=Bn:Pi.sibling=Bn,Pi=Bn,Yt=Ir}if(Ln===$e.length)return x(Ge,Yt),An&&de(Ge,Ln),Xt;if(Yt===null){for(;Ln<$e.length;Ln++)Yt=gt(Ge,$e[Ln],_t),Yt!==null&&(Ne=k(Yt,Ne,Ln),Pi===null?Xt=Yt:Pi.sibling=Yt,Pi=Yt);return An&&de(Ge,Ln),Xt}for(Yt=w(Yt);Ln<$e.length;Ln++)Ir=rn(Yt,Ge,Ln,$e[Ln],_t),Ir!==null&&(h&&Ir.alternate!==null&&Yt.delete(Ir.key===null?Ln:Ir.key),Ne=k(Ir,Ne,Ln),Pi===null?Xt=Ir:Pi.sibling=Ir,Pi=Ir);return h&&Yt.forEach(function(qo){return m(Ge,qo)}),An&&de(Ge,Ln),Xt}function Yf(Ge,Ne,$e,_t){if($e==null)throw Error(r(151));for(var Xt=null,Pi=null,Yt=Ne,Ln=Ne=0,Ir=null,Bn=$e.next();Yt!==null&&!Bn.done;Ln++,Bn=$e.next()){Yt.index>Ln?(Ir=Yt,Yt=null):Ir=Yt.sibling;var qo=Rt(Ge,Yt,Bn.value,_t);if(qo===null){Yt===null&&(Yt=Ir);break}h&&Yt&&qo.alternate===null&&m(Ge,Yt),Ne=k(qo,Ne,Ln),Pi===null?Xt=qo:Pi.sibling=qo,Pi=qo,Yt=Ir}if(Bn.done)return x(Ge,Yt),An&&de(Ge,Ln),Xt;if(Yt===null){for(;!Bn.done;Ln++,Bn=$e.next())Bn=gt(Ge,Bn.value,_t),Bn!==null&&(Ne=k(Bn,Ne,Ln),Pi===null?Xt=Bn:Pi.sibling=Bn,Pi=Bn);return An&&de(Ge,Ln),Xt}for(Yt=w(Yt);!Bn.done;Ln++,Bn=$e.next())Bn=rn(Yt,Ge,Ln,Bn.value,_t),Bn!==null&&(h&&Bn.alternate!==null&&Yt.delete(Bn.key===null?Ln:Bn.key),Ne=k(Bn,Ne,Ln),Pi===null?Xt=Bn:Pi.sibling=Bn,Pi=Bn);return h&&Yt.forEach(function(xA){return m(Ge,xA)}),An&&de(Ge,Ln),Xt}function Du(Ge,Ne,$e,_t){if(typeof $e=="object"&&$e!==null&&$e.type===dc&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case Gs:e:{for(var Xt=$e.key;Ne!==null;){if(Ne.key===Xt){if(Xt=$e.type,Xt===dc){if(Ne.tag===7){x(Ge,Ne.sibling),_t=L(Ne,$e.props.children),_t.return=Ge,Ge=_t;break e}}else if(Ne.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_a&&St(Xt)===Ne.type){x(Ge,Ne.sibling),_t=L(Ne,$e.props),Qn(_t,$e),_t.return=Ge,Ge=_t;break e}x(Ge,Ne);break}else m(Ge,Ne);Ne=Ne.sibling}$e.type===dc?(_t=No($e.props.children,Ge.mode,_t,$e.key),_t.return=Ge,Ge=_t):(_t=xl($e.type,$e.key,$e.props,null,Ge.mode,_t),Qn(_t,$e),_t.return=Ge,Ge=_t)}return J(Ge);case fc:e:{for(Xt=$e.key;Ne!==null;){if(Ne.key===Xt)if(Ne.tag===4&&Ne.stateNode.containerInfo===$e.containerInfo&&Ne.stateNode.implementation===$e.implementation){x(Ge,Ne.sibling),_t=L(Ne,$e.children||[]),_t.return=Ge,Ge=_t;break e}else{x(Ge,Ne);break}else m(Ge,Ne);Ne=Ne.sibling}_t=hv($e,Ge.mode,_t),_t.return=Ge,Ge=_t}return J(Ge);case _a:return $e=St($e),Du(Ge,Ne,$e,_t)}if(_u($e))return $i(Ge,Ne,$e,_t);if(d($e)){if(Xt=d($e),typeof Xt!="function")throw Error(r(150));return $e=Xt.call($e),Yf(Ge,Ne,$e,_t)}if(typeof $e.then=="function")return Du(Ge,Ne,wn($e),_t);if($e.$$typeof===Do)return Du(Ge,Ne,q(Ge,$e),_t);nr(Ge,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Ne!==null&&Ne.tag===6?(x(Ge,Ne.sibling),_t=L(Ne,$e),_t.return=Ge,Ge=_t):(x(Ge,Ne),_t=fv($e,Ge.mode,_t),_t.return=Ge,Ge=_t),J(Ge)):x(Ge,Ne)}return function(Ge,Ne,$e,_t){try{Sc=0;var Xt=Du(Ge,Ne,$e,_t);return Au=null,Xt}catch(Yt){if(Yt===vr||Yt===Go)throw Yt;var Pi=n(29,Yt,null,Ge.mode);return Pi.lanes=_t,Pi.return=Ge,Pi}finally{}}}function xr(){for(var h=Xs,m=Ec=Xs=0;m<h;){var x=Hr[m];Hr[m++]=null;var w=Hr[m];Hr[m++]=null;var L=Hr[m];Hr[m++]=null;var k=Hr[m];if(Hr[m++]=null,w!==null&&L!==null){var J=w.pending;J===null?L.next=L:(L.next=J.next,J.next=L),w.pending=L}k!==0&&$n(x,L,k)}}function Sr(h,m,x,w){Hr[Xs++]=h,Hr[Xs++]=m,Hr[Xs++]=x,Hr[Xs++]=w,Ec|=w,h.lanes|=w,h=h.alternate,h!==null&&(h.lanes|=w)}function pa(h,m,x,w){return Sr(h,m,x,w),zn(h)}function ai(h,m){return Sr(h,null,null,m),zn(h)}function $n(h,m,x){h.lanes|=x;var w=h.alternate;w!==null&&(w.lanes|=x);for(var L=!1,k=h.return;k!==null;)k.childLanes|=x,w=k.alternate,w!==null&&(w.childLanes|=x),k.tag===22&&(h=k.stateNode,h===null||h._visibility&1||(L=!0)),h=k,k=k.return;return h.tag===3?(k=h.stateNode,L&&m!==null&&(L=31-La(x),h=k.hiddenUpdates,w=h[L],w===null?h[L]=[m]:w.push(m),m.lane=x|536870912),k):null}function zn(h){if(50<kn)throw kn=0,mh=null,Error(r(185));for(var m=h.return;m!==null;)h=m,m=h.return;return h.tag===3?h.stateNode:null}function Di(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fr(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function ma(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Zr(h,m,x){var w=h.updateQueue;if(w===null)return null;if(w=w.shared,(Sn&2)!==0){var L=w.pending;return L===null?m.next=m:(m.next=L.next,L.next=m),w.pending=m,m=zn(h),$n(h,null,x),m}return Sr(h,w,m,x),zn(h)}function $a(h,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194048)!==0)){var w=m.lanes;w&=h.pendingLanes,x|=w,m.lanes=x,U(h,x)}}function es(h,m){var x=h.updateQueue,w=h.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var L=null,k=null;if(x=x.firstBaseUpdate,x!==null){do{var J={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};k===null?L=k=J:k=k.next=J,x=x.next}while(x!==null);k===null?L=k=m:k=k.next=m}else L=k=m;x={baseState:w.baseState,firstBaseUpdate:L,lastBaseUpdate:k,shared:w.shared,callbacks:w.callbacks},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=m:h.next=m,x.lastBaseUpdate=m}function Ka(){if(dm){var h=gr;if(h!==null)throw h}}function So(h,m,x,w){dm=!1;var L=h.updateQueue;oo=!1;var k=L.firstBaseUpdate,J=L.lastBaseUpdate,be=L.shared.pending;if(be!==null){L.shared.pending=null;var Ze=be,dt=Ze.next;Ze.next=null,J===null?k=dt:J.next=dt,J=Ze;var bt=h.alternate;bt!==null&&(bt=bt.updateQueue,be=bt.lastBaseUpdate,be!==J&&(be===null?bt.firstBaseUpdate=dt:be.next=dt,bt.lastBaseUpdate=Ze))}if(k!==null){var gt=L.baseState;J=0,bt=dt=Ze=null,be=k;do{var Rt=be.lane&-536870913,rn=Rt!==be.lane;if(rn?(Mn&Rt)===Rt:(w&Rt)===Rt){Rt!==0&&Rt===Cl&&(dm=!0),bt!==null&&(bt=bt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var $i=h,Yf=be;Rt=m;var Du=x;switch(Yf.tag){case 1:if($i=Yf.payload,typeof $i=="function"){gt=$i.call(Du,gt,Rt);break e}gt=$i;break e;case 3:$i.flags=$i.flags&-65537|128;case 0:if($i=Yf.payload,Rt=typeof $i=="function"?$i.call(Du,gt,Rt):$i,Rt==null)break e;gt=zp({},gt,Rt);break e;case 2:oo=!0}}Rt=be.callback,Rt!==null&&(h.flags|=64,rn&&(h.flags|=8192),rn=L.callbacks,rn===null?L.callbacks=[Rt]:rn.push(Rt))}else rn={lane:Rt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},bt===null?(dt=bt=rn,Ze=gt):bt=bt.next=rn,J|=Rt;if(be=be.next,be===null){if(be=L.shared.pending,be===null)break;rn=be,be=rn.next,rn.next=null,L.lastBaseUpdate=rn,L.shared.pending=null}}while(!0);bt===null&&(Ze=gt),L.baseState=Ze,L.firstBaseUpdate=dt,L.lastBaseUpdate=bt,k===null&&(L.shared.lanes=0),Il|=J,h.lanes=J,h.memoizedState=gt}}function Ra(h,m){if(typeof h!="function")throw Error(r(191,h));h.call(m)}function Ja(h,m){var x=h.callbacks;if(x!==null)for(h.callbacks=null,h=0;h<x.length;h++)Ra(x[h],m)}function Eo(h,m){h=$s,b(Mu,h),b(Tc,m),$s=h|m.baseLanes}function Ot(){b(Mu,$s),b(Tc,Tc.current)}function Z(){$s=Mu.current,y(Tc),y(Mu)}function Ae(h){var m=h.alternate;b(Ui,Ui.current&1),b(Fa,h),ka===null&&(m===null||Tc.current!==null||m.memoizedState!==null)&&(ka=h)}function He(h){b(Ui,Ui.current),b(Fa,h),ka===null&&(ka=h)}function Ue(h){h.tag===22?(b(Ui,Ui.current),b(Fa,h),ka===null&&(ka=h)):Ie()}function Ie(){b(Ui,Ui.current),b(Fa,Fa.current)}function yt(h){y(Fa),ka===h&&(ka=null),y(Ui)}function At(h){for(var m=h;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||xu(x)||Yp(x)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function pt(){throw Error(r(321))}function Pt(h,m){if(m===null)return!1;for(var x=0;x<m.length&&x<h.length;x++)if(!ji(h[x],m[x]))return!1;return!0}function Nt(h,m,x,w,L,k){return Rl=k,sn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Wt.H=h===null||h.memoizedState===null?Ci:Ys,Nn=!1,k=x(w,L),Nn=!1,fn&&(k=Dt(m,x,w,L)),Vt(h),k}function Vt(h){Wt.H=so;var m=Gt!==null&&Gt.next!==null;if(Rl=0,tn=Gt=sn=null,hn=!1,Vo=0,ls=null,m)throw Error(r(300));h===null||hi||(h=h.dependencies,h!==null&&Re(h)&&(hi=!0))}function Dt(h,m,x,w){sn=h;var L=0;do{if(fn&&(ls=null),Vo=0,fn=!1,25<=L)throw Error(r(301));if(L+=1,tn=Gt=null,h.updateQueue!=null){var k=h.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}Wt.H=wu,k=m(x,w)}while(fn);return k}function qt(){var h=Wt.H,m=h.useState()[0];return m=typeof m.then=="function"?Bt(m):m,h=h.useState()[0],(Gt!==null?Gt.memoizedState:null)!==h&&(sn.flags|=1024),m}function yn(){var h=oa!==0;return oa=0,h}function qn(h,m,x){m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~x}function Pn(h){if(hn){for(h=h.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}hn=!1}Rl=0,tn=Gt=sn=null,fn=!1,Vo=oa=0,ls=null}function Jt(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?sn.memoizedState=tn=h:tn=tn.next=h,tn}function Tt(){if(Gt===null){var h=sn.alternate;h=h!==null?h.memoizedState:null}else h=Gt.next;var m=tn===null?sn.memoizedState:tn.next;if(m!==null)tn=m,Gt=h;else{if(h===null)throw sn.alternate===null?Error(r(467)):Error(r(310));Gt=h,h={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},tn===null?sn.memoizedState=tn=h:tn=tn.next=h}return tn}function xn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bt(h){var m=Vo;return Vo+=1,ls===null&&(ls=[]),h=Et(ls,h,m),m=sn,(tn===null?m.memoizedState:tn.next)===null&&(m=m.alternate,Wt.H=m===null||m.memoizedState===null?Ci:Ys),h}function Oi(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Bt(h);if(h.$$typeof===Do)return $(h)}throw Error(r(438,String(h)))}function Qr(h){var m=null,x=sn.updateQueue;if(x!==null&&(m=x.memoCache),m==null){var w=sn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(m={data:w.data.map(function(L){return L.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),x===null&&(x=xn(),sn.updateQueue=x),x.memoCache=m,x=m.data[m.index],x===void 0)for(x=m.data[m.index]=Array(h),w=0;w<h;w++)x[w]=mv;return m.index++,x}function Gn(h,m){return typeof m=="function"?m(h):m}function Er(h){var m=Tt();return Cn(m,Gt,h)}function Cn(h,m,x){var w=h.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=x;var L=h.baseQueue,k=w.pending;if(k!==null){if(L!==null){var J=L.next;L.next=k.next,k.next=J}m.baseQueue=L=k,w.pending=null}if(k=h.baseState,L===null)h.memoizedState=k;else{m=L.next;var be=J=null,Ze=null,dt=m,bt=!1;do{var gt=dt.lane&-536870913;if(gt!==dt.lane?(Mn&gt)===gt:(Rl&gt)===gt){var Rt=dt.revertLane;if(Rt===0)Ze!==null&&(Ze=Ze.next={lane:0,revertLane:0,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),gt===Cl&&(bt=!0);else if((Rl&Rt)===Rt){dt=dt.next,Rt===Cl&&(bt=!0);continue}else gt={lane:0,revertLane:dt.revertLane,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Ze===null?(be=Ze=gt,J=k):Ze=Ze.next=gt,sn.lanes|=Rt,Il|=Rt;gt=dt.action,Nn&&x(k,gt),k=dt.hasEagerState?dt.eagerState:x(k,gt)}else Rt={lane:gt,revertLane:dt.revertLane,gesture:dt.gesture,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Ze===null?(be=Ze=Rt,J=k):Ze=Ze.next=Rt,sn.lanes|=gt,Il|=gt;dt=dt.next}while(dt!==null&&dt!==m);if(Ze===null?J=k:Ze.next=be,!ji(k,h.memoizedState)&&(hi=!0,bt&&(x=gr,x!==null)))throw x;h.memoizedState=k,h.baseState=J,h.baseQueue=Ze,w.lastRenderedState=k}return L===null&&(w.lanes=0),[h.memoizedState,w.dispatch]}function gi(h){var m=Tt(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var w=x.dispatch,L=x.pending,k=m.memoizedState;if(L!==null){x.pending=null;var J=L=L.next;do k=h(k,J.action),J=J.next;while(J!==L);ji(k,m.memoizedState)||(hi=!0),m.memoizedState=k,m.baseQueue===null&&(m.baseState=k),x.lastRenderedState=k}return[k,w]}function vi(h,m,x){var w=sn,L=Tt(),k=An;if(k){if(x===void 0)throw Error(r(407));x=x()}else x=m();var J=!ji((Gt||L).memoizedState,x);if(J&&(L.memoizedState=x,hi=!0),L=L.queue,Mo(ts.bind(null,w,L,h),[h]),L.getSnapshot!==m||J||tn!==null&&tn.memoizedState.tag&1){if(w.flags|=2048,ta(9,{destroy:void 0},Hi.bind(null,w,L,x,m),null),pn===null)throw Error(r(349));k||(Rl&127)!==0||Vi(w,m,x)}return x}function Vi(h,m,x){h.flags|=16384,h={getSnapshot:m,value:x},m=sn.updateQueue,m===null?(m=xn(),sn.updateQueue=m,m.stores=[h]):(x=m.stores,x===null?m.stores=[h]:x.push(h))}function Hi(h,m,x,w){m.value=x,m.getSnapshot=w,Tr(m)&&Ld(h)}function ts(h,m,x){return x(function(){Tr(m)&&Ld(h)})}function Tr(h){var m=h.getSnapshot;h=h.value;try{var x=m();return!ji(h,x)}catch{return!0}}function Ld(h){var m=ai(h,2);m!==null&&Mi(m,h,2)}function eu(h){var m=Jt();if(typeof h=="function"){var x=h;if(h=x(),Nn){Y(!0);try{x()}finally{Y(!1)}}}return m.memoizedState=m.baseState=h,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:h},m}function To(h,m,x,w){return h.baseState=x,Cn(h,Gt,typeof w=="function"?w:Gn)}function ea(h,m,x,w,L){if(bp(h))throw Error(r(485));if(h=m.action,h!==null){var k={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){k.listeners.push(J)}};Wt.T!==null?x(!0):k.isTransition=!1,w(k),x=m.pending,x===null?(k.next=m.pending=k,Ts(m,k)):(k.next=x.next,m.pending=x.next=k)}}function Ts(h,m){var x=m.action,w=m.payload,L=h.state;if(m.isTransition){var k=Wt.T,J={};Wt.T=J;try{var be=x(L,w),Ze=Wt.S;Ze!==null&&Ze(J,be),Ju(h,m,be)}catch(dt){Ao(h,m,dt)}finally{k!==null&&J.types!==null&&(k.types=J.types),Wt.T=k}}else try{k=x(L,w),Ju(h,m,k)}catch(dt){Ao(h,m,dt)}}function Ju(h,m,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(w){Za(h,m,w)},function(w){return Ao(h,m,w)}):Za(h,m,x)}function Za(h,m,x){m.status="fulfilled",m.value=x,Zu(m),h.state=x,m=h.pending,m!==null&&(x=m.next,x===m?h.pending=null:(x=x.next,m.next=x,Ts(h,x)))}function Ao(h,m,x){var w=h.pending;if(h.pending=null,w!==null){w=w.next;do m.status="rejected",m.reason=x,Zu(m),m=m.next;while(m!==w)}h.action=null}function Zu(h){h=h.listeners;for(var m=0;m<h.length;m++)(0,h[m])()}function Qu(h,m){return m}function tu(h,m){if(An){var x=pn.formState;if(x!==null){e:{var w=sn;if(An){if(xi){var L=sb(xi,xa);if(L){xi=lb(L),w=Ov(L);break e}}he(w)}w=!1}w&&(m=x[0])}}x=Jt(),x.memoizedState=x.baseState=m,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:m},x.queue=w,x=rs.bind(null,sn,w),w.dispatch=x,w=eu(!1);var k=_p.bind(null,sn,!1,w.queue);return w=Jt(),L={state:m,dispatch:null,action:h,pending:null},w.queue=L,x=ea.bind(null,sn,L,k,x),L.dispatch=x,w.memoizedState=h,[m,x,!1]}function As(h){var m=Tt();return Qa(m,Gt,h)}function Qa(h,m,x){if(m=Cn(h,m,Qu)[0],h=Er(Gn)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var w=Bt(m)}catch(J){throw J===vr?Go:J}else w=m;m=Tt();var L=m.queue,k=L.dispatch;return x!==m.memoizedState&&(sn.flags|=2048,ta(9,{destroy:void 0},ga.bind(null,L,x),null)),[w,k,h]}function ga(h,m){h.action=m}function Ms(h){var m=Tt(),x=Gt;if(x!==null)return Qa(m,x,h);Tt(),m=m.memoizedState,x=Tt();var w=x.queue.dispatch;return x.memoizedState=h,[m,w,!1]}function ta(h,m,x,w){return h={tag:h,create:x,deps:w,inst:m,next:null},m=sn.updateQueue,m===null&&(m=xn(),sn.updateQueue=m),x=m.lastEffect,x===null?m.lastEffect=h.next=h:(w=x.next,x.next=h,h.next=w,m.lastEffect=h),h}function ec(){return Tt().memoizedState}function ns(h,m,x,w){var L=Jt();sn.flags|=h,L.memoizedState=ta(1|m,{destroy:void 0},x,w===void 0?null:w)}function nu(h,m,x,w){var L=Tt();w=w===void 0?null:w;var k=L.memoizedState.inst;Gt!==null&&w!==null&&Pt(w,Gt.memoizedState.deps)?L.memoizedState=ta(m,k,x,w):(sn.flags|=h,L.memoizedState=ta(1|m,k,x,w))}function iu(h,m){ns(8390656,8,h,m)}function Mo(h,m){nu(2048,8,h,m)}function ru(h){sn.flags|=4;var m=sn.updateQueue;if(m===null)m=xn(),sn.updateQueue=m,m.events=[h];else{var x=m.events;x===null?m.events=[h]:x.push(h)}}function yi(h){var m=Tt().memoizedState;return ru({ref:m,nextImpl:h}),function(){if((Sn&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}function is(h,m){return nu(4,2,h,m)}function ml(h,m){return nu(4,4,h,m)}function ws(h,m){if(typeof m=="function"){h=h();var x=m(h);return function(){typeof x=="function"?x():m(null)}}if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function au(h,m,x){x=x!=null?x.concat([h]):null,nu(4,4,ws.bind(null,m,h),x)}function ou(){}function Cs(h,m){var x=Tt();m=m===void 0?null:m;var w=x.memoizedState;return m!==null&&Pt(m,w[1])?w[0]:(x.memoizedState=[h,m],h)}function Rs(h,m){var x=Tt();m=m===void 0?null:m;var w=x.memoizedState;if(m!==null&&Pt(m,w[1]))return w[0];if(w=h(),Nn){Y(!0);try{h()}finally{Y(!1)}}return x.memoizedState=[w,m],w}function ir(h,m,x){return x===void 0||(Rl&1073741824)!==0&&(Mn&261930)===0?h.memoizedState=m:(h.memoizedState=x,h=yl(),sn.lanes|=h,Il|=h,x)}function Ud(h,m,x,w){return ji(x,m)?x:Tc.current!==null?(h=ir(h,x,w),ji(h,m)||(hi=!0),h):(Rl&42)===0||(Rl&1073741824)!==0&&(Mn&261930)===0?(hi=!0,h.memoizedState=x):(h=yl(),sn.lanes|=h,Il|=h,m)}function tc(h,m,x,w,L){var k=Oo();Tn(k!==0&&8>k?k:8);var J=Wt.T,be={};Wt.T=be,_p(h,!1,m,x);try{var Ze=L(),dt=Wt.S;if(dt!==null&&dt(be,Ze),Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var bt=Ye(Ze,w);su(h,m,bt,_i(h))}else su(h,m,w,_i(h))}catch(gt){su(h,m,{then:function(){},status:"rejected",reason:gt},_i())}finally{Tn(k),J!==null&&be.types!==null&&(J.types=be.types),Wt.T=J}}function nc(h){var m=h.memoizedState;if(m!==null)return m;m={memoizedState:gc,baseState:gc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:gc},next:null};var x={};return m.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:x},next:null},h.memoizedState=m,h=h.alternate,h!==null&&(h.memoizedState=m),m}function gf(){return $(vc)}function vf(){return Tt().memoizedState}function kr(){return Tt().memoizedState}function eo(h){for(var m=h.return;m!==null;){switch(m.tag){case 24:case 3:var x=_i();h=ma(x);var w=Zr(m,h,x);w!==null&&(Mi(w,m,x),$a(w,m,x)),m={cache:Le()},h.payload=m;return}m=m.return}}function na(h,m,x){var w=_i();x={lane:w,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},bp(h)?b_(m,x):(x=pa(h,m,x,w),x!==null&&(Mi(x,h,w),x_(x,m,w)))}function rs(h,m,x){var w=_i();su(h,m,x,w)}function su(h,m,x,w){var L={lane:w,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(bp(h))b_(m,L);else{var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=m.lastRenderedReducer,k!==null))try{var J=m.lastRenderedState,be=k(J,x);if(L.hasEagerState=!0,L.eagerState=be,ji(be,J))return Sr(h,m,L,0),pn===null&&xr(),!1}catch{}finally{}if(x=pa(h,m,L,w),x!==null)return Mi(x,h,w),x_(x,m,w),!0}return!1}function _p(h,m,x,w){if(w={lane:2,revertLane:we(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},bp(h)){if(m)throw Error(r(479))}else m=pa(h,x,w,2),m!==null&&Mi(m,h,2)}function bp(h){var m=h.alternate;return h===sn||m!==null&&m===sn}function b_(h,m){fn=hn=!0;var x=h.pending;x===null?m.next=m:(m.next=x.next,x.next=m),h.pending=m}function x_(h,m,x){if((x&4194048)!==0){var w=m.lanes;w&=h.pendingLanes,x|=w,m.lanes=x,U(h,x)}}function jg(h,m,x,w){m=h.memoizedState,x=x(w,m),x=x==null?m:zp({},m,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}function xp(h,m,x,w,L,k,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,k,J):m.prototype&&m.prototype.isPureReactComponent?!Be(x,w)||!Be(L,k):!0}function S_(h,m,x,w){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,w),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,w),m.state!==h&&ch.enqueueReplaceState(m,m.state,null)}function ic(h,m){var x=m;if("ref"in m){x={};for(var w in m)w!=="ref"&&(x[w]=m[w])}if(h=h.defaultProps){x===m&&(x=zp({},x));for(var L in h)x[L]===void 0&&(x[L]=h[L])}return x}function Sp(h,m){try{var x=h.onUncaughtError;x(m.value,{componentStack:m.stack})}catch(w){setTimeout(function(){throw w})}}function Xg(h,m,x){try{var w=h.onCaughtError;w(x.value,{componentStack:x.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Yg(h,m,x){return x=ma(x),x.tag=3,x.payload={element:null},x.callback=function(){Sp(h,m)},x}function E_(h){return h=ma(h),h.tag=3,h}function T_(h,m,x,w){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var k=w.value;h.payload=function(){return L(k)},h.callback=function(){Xg(m,x,w)}}var J=x.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(h.callback=function(){Xg(m,x,w),typeof L!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var be=w.stack;this.componentDidCatch(w.value,{componentStack:be!==null?be:""})})}function fA(h,m,x,w,L){if(x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(m=x.alternate,m!==null&&je(m,x,L,!0),x=Fa.current,x!==null){switch(x.tag){case 31:case 13:return ka===null?Cf():x.alternate===null&&Ii===0&&(Ii=3),x.flags&=-257,x.flags|=65536,x.lanes=L,w===js?x.flags|=16384:(m=x.updateQueue,m===null?x.updateQueue=new Set([w]):m.add(w),Pf(h,w,L)),!1;case 22:return x.flags|=65536,w===js?x.flags|=16384:(m=x.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([w])},x.updateQueue=m):(x=m.retryQueue,x===null?m.retryQueue=new Set([w]):x.add(w)),Pf(h,w,L)),!1}throw Error(r(435,x.tag))}return Pf(h,w,L),Cf(),!1}if(An)return m=Fa.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=L,w!==um&&(h=Error(r(422),{cause:w}),Oe(pe(h,x)))):(w!==um&&(m=Error(r(423),{cause:w}),Oe(pe(m,x))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,w=pe(w,x),L=Yg(h.stateNode,w,L),es(h,L),Ii!==4&&(Ii=2)),!1;var k=Error(r(520),{cause:w});if(k=pe(k,x),dh===null?dh=[k]:dh.push(k),Ii!==4&&(Ii=2),m===null)return!0;w=pe(w,x),x=m;do{switch(x.tag){case 3:return x.flags|=65536,h=L&-L,x.lanes|=h,h=Yg(x.stateNode,w,h),es(x,h),!1;case 1:if(m=x.type,k=x.stateNode,(x.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Pl===null||!Pl.has(k))))return x.flags|=65536,L&=-L,x.lanes|=L,L=E_(L),T_(L,h,x,w),es(x,L),!1}x=x.return}while(x!==null);return!1}function Br(h,m,x,w){m.child=h===null?Zv(m,null,x,w):Vr(m,h.child,x,w)}function A_(h,m,x,w,L){x=x.render;var k=m.ref;if("ref"in w){var J={};for(var be in w)be!=="ref"&&(J[be]=w[be])}else J=w;return Ve(m),w=Nt(h,m,x,J,k,L),be=yn(),h!==null&&!hi?(qn(h,m,L),Is(h,m,L)):(An&&be&&te(m),m.flags|=1,Br(h,m,w,L),m.child)}function M_(h,m,x,w,L){if(h===null){var k=x.type;return typeof k=="function"&&!lc(k)&&k.defaultProps===void 0&&x.compare===null?(m.tag=15,m.type=k,w_(h,m,k,w,L)):(h=xl(x.type,null,w,m,m.mode,L),h.ref=m.ref,h.return=m,m.child=h)}if(k=h.child,!kd(h,L)){var J=k.memoizedProps;if(x=x.compare,x=x!==null?x:Be,x(J,w)&&h.ref===m.ref)return Is(h,m,L)}return m.flags|=1,h=io(k,w),h.ref=m.ref,h.return=m,m.child=h}function w_(h,m,x,w,L){if(h!==null){var k=h.memoizedProps;if(Be(k,w)&&h.ref===m.ref)if(hi=!1,m.pendingProps=w=k,kd(h,L))(h.flags&131072)!==0&&(hi=!0);else return m.lanes=h.lanes,Is(h,m,L)}return Tp(h,m,x,w,L)}function C_(h,m,x,w){var L=w.children,k=h!==null?h.memoizedState:null;if(h===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((m.flags&128)!==0){if(k=k!==null?k.baseLanes|x:x,h!==null){for(w=m.child=h.child,L=0;w!==null;)L=L|w.lanes|w.childLanes,w=w.sibling;w=L&~k}else w=0,m.child=null;return yf(h,m,k,x,w)}if((x&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},h!==null&&vt(m,k!==null?k.cachePool:null),k!==null?Eo(m,k):Ot(),Ue(m);else return w=m.lanes=536870912,yf(h,m,k!==null?k.baseLanes|x:x,x,w)}else k!==null?(vt(m,k.cachePool),Eo(m,k),Ie(),m.memoizedState=null):(h!==null&&vt(m,null),Ot(),Ie());return Br(h,m,L,x),m.child}function rc(h,m){return h!==null&&h.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function yf(h,m,x,w,L){var k=tt();return k=k===null?null:{parent:qi?Si._currentValue:Si._currentValue2,pool:k},m.memoizedState={baseLanes:x,cachePool:k},h!==null&&vt(m,null),Ot(),Ue(m),h!==null&&je(h,m,w,!0),m.childLanes=L,null}function Ep(h,m){return m=lu({mode:m.mode,children:m.children},h.mode),m.ref=h.ref,h.child=m,m.return=h,m}function $g(h,m,x){return Vr(m,h.child,null,x),h=Ep(m,m.pendingProps),h.flags|=2,yt(m),m.memoizedState=null,h}function R_(h,m,x){var w=m.pendingProps,L=(m.flags&128)!==0;if(m.flags&=-129,h===null){if(An){if(w.mode==="hidden")return h=Ep(m,w),m.lanes=536870912,rc(null,h);if(He(m),(h=xi)?(h=Uv(h,xa),h!==null&&(m.memoizedState={dehydrated:h,treeContext:Fo!==null?{id:zr,overflow:os}:null,retryLane:536870912,hydrationErrors:null},x=dv(h),x.return=m,m.child=x,mr=m,xi=null)):h=null,h===null)throw he(m);return m.lanes=536870912,null}return Ep(m,w)}var k=h.memoizedState;if(k!==null){var J=k.dehydrated;if(He(m),L)if(m.flags&256)m.flags&=-257,m=$g(h,m,x);else if(m.memoizedState!==null)m.child=h.child,m.flags|=128,m=null;else throw Error(r(558));else if(hi||je(h,m,x,!1),L=(x&h.childLanes)!==0,hi||L){if(w=pn,w!==null&&(J=B(w,x),J!==0&&J!==k.retryLane))throw k.retryLane=J,ai(h,J),Mi(w,h,J),Ea;Cf(),m=$g(h,m,x)}else h=k.treeContext,bi&&(xi=db(J),mr=m,An=!0,Ws=null,xa=!1,h!==null&&ce(m,h)),m=Ep(m,w),m.flags|=4096;return m}return h=io(h.child,{mode:w.mode,children:w.children}),h.ref=m.ref,m.child=h,h.return=m,h}function Fd(h,m){var x=m.ref;if(x===null)h!==null&&h.ref!==null&&(m.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(h===null||h.ref!==x)&&(m.flags|=4194816)}}function Tp(h,m,x,w,L){return Ve(m),x=Nt(h,m,x,w,void 0,L),w=yn(),h!==null&&!hi?(qn(h,m,L),Is(h,m,L)):(An&&w&&te(m),m.flags|=1,Br(h,m,x,L),m.child)}function Kg(h,m,x,w,L,k){return Ve(m),m.updateQueue=null,x=Dt(m,w,x,L),Vt(h),w=yn(),h!==null&&!hi?(qn(h,m,k),Is(h,m,k)):(An&&w&&te(m),m.flags|=1,Br(h,m,x,k),m.child)}function ac(h,m,x,w,L){if(Ve(m),m.stateNode===null){var k=Vs,J=x.contextType;typeof J=="object"&&J!==null&&(k=$(J)),k=new x(w,k),m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=ch,m.stateNode=k,k._reactInternals=m,k=m.stateNode,k.props=w,k.state=m.memoizedState,k.refs={},Di(m),J=x.contextType,k.context=typeof J=="object"&&J!==null?$(J):Vs,k.state=m.memoizedState,J=x.getDerivedStateFromProps,typeof J=="function"&&(jg(m,x,J,w),k.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(J=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),J!==k.state&&ch.enqueueReplaceState(k,k.state,null),So(m,w,k,L),Ka(),k.state=m.memoizedState),typeof k.componentDidMount=="function"&&(m.flags|=4194308),w=!0}else if(h===null){k=m.stateNode;var be=m.memoizedProps,Ze=ic(x,be);k.props=Ze;var dt=k.context,bt=x.contextType;J=Vs,typeof bt=="object"&&bt!==null&&(J=$(bt));var gt=x.getDerivedStateFromProps;bt=typeof gt=="function"||typeof k.getSnapshotBeforeUpdate=="function",be=m.pendingProps!==be,bt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(be||dt!==J)&&S_(m,k,w,J),oo=!1;var Rt=m.memoizedState;k.state=Rt,So(m,w,k,L),Ka(),dt=m.memoizedState,be||Rt!==dt||oo?(typeof gt=="function"&&(jg(m,x,gt,w),dt=m.memoizedState),(Ze=oo||xp(m,x,Ze,w,Rt,dt,J))?(bt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(m.flags|=4194308)):(typeof k.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=w,m.memoizedState=dt),k.props=w,k.state=dt,k.context=J,w=Ze):(typeof k.componentDidMount=="function"&&(m.flags|=4194308),w=!1)}else{k=m.stateNode,Fr(h,m),J=m.memoizedProps,bt=ic(x,J),k.props=bt,gt=m.pendingProps,Rt=k.context,dt=x.contextType,Ze=Vs,typeof dt=="object"&&dt!==null&&(Ze=$(dt)),be=x.getDerivedStateFromProps,(dt=typeof be=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(J!==gt||Rt!==Ze)&&S_(m,k,w,Ze),oo=!1,Rt=m.memoizedState,k.state=Rt,So(m,w,k,L),Ka();var rn=m.memoizedState;J!==gt||Rt!==rn||oo||h!==null&&h.dependencies!==null&&Re(h.dependencies)?(typeof be=="function"&&(jg(m,x,be,w),rn=m.memoizedState),(bt=oo||xp(m,x,bt,w,Rt,rn,Ze)||h!==null&&h.dependencies!==null&&Re(h.dependencies))?(dt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(w,rn,Ze),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(w,rn,Ze)),typeof k.componentDidUpdate=="function"&&(m.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof k.componentDidUpdate!="function"||J===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),m.memoizedProps=w,m.memoizedState=rn),k.props=w,k.state=rn,k.context=Ze,w=bt):(typeof k.componentDidUpdate!="function"||J===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||J===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),w=!1)}return k=w,Fd(h,m),w=(m.flags&128)!==0,k||w?(k=m.stateNode,x=w&&typeof x.getDerivedStateFromError!="function"?null:k.render(),m.flags|=1,h!==null&&w?(m.child=Vr(m,h.child,null,L),m.child=Vr(m,null,x,L)):Br(h,m,x,L),m.memoizedState=k.state,h=m.child):h=Is(h,m,L),h}function I_(h,m,x,w){return ct(),m.flags|=256,Br(h,m,x,w),m.child}function Jg(h){return{baseLanes:h,cachePool:nt()}}function Zg(h,m,x){return h=h!==null?h.childLanes&~x:0,m&&(h|=Ta),h}function Qg(h,m,x){var w=m.pendingProps,L=!1,k=(m.flags&128)!==0,J;if((J=k)||(J=h!==null&&h.memoizedState===null?!1:(Ui.current&2)!==0),J&&(L=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,h===null){if(An){if(L?Ae(m):Ie(),(h=xi)?(h=gb(h,xa),h!==null&&(m.memoizedState={dehydrated:h,treeContext:Fo!==null?{id:zr,overflow:os}:null,retryLane:536870912,hydrationErrors:null},x=dv(h),x.return=m,m.child=x,mr=m,xi=null)):h=null,h===null)throw he(m);return Yp(h)?m.lanes=32:m.lanes=536870912,null}var be=w.children;return w=w.fallback,L?(Ie(),L=m.mode,be=lu({mode:"hidden",children:be},L),w=No(w,L,x,null),be.return=m,w.return=m,be.sibling=w,m.child=be,w=m.child,w.memoizedState=Jg(x),w.childLanes=Zg(h,J,x),m.memoizedState=Ac,rc(null,w)):(Ae(m),Ap(m,be))}var Ze=h.memoizedState;if(Ze!==null&&(be=Ze.dehydrated,be!==null)){if(k)m.flags&256?(Ae(m),m.flags&=-257,m=oc(h,m,x)):m.memoizedState!==null?(Ie(),m.child=h.child,m.flags|=128,m=null):(Ie(),be=w.fallback,L=m.mode,w=lu({mode:"visible",children:w.children},L),be=No(be,L,x,null),be.flags|=2,w.return=m,be.return=m,w.sibling=be,m.child=w,Vr(m,h.child,null,x),w=m.child,w.memoizedState=Jg(x),w.childLanes=Zg(h,J,x),m.memoizedState=Ac,m=rc(null,w));else if(Ae(m),Yp(be))J=$p(be).digest,w=Error(r(419)),w.stack="",w.digest=J,Oe({value:w,source:null,stack:null}),m=oc(h,m,x);else if(hi||je(h,m,x,!1),J=(x&h.childLanes)!==0,hi||J){if(J=pn,J!==null&&(w=B(J,x),w!==0&&w!==Ze.retryLane))throw Ze.retryLane=w,ai(h,w),Mi(J,h,w),Ea;xu(be)||Cf(),m=oc(h,m,x)}else xu(be)?(m.flags|=192,m.child=h.child,m=null):(h=Ze.treeContext,bi&&(xi=hb(be),mr=m,An=!0,Ws=null,xa=!1,h!==null&&ce(m,h)),m=Ap(m,w.children),m.flags|=4096);return m}return L?(Ie(),be=w.fallback,L=m.mode,Ze=h.child,k=Ze.sibling,w=io(Ze,{mode:"hidden",children:w.children}),w.subtreeFlags=Ze.subtreeFlags&65011712,k!==null?be=io(k,be):(be=No(be,L,x,null),be.flags|=2),be.return=m,w.return=m,w.sibling=be,m.child=w,rc(null,w),w=m.child,be=h.child.memoizedState,be===null?be=Jg(x):(L=be.cachePool,L!==null?(Ze=qi?Si._currentValue:Si._currentValue2,L=L.parent!==Ze?{parent:Ze,pool:Ze}:L):L=nt(),be={baseLanes:be.baseLanes|x,cachePool:L}),w.memoizedState=be,w.childLanes=Zg(h,J,x),m.memoizedState=Ac,rc(h.child,w)):(Ae(m),x=h.child,h=x.sibling,x=io(x,{mode:"visible",children:w.children}),x.return=m,x.sibling=null,h!==null&&(J=m.deletions,J===null?(m.deletions=[h],m.flags|=16):J.push(h)),m.child=x,m.memoizedState=null,x)}function Ap(h,m){return m=lu({mode:"visible",children:m},h.mode),m.return=h,h.child=m}function lu(h,m){return h=n(22,h,null,m),h.lanes=0,h}function oc(h,m,x){return Vr(m,h.child,null,x),h=Ap(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function P_(h,m,x){h.lanes|=m;var w=h.alternate;w!==null&&(w.lanes|=m),K(h.return,m,x)}function _f(h,m,x,w,L,k){var J=h.memoizedState;J===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:L,treeForkCount:k}:(J.isBackwards=m,J.rendering=null,J.renderingStartTime=0,J.last=w,J.tail=x,J.tailMode=L,J.treeForkCount=k)}function ev(h,m,x){var w=m.pendingProps,L=w.revealOrder,k=w.tail;w=w.children;var J=Ui.current,be=(J&2)!==0;if(be?(J=J&1|2,m.flags|=128):J&=1,b(Ui,J),Br(h,m,w,x),w=An?sh:0,!be&&h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&P_(h,x,m);else if(h.tag===19)P_(h,x,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(L){case"forwards":for(x=m.child,L=null;x!==null;)h=x.alternate,h!==null&&At(h)===null&&(L=x),x=x.sibling;x=L,x===null?(L=m.child,m.child=null):(L=x.sibling,x.sibling=null),_f(m,!1,L,x,k,w);break;case"backwards":case"unstable_legacy-backwards":for(x=null,L=m.child,m.child=null;L!==null;){if(h=L.alternate,h!==null&&At(h)===null){m.child=L;break}h=L.sibling,L.sibling=x,x=L,L=h}_f(m,!0,x,null,k,w);break;case"together":_f(m,!1,null,null,void 0,w);break;default:m.memoizedState=null}return m.child}function Is(h,m,x){if(h!==null&&(m.dependencies=h.dependencies),Il|=m.lanes,(x&m.childLanes)===0)if(h!==null){if(je(h,m,x,!1),(x&m.childLanes)===0)return null}else return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,x=io(h,h.pendingProps),m.child=x,x.return=m;h.sibling!==null;)h=h.sibling,x=x.sibling=io(h,h.pendingProps),x.return=m;x.sibling=null}return m.child}function kd(h,m){return(h.lanes&m)!==0?!0:(h=h.dependencies,!!(h!==null&&Re(h)))}function tv(h,m,x){switch(m.tag){case 3:ye(m,m.stateNode.containerInfo),Me(m,Si,h.memoizedState.cache),ct();break;case 27:case 5:le(m);break;case 4:ye(m,m.stateNode.containerInfo);break;case 10:Me(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,He(m),null;break;case 13:var w=m.memoizedState;if(w!==null)return w.dehydrated!==null?(Ae(m),m.flags|=128,null):(x&m.child.childLanes)!==0?Qg(h,m,x):(Ae(m),h=Is(h,m,x),h!==null?h.sibling:null);Ae(m);break;case 19:var L=(h.flags&128)!==0;if(w=(x&m.childLanes)!==0,w||(je(h,m,x,!1),w=(x&m.childLanes)!==0),L){if(w)return ev(h,m,x);m.flags|=128}if(L=m.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),b(Ui,Ui.current),w)break;return null;case 22:return m.lanes=0,C_(h,m,x,m.pendingProps);case 24:Me(m,Si,h.memoizedState.cache)}return Is(h,m,x)}function nv(h,m,x){if(h!==null)if(h.memoizedProps!==m.pendingProps)hi=!0;else{if(!kd(h,x)&&(m.flags&128)===0)return hi=!1,tv(h,m,x);hi=(h.flags&131072)!==0}else hi=!1,An&&(m.flags&1048576)!==0&&H(m,sh,m.index);switch(m.lanes=0,m.tag){case 16:e:{var w=m.pendingProps;if(h=St(m.elementType),m.type=h,typeof h=="function")lc(h)?(w=ic(h,w),m.tag=1,m=ac(null,m,h,w,x)):(m.tag=0,m=Tp(null,m,h,w,x));else{if(h!=null){var L=h.$$typeof;if(L===Nf){m.tag=11,m=A_(null,m,h,w,x);break e}else if(L===Vp){m.tag=14,m=M_(null,m,h,w,x);break e}}throw m=p(h)||h,Error(r(306,m,""))}}return m;case 0:return Tp(h,m,m.type,m.pendingProps,x);case 1:return w=m.type,L=ic(w,m.pendingProps),ac(h,m,w,L,x);case 3:e:{if(ye(m,m.stateNode.containerInfo),h===null)throw Error(r(387));var k=m.pendingProps;L=m.memoizedState,w=L.element,Fr(h,m),So(m,k,null,x);var J=m.memoizedState;if(k=J.cache,Me(m,Si,k),k!==L.cache&&at(m,[Si],x,!0),Ka(),k=J.element,bi&&L.isDehydrated)if(L={element:k,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=L,m.memoizedState=L,m.flags&256){m=I_(h,m,k,x);break e}else if(k!==w){w=pe(Error(r(424)),m),Oe(w),m=I_(h,m,k,x);break e}else for(bi&&(xi=fb(m.stateNode.containerInfo),mr=m,An=!0,Ws=null,xa=!0),x=Zv(m,null,k,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ct(),k===w){m=Is(h,m,x);break e}Br(h,m,k,x)}m=m.child}return m;case 26:if(Lo)return Fd(h,m),h===null?(x=Gv(m.type,null,m.pendingProps,null))?m.memoizedState=x:An||(m.stateNode=Qp(m.type,m.pendingProps,Gr.current,m)):m.memoizedState=Gv(m.type,h.memoizedProps,m.pendingProps,h.memoizedState),null;case 27:if(pr)return le(m),h===null&&pr&&An&&(w=m.stateNode=em(m.type,m.pendingProps,Gr.current,Cr.current,!1),mr=m,xa=!0,xi=Lv(m.type,w,xi)),Br(h,m,m.pendingProps.children,x),Fd(h,m),h===null&&(m.flags|=4194304),m.child;case 5:return h===null&&An&&(Ab(m.type,m.pendingProps,Cr.current),(L=w=xi)&&(w=pb(w,m.type,m.pendingProps,xa),w!==null?(m.stateNode=w,mr=m,xi=cb(w),xa=!1,L=!0):L=!1),L||he(m)),le(m),L=m.type,k=m.pendingProps,J=h!==null?h.memoizedProps:null,w=k.children,ba(L,k)?w=null:J!==null&&ba(L,J)&&(m.flags|=32),m.memoizedState!==null&&(L=Nt(h,m,qt,null,null,x),qi?vc._currentValue=L:vc._currentValue2=L),Fd(h,m),Br(h,m,w,x),m.child;case 6:return h===null&&An&&(zv(m.pendingProps,Cr.current),(h=x=xi)&&(x=mb(x,m.pendingProps,xa),x!==null?(m.stateNode=x,mr=m,xi=null,h=!0):h=!1),h||he(m)),null;case 13:return Qg(h,m,x);case 4:return ye(m,m.stateNode.containerInfo),w=m.pendingProps,h===null?m.child=Vr(m,null,w,x):Br(h,m,w,x),m.child;case 11:return A_(h,m,m.type,m.pendingProps,x);case 7:return Br(h,m,m.pendingProps,x),m.child;case 8:return Br(h,m,m.pendingProps.children,x),m.child;case 12:return Br(h,m,m.pendingProps.children,x),m.child;case 10:return w=m.pendingProps,Me(m,m.type,w.value),Br(h,m,w.children,x),m.child;case 9:return L=m.type._context,w=m.pendingProps.children,Ve(m),L=$(L),w=w(L),m.flags|=1,Br(h,m,w,x),m.child;case 14:return M_(h,m,m.type,m.pendingProps,x);case 15:return w_(h,m,m.type,m.pendingProps,x);case 19:return ev(h,m,x);case 31:return R_(h,m,x);case 22:return C_(h,m,x,m.pendingProps);case 24:return Ve(m),w=$(Si),h===null?(L=tt(),L===null&&(L=pn,k=Le(),L.pooledCache=k,k.refCount++,k!==null&&(L.pooledCacheLanes|=x),L=k),m.memoizedState={parent:w,cache:L},Di(m),Me(m,Si,L)):((h.lanes&x)!==0&&(Fr(h,m),So(m,null,null,x),Ka()),L=h.memoizedState,k=m.memoizedState,L.parent!==w?(L={parent:w,cache:w},m.memoizedState=L,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=L),Me(m,Si,w)):(w=k.cache,Me(m,Si,w),w!==L.cache&&at(m,[Si],x,!0))),Br(h,m,m.pendingProps.children,x),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function wo(h){h.flags|=4}function Bd(h){ro&&(h.flags|=8)}function N_(h,m){if(h!==null&&h.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(h=m.child;h!==null;){if((h.flags&8218)!==0||(h.subtreeFlags&8218)!==0)return!0;h=h.sibling}return!1}function iv(h,m,x,w){if(In)for(x=m.child;x!==null;){if(x.tag===5||x.tag===6)Qd(h,x.stateNode);else if(!(x.tag===4||pr&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(ro)for(var L=m.child;L!==null;){if(L.tag===5){var k=L.stateNode;x&&w&&(k=ob(k,L.type,L.memoizedProps)),Qd(h,k)}else if(L.tag===6)k=L.stateNode,x&&w&&(k=Dv(k,L.memoizedProps)),Qd(h,k);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)k=L.child,k!==null&&(k.return=L),iv(h,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===m)break;for(;L.sibling===null;){if(L.return===null||L.return===m)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function D_(h,m,x,w){var L=!1;if(ro)for(var k=m.child;k!==null;){if(k.tag===5){var J=k.stateNode;x&&w&&(J=ob(J,k.type,k.memoizedProps)),Pv(h,J)}else if(k.tag===6)J=k.stateNode,x&&w&&(J=Dv(J,k.memoizedProps)),Pv(h,J);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)L=k.child,L!==null&&(L.return=k),D_(h,k,!0,!0),L=!0;else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===m)break;for(;k.sibling===null;){if(k.return===null||k.return===m)return L;k=k.return}k.sibling.return=k.return,k=k.sibling}return L}function O_(h,m){if(ro&&N_(h,m)){h=m.stateNode;var x=h.containerInfo,w=Iv();D_(w,m,!1,!1),h.pendingChildren=w,wo(m),ab(x,w)}}function rv(h,m,x,w){if(In)h.memoizedProps!==w&&wo(m);else if(ro){var L=h.stateNode,k=h.memoizedProps;if((h=N_(h,m))||k!==w){var J=Cr.current;k=rb(L,x,k,w,!h,null),k===L?m.stateNode=L:(Bd(m),Da(k,x,w,J)&&wo(m),m.stateNode=k,h&&iv(k,m,!1,!1))}else m.stateNode=L}}function va(h,m,x,w,L){if((h.mode&32)!==0&&(x===null?eh(m,w):Ff(m,x,w))){if(h.flags|=16777216,(L&335544128)===L||_v(m,w))if(wi(h.stateNode,m,w))h.flags|=8192;else if(Rn())h.flags|=8192;else throw Sa=js,fm}else h.flags&=-16777217}function bf(h,m){if(Wv(m)){if(h.flags|=16777216,!jv(m))if(Rn())h.flags|=8192;else throw Sa=js,fm}else h.flags&=-16777217}function zd(h,m){m!==null&&(h.flags|=4),h.flags&16384&&(m=h.tag!==22?N():536870912,h.lanes|=m,jf|=m)}function xf(h,m){if(!An)switch(h.tailMode){case"hidden":m=h.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function oi(h){var m=h.alternate!==null&&h.alternate.child===h.child,x=0,w=0;if(m)for(var L=h.child;L!==null;)x|=L.lanes|L.childLanes,w|=L.subtreeFlags&65011712,w|=L.flags&65011712,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)x|=L.lanes|L.childLanes,w|=L.subtreeFlags,w|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=w,h.childLanes=x,m}function L_(h,m,x){var w=m.pendingProps;switch(ie(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(m),null;case 1:return oi(m),null;case 3:return x=m.stateNode,w=null,h!==null&&(w=h.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),Je(Si),oe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(h===null||h.child===null)&&(ve(m)?wo(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ee())),O_(h,m),oi(m),null;case 26:if(Lo){var L=m.type,k=m.memoizedState;return h===null?(wo(m),k!==null?(oi(m),bf(m,k)):(oi(m),va(m,L,null,w,x))):k?k!==h.memoizedState?(wo(m),oi(m),bf(m,k)):(oi(m),m.flags&=-16777217):(k=h.memoizedProps,In?k!==w&&wo(m):rv(h,m,L,w),oi(m),va(m,L,k,w,x)),null}case 27:if(pr){if(Se(m),x=Gr.current,L=m.type,h!==null&&m.stateNode!=null)In?h.memoizedProps!==w&&wo(m):rv(h,m,L,w);else{if(!w){if(m.stateNode===null)throw Error(r(166));return oi(m),null}h=Cr.current,ve(m)?De(m,h):(h=em(L,w,x,h,!0),m.stateNode=h,wo(m))}return oi(m),null}case 5:if(Se(m),L=m.type,h!==null&&m.stateNode!=null)rv(h,m,L,w);else{if(!w){if(m.stateNode===null)throw Error(r(166));return oi(m),null}if(k=Cr.current,ve(m))De(m,k),Sb(m.stateNode,L,w,k)&&(m.flags|=64);else{var J=vv(L,w,Gr.current,k,m);Bd(m),iv(J,m,!1,!1),m.stateNode=J,Da(J,L,w,k)&&wo(m)}}return oi(m),va(m,m.type,h===null?null:h.memoizedProps,m.pendingProps,x),null;case 6:if(h&&m.stateNode!=null)x=h.memoizedProps,In?x!==w&&wo(m):ro&&(x!==w?(h=Gr.current,x=Cr.current,Bd(m),m.stateNode=Tl(w,h,x,m)):m.stateNode=h.stateNode);else{if(typeof w!="string"&&m.stateNode===null)throw Error(r(166));if(h=Gr.current,x=Cr.current,ve(m)){if(!bi)throw Error(r(176));if(h=m.stateNode,x=m.memoizedProps,w=null,L=mr,L!==null)switch(L.tag){case 27:case 5:w=L.memoizedProps}gA(h,x,m,w)||he(m,!0)}else Bd(m),m.stateNode=Tl(w,h,x,m)}return oi(m),null;case 31:if(x=m.memoizedState,h===null||h.memoizedState!==null){if(w=ve(m),x!==null){if(h===null){if(!w)throw Error(r(318));if(!bi)throw Error(r(556));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(557));Fv(h,m)}else ct(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;oi(m),h=!1}else x=Ee(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=x),h=!0;if(!h)return m.flags&256?(yt(m),m):(yt(m),null);if((m.flags&128)!==0)throw Error(r(558))}return oi(m),null;case 13:if(w=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=ve(m),w!==null&&w.dehydrated!==null){if(h===null){if(!L)throw Error(r(318));if(!bi)throw Error(r(344));if(L=m.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));yb(L,m)}else ct(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;oi(m),L=!1}else L=Ee(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=L),L=!0;if(!L)return m.flags&256?(yt(m),m):(yt(m),null)}return yt(m),(m.flags&128)!==0?(m.lanes=x,m):(x=w!==null,h=h!==null&&h.memoizedState!==null,x&&(w=m.child,L=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(L=w.alternate.memoizedState.cachePool.pool),k=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(k=w.memoizedState.cachePool.pool),k!==L&&(w.flags|=2048)),x!==h&&x&&(m.child.flags|=8192),zd(m,m.updateQueue),oi(m),null);case 4:return oe(),O_(h,m),h===null&&ei(m.stateNode.containerInfo),oi(m),null;case 10:return Je(m.type),oi(m),null;case 19:if(y(Ui),w=m.memoizedState,w===null)return oi(m),null;if(L=(m.flags&128)!==0,k=w.rendering,k===null)if(L)xf(w,!1);else{if(Ii!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(k=At(h),k!==null){for(m.flags|=128,xf(w,!1),h=k.updateQueue,m.updateQueue=h,zd(m,h),m.subtreeFlags=0,h=x,x=m.child;x!==null;)Fp(x,h),x=x.sibling;return b(Ui,Ui.current&1|2),An&&de(m,w.treeForkCount),m.child}h=h.sibling}w.tail!==null&&ra()>Nu&&(m.flags|=128,L=!0,xf(w,!1),m.lanes=4194304)}else{if(!L)if(h=At(k),h!==null){if(m.flags|=128,L=!0,h=h.updateQueue,m.updateQueue=h,zd(m,h),xf(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!An)return oi(m),null}else 2*ra()-w.renderingStartTime>Nu&&x!==536870912&&(m.flags|=128,L=!0,xf(w,!1),m.lanes=4194304);w.isBackwards?(k.sibling=m.child,m.child=k):(h=w.last,h!==null?h.sibling=k:m.child=k,w.last=k)}return w.tail!==null?(h=w.tail,w.rendering=h,w.tail=h.sibling,w.renderingStartTime=ra(),h.sibling=null,x=Ui.current,b(Ui,L?x&1|2:x&1),An&&de(m,w.treeForkCount),h):(oi(m),null);case 22:case 23:return yt(m),Z(),w=m.memoizedState!==null,h!==null?h.memoizedState!==null!==w&&(m.flags|=8192):w&&(m.flags|=8192),w?(x&536870912)!==0&&(m.flags&128)===0&&(oi(m),m.subtreeFlags&6&&(m.flags|=8192)):oi(m),x=m.updateQueue,x!==null&&zd(m,x.retryQueue),x=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==x&&(m.flags|=2048),h!==null&&y(Tu),null;case 24:return x=null,h!==null&&(x=h.memoizedState.cache),m.memoizedState.cache!==x&&(m.flags|=2048),Je(Si),oi(m),null;case 25:return null;case 30:return null}throw Error(r(156,m.tag))}function av(h,m){switch(ie(m),m.tag){case 1:return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Je(Si),oe(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 26:case 27:case 5:return Se(m),null;case 31:if(m.memoizedState!==null){if(yt(m),m.alternate===null)throw Error(r(340));ct()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 13:if(yt(m),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));ct()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return y(Ui),null;case 4:return oe(),null;case 10:return Je(m.type),null;case 22:case 23:return yt(m),Z(),h!==null&&y(Tu),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 24:return Je(Si),null;case 25:return null;default:return null}}function U_(h,m){switch(ie(m),m.tag){case 3:Je(Si),oe();break;case 26:case 27:case 5:Se(m);break;case 4:oe();break;case 31:m.memoizedState!==null&&yt(m);break;case 13:yt(m);break;case 19:y(Ui);break;case 10:Je(m.type);break;case 22:case 23:yt(m),Z(),h!==null&&y(Tu);break;case 24:Je(Si)}}function Ps(h,m){try{var x=m.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var L=w.next;x=L;do{if((x.tag&h)===h){w=void 0;var k=x.create,J=x.inst;w=k(),J.destroy=w}x=x.next}while(x!==L)}}catch(be){Zt(m,m.return,be)}}function Ns(h,m,x){try{var w=m.updateQueue,L=w!==null?w.lastEffect:null;if(L!==null){var k=L.next;w=k;do{if((w.tag&h)===h){var J=w.inst,be=J.destroy;if(be!==void 0){J.destroy=void 0,L=m;var Ze=x,dt=be;try{dt()}catch(bt){Zt(L,Ze,bt)}}}w=w.next}while(w!==k)}}catch(bt){Zt(m,m.return,bt)}}function Sf(h){var m=h.updateQueue;if(m!==null){var x=h.stateNode;try{Ja(m,x)}catch(w){Zt(h,h.return,w)}}}function Mp(h,m,x){x.props=ic(h.type,h.memoizedProps),x.state=h.memoizedState;try{x.componentWillUnmount()}catch(w){Zt(h,m,w)}}function Ef(h,m){try{var x=h.ref;if(x!==null){switch(h.tag){case 26:case 27:case 5:var w=Of(h.stateNode);break;case 30:w=h.stateNode;break;default:w=h.stateNode}typeof x=="function"?h.refCleanup=x(w):x.current=w}}catch(L){Zt(h,m,L)}}function ia(h,m){var x=h.ref,w=h.refCleanup;if(x!==null)if(typeof w=="function")try{w()}catch(L){Zt(h,m,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Zt(h,m,L)}else x.current=null}function sc(h){var m=h.type,x=h.memoizedProps,w=h.stateNode;try{K_(w,m,x,h)}catch(L){Zt(h,h.return,L)}}function Gd(h,m,x){try{J_(h.stateNode,h.type,x,m,h)}catch(w){Zt(h,h.return,w)}}function ov(h){return h.tag===5||h.tag===3||(Lo?h.tag===26:!1)||(pr?h.tag===27&&yc(h.type):!1)||h.tag===4}function gl(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||ov(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(pr&&h.tag===27&&yc(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function wp(h,m,x){var w=h.tag;if(w===5||w===6)h=h.stateNode,m?Q_(x,h,m):Mv(x,h);else if(w!==4&&(pr&&w===27&&yc(h.type)&&(x=h.stateNode,m=null),h=h.child,h!==null))for(wp(h,m,x),h=h.sibling;h!==null;)wp(h,m,x),h=h.sibling}function Vd(h,m,x){var w=h.tag;if(w===5||w===6)h=h.stateNode,m?Z_(x,h,m):Av(x,h);else if(w!==4&&(pr&&w===27&&yc(h.type)&&(x=h.stateNode),h=h.child,h!==null))for(Vd(h,m,x),h=h.sibling;h!==null;)Vd(h,m,x),h=h.sibling}function sv(h,m,x){h=h.containerInfo;try{Nv(h,x)}catch(w){Zt(m,m.return,w)}}function F_(h){var m=h.stateNode,x=h.memoizedProps;try{ar(h.type,x,m,h)}catch(w){Zt(h,h.return,w)}}function dA(h,m){for(Hp(h.containerInfo),Xi=m;Xi!==null;)if(h=Xi,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,Xi=m;else for(;Xi!==null;){h=Xi;var x=h.alternate;switch(m=h.flags,h.tag){case 0:if((m&4)!==0&&(m=h.updateQueue,m=m!==null?m.events:null,m!==null))for(var w=0;w<m.length;w++){var L=m[w];L.ref.impl=L.nextImpl}break;case 11:case 15:break;case 1:if((m&1024)!==0&&x!==null){m=void 0,w=h,L=x.memoizedProps,x=x.memoizedState;var k=w.stateNode;try{var J=ic(w.type,L);m=k.getSnapshotBeforeUpdate(J,x),k.__reactInternalSnapshotBeforeUpdate=m}catch(be){Zt(w,w.return,be)}}break;case 3:(m&1024)!==0&&In&&Rv(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=h.sibling,m!==null){m.return=h.return,Xi=m;break}Xi=h.return}}function k_(h,m,x){var w=x.flags;switch(x.tag){case 0:case 11:case 15:ya(h,x),w&4&&Ps(5,x);break;case 1:if(ya(h,x),w&4)if(h=x.stateNode,m===null)try{h.componentDidMount()}catch(J){Zt(x,x.return,J)}else{var L=ic(x.type,m.memoizedProps);m=m.memoizedState;try{h.componentDidUpdate(L,m,h.__reactInternalSnapshotBeforeUpdate)}catch(J){Zt(x,x.return,J)}}w&64&&Sf(x),w&512&&Ef(x,x.return);break;case 3:if(ya(h,x),w&64&&(w=x.updateQueue,w!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=Of(x.child.stateNode);break;case 1:h=x.child.stateNode}try{Ja(w,h)}catch(J){Zt(x,x.return,J)}}break;case 27:pr&&m===null&&w&4&&F_(x);case 26:case 5:if(ya(h,x),m===null){if(w&4)sc(x);else if(w&64){h=x.type,m=x.memoizedProps,L=x.stateNode;try{bb(L,h,m,x)}catch(J){Zt(x,x.return,J)}}}w&512&&Ef(x,x.return);break;case 12:ya(h,x);break;case 31:ya(h,x),w&4&&Ro(h,x);break;case 13:ya(h,x),w&4&&qd(h,x),w&64&&(w=x.memoizedState,w!==null&&(w=w.dehydrated,w!==null&&(x=hA.bind(null,x),Kp(w,x))));break;case 22:if(w=x.memoizedState!==null||Fi,!w){m=m!==null&&m.memoizedState!==null||ki,L=Fi;var k=ki;Fi=w,(ki=m)&&!k?Po(h,x,(x.subtreeFlags&8772)!==0):ya(h,x),Fi=L,ki=k}break;case 30:break;default:ya(h,x)}}function lv(h){var m=h.alternate;m!==null&&(h.alternate=null,lv(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&qp(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Co(h,m,x){for(x=x.child;x!==null;)Hd(h,m,x),x=x.sibling}function Hd(h,m,x){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(xc,x)}catch{}switch(x.tag){case 26:if(Lo){ki||ia(x,m),Co(h,m,x),x.memoizedState?Su(x.memoizedState):x.stateNode&&qv(x.stateNode);break}case 27:if(pr){ki||ia(x,m);var w=Ri,L=Yi;yc(x.type)&&(Ri=x.stateNode,Yi=!1),Co(h,m,x),wr(x.stateNode),Ri=w,Yi=L;break}case 5:ki||ia(x,m);case 6:if(In){if(w=Ri,L=Yi,Ri=null,Co(h,m,x),Ri=w,Yi=L,Ri!==null)if(Yi)try{wv(Ri,x.stateNode)}catch(k){Zt(x,m,k)}else try{eb(Ri,x.stateNode)}catch(k){Zt(x,m,k)}}else Co(h,m,x);break;case 18:In&&Ri!==null&&(Yi?Jp(Ri,x.stateNode):Bv(Ri,x.stateNode));break;case 4:In?(w=Ri,L=Yi,Ri=x.stateNode.containerInfo,Yi=!0,Co(h,m,x),Ri=w,Yi=L):(ro&&sv(x.stateNode,x,Iv()),Co(h,m,x));break;case 0:case 11:case 14:case 15:Ns(2,x,m),ki||Ns(4,x,m),Co(h,m,x);break;case 1:ki||(ia(x,m),w=x.stateNode,typeof w.componentWillUnmount=="function"&&Mp(x,m,w)),Co(h,m,x);break;case 21:Co(h,m,x);break;case 22:ki=(w=ki)||x.memoizedState!==null,Co(h,m,x),ki=w;break;default:Co(h,m,x)}}function Ro(h,m){if(bi&&m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{vA(h)}catch(x){Zt(m,m.return,x)}}}function qd(h,m){if(bi&&m.memoizedState===null&&(h=m.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{yA(h)}catch(x){Zt(m,m.return,x)}}function Io(h){switch(h.tag){case 31:case 13:case 19:var m=h.stateNode;return m===null&&(m=h.stateNode=new e0),m;case 22:return h=h.stateNode,m=h._retryCache,m===null&&(m=h._retryCache=new e0),m;default:throw Error(r(435,h.tag))}}function vl(h,m){var x=Io(h);m.forEach(function(w){if(!x.has(w)){x.add(w);var L=pA.bind(null,h,w);w.then(L,L)}})}function Ar(h,m){var x=m.deletions;if(x!==null)for(var w=0;w<x.length;w++){var L=x[w],k=h,J=m;if(In){var be=J;e:for(;be!==null;){switch(be.tag){case 27:if(pr){if(yc(be.type)){Ri=be.stateNode,Yi=!1;break e}break}case 5:Ri=be.stateNode,Yi=!1;break e;case 3:case 4:Ri=be.stateNode.containerInfo,Yi=!0;break e}be=be.return}if(Ri===null)throw Error(r(160));Hd(k,J,L),Ri=null,Yi=!1}else Hd(k,J,L);k=L.alternate,k!==null&&(k.return=null),L.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)Wd(m,h),m=m.sibling}function Wd(h,m){var x=h.alternate,w=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Ar(m,h),Mr(h),w&4&&(Ns(3,h,h.return),Ps(3,h),Ns(5,h,h.return));break;case 1:Ar(m,h),Mr(h),w&512&&(ki||x===null||ia(x,x.return)),w&64&&Fi&&(h=h.updateQueue,h!==null&&(w=h.callbacks,w!==null&&(x=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=x===null?w:x.concat(w))));break;case 26:if(Lo){var L=Jn;if(Ar(m,h),Mr(h),w&512&&(ki||x===null||ia(x,x.return)),w&4){w=x!==null?x.memoizedState:null;var k=h.memoizedState;x===null?k===null?h.stateNode===null?h.stateNode=Mb(L,h.type,h.memoizedProps,h):Hv(L,h.type,h.stateNode):h.stateNode=Vv(L,k,h.memoizedProps):w!==k?(w===null?x.stateNode!==null&&qv(x.stateNode):Su(w),k===null?Hv(L,h.type,h.stateNode):Vv(L,k,h.memoizedProps)):k===null&&h.stateNode!==null&&Gd(h,h.memoizedProps,x.memoizedProps)}break}case 27:if(pr){Ar(m,h),Mr(h),w&512&&(ki||x===null||ia(x,x.return)),x!==null&&w&4&&Gd(h,h.memoizedProps,x.memoizedProps);break}case 5:if(Ar(m,h),Mr(h),w&512&&(ki||x===null||ia(x,x.return)),In){if(h.flags&32){L=h.stateNode;try{Cv(L)}catch(gt){Zt(h,h.return,gt)}}w&4&&h.stateNode!=null&&(L=h.memoizedProps,Gd(h,L,x!==null?x.memoizedProps:L)),w&1024&&(Gf=!0)}else ro&&h.alternate!==null&&(h.alternate.stateNode=h.stateNode);break;case 6:if(Ar(m,h),Mr(h),w&4&&In){if(h.stateNode===null)throw Error(r(162));w=h.memoizedProps,x=x!==null?x.memoizedProps:w,L=h.stateNode;try{$_(L,x,w)}catch(gt){Zt(h,h.return,gt)}}break;case 3:if(Lo?(wb(),L=Jn,Jn=ih(m.containerInfo),Ar(m,h),Jn=L):Ar(m,h),Mr(h),w&4){if(In&&bi&&x!==null&&x.memoizedState.isDehydrated)try{xb(m.containerInfo)}catch(gt){Zt(h,h.return,gt)}if(ro){w=m.containerInfo,x=m.pendingChildren;try{Nv(w,x)}catch(gt){Zt(h,h.return,gt)}}}Gf&&(Gf=!1,Cp(h));break;case 4:Lo?(x=Jn,Jn=ih(h.stateNode.containerInfo),Ar(m,h),Mr(h),Jn=x):(Ar(m,h),Mr(h)),w&4&&ro&&sv(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Ar(m,h),Mr(h);break;case 31:Ar(m,h),Mr(h),w&4&&(w=h.updateQueue,w!==null&&(h.updateQueue=null,vl(h,w)));break;case 13:Ar(m,h),Mr(h),h.child.flags&8192&&h.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(hh=ra()),w&4&&(w=h.updateQueue,w!==null&&(h.updateQueue=null,vl(h,w)));break;case 22:L=h.memoizedState!==null;var J=x!==null&&x.memoizedState!==null,be=Fi,Ze=ki;if(Fi=be||L,ki=Ze||J,Ar(m,h),ki=Ze,Fi=be,Mr(h),w&8192&&(m=h.stateNode,m._visibility=L?m._visibility&-2:m._visibility|1,L&&(x===null||J||Fi||ki||uu(h)),In)){e:if(x=null,In)for(m=h;;){if(m.tag===5||Lo&&m.tag===26){if(x===null){J=x=m;try{k=J.stateNode,L?mA(k):nb(J.stateNode,J.memoizedProps)}catch(gt){Zt(J,J.return,gt)}}}else if(m.tag===6){if(x===null){J=m;try{var dt=J.stateNode;L?tb(dt):ib(dt,J.memoizedProps)}catch(gt){Zt(J,J.return,gt)}}}else if(m.tag===18){if(x===null){J=m;try{var bt=J.stateNode;L?Eb(bt):Tb(J.stateNode)}catch(gt){Zt(J,J.return,gt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===h)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break e;for(;m.sibling===null;){if(m.return===null||m.return===h)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}}w&4&&(w=h.updateQueue,w!==null&&(x=w.retryQueue,x!==null&&(w.retryQueue=null,vl(h,x))));break;case 19:Ar(m,h),Mr(h),w&4&&(w=h.updateQueue,w!==null&&(h.updateQueue=null,vl(h,w)));break;case 30:break;case 21:break;default:Ar(m,h),Mr(h)}}function Mr(h){var m=h.flags;if(m&2){try{for(var x,w=h.return;w!==null;){if(ov(w)){x=w;break}w=w.return}if(In){if(x==null)throw Error(r(160));switch(x.tag){case 27:if(pr){var L=x.stateNode,k=gl(h);Vd(h,k,L);break}case 5:var J=x.stateNode;x.flags&32&&(Cv(J),x.flags&=-33);var be=gl(h);Vd(h,be,J);break;case 3:case 4:var Ze=x.stateNode.containerInfo,dt=gl(h);wp(h,dt,Ze);break;default:throw Error(r(161))}}}catch(bt){Zt(h,h.return,bt)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function Cp(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var m=h;Cp(m),m.tag===5&&m.flags&1024&&xv(m.stateNode),h=h.sibling}}function ya(h,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)k_(h,m.alternate,m),m=m.sibling}function uu(h){for(h=h.child;h!==null;){var m=h;switch(m.tag){case 0:case 11:case 14:case 15:Ns(4,m,m.return),uu(m);break;case 1:ia(m,m.return);var x=m.stateNode;typeof x.componentWillUnmount=="function"&&Mp(m,m.return,x),uu(m);break;case 27:pr&&wr(m.stateNode);case 26:case 5:ia(m,m.return),uu(m);break;case 22:m.memoizedState===null&&uu(m);break;case 30:uu(m);break;default:uu(m)}h=h.sibling}}function Po(h,m,x){for(x=x&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var w=m.alternate,L=h,k=m,J=k.flags;switch(k.tag){case 0:case 11:case 15:Po(L,k,x),Ps(4,k);break;case 1:if(Po(L,k,x),w=k,L=w.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(dt){Zt(w,w.return,dt)}if(w=k,L=w.updateQueue,L!==null){var be=w.stateNode;try{var Ze=L.shared.hiddenCallbacks;if(Ze!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Ze.length;L++)Ra(Ze[L],be)}catch(dt){Zt(w,w.return,dt)}}x&&J&64&&Sf(k),Ef(k,k.return);break;case 27:pr&&F_(k);case 26:case 5:Po(L,k,x),x&&w===null&&J&4&&sc(k),Ef(k,k.return);break;case 12:Po(L,k,x);break;case 31:Po(L,k,x),x&&J&4&&Ro(L,k);break;case 13:Po(L,k,x),x&&J&4&&qd(L,k);break;case 22:k.memoizedState===null&&Po(L,k,x),Ef(k,k.return);break;case 30:break;default:Po(L,k,x)}m=m.sibling}}function cu(h,m){var x=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),h=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(h=m.memoizedState.cachePool.pool),h!==x&&(h!=null&&h.refCount++,x!=null&&Ce(x))}function uv(h,m){h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ce(h))}function Ai(h,m,x,w){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Rp(h,m,x,w),m=m.sibling}function Rp(h,m,x,w){var L=m.flags;switch(m.tag){case 0:case 11:case 15:Ai(h,m,x,w),L&2048&&Ps(9,m);break;case 1:Ai(h,m,x,w);break;case 3:Ai(h,m,x,w),L&2048&&(h=null,m.alternate!==null&&(h=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==h&&(m.refCount++,h!=null&&Ce(h)));break;case 12:if(L&2048){Ai(h,m,x,w),h=m.stateNode;try{var k=m.memoizedProps,J=k.id,be=k.onPostCommit;typeof be=="function"&&be(J,m.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ze){Zt(m,m.return,Ze)}}else Ai(h,m,x,w);break;case 31:Ai(h,m,x,w);break;case 13:Ai(h,m,x,w);break;case 23:break;case 22:k=m.stateNode,J=m.alternate,m.memoizedState!==null?k._visibility&2?Ai(h,m,x,w):Tf(h,m):k._visibility&2?Ai(h,m,x,w):(k._visibility|=2,Ia(h,m,x,w,(m.subtreeFlags&10256)!==0||!1)),L&2048&&cu(J,m);break;case 24:Ai(h,m,x,w),L&2048&&uv(m.alternate,m);break;default:Ai(h,m,x,w)}}function Ia(h,m,x,w,L){for(L=L&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var k=h,J=m,be=x,Ze=w,dt=J.flags;switch(J.tag){case 0:case 11:case 15:Ia(k,J,be,Ze,L),Ps(8,J);break;case 23:break;case 22:var bt=J.stateNode;J.memoizedState!==null?bt._visibility&2?Ia(k,J,be,Ze,L):Tf(k,J):(bt._visibility|=2,Ia(k,J,be,Ze,L)),L&&dt&2048&&cu(J.alternate,J);break;case 24:Ia(k,J,be,Ze,L),L&&dt&2048&&uv(J.alternate,J);break;default:Ia(k,J,be,Ze,L)}m=m.sibling}}function Tf(h,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var x=h,w=m,L=w.flags;switch(w.tag){case 22:Tf(x,w),L&2048&&cu(w.alternate,w);break;case 24:Tf(x,w),L&2048&&uv(w.alternate,w);break;default:Tf(x,w)}m=m.sibling}}function Ds(h,m,x){if(h.subtreeFlags&lo)for(h=h.child;h!==null;)fu(h,m,x),h=h.sibling}function fu(h,m,x){switch(h.tag){case 26:if(Ds(h,m,x),h.flags&lo)if(h.memoizedState!==null)Cb(x,Jn,h.memoizedState,h.memoizedProps);else{var w=h.stateNode,L=h.type;h=h.memoizedProps,((m&335544128)===m||_v(L,h))&&Wp(x,w,L,h)}break;case 5:Ds(h,m,x),h.flags&lo&&(w=h.stateNode,L=h.type,h=h.memoizedProps,((m&335544128)===m||_v(L,h))&&Wp(x,w,L,h));break;case 3:case 4:Lo?(w=Jn,Jn=ih(h.stateNode.containerInfo),Ds(h,m,x),Jn=w):Ds(h,m,x);break;case 22:h.memoizedState===null&&(w=h.alternate,w!==null&&w.memoizedState!==null?(w=lo,lo=16777216,Ds(h,m,x),lo=w):Ds(h,m,x));break;default:Ds(h,m,x)}}function Ip(h){var m=h.alternate;if(m!==null&&(h=m.child,h!==null)){m.child=null;do m=h.sibling,h.sibling=null,h=m;while(h!==null)}}function Af(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var w=m[x];Xi=w,to(w,h)}Ip(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Pp(h),h=h.sibling}function Pp(h){switch(h.tag){case 0:case 11:case 15:Af(h),h.flags&2048&&Ns(9,h,h.return);break;case 3:Af(h);break;case 12:Af(h);break;case 22:var m=h.stateNode;h.memoizedState!==null&&m._visibility&2&&(h.return===null||h.return.tag!==13)?(m._visibility&=-3,jd(h)):Af(h);break;default:Af(h)}}function jd(h){var m=h.deletions;if((h.flags&16)!==0){if(m!==null)for(var x=0;x<m.length;x++){var w=m[x];Xi=w,to(w,h)}Ip(h)}for(h=h.child;h!==null;){switch(m=h,m.tag){case 0:case 11:case 15:Ns(8,m,m.return),jd(m);break;case 22:x=m.stateNode,x._visibility&2&&(x._visibility&=-3,jd(m));break;default:jd(m)}h=h.sibling}}function to(h,m){for(;Xi!==null;){var x=Xi;switch(x.tag){case 0:case 11:case 15:Ns(8,x,m);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var w=x.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Ce(x.memoizedState.cache)}if(w=x.child,w!==null)w.return=x,Xi=w;else e:for(x=h;Xi!==null;){w=Xi;var L=w.sibling,k=w.return;if(lv(w),w===x){Xi=null;break e}if(L!==null){L.return=k,Xi=L;break e}Xi=k}}}function du(h){var m=on(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(h=Wi(h),h===null)throw Error(r(362));return h.stateNode.current}function hu(h,m){var x=h.tag;switch(m.$$typeof){case Ho:if(h.type===m.value)return!0;break;case Hf:e:{for(m=m.value,h=[h,0],x=0;x<h.length;){var w=h[x++],L=w.tag,k=h[x++],J=m[k];if(L!==5&&L!==26&&L!==27||!bu(w)){for(;J!=null&&hu(w,J);)k++,J=m[k];if(k===m.length){m=!0;break e}else for(w=w.child;w!==null;)h.push(w,k),w=w.sibling}}m=!1}return m;case qf:if((x===5||x===26||x===27)&&Tv(h.stateNode,m.value))return!0;break;case Cu:if((x===5||x===6||x===26||x===27)&&(h=th(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case fh:if((x===5||x===26||x===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Mf(h){switch(h.$$typeof){case Ho:return"<"+(p(h.value)||"Unknown")+">";case Hf:return":has("+(Mf(h)||"")+")";case qf:return'[role="'+h.value+'"]';case Cu:return'"'+h.value+'"';case fh:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function wf(h,m){var x=[];h=[h,0];for(var w=0;w<h.length;){var L=h[w++],k=L.tag,J=h[w++],be=m[J];if(k!==5&&k!==26&&k!==27||!bu(L)){for(;be!=null&&hu(L,be);)J++,be=m[J];if(J===m.length)x.push(L);else for(L=L.child;L!==null;)h.push(L,J),L=L.sibling}}return x}function Pa(h,m){if(!hr)throw Error(r(363));h=du(h),h=wf(h,m),m=[],h=Array.from(h);for(var x=0;x<h.length;){var w=h[x++],L=w.tag;if(L===5||L===26||L===27)bu(w)||m.push(w.stateNode);else for(w=w.child;w!==null;)h.push(w),w=w.sibling}return m}function _i(){return(Sn&2)!==0&&Mn!==0?Mn&-Mn:Wt.T!==null?we():Uf()}function yl(){if(Ta===0)if((Mn&536870912)===0||An){var h=bc;bc<<=1,(bc&3932160)===0&&(bc=262144),Ta=h}else Ta=536870912;return h=Fa.current,h!==null&&(h.flags|=32),Ta}function Mi(h,m,x){(h===pn&&(Zn===2||Zn===9)||h.cancelPendingCommit!==null)&&(Li(h,0),Ls(h,Mn,Ta,!1)),O(h,x),((Sn&2)===0||h!==pn)&&(h===pn&&((Sn&2)===0&&(Pu|=x),Ii===4&&Ls(h,Mn,Ta,!1)),ot(h))}function as(h,m,x){if((Sn&6)!==0)throw Error(r(327));var w=!x&&(m&127)===0&&(m&h.expiredLanes)===0||R(h,m),L=w?G_(h,m):Us(h,m,!0),k=w;do{if(L===0){Ru&&!w&&Ls(h,m,0,!1);break}else{if(x=h.current.alternate,k&&!B_(x)){L=Us(h,m,!1),k=!1;continue}if(L===2){if(k=m,h.errorRecoveryDisabledLanes&k)var J=0;else J=h.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var be=h;L=dh;var Ze=bi&&be.current.memoizedState.isDehydrated;if(Ze&&(Li(be,J).flags|=256),J=Us(be,J,!1),J!==2){if(Iu&&!Ze){be.errorRecoveryDisabledLanes|=k,Pu|=k,L=4;break e}k=Ba,Ba=L,k!==null&&(Ba===null?Ba=k:Ba.push.apply(Ba,k))}L=J}if(k=!1,L!==2)continue}}if(L===1){Li(h,0),Ls(h,m,0,!0);break}e:{switch(w=h,k=L,k){case 0:case 1:throw Error(r(345));case 4:if((m&4194048)!==m)break;case 6:Ls(w,m,Ta,!us);break e;case 2:Ba=null;break;case 3:case 5:break;default:throw Error(r(329))}if((m&62914560)===m&&(L=hh+300-ra(),10<L)){if(Ls(w,m,Ta,!us),A(w,0,!0)!==0)break e;Ks=m,w.timeoutHandle=yv(Os.bind(null,w,x,Ba,ph,hm,m,Ta,Pu,jf,us,k,"Throttled",-0,0),L);break e}Os(w,x,Ba,ph,hm,m,Ta,Pu,jf,us,k,null,-0,0)}}break}while(!0);ot(h)}function Os(h,m,x,w,L,k,J,be,Ze,dt,bt,gt,Rt,rn){if(h.timeoutHandle=Oa,gt=m.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt=bv(),fu(m,k,gt);var $i=(k&62914560)===k?hh-ra():(k&4194048)===k?wc-ra():0;if($i=Y_(gt,$i),$i!==null){Ks=k,h.cancelPendingCommit=$i(ks.bind(null,h,m,k,x,w,L,J,be,Ze,bt,gt,null,Rt,rn)),Ls(h,k,J,!dt);return}}ks(h,m,k,x,w,L,J,be,Ze)}function B_(h){for(var m=h;;){var x=m.tag;if((x===0||x===11||x===15)&&m.flags&16384&&(x=m.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var w=0;w<x.length;w++){var L=x[w],k=L.getSnapshot;L=L.value;try{if(!ji(k(),L))return!1}catch{return!1}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ls(h,m,x,w){m&=~Wf,m&=~Pu,h.suspendedLanes|=m,h.pingedLanes&=~m,w&&(h.warmLanes|=m),w=h.expirationTimes;for(var L=m;0<L;){var k=31-La(L),J=1<<k;w[k]=-1,L&=~J}x!==0&&z(h,x,m)}function Np(){return(Sn&6)===0?(it(0),!1):!0}function Dp(){if(En!==null){if(Zn===0)var h=En.return;else h=En,ss=li=null,Pn(h),Au=null,Sc=0,h=En;for(;h!==null;)U_(h.alternate,h),h=h.return;En=null}}function Li(h,m){var x=h.timeoutHandle;x!==Oa&&(h.timeoutHandle=Oa,X_(x)),x=h.cancelPendingCommit,x!==null&&(h.cancelPendingCommit=null,x()),Ks=0,Dp(),pn=h,En=x=io(h.current,null),Mn=m,Zn=0,or=null,us=!1,Ru=R(h,m),Iu=!1,jf=Ta=Wf=Pu=Il=Ii=0,Ba=dh=null,hm=!1,(m&8)!==0&&(m|=m&32);var w=h.entangledLanes;if(w!==0)for(h=h.entanglements,w&=m;0<w;){var L=31-La(w),k=1<<L;m|=h[L],w&=~k}return $s=m,xr(),x}function si(h,m){sn=null,Wt.H=so,m===vr||m===Go?(m=Lt(),Zn=3):m===fm?(m=Lt(),Zn=4):Zn=m===Ea?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,or=m,En===null&&(Ii=1,Sp(h,pe(m,h.current)))}function Rn(){var h=Fa.current;return h===null?!0:(Mn&4194048)===Mn?ka===null:(Mn&62914560)===Mn||(Mn&536870912)!==0?h===ka:!1}function _l(){var h=Wt.H;return Wt.H=so,h===null?so:h}function no(){var h=Wt.A;return Wt.A=Vf,h}function Cf(){Ii=4,us||(Mn&4194048)!==Mn&&Fa.current!==null||(Ru=!0),(Il&134217727)===0&&(Pu&134217727)===0||pn===null||Ls(pn,Mn,Ta,!1)}function Us(h,m,x){var w=Sn;Sn|=2;var L=_l(),k=no();(pn!==h||Mn!==m)&&(ph=null,Li(h,m)),m=!1;var J=Ii;e:do try{if(Zn!==0&&En!==null){var be=En,Ze=or;switch(Zn){case 8:Dp(),J=6;break e;case 3:case 2:case 9:case 6:Fa.current===null&&(m=!0);var dt=Zn;if(Zn=0,or=null,Fs(h,be,Ze,dt),x&&Ru){J=0;break e}break;default:dt=Zn,Zn=0,or=null,Fs(h,be,Ze,dt)}}z_(),J=Ii;break}catch(bt){si(h,bt)}while(!0);return m&&h.shellSuspendCounter++,ss=li=null,Sn=w,Wt.H=L,Wt.A=k,En===null&&(pn=null,Mn=0,xr()),J}function z_(){for(;En!==null;)pu(En)}function G_(h,m){var x=Sn;Sn|=2;var w=_l(),L=no();pn!==h||Mn!==m?(ph=null,Nu=ra()+500,Li(h,m)):Ru=R(h,m);e:do try{if(Zn!==0&&En!==null){m=En;var k=or;t:switch(Zn){case 1:Zn=0,or=null,Fs(h,m,k,1);break;case 2:case 9:if(lt(k)){Zn=0,or=null,Op(m);break}m=function(){Zn!==2&&Zn!==9||pn!==h||(Zn=7),ot(h)},k.then(m,m);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:lt(k)?(Zn=0,or=null,Op(m)):(Zn=0,or=null,Fs(h,m,k,7));break;case 5:var J=null;switch(En.tag){case 26:J=En.memoizedState;case 5:case 27:var be=En,Ze=be.type,dt=be.pendingProps;if(J?jv(J):wi(be.stateNode,Ze,dt)){Zn=0,or=null;var bt=be.sibling;if(bt!==null)En=bt;else{var gt=be.return;gt!==null?(En=gt,If(gt)):En=null}break t}}Zn=0,or=null,Fs(h,m,k,5);break;case 6:Zn=0,or=null,Fs(h,m,k,6);break;case 8:Dp(),Ii=6;break e;default:throw Error(r(462))}}Rf();break}catch(Rt){si(h,Rt)}while(!0);return ss=li=null,Wt.H=w,Wt.A=L,Sn=x,En!==null?0:(pn=null,Mn=0,xr(),Ii)}function Rf(){for(;En!==null&&!Ib();)pu(En)}function pu(h){var m=nv(h.alternate,h,$s);h.memoizedProps=h.pendingProps,m===null?If(h):En=m}function Op(h){var m=h,x=m.alternate;switch(m.tag){case 15:case 0:m=Kg(x,m,m.pendingProps,m.type,void 0,Mn);break;case 11:m=Kg(x,m,m.pendingProps,m.type.render,m.ref,Mn);break;case 5:Pn(m);default:U_(x,m),m=En=Fp(m,$s),m=nv(x,m,$s)}h.memoizedProps=h.pendingProps,m===null?If(h):En=m}function Fs(h,m,x,w){ss=li=null,Pn(m),Au=null,Sc=0;var L=m.return;try{if(fA(h,L,m,x,Mn)){Ii=1,Sp(h,pe(x,h.current)),En=null;return}}catch(k){if(L!==null)throw En=L,k;Ii=1,Sp(h,pe(x,h.current)),En=null;return}m.flags&32768?(An||w===1?h=!0:Ru||(Mn&536870912)!==0?h=!1:(us=h=!0,(w===2||w===9||w===3||w===6)&&(w=Fa.current,w!==null&&w.tag===13&&(w.flags|=16384))),mu(m,h)):If(m)}function If(h){var m=h;do{if((m.flags&32768)!==0){mu(m,us);return}h=m.return;var x=L_(m.alternate,m,$s);if(x!==null){En=x;return}if(m=m.sibling,m!==null){En=m;return}En=m=h}while(m!==null);Ii===0&&(Ii=5)}function mu(h,m){do{var x=av(h.alternate,h);if(x!==null){x.flags&=32767,En=x;return}if(x=h.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!m&&(h=h.sibling,h!==null)){En=h;return}En=h=x}while(h!==null);Ii=6,En=null}function ks(h,m,x,w,L,k,J,be,Ze){h.cancelPendingCommit=null;do zs();while(sr!==0);if((Sn&6)!==0)throw Error(r(327));if(m!==null){if(m===h.current)throw Error(r(177));if(k=m.lanes|m.childLanes,k|=Ec,F(h,x,k,J,be,Ze),h===pn&&(En=pn=null,Mn=0),Cc=m,Nl=h,Ks=x,Xf=k,pm=L,t0=w,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,rr(ah,function(){return Xd(),null})):(h.callbackNode=null,h.callbackPriority=0),w=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||w){w=Wt.T,Wt.T=null,L=Oo(),Tn(2),J=Sn,Sn|=4;try{dA(h,m,x)}finally{Sn=J,Tn(L),Wt.T=w}}sr=1,bl(),Bs(),Lp()}}function bl(){if(sr===1){sr=0;var h=Nl,m=Cc,x=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||x){x=Wt.T,Wt.T=null;var w=Oo();Tn(2);var L=Sn;Sn|=4;try{Wd(m,h),j_(h.containerInfo)}finally{Sn=L,Tn(w),Wt.T=x}}h.current=m,sr=2}}function Bs(){if(sr===2){sr=0;var h=Nl,m=Cc,x=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||x){x=Wt.T,Wt.T=null;var w=Oo();Tn(2);var L=Sn;Sn|=4;try{k_(h,m.alternate,m)}finally{Sn=L,Tn(w),Wt.T=x}}sr=3}}function Lp(){if(sr===4||sr===3){sr=0,Yv();var h=Nl,m=Cc,x=Ks,w=t0;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?sr=5:(sr=0,Cc=Nl=null,Up(h,h.pendingLanes));var L=h.pendingLanes;if(L===0&&(Pl=null),W(x),m=m.stateNode,Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(xc,m,void 0,(m.current.flags&128)===128)}catch{}if(w!==null){m=Wt.T,L=Oo(),Tn(2),Wt.T=null;try{for(var k=h.onRecoverableError,J=0;J<w.length;J++){var be=w[J];k(be.value,{componentStack:be.stack})}}finally{Wt.T=m,Tn(L)}}(Ks&3)!==0&&zs(),ot(h),L=h.pendingLanes,(x&261930)!==0&&(L&42)!==0?h===mh?kn++:(kn=0,mh=h):kn=0,bi&&nh(),it(0)}}function Up(h,m){(h.pooledCacheLanes&=m)===0&&(m=h.pooledCache,m!=null&&(h.pooledCache=null,Ce(m)))}function zs(){return bl(),Bs(),Lp(),Xd()}function Xd(){if(sr!==5)return!1;var h=Nl,m=Xf;Xf=0;var x=W(Ks),w=32>x?32:x;x=Wt.T;var L=Oo();try{Tn(w),Wt.T=null,w=pm,pm=null;var k=Nl,J=Ks;if(sr=0,Cc=Nl=null,Ks=0,(Sn&6)!==0)throw Error(r(331));var be=Sn;if(Sn|=4,Pp(k.current),Rp(k,k.current,J,w),Sn=be,it(0,!1),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(xc,k)}catch{}return!0}finally{Tn(L),Wt.T=x,Up(h,m)}}function gu(h,m,x){m=pe(x,m),m=Yg(h.stateNode,m,2),h=Zr(h,m,2),h!==null&&(O(h,2),ot(h))}function Zt(h,m,x){if(h.tag===3)gu(h,h,x);else for(;m!==null;){if(m.tag===3){gu(m,h,x);break}else if(m.tag===1){var w=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Pl===null||!Pl.has(w))){h=pe(x,h),x=E_(2),w=Zr(m,x,2),w!==null&&(T_(x,w,m,h),O(w,2),ot(w));break}}m=m.return}}function Pf(h,m,x){var w=h.pingCache;if(w===null){w=h.pingCache=new uo;var L=new Set;w.set(m,L)}else L=w.get(m),L===void 0&&(L=new Set,w.set(m,L));L.has(x)||(Iu=!0,L.add(x),h=V_.bind(null,h,m,x),m.then(h,h))}function V_(h,m,x){var w=h.pingCache;w!==null&&w.delete(m),h.pingedLanes|=h.suspendedLanes&x,h.warmLanes&=~x,pn===h&&(Mn&x)===x&&(Ii===4||Ii===3&&(Mn&62914560)===Mn&&300>ra()-hh?(Sn&2)===0&&Li(h,0):Wf|=x,jf===Mn&&(jf=0)),ot(h)}function H_(h,m){m===0&&(m=N()),h=ai(h,m),h!==null&&(O(h,m),ot(h))}function hA(h){var m=h.memoizedState,x=0;m!==null&&(x=m.retryLane),H_(h,x)}function pA(h,m){var x=0;switch(h.tag){case 31:case 13:var w=h.stateNode,L=h.memoizedState;L!==null&&(x=L.retryLane);break;case 19:w=h.stateNode;break;case 22:w=h.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(m),H_(h,x)}function rr(h,m){return rh(h,m)}function cv(h,m,x,w){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lc(h){return h=h.prototype,!(!h||!h.isReactComponent)}function io(h,m){var x=h.alternate;return x===null?(x=n(h.tag,m,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=m,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&65011712,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,m=h.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x.refCleanup=h.refCleanup,x}function Fp(h,m){h.flags&=65011714;var x=h.alternate;return x===null?(h.childLanes=0,h.lanes=m,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,m=x.dependencies,h.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h}function xl(h,m,x,w,L,k){var J=0;if(w=h,typeof h=="function")lc(h)&&(J=1);else if(typeof h=="string")J=Lo&&pr?Zp(h,x,Cr.current)?26:Xv(h)?27:5:Lo?Zp(h,x,Cr.current)?26:5:pr&&Xv(h)?27:5;else e:switch(h){case Jd:return h=n(31,x,m,L),h.elementType=Jd,h.lanes=k,h;case dc:return No(x.children,L,k,m);case hc:J=8,L|=24;break;case pc:return h=n(12,x,m,L|2),h.elementType=pc,h.lanes=k,h;case Gp:return h=n(13,x,m,L),h.elementType=Gp,h.lanes=k,h;case Sl:return h=n(19,x,m,L),h.elementType=Sl,h.lanes=k,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Do:J=10;break e;case Kd:J=9;break e;case Nf:J=11;break e;case Vp:J=14;break e;case _a:J=16,w=null;break e}J=29,x=Error(r(130,h===null?"null":typeof h,"")),w=null}return m=n(J,x,m,L),m.elementType=h,m.type=w,m.lanes=k,m}function No(h,m,x,w){return h=n(7,h,w,m),h.lanes=x,h}function fv(h,m,x){return h=n(6,h,null,m),h.lanes=x,h}function dv(h){var m=n(18,null,null,0);return m.stateNode=h,m}function hv(h,m,x){return m=n(4,h.children!==null?h.children:[],h.key,m),m.lanes=x,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function q_(h,m,x,w,L,k,J,be,Ze){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=w,this.onUncaughtError=L,this.onCaughtError=k,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ze,this.incompleteTransitions=new Map}function vu(h,m,x,w,L,k,J,be,Ze,dt,bt,gt){return h=new q_(h,m,x,J,Ze,dt,bt,gt,be),m=1,k===!0&&(m|=24),k=n(3,null,null,m),h.current=k,k.stateNode=h,m=Le(),m.refCount++,h.pooledCache=m,m.refCount++,k.memoizedState={element:w,isDehydrated:x,cache:m},Di(k),h}function kp(h){return h?(h=Vs,h):Vs}function Yd(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=s(m),h=h!==null?u(h):null,h===null?null:Of(h.stateNode)}function pv(h,m,x,w,L,k){L=kp(L),w.context===null?w.context=L:w.pendingContext=L,w=ma(m),w.payload={element:x},k=k===void 0?null:k,k!==null&&(w.callback=k),x=Zr(h,w,m),x!==null&&(Mi(x,h,m),$a(x,h,m))}function uc(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<m?x:m}}function $d(h,m){uc(h,m),(h=h.alternate)&&uc(h,m)}var dn={},Bp=Ul,Na=oMe,zp=Object.assign,cc=Symbol.for("react.element"),Gs=Symbol.for("react.transitional.element"),fc=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),hc=Symbol.for("react.strict_mode"),pc=Symbol.for("react.profiler"),Kd=Symbol.for("react.consumer"),Do=Symbol.for("react.context"),Nf=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),Jd=Symbol.for("react.activity"),mv=Symbol.for("react.memo_cache_sentinel"),El=Symbol.iterator,yu=Symbol.for("react.client.reference"),_u=Array.isArray,Wt=Bp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gv=e.rendererVersion,Zd=e.rendererPackageName,Df=e.extraDevToolsConfig,Of=e.getPublicInstance,W_=e.getRootHostContext,Lf=e.getChildHostContext,Hp=e.prepareForCommit,j_=e.resetAfterCommit,vv=e.createInstance;e.cloneMutableInstance;var Qd=e.appendInitialChild,Da=e.finalizeInitialChildren,ba=e.shouldSetTextContent,Tl=e.createTextInstance;e.cloneMutableTextInstance;var yv=e.scheduleTimeout,X_=e.cancelTimeout,Oa=e.noTimeout,qi=e.isPrimaryRenderer;e.warnsIfNotActing;var In=e.supportsMutation,ro=e.supportsPersistence,bi=e.supportsHydration,on=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ei=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Tn=e.setCurrentUpdatePriority,Oo=e.getCurrentUpdatePriority,Uf=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var mc=e.shouldAttemptEagerTransition,qp=e.detachDeletedInstance;e.requestPostPaintCallback;var eh=e.maySuspendCommit,Ff=e.maySuspendCommitOnUpdate,_v=e.maySuspendCommitInSyncRender,wi=e.preloadInstance,bv=e.startSuspendingCommit,Wp=e.suspendInstance;e.suspendOnActiveViewTransition;var Y_=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var gc=e.NotPendingTransition,vc=e.HostTransitionContext,xv=e.resetFormInstance;e.bindToConsole;var Sv=e.supportsMicrotasks,Ev=e.scheduleMicrotask,hr=e.supportsTestSelectors,Wi=e.findFiberRoot,jp=e.getBoundingRect,th=e.getTextContent,bu=e.isHiddenSubtree,Tv=e.matchAccessibilityRole,Al=e.setFocusIfFocusable,Xp=e.setupIntersectionObserver,Av=e.appendChild,Mv=e.appendChildToContainer,$_=e.commitTextUpdate,K_=e.commitMount,J_=e.commitUpdate,Z_=e.insertBefore,Q_=e.insertInContainerBefore,eb=e.removeChild,wv=e.removeChildFromContainer,Cv=e.resetTextContent,mA=e.hideInstance,tb=e.hideTextInstance,nb=e.unhideInstance,ib=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Rv=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var rb=e.cloneInstance,Iv=e.createContainerChildSet,Pv=e.appendChildToContainerChildSet,ab=e.finalizeContainerChildren,Nv=e.replaceContainerChildren,ob=e.cloneHiddenInstance,Dv=e.cloneHiddenTextInstance,xu=e.isSuspenseInstancePending,Yp=e.isSuspenseInstanceFallback,$p=e.getSuspenseInstanceFallbackErrorDetails,Kp=e.registerSuspenseInstanceRetry,sb=e.canHydrateFormStateMarker,Ov=e.isFormStateMarkerMatching,lb=e.getNextHydratableSibling,ub=e.getNextHydratableSiblingAfterSingleton,cb=e.getFirstHydratableChild,fb=e.getFirstHydratableChildWithinContainer,db=e.getFirstHydratableChildWithinActivityInstance,hb=e.getFirstHydratableChildWithinSuspenseInstance,Lv=e.getFirstHydratableChildWithinSingleton,pb=e.canHydrateInstance,mb=e.canHydrateTextInstance,Uv=e.canHydrateActivityInstance,gb=e.canHydrateSuspenseInstance,vb=e.hydrateInstance,gA=e.hydrateTextInstance,Fv=e.hydrateActivityInstance,yb=e.hydrateSuspenseInstance,_b=e.getNextHydratableInstanceAfterActivityInstance,kv=e.getNextHydratableInstanceAfterSuspenseInstance,bb=e.commitHydratedInstance,xb=e.commitHydratedContainer,vA=e.commitHydratedActivityInstance,yA=e.commitHydratedSuspenseInstance,Sb=e.finalizeHydratedChildren,nh=e.flushHydrationEvents;e.clearActivityBoundary;var Bv=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Jp=e.clearSuspenseBoundaryFromContainer,Eb=e.hideDehydratedBoundary,Tb=e.unhideDehydratedBoundary,kf=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Ab=e.validateHydratableInstance,zv=e.validateHydratableTextInstance,Lo=e.supportsResources,Zp=e.isHostHoistableType,ih=e.getHoistableRoot,Gv=e.getResource,Vv=e.acquireResource,Su=e.releaseResource,Mb=e.hydrateHoistable,Hv=e.mountHoistable,qv=e.unmountHoistable,Qp=e.createHoistableInstance,wb=e.prepareToCommitHoistables,Wv=e.mayResourceSuspendCommit,jv=e.preloadResource,Cb=e.suspendResource,pr=e.supportsSingletons,em=e.resolveSingletonInstance,ar=e.acquireSingletonInstance,wr=e.releaseSingletonInstance,Xv=e.isHostSingletonType,yc=e.isSingletonScope,tm=[],_c=-1,Vs={},La=Math.clz32?Math.clz32:T,nm=Math.log,Rb=Math.LN2,im=256,bc=262144,Bf=4194304,rh=Na.unstable_scheduleCallback,rm=Na.unstable_cancelCallback,Ib=Na.unstable_shouldYield,Yv=Na.unstable_requestPaint,ra=Na.unstable_now,am=Na.unstable_ImmediatePriority,Pb=Na.unstable_UserBlockingPriority,ah=Na.unstable_NormalPriority,om=Na.unstable_IdlePriority,$v=Na.log,Nb=Na.unstable_setDisableYieldValue,xc=null,Ua=null,ji=typeof Object.is=="function"?Object.is:Q,sm=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},_A=Object.prototype.hasOwnProperty,lm,Hs,oh=!1,Kv=new WeakMap,Ml=[],qs=0,ti=null,sh=0,Uo=[],ao=0,Fo=null,zr=1,os="",Cr=v(null),wl=v(null),Gr=v(null),lh=v(null),mr=null,xi=null,An=!1,Ws=null,xa=!1,um=Error(r(519)),ko=v(null),li=null,ss=null,Db=typeof AbortController<"u"?AbortController:function(){var h=[],m=this.signal={aborted:!1,addEventListener:function(x,w){h.push(w)}};this.abort=function(){m.aborted=!0,h.forEach(function(x){return x()})}},Rr=Na.unstable_scheduleCallback,bA=Na.unstable_NormalPriority,Si={$$typeof:Do,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},uh=null,Kn=null,aa=!1,Bo=!1,cm=!1,Eu=0,zf=null,Jv=0,Cl=0,gr=null,zo=Wt.S;Wt.S=function(h,m){wc=ra(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&ht(h,m),zo!==null&&zo(h,m)};var Tu=v(null),vr=Error(r(460)),fm=Error(r(474)),Go=Error(r(542)),js={then:function(){}},Sa=null,Au=null,Sc=0,Vr=Jr(!0),Zv=Jr(!1),Hr=[],Xs=0,Ec=0,oo=!1,dm=!1,Tc=v(null),Mu=v(0),Fa=v(null),ka=null,Ui=v(0),Rl=0,sn=null,Gt=null,tn=null,hn=!1,fn=!1,Nn=!1,oa=0,Vo=0,ls=null,Qv=0,so={readContext:$,use:Oi,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};so.useEffectEvent=pt;var Ci={readContext:$,use:Oi,useCallback:function(h,m){return Jt().memoizedState=[h,m===void 0?null:m],h},useContext:$,useEffect:iu,useImperativeHandle:function(h,m,x){x=x!=null?x.concat([h]):null,ns(4194308,4,ws.bind(null,m,h),x)},useLayoutEffect:function(h,m){return ns(4194308,4,h,m)},useInsertionEffect:function(h,m){ns(4,2,h,m)},useMemo:function(h,m){var x=Jt();m=m===void 0?null:m;var w=h();if(Nn){Y(!0);try{h()}finally{Y(!1)}}return x.memoizedState=[w,m],w},useReducer:function(h,m,x){var w=Jt();if(x!==void 0){var L=x(m);if(Nn){Y(!0);try{x(m)}finally{Y(!1)}}}else L=m;return w.memoizedState=w.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},w.queue=h,h=h.dispatch=na.bind(null,sn,h),[w.memoizedState,h]},useRef:function(h){var m=Jt();return h={current:h},m.memoizedState=h},useState:function(h){h=eu(h);var m=h.queue,x=rs.bind(null,sn,m);return m.dispatch=x,[h.memoizedState,x]},useDebugValue:ou,useDeferredValue:function(h,m){var x=Jt();return ir(x,h,m)},useTransition:function(){var h=eu(!1);return h=tc.bind(null,sn,h.queue,!0,!1),Jt().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,m,x){var w=sn,L=Jt();if(An){if(x===void 0)throw Error(r(407));x=x()}else{if(x=m(),pn===null)throw Error(r(349));(Mn&127)!==0||Vi(w,m,x)}L.memoizedState=x;var k={value:x,getSnapshot:m};return L.queue=k,iu(ts.bind(null,w,k,h),[h]),w.flags|=2048,ta(9,{destroy:void 0},Hi.bind(null,w,k,x,m),null),x},useId:function(){var h=Jt(),m=pn.identifierPrefix;if(An){var x=os,w=zr;x=(w&~(1<<32-La(w)-1)).toString(32)+x,m="_"+m+"R_"+x,x=oa++,0<x&&(m+="H"+x.toString(32)),m+="_"}else x=Qv++,m="_"+m+"r_"+x.toString(32)+"_";return h.memoizedState=m},useHostTransitionStatus:gf,useFormState:tu,useActionState:tu,useOptimistic:function(h){var m=Jt();m.memoizedState=m.baseState=h;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=x,m=_p.bind(null,sn,!0,x),x.dispatch=m,[h,m]},useMemoCache:Qr,useCacheRefresh:function(){return Jt().memoizedState=eo.bind(null,sn)},useEffectEvent:function(h){var m=Jt(),x={impl:h};return m.memoizedState=x,function(){if((Sn&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}},Ys={readContext:$,use:Oi,useCallback:Cs,useContext:$,useEffect:Mo,useImperativeHandle:au,useInsertionEffect:is,useLayoutEffect:ml,useMemo:Rs,useReducer:Er,useRef:ec,useState:function(){return Er(Gn)},useDebugValue:ou,useDeferredValue:function(h,m){var x=Tt();return Ud(x,Gt.memoizedState,h,m)},useTransition:function(){var h=Er(Gn)[0],m=Tt().memoizedState;return[typeof h=="boolean"?h:Bt(h),m]},useSyncExternalStore:vi,useId:vf,useHostTransitionStatus:gf,useFormState:As,useActionState:As,useOptimistic:function(h,m){var x=Tt();return To(x,Gt,h,m)},useMemoCache:Qr,useCacheRefresh:kr};Ys.useEffectEvent=yi;var wu={readContext:$,use:Oi,useCallback:Cs,useContext:$,useEffect:Mo,useImperativeHandle:au,useInsertionEffect:is,useLayoutEffect:ml,useMemo:Rs,useReducer:gi,useRef:ec,useState:function(){return gi(Gn)},useDebugValue:ou,useDeferredValue:function(h,m){var x=Tt();return Gt===null?ir(x,h,m):Ud(x,Gt.memoizedState,h,m)},useTransition:function(){var h=gi(Gn)[0],m=Tt().memoizedState;return[typeof h=="boolean"?h:Bt(h),m]},useSyncExternalStore:vi,useId:vf,useHostTransitionStatus:gf,useFormState:Ms,useActionState:Ms,useOptimistic:function(h,m){var x=Tt();return Gt!==null?To(x,Gt,h,m):(x.baseState=h,[h,x.queue.dispatch])},useMemoCache:Qr,useCacheRefresh:kr};wu.useEffectEvent=yi;var ch={enqueueSetState:function(h,m,x){h=h._reactInternals;var w=_i(),L=ma(w);L.payload=m,x!=null&&(L.callback=x),m=Zr(h,L,w),m!==null&&(Mi(m,h,w),$a(m,h,w))},enqueueReplaceState:function(h,m,x){h=h._reactInternals;var w=_i(),L=ma(w);L.tag=1,L.payload=m,x!=null&&(L.callback=x),m=Zr(h,L,w),m!==null&&(Mi(m,h,w),$a(m,h,w))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var x=_i(),w=ma(x);w.tag=2,m!=null&&(w.callback=m),m=Zr(h,w,x),m!==null&&(Mi(m,h,x),$a(m,h,x))}},Ea=Error(r(461)),hi=!1,Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Fi=!1,ki=!1,Gf=!1,e0=typeof WeakSet=="function"?WeakSet:Set,Xi=null,Ri=null,Yi=!1,Jn=null,lo=8192,Vf={getCacheForType:function(h){var m=$(Si),x=m.data.get(h);return x===void 0&&(x=h(),m.data.set(h,x)),x},cacheSignal:function(){return $(Si).controller.signal}},Ho=0,Hf=1,qf=2,fh=3,Cu=4;if(typeof Symbol=="function"&&Symbol.for){var Mc=Symbol.for;Ho=Mc("selector.component"),Hf=Mc("selector.has_pseudo_class"),qf=Mc("selector.role"),fh=Mc("selector.test_id"),Cu=Mc("selector.text")}var uo=typeof WeakMap=="function"?WeakMap:Map,Sn=0,pn=null,En=null,Mn=0,Zn=0,or=null,us=!1,Ru=!1,Iu=!1,$s=0,Ii=0,Il=0,Pu=0,Wf=0,Ta=0,jf=0,dh=null,Ba=null,hm=!1,hh=0,wc=0,Nu=1/0,ph=null,Pl=null,sr=0,Nl=null,Cc=null,Ks=0,Xf=0,pm=null,t0=null,kn=0,mh=null;return dn.attemptContinuousHydration=function(h){if(h.tag===13||h.tag===31){var m=ai(h,67108864);m!==null&&Mi(m,h,67108864),$d(h,67108864)}},dn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13||h.tag===31){var m=_i();m=j(m);var x=ai(h,m);x!==null&&Mi(x,h,m),$d(h,m)}},dn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var m=S(h.pendingLanes);if(m!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;m;){var x=1<<31-La(m);h.entanglements[1]|=x,m&=~x}ot(h),(Sn&6)===0&&(Nu=ra()+500,it(0))}}break;case 31:case 13:m=ai(h,2),m!==null&&Mi(m,h,2),Np(),$d(h,2)}},dn.batchedUpdates=function(h,m){return h(m)},dn.createComponentSelector=function(h){return{$$typeof:Ho,value:h}},dn.createContainer=function(h,m,x,w,L,k,J,be,Ze,dt){return vu(h,m,!1,null,x,w,k,null,J,be,Ze,dt)},dn.createHasPseudoClassSelector=function(h){return{$$typeof:Hf,value:h}},dn.createHydrationContainer=function(h,m,x,w,L,k,J,be,Ze,dt,bt,gt,Rt,rn){var $i;return h=vu(x,w,!0,h,L,k,be,rn,Ze,dt,bt,gt),h.context=kp(null),x=h.current,w=_i(),w=j(w),L=ma(w),L.callback=($i=m)!=null?$i:null,Zr(x,L,w),m=w,h.current.lanes=m,O(h,m),ot(h),h},dn.createPortal=function(h,m,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fc,key:w==null?null:""+w,children:h,containerInfo:m,implementation:x}},dn.createRoleSelector=function(h){return{$$typeof:qf,value:h}},dn.createTestNameSelector=function(h){return{$$typeof:fh,value:h}},dn.createTextSelector=function(h){return{$$typeof:Cu,value:h}},dn.defaultOnCaughtError=function(h){console.error(h)},dn.defaultOnRecoverableError=function(h){sm(h)},dn.defaultOnUncaughtError=function(h){sm(h)},dn.deferredUpdates=function(h){var m=Wt.T,x=Oo();try{return Tn(32),Wt.T=null,h()}finally{Tn(x),Wt.T=m}},dn.discreteUpdates=function(h,m,x,w,L){var k=Wt.T,J=Oo();try{return Tn(2),Wt.T=null,h(m,x,w,L)}finally{Tn(J),Wt.T=k,Sn===0&&(Nu=ra()+500)}},dn.findAllNodes=Pa,dn.findBoundingRects=function(h,m){if(!hr)throw Error(r(363));m=Pa(h,m),h=[];for(var x=0;x<m.length;x++)h.push(jp(m[x]));for(m=h.length-1;0<m;m--){x=h[m];for(var w=x.x,L=w+x.width,k=x.y,J=k+x.height,be=m-1;0<=be;be--)if(m!==be){var Ze=h[be],dt=Ze.x,bt=dt+Ze.width,gt=Ze.y,Rt=gt+Ze.height;if(w>=dt&&k>=gt&&L<=bt&&J<=Rt){h.splice(m,1);break}else if(w!==dt||x.width!==Ze.width||Rt<k||gt>J){if(!(k!==gt||x.height!==Ze.height||bt<w||dt>L)){dt>w&&(Ze.width+=dt-w,Ze.x=w),bt<L&&(Ze.width=L-dt),h.splice(m,1);break}}else{gt>k&&(Ze.height+=gt-k,Ze.y=k),Rt<J&&(Ze.height=J-gt),h.splice(m,1);break}}}return h},dn.findHostInstance=Yd,dn.findHostInstanceWithNoPortals=function(h){return h=s(h),h=h!==null?c(h):null,h===null?null:Of(h.stateNode)},dn.findHostInstanceWithWarning=function(h){return Yd(h)},dn.flushPassiveEffects=zs,dn.flushSyncFromReconciler=function(h){var m=Sn;Sn|=1;var x=Wt.T,w=Oo();try{if(Tn(2),Wt.T=null,h)return h()}finally{Tn(w),Wt.T=x,Sn=m,(Sn&6)===0&&it(0)}},dn.flushSyncWork=Np,dn.focusWithin=function(h,m){if(!hr)throw Error(r(363));for(h=du(h),m=wf(h,m),m=Array.from(m),h=0;h<m.length;){var x=m[h++],w=x.tag;if(!bu(x)){if((w===5||w===26||w===27)&&Al(x.stateNode))return!0;for(x=x.child;x!==null;)m.push(x),x=x.sibling}}return!1},dn.getFindAllNodesFailureDescription=function(h,m){if(!hr)throw Error(r(363));var x=0,w=[];h=[du(h),0];for(var L=0;L<h.length;){var k=h[L++],J=k.tag,be=h[L++],Ze=m[be];if((J!==5&&J!==26&&J!==27||!bu(k))&&(hu(k,Ze)&&(w.push(Mf(Ze)),be++,be>x&&(x=be)),be<m.length))for(k=k.child;k!==null;)h.push(k,be),k=k.sibling}if(x<m.length){for(h=[];x<m.length;x++)h.push(Mf(m[x]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},dn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Of(h.child.stateNode);default:return h.child.stateNode}},dn.injectIntoDevTools=function(){var h={bundleType:0,version:gv,rendererPackageName:Zd,currentDispatcherRef:Wt,reconcilerVersion:"19.2.0"};if(Df!==null&&(h.rendererConfig=Df),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{xc=m.inject(h),Ua=m}catch{}h=!!m.checkDCE}}return h},dn.isAlreadyRendering=function(){return(Sn&6)!==0},dn.observeVisibleRects=function(h,m,x,w){if(!hr)throw Error(r(363));h=Pa(h,m);var L=Xp(h,x,w).disconnect;return{disconnect:function(){L()}}},dn.shouldError=function(){return null},dn.shouldSuspend=function(){return!1},dn.startHostTransition=function(h,m,x,w){if(h.tag!==5)throw Error(r(476));var L=nc(h).queue;tc(h,L,m,gc,x===null?i:function(){var k=nc(h);return k.next===null&&(k=h.alternate.memoizedState),su(h,k.next.queue,{},_i()),x(w)})},dn.updateContainer=function(h,m,x,w){var L=m.current,k=_i();return pv(L,k,h,m,x,w),k},dn.updateContainerSync=function(h,m,x,w){return pv(m.current,2,h,m,x,w),2},dn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(mB)),mB.exports}var vB;function DMe(){return vB||(vB=1,pB.exports=NMe()),pB.exports}var OMe=DMe();const LMe=PMe(OMe);function UMe(t){const e=LMe(t);return e.injectIntoDevTools(),e}const L7=0,Eg={},FMe=/^three(?=[A-Z])/,uA=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let kMe=0;const BMe=t=>typeof t=="function";function zMe(t){if(BMe(t)){const e=`${kMe++}`;return Eg[e]=t,e}else Object.assign(Eg,t)}function U7(t,e){const n=uA(t),i=Eg[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function GMe(t,e,n){var i;return t=uA(t)in Eg?t:t.replace(FMe,""),U7(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,xE(e.object,n,t,e)}function VMe(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?EE(t.parent,t):Xo(t.object)&&(t.object.visible=!1),t.isHidden=!0,qg(t)}}function F7(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?SE(t.parent,t):Xo(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,qg(t)}}function vD(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const o=Eg[uA(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(fd(e.object,e.props),e.props.attach)SE(t,e);else if(Xo(e.object)&&Xo(t.object)){const o=t.object.children.indexOf(n==null?void 0:n.object);if(n&&o!==-1){const s=t.object.children.indexOf(e.object);if(s!==-1){t.object.children.splice(s,1);const u=s<o?o-1:o;t.object.children.splice(u,0,e.object)}else e.object.parent=t.object,t.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const o of e.children)vD(e,o);qg(e)}}function MC(t,e){e&&(e.parent=t,t.children.push(e),vD(t,e))}function yB(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),vD(t,e,n)}function k7(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():dI.unstable_scheduleCallback(dI.unstable_IdlePriority,e)}}function pI(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?EE(t,e):Xo(e.object)&&Xo(t.object)&&(t.object.remove(e.object),EMe(w7(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];pI(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&k7(e.object),n===void 0&&qg(e)}function HMe(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const CS=[];function qMe(){for(const[n]of CS){const i=n.parent;if(i){n.props.attach?EE(i,n):Xo(n.object)&&Xo(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?EE(n,r):Xo(r.object)&&Xo(n.object)&&n.object.remove(r.object)}n.isHidden&&F7(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&k7(n.object)}for(const[n,i,r]of CS){n.props=i;const a=n.parent;if(a){var t,e;const o=Eg[uA(n.type)];n.object=(t=n.props.object)!=null?t:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,HMe(r,n.object),fd(n.object,n.props),n.props.attach?SE(a,n):Xo(n.object)&&Xo(a.object)&&a.object.add(n.object);for(const s of n.children)s.props.attach?SE(n,s):Xo(s.object)&&Xo(n.object)&&n.object.add(s.object);qg(n)}}CS.length=0}const wC=()=>{},_B={};let cS=L7;const WMe=0,jMe=4,mI=UMe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:GMe,removeChild:pI,appendChild:MC,appendInitialChild:MC,insertBefore:yB,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||MC(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||pI(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||yB(i,e,n)},getRootHostContext:()=>_B,getChildHostContext:()=>_B,commitUpdate(t,e,n,i,r){var a,o,s;U7(e,i);let u=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=n.args)==null?void 0:o.length)||(s=i.args)!=null&&s.some((d,p)=>{var v;return d!==((v=n.args)==null?void 0:v[p])}))&&(u=!0),u)CS.push([t,{...i},r]);else{const d=_Me(t,i);Object.keys(d).length&&(Object.assign(t.props,d),fd(t.object,d))}(r.sibling===null||(r.flags&jMe)===WMe)&&qMe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t==null?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>xE(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:VMe,unhideInstance:F7,createTextInstance:wC,hideTextInstance:wC,unhideTextInstance:wC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:G.createContext(null),setCurrentUpdatePriority(t){cS=t},getCurrentUpdatePriority(){return cS},resolveUpdatePriority(){var t;if(cS!==L7)return cS;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return RMe;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wMe;default:return CMe}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:IMe.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),cp=new Map,qm={objects:"shallow",strict:!1};function XMe(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function YMe(t){const e=cp.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||AMe(yI,xB),o=n||mI.createContainer(a,MMe,null,!1,null,"",r,r,r,null);e||cp.set(t,{fiber:o,store:a});let s,u,c=!1,d=null;return{async configure(p={}){let v;d=new Promise(H=>v=H);let{gl:y,size:b,scene:T,events:S,onCreated:A,shadows:R=!1,linear:I=!1,flat:N=!1,legacy:D=!1,orthographic:O=!1,frameloop:F="always",dpr:z=[1,2],performance:U,raycaster:B,camera:j,onPointerMissed:W}=p,Y=a.getState(),Q=Y.gl;if(!Y.gl){const H={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},te=typeof y=="function"?await y(H):y;hB(te)?Q=te:Q=new E7({...H,...y}),Y.set({gl:Q})}let ae=Y.raycaster;ae||Y.set({raycaster:ae=new m7});const{params:X,...ne}=B||{};if(Ki.equ(ne,ae,qm)||fd(ae,{...ne}),Ki.equ(X,ae.params,qm)||fd(ae,{params:{...ae.params,...X}}),!Y.camera||Y.camera===u&&!Ki.equ(u,j,qm)){u=j;const H=j==null?void 0:j.isCamera,te=H?j:O?new Xc(0,0,0,0,.1,1e3):new _r(75,0,.1,1e3);H||(te.position.z=5,j&&(fd(te,j),te.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(te.manual=!0,te.updateProjectionMatrix())),!Y.camera&&!(j!=null&&j.rotation)&&te.lookAt(0,0,0)),Y.set({camera:te}),ae.camera=te}if(!Y.scene){let H;T!=null&&T.isScene?(H=T,xE(H,a,"",{})):(H=new HN,xE(H,a,"",{}),T&&fd(H,T)),Y.set({scene:H})}S&&!Y.events.handlers&&Y.set({events:S(a)});const ge=XMe(t,b);if(Ki.equ(ge,Y.size,qm)||Y.setSize(ge.width,ge.height,ge.top,ge.left),z&&Y.viewport.dpr!==I7(z)&&Y.setDpr(z),Y.frameloop!==F&&Y.setFrameloop(F),Y.onPointerMissed||Y.set({onPointerMissed:W}),U&&!Ki.equ(U,Y.performance,qm)&&Y.set(H=>({performance:{...H.performance,...U}})),!Y.xr){var pe;const H=(ce,ye)=>{const oe=a.getState();oe.frameloop!=="never"&&xB(ce,!0,oe,ye)},te=()=>{const ce=a.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?H:null),ce.gl.xr.isPresenting||yI(ce)},ie={connect(){const ce=a.getState().gl;ce.xr.addEventListener("sessionstart",te),ce.xr.addEventListener("sessionend",te)},disconnect(){const ce=a.getState().gl;ce.xr.removeEventListener("sessionstart",te),ce.xr.removeEventListener("sessionend",te)}};typeof((pe=Q.xr)==null?void 0:pe.addEventListener)=="function"&&ie.connect(),Y.set({xr:ie})}if(Q.shadowMap){const H=Q.shadowMap.enabled,te=Q.shadowMap.type;if(Q.shadowMap.enabled=!!R,Ki.boo(R))Q.shadowMap.type=j0;else if(Ki.str(R)){var de;const ie={basic:Lq,percentage:og,soft:j0,variance:Vh};Q.shadowMap.type=(de=ie[R])!=null?de:j0}else Ki.obj(R)&&Object.assign(Q.shadowMap,R);(H!==Q.shadowMap.enabled||te!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}return Fn.enabled=!D,c||(Q.outputColorSpace=I?Sd:qa,Q.toneMapping=N?al:TT),Y.legacy!==D&&Y.set(()=>({legacy:D})),Y.linear!==I&&Y.set(()=>({linear:I})),Y.flat!==N&&Y.set(()=>({flat:N})),y&&!Ki.fun(y)&&!hB(y)&&!Ki.equ(y,Q,qm)&&fd(Q,y),s=A,c=!0,v(),this},render(p){return!c&&!d&&this.configure(),d.then(()=>{mI.updateContainer(re.jsx($Me,{store:a,children:p,onCreated:s,rootElement:t}),o,null,()=>{})}),a},unmount(){B7(t)}}}function $Me({store:t,children:e,onCreated:n,rootElement:i}){return __(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),re.jsx(D7.Provider,{value:t,children:e})}function B7(t,e){const n=cp.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),mI.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,s,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=r.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),gMe(r.scene),cp.delete(t)}catch{}},500)})}}const KMe=new Set,JMe=new Set,ZMe=new Set;function CC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ty(t,e){switch(t){case"before":return CC(KMe,e);case"after":return CC(JMe,e);case"tail":return CC(ZMe,e)}}let RC,IC;function gI(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),RC=e.internal.subscribers;for(let r=0;r<RC.length;r++)IC=RC[r],IC.ref.current(IC.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let TE=!1,vI=!1,PC,bB,Wm;function z7(t){bB=requestAnimationFrame(z7),TE=!0,PC=0,ty("before",t),vI=!0;for(const n of cp.values()){var e;Wm=n.store.getState(),Wm.internal.active&&(Wm.frameloop==="always"||Wm.internal.frames>0)&&!((e=Wm.gl.xr)!=null&&e.isPresenting)&&(PC+=gI(t,Wm))}if(vI=!1,ty("after",t),PC===0)return ty("tail",t),TE=!1,cancelAnimationFrame(bB)}function yI(t,e=1){var n;if(!t)return cp.forEach(i=>yI(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):vI?t.internal.frames=2:t.internal.frames=1,TE||(TE=!0,requestAnimationFrame(z7)))}function xB(t,e=!0,n,i){if(e&&ty("before",t),n)gI(t,n,i);else for(const r of cp.values())gI(t,r.store.getState());e&&ty("after",t)}const NC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function QMe(t){const{handlePointer:e}=TMe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(NC).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[s,u]=NC[a];n.addEventListener(s,o,{passive:u})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=NC[r];i.connected.removeEventListener(o,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function SB(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function ewe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=G.useRef(!1);G.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,v,y]=G.useMemo(()=>{const A=()=>{if(!s.current.element)return;const{left:R,top:I,width:N,height:D,bottom:O,right:F,x:z,y:U}=s.current.element.getBoundingClientRect(),B={left:R,top:I,width:N,height:D,bottom:O,right:F,x:z,y:U};s.current.element instanceof HTMLElement&&i&&(B.height=s.current.element.offsetHeight,B.width=s.current.element.offsetWidth),Object.freeze(B),d.current&&!rwe(s.current.lastBounds,B)&&o(s.current.lastBounds=B)};return[A,c?SB(A,c):A,u?SB(A,u):A]},[o,i,u,c]);function b(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function T(){s.current.element&&(s.current.resizeObserver=new r(y),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const S=A=>{!A||A===s.current.element||(b(),s.current.element=A,s.current.scrollContainers=G7(A),T())};return nwe(y,!!e),twe(v),G.useEffect(()=>{b(),T()},[e,y,v]),G.useEffect(()=>b,[]),[S,a,p]}function twe(t){G.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function nwe(t,e){G.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function G7(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...G7(t.parentElement)]}const iwe=["x","y","top","bottom","left","right","width","height"],rwe=(t,e)=>iwe.every(n=>t[n]===e[n]);function awe({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:o=QMe,eventSource:s,eventPrefix:u,shadows:c,linear:d,flat:p,legacy:v,orthographic:y,frameloop:b,dpr:T,performance:S,raycaster:A,camera:R,scene:I,onPointerMissed:N,onCreated:D,...O}){G.useMemo(()=>zMe(KAe),[]);const F=hMe(),[z,U]=ewe({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=G.useRef(null),j=G.useRef(null);G.useImperativeHandle(t,()=>B.current);const W=R7(N),[Y,Q]=G.useState(!1),[ae,X]=G.useState(!1);if(Y)throw Y;if(ae)throw ae;const ne=G.useRef(null);__(()=>{const pe=B.current;if(U.width>0&&U.height>0&&pe){ne.current||(ne.current=YMe(pe));async function de(){await ne.current.configure({gl:a,scene:I,events:o,shadows:c,linear:d,flat:p,legacy:v,orthographic:y,frameloop:b,dpr:T,performance:S,raycaster:A,camera:R,size:U,onPointerMissed:(...H)=>W.current==null?void 0:W.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(s?fMe(s)?s.current:s:j.current),u&&H.setEvents({compute:(te,ie)=>{const ce=te[u+"X"],ye=te[u+"Y"];ie.pointer.set(ce/ie.size.width*2-1,-(ye/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),D==null||D(H)}}),ne.current.render(re.jsx(F,{children:re.jsx(mMe,{set:X,children:re.jsx(G.Suspense,{fallback:re.jsx(pMe,{set:Q}),children:e??null})})}))}de()}}),G.useEffect(()=>{const pe=B.current;if(pe)return()=>B7(pe)},[]);const ge=s?"none":"auto";return re.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ge,...r},...O,children:re.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:re.jsx("canvas",{ref:B,style:{display:"block"},children:n})})})}function owe(t){return re.jsx(A7,{children:re.jsx(awe,{...t})})}function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},AE.apply(null,arguments)}var swe=Object.defineProperty,lwe=(t,e,n)=>e in t?swe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uwe=(t,e,n)=>(lwe(t,e+"",n),n);class cwe{constructor(){uwe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var fwe=Object.defineProperty,dwe=(t,e,n)=>e in t?fwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$t=(t,e,n)=>(dwe(t,typeof e!="symbol"?e+"":e,n),n);const fS=new mp,EB=new kc,hwe=Math.cos(70*(Math.PI/180)),TB=(t,e)=>(t%e+e)%e;let pwe=class extends cwe{constructor(e,n){super(),$t(this,"object"),$t(this,"domElement"),$t(this,"enabled",!0),$t(this,"target",new se),$t(this,"minDistance",0),$t(this,"maxDistance",1/0),$t(this,"minZoom",0),$t(this,"maxZoom",1/0),$t(this,"minPolarAngle",0),$t(this,"maxPolarAngle",Math.PI),$t(this,"minAzimuthAngle",-1/0),$t(this,"maxAzimuthAngle",1/0),$t(this,"enableDamping",!1),$t(this,"dampingFactor",.05),$t(this,"enableZoom",!0),$t(this,"zoomSpeed",1),$t(this,"enableRotate",!0),$t(this,"rotateSpeed",1),$t(this,"enablePan",!0),$t(this,"panSpeed",1),$t(this,"screenSpacePanning",!0),$t(this,"keyPanSpeed",7),$t(this,"zoomToCursor",!1),$t(this,"autoRotate",!1),$t(this,"autoRotateSpeed",2),$t(this,"reverseOrbit",!1),$t(this,"reverseHorizontalOrbit",!1),$t(this,"reverseVerticalOrbit",!1),$t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$t(this,"mouseButtons",{LEFT:Lh.ROTATE,MIDDLE:Lh.DOLLY,RIGHT:Lh.PAN}),$t(this,"touches",{ONE:Uh.ROTATE,TWO:Uh.DOLLY_PAN}),$t(this,"target0"),$t(this,"position0"),$t(this,"zoom0"),$t(this,"_domElementKeyEvents",null),$t(this,"getPolarAngle"),$t(this,"getAzimuthalAngle"),$t(this,"setPolarAngle"),$t(this,"setAzimuthalAngle"),$t(this,"getDistance"),$t(this,"getZoomScale"),$t(this,"listenToKeyEvents"),$t(this,"stopListenToKeyEvents"),$t(this,"saveState"),$t(this,"reset"),$t(this,"update"),$t(this,"connect"),$t(this,"dispose"),$t(this,"dollyIn"),$t(this,"dollyOut"),$t(this,"getScale"),$t(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ue=>{let we=TB(ue,2*Math.PI),ht=d.phi;ht<0&&(ht+=2*Math.PI),we<0&&(we+=2*Math.PI);let me=Math.abs(we-ht);2*Math.PI-me<me&&(we<ht?we+=2*Math.PI:ht+=2*Math.PI),p.phi=we-ht,i.update()},this.setAzimuthalAngle=ue=>{let we=TB(ue,2*Math.PI),ht=d.theta;ht<0&&(ht+=2*Math.PI),we<0&&(we+=2*Math.PI);let me=Math.abs(we-ht);2*Math.PI-me<me&&(we<ht?we+=2*Math.PI:ht+=2*Math.PI),p.theta=we-ht,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",Te),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Te),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=s.NONE},this.update=(()=>{const ue=new se,we=new se(0,1,0),ht=new Xa().setFromUnitVectors(e.up,we),me=ht.clone().invert(),Ye=new se,tt=new Xa,vt=2*Math.PI;return function(){const Be=i.object.position;ht.setFromUnitVectors(e.up,we),me.copy(ht).invert(),ue.copy(Be).sub(i.target),ue.applyQuaternion(ht),d.setFromVector3(ue),i.autoRotate&&u===s.NONE&&Q(W()),i.enableDamping?(d.theta+=p.theta*i.dampingFactor,d.phi+=p.phi*i.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);let lt=i.minAzimuthAngle,Et=i.maxAzimuthAngle;isFinite(lt)&&isFinite(Et)&&(lt<-Math.PI?lt+=vt:lt>Math.PI&&(lt-=vt),Et<-Math.PI?Et+=vt:Et>Math.PI&&(Et-=vt),lt<=Et?d.theta=Math.max(lt,Math.min(Et,d.theta)):d.theta=d.theta>(lt+Et)/2?Math.max(lt,d.theta):Math.min(Et,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&U||i.object.isOrthographicCamera?d.radius=ie(d.radius):d.radius=ie(d.radius*v),ue.setFromSpherical(d),ue.applyQuaternion(me),Be.copy(i.target).add(ue),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(p.theta*=1-i.dampingFactor,p.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(p.set(0,0,0),y.set(0,0,0));let St=!1;if(i.zoomToCursor&&U){let Lt=null;if(i.object instanceof _r&&i.object.isPerspectiveCamera){const vn=ue.length();Lt=ie(vn*v);const wn=vn-Lt;i.object.position.addScaledVector(F,wn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const vn=new se(z.x,z.y,0);vn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),St=!0;const wn=new se(z.x,z.y,0);wn.unproject(i.object),i.object.position.sub(wn).add(vn),i.object.updateMatrixWorld(),Lt=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Lt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Lt).add(i.object.position):(fS.origin.copy(i.object.position),fS.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(fS.direction))<hwe?e.lookAt(i.target):(EB.setFromNormalAndCoplanarPoint(i.object.up,i.target),fS.intersectPlane(EB,i.target))))}else i.object instanceof Xc&&i.object.isOrthographicCamera&&(St=v!==1,St&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,U=!1,St||Ye.distanceToSquared(i.object.position)>c||8*(1-tt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Ye.copy(i.object.position),tt.copy(i.object.quaternion),St=!1,!0):!1}})(),this.connect=ue=>{i.domElement=ue,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",mt),i.domElement.addEventListener("pointerdown",Ve),i.domElement.addEventListener("pointercancel",q),i.domElement.addEventListener("wheel",Ce)},this.dispose=()=>{var ue,we,ht,me,Ye,tt;i.domElement&&(i.domElement.style.touchAction="auto"),(ue=i.domElement)==null||ue.removeEventListener("contextmenu",mt),(we=i.domElement)==null||we.removeEventListener("pointerdown",Ve),(ht=i.domElement)==null||ht.removeEventListener("pointercancel",q),(me=i.domElement)==null||me.removeEventListener("wheel",Ce),(Ye=i.domElement)==null||Ye.ownerDocument.removeEventListener("pointermove",$),(tt=i.domElement)==null||tt.ownerDocument.removeEventListener("pointerup",q),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Te)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const c=1e-6,d=new bE,p=new bE;let v=1;const y=new se,b=new st,T=new st,S=new st,A=new st,R=new st,I=new st,N=new st,D=new st,O=new st,F=new se,z=new st;let U=!1;const B=[],j={};function W(){return 2*Math.PI/60/60*i.autoRotateSpeed}function Y(){return Math.pow(.95,i.zoomSpeed)}function Q(ue){i.reverseOrbit||i.reverseHorizontalOrbit?p.theta+=ue:p.theta-=ue}function ae(ue){i.reverseOrbit||i.reverseVerticalOrbit?p.phi+=ue:p.phi-=ue}const X=(()=>{const ue=new se;return function(ht,me){ue.setFromMatrixColumn(me,0),ue.multiplyScalar(-ht),y.add(ue)}})(),ne=(()=>{const ue=new se;return function(ht,me){i.screenSpacePanning===!0?ue.setFromMatrixColumn(me,1):(ue.setFromMatrixColumn(me,0),ue.crossVectors(i.object.up,ue)),ue.multiplyScalar(ht),y.add(ue)}})(),ge=(()=>{const ue=new se;return function(ht,me){const Ye=i.domElement;if(Ye&&i.object instanceof _r&&i.object.isPerspectiveCamera){const tt=i.object.position;ue.copy(tt).sub(i.target);let vt=ue.length();vt*=Math.tan(i.object.fov/2*Math.PI/180),X(2*ht*vt/Ye.clientHeight,i.object.matrix),ne(2*me*vt/Ye.clientHeight,i.object.matrix)}else Ye&&i.object instanceof Xc&&i.object.isOrthographicCamera?(X(ht*(i.object.right-i.object.left)/i.object.zoom/Ye.clientWidth,i.object.matrix),ne(me*(i.object.top-i.object.bottom)/i.object.zoom/Ye.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function pe(ue){i.object instanceof _r&&i.object.isPerspectiveCamera||i.object instanceof Xc&&i.object.isOrthographicCamera?v=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function de(ue){pe(v/ue)}function H(ue){pe(v*ue)}function te(ue){if(!i.zoomToCursor||!i.domElement)return;U=!0;const we=i.domElement.getBoundingClientRect(),ht=ue.clientX-we.left,me=ue.clientY-we.top,Ye=we.width,tt=we.height;z.x=ht/Ye*2-1,z.y=-(me/tt)*2+1,F.set(z.x,z.y,1).unproject(i.object).sub(i.object.position).normalize()}function ie(ue){return Math.max(i.minDistance,Math.min(i.maxDistance,ue))}function ce(ue){b.set(ue.clientX,ue.clientY)}function ye(ue){te(ue),N.set(ue.clientX,ue.clientY)}function oe(ue){A.set(ue.clientX,ue.clientY)}function le(ue){T.set(ue.clientX,ue.clientY),S.subVectors(T,b).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(Q(2*Math.PI*S.x/we.clientHeight),ae(2*Math.PI*S.y/we.clientHeight)),b.copy(T),i.update()}function Se(ue){D.set(ue.clientX,ue.clientY),O.subVectors(D,N),O.y>0?de(Y()):O.y<0&&H(Y()),N.copy(D),i.update()}function he(ue){R.set(ue.clientX,ue.clientY),I.subVectors(R,A).multiplyScalar(i.panSpeed),ge(I.x,I.y),A.copy(R),i.update()}function De(ue){te(ue),ue.deltaY<0?H(Y()):ue.deltaY>0&&de(Y()),i.update()}function Fe(ue){let we=!1;switch(ue.code){case i.keys.UP:ge(0,i.keyPanSpeed),we=!0;break;case i.keys.BOTTOM:ge(0,-i.keyPanSpeed),we=!0;break;case i.keys.LEFT:ge(i.keyPanSpeed,0),we=!0;break;case i.keys.RIGHT:ge(-i.keyPanSpeed,0),we=!0;break}we&&(ue.preventDefault(),i.update())}function ve(){if(B.length==1)b.set(B[0].pageX,B[0].pageY);else{const ue=.5*(B[0].pageX+B[1].pageX),we=.5*(B[0].pageY+B[1].pageY);b.set(ue,we)}}function ct(){if(B.length==1)A.set(B[0].pageX,B[0].pageY);else{const ue=.5*(B[0].pageX+B[1].pageX),we=.5*(B[0].pageY+B[1].pageY);A.set(ue,we)}}function Ee(){const ue=B[0].pageX-B[1].pageX,we=B[0].pageY-B[1].pageY,ht=Math.sqrt(ue*ue+we*we);N.set(0,ht)}function Oe(){i.enableZoom&&Ee(),i.enablePan&&ct()}function Me(){i.enableZoom&&Ee(),i.enableRotate&&ve()}function Je(ue){if(B.length==1)T.set(ue.pageX,ue.pageY);else{const ht=et(ue),me=.5*(ue.pageX+ht.x),Ye=.5*(ue.pageY+ht.y);T.set(me,Ye)}S.subVectors(T,b).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(Q(2*Math.PI*S.x/we.clientHeight),ae(2*Math.PI*S.y/we.clientHeight)),b.copy(T)}function K(ue){if(B.length==1)R.set(ue.pageX,ue.pageY);else{const we=et(ue),ht=.5*(ue.pageX+we.x),me=.5*(ue.pageY+we.y);R.set(ht,me)}I.subVectors(R,A).multiplyScalar(i.panSpeed),ge(I.x,I.y),A.copy(R)}function at(ue){const we=et(ue),ht=ue.pageX-we.x,me=ue.pageY-we.y,Ye=Math.sqrt(ht*ht+me*me);D.set(0,Ye),O.set(0,Math.pow(D.y/N.y,i.zoomSpeed)),de(O.y),N.copy(D)}function je(ue){i.enableZoom&&at(ue),i.enablePan&&K(ue)}function Re(ue){i.enableZoom&&at(ue),i.enableRotate&&Je(ue)}function Ve(ue){var we,ht;i.enabled!==!1&&(B.length===0&&((we=i.domElement)==null||we.ownerDocument.addEventListener("pointermove",$),(ht=i.domElement)==null||ht.ownerDocument.addEventListener("pointerup",q)),xt(ue),ue.pointerType==="touch"?ot(ue):fe(ue))}function $(ue){i.enabled!==!1&&(ue.pointerType==="touch"?it(ue):Le(ue))}function q(ue){var we,ht,me;We(ue),B.length===0&&((we=i.domElement)==null||we.releasePointerCapture(ue.pointerId),(ht=i.domElement)==null||ht.ownerDocument.removeEventListener("pointermove",$),(me=i.domElement)==null||me.ownerDocument.removeEventListener("pointerup",q)),i.dispatchEvent(o),u=s.NONE}function fe(ue){let we;switch(ue.button){case 0:we=i.mouseButtons.LEFT;break;case 1:we=i.mouseButtons.MIDDLE;break;case 2:we=i.mouseButtons.RIGHT;break;default:we=-1}switch(we){case Lh.DOLLY:if(i.enableZoom===!1)return;ye(ue),u=s.DOLLY;break;case Lh.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enablePan===!1)return;oe(ue),u=s.PAN}else{if(i.enableRotate===!1)return;ce(ue),u=s.ROTATE}break;case Lh.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enableRotate===!1)return;ce(ue),u=s.ROTATE}else{if(i.enablePan===!1)return;oe(ue),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&i.dispatchEvent(a)}function Le(ue){if(i.enabled!==!1)switch(u){case s.ROTATE:if(i.enableRotate===!1)return;le(ue);break;case s.DOLLY:if(i.enableZoom===!1)return;Se(ue);break;case s.PAN:if(i.enablePan===!1)return;he(ue);break}}function Ce(ue){i.enabled===!1||i.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(ue.preventDefault(),i.dispatchEvent(a),De(ue),i.dispatchEvent(o))}function Te(ue){i.enabled===!1||i.enablePan===!1||Fe(ue)}function ot(ue){switch(Ke(ue),B.length){case 1:switch(i.touches.ONE){case Uh.ROTATE:if(i.enableRotate===!1)return;ve(),u=s.TOUCH_ROTATE;break;case Uh.PAN:if(i.enablePan===!1)return;ct(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(i.touches.TWO){case Uh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Oe(),u=s.TOUCH_DOLLY_PAN;break;case Uh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Me(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&i.dispatchEvent(a)}function it(ue){switch(Ke(ue),u){case s.TOUCH_ROTATE:if(i.enableRotate===!1)return;Je(ue),i.update();break;case s.TOUCH_PAN:if(i.enablePan===!1)return;K(ue),i.update();break;case s.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;je(ue),i.update();break;case s.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Re(ue),i.update();break;default:u=s.NONE}}function mt(ue){i.enabled!==!1&&ue.preventDefault()}function xt(ue){B.push(ue)}function We(ue){delete j[ue.pointerId];for(let we=0;we<B.length;we++)if(B[we].pointerId==ue.pointerId){B.splice(we,1);return}}function Ke(ue){let we=j[ue.pointerId];we===void 0&&(we=new st,j[ue.pointerId]=we),we.set(ue.pageX,ue.pageY)}function et(ue){const we=ue.pointerId===B[0].pointerId?B[1]:B[0];return j[we.pointerId]}this.dollyIn=(ue=Y())=>{H(ue),i.update()},this.dollyOut=(ue=Y())=>{de(ue),i.update()},this.getScale=()=>v,this.setScale=ue=>{pe(ue),i.update()},this.getZoomScale=()=>Y(),n!==void 0&&this.connect(n),this.update()}};function mwe(){var t=Object.create(null);function e(r,a){var o=r.id,s=r.name,u=r.dependencies;u===void 0&&(u=[]);var c=r.init;c===void 0&&(c=function(){});var d=r.getTransferables;if(d===void 0&&(d=null),!t[o])try{u=u.map(function(v){return v&&v.isWorkerModule&&(e(v,function(y){if(y instanceof Error)throw y}),v=t[v.id].value),v}),c=i("<"+s+">.init",c),d&&(d=i("<"+s+">.getTransferables",d));var p=null;typeof c=="function"?p=c.apply(void 0,u):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:p,getTransferables:d},a(p)}catch(v){v&&v.noLog||console.error(v),a(v)}}function n(r,a){var o,s=r.id,u=r.args;(!t[s]||typeof t[s].value!="function")&&a(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(o=t[s]).value.apply(o,u);c&&typeof c.then=="function"?c.then(d,function(p){return a(p instanceof Error?p:new Error(""+p))}):d(c)}catch(p){a(p)}function d(p){try{var v=t[s].getTransferables&&t[s].getTransferables(p);(!v||!Array.isArray(v)||!v.length)&&(v=void 0),a(p,v)}catch(y){console.error(y),a(y)}}}function i(r,a){var o=void 0;self.troikaDefine=function(u){return o=u};var s=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(u){console.error(u)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(r){var a=r.data,o=a.messageId,s=a.action,u=a.data;try{s==="registerModule"&&e(u,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&n(u,function(c,d){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},d||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function gwe(t){var e=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,i=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var r=Promise.all(n).then(function(a){return i.apply(null,a)});return e._getInitResult=function(){return r},r},e}var V7=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return V7=function(){return t},t},vwe=0,ywe=0,DC=!1,ny=Object.create(null),iy=Object.create(null),_I=Object.create(null);function Wg(t){if((!t||typeof t.init!="function")&&!DC)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,i=t.getTransferables,r=t.workerId,a=gwe(t);r==null&&(r="#default");var o="workerModule"+ ++vwe,s=t.name||o,u=null;e=e&&e.map(function(d){return typeof d=="function"&&!d.workerModuleData&&(DC=!0,d=Wg({workerId:r,name:"<"+s+"> function dependency: "+d.name,init:`function(){return (
`+RS(d)+`
)}`}),DC=!1),d&&d.workerModuleData&&(d=d.workerModuleData),d});function c(){for(var d=[],p=arguments.length;p--;)d[p]=arguments[p];if(!V7())return a.apply(void 0,d);if(!u){u=AB(r,"registerModule",c.workerModuleData);var v=function(){u=null,iy[r].delete(v)};(iy[r]||(iy[r]=new Set)).add(v)}return u.then(function(y){var b=y.isCallable;if(b)return AB(r,"callModule",{id:o,args:d});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:RS(n),getTransferables:i&&RS(i)},c.onMainThread=a,c}function _we(t){iy[t]&&iy[t].forEach(function(e){e()}),ny[t]&&(ny[t].terminate(),delete ny[t])}function RS(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function bwe(t){var e=ny[t];if(!e){var n=RS(mwe);e=ny[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,a=r.messageId,o=_I[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete _I[a],o(r)}}return e}function AB(t,e,n){return new Promise(function(i,r){var a=++ywe;_I[a]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},bwe(t).postMessage({messageId:a,action:e,data:n})})}function H7(){var t=(function(e){function n(pe,de,H,te,ie,ce,ye,oe){var le=1-ye;oe.x=le*le*pe+2*le*ye*H+ye*ye*ie,oe.y=le*le*de+2*le*ye*te+ye*ye*ce}function i(pe,de,H,te,ie,ce,ye,oe,le,Se){var he=1-le;Se.x=he*he*he*pe+3*he*he*le*H+3*he*le*le*ie+le*le*le*ye,Se.y=he*he*he*de+3*he*he*le*te+3*he*le*le*ce+le*le*le*oe}function r(pe,de){for(var H=/([MLQCZ])([^MLQCZ]*)/g,te,ie,ce,ye,oe;te=H.exec(pe);){var le=te[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Se){return parseFloat(Se)});switch(te[1]){case"M":ye=ie=le[0],oe=ce=le[1];break;case"L":(le[0]!==ye||le[1]!==oe)&&de("L",ye,oe,ye=le[0],oe=le[1]);break;case"Q":{de("Q",ye,oe,ye=le[2],oe=le[3],le[0],le[1]);break}case"C":{de("C",ye,oe,ye=le[4],oe=le[5],le[0],le[1],le[2],le[3]);break}case"Z":(ye!==ie||oe!==ce)&&de("L",ye,oe,ie,ce);break}}}function a(pe,de,H){H===void 0&&(H=16);var te={x:0,y:0};r(pe,function(ie,ce,ye,oe,le,Se,he,De,Fe){switch(ie){case"L":de(ce,ye,oe,le);break;case"Q":{for(var ve=ce,ct=ye,Ee=1;Ee<H;Ee++)n(ce,ye,Se,he,oe,le,Ee/(H-1),te),de(ve,ct,te.x,te.y),ve=te.x,ct=te.y;break}case"C":{for(var Oe=ce,Me=ye,Je=1;Je<H;Je++)i(ce,ye,Se,he,De,Fe,oe,le,Je/(H-1),te),de(Oe,Me,te.x,te.y),Oe=te.x,Me=te.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(pe,de){var H=pe.getContext?pe.getContext("webgl",c):pe,te=u.get(H);if(!te){let Oe=function(Re){var Ve=ce[Re];if(!Ve&&(Ve=ce[Re]=H.getExtension(Re),!Ve))throw new Error(Re+" not supported");return Ve},Me=function(Re,Ve){var $=H.createShader(Ve);return H.shaderSource($,Re),H.compileShader($),$},Je=function(Re,Ve,$,q){if(!ye[Re]){var fe={},Le={},Ce=H.createProgram();H.attachShader(Ce,Me(Ve,H.VERTEX_SHADER)),H.attachShader(Ce,Me($,H.FRAGMENT_SHADER)),H.linkProgram(Ce),ye[Re]={program:Ce,transaction:function(ot){H.useProgram(Ce),ot({setUniform:function(mt,xt){for(var We=[],Ke=arguments.length-2;Ke-- >0;)We[Ke]=arguments[Ke+2];var et=Le[xt]||(Le[xt]=H.getUniformLocation(Ce,xt));H["uniform"+mt].apply(H,[et].concat(We))},setAttribute:function(mt,xt,We,Ke,et){var ue=fe[mt];ue||(ue=fe[mt]={buf:H.createBuffer(),loc:H.getAttribLocation(Ce,mt),data:null}),H.bindBuffer(H.ARRAY_BUFFER,ue.buf),H.vertexAttribPointer(ue.loc,xt,H.FLOAT,!1,0,0),H.enableVertexAttribArray(ue.loc),ie?H.vertexAttribDivisor(ue.loc,Ke):Oe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ue.loc,Ke),et!==ue.data&&(H.bufferData(H.ARRAY_BUFFER,et,We),ue.data=et)}})}}}ye[Re].transaction(q)},K=function(Re,Ve){le++;try{H.activeTexture(H.TEXTURE0+le);var $=oe[Re];$||($=oe[Re]=H.createTexture(),H.bindTexture(H.TEXTURE_2D,$),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.NEAREST),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST)),H.bindTexture(H.TEXTURE_2D,$),Ve($,le)}finally{le--}},at=function(Re,Ve,$){var q=H.createFramebuffer();Se.push(q),H.bindFramebuffer(H.FRAMEBUFFER,q),H.activeTexture(H.TEXTURE0+Ve),H.bindTexture(H.TEXTURE_2D,Re),H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Re,0);try{$(q)}finally{H.deleteFramebuffer(q),H.bindFramebuffer(H.FRAMEBUFFER,Se[--Se.length-1]||null)}},je=function(){ce={},ye={},oe={},le=-1,Se.length=0};var he=Oe,De=Me,Fe=Je,ve=K,ct=at,Ee=je,ie=typeof WebGL2RenderingContext<"u"&&H instanceof WebGL2RenderingContext,ce={},ye={},oe={},le=-1,Se=[];H.canvas.addEventListener("webglcontextlost",function(Re){je(),Re.preventDefault()},!1),u.set(H,te={gl:H,isWebGL2:ie,getExtension:Oe,withProgram:Je,withTexture:K,withTextureFramebuffer:at,handleContextLoss:je})}de(te)}function p(pe,de,H,te,ie,ce,ye,oe){ye===void 0&&(ye=15),oe===void 0&&(oe=null),d(pe,function(le){var Se=le.gl,he=le.withProgram,De=le.withTexture;De("copy",function(Fe,ve){Se.texImage2D(Se.TEXTURE_2D,0,Se.RGBA,ie,ce,0,Se.RGBA,Se.UNSIGNED_BYTE,de),he("copy",o,s,function(ct){var Ee=ct.setUniform,Oe=ct.setAttribute;Oe("aUV",2,Se.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ee("1i","image",ve),Se.bindFramebuffer(Se.FRAMEBUFFER,oe||null),Se.disable(Se.BLEND),Se.colorMask(ye&8,ye&4,ye&2,ye&1),Se.viewport(H,te,ie,ce),Se.scissor(H,te,ie,ce),Se.drawArrays(Se.TRIANGLES,0,3)})})})}function v(pe,de,H){var te=pe.width,ie=pe.height;d(pe,function(ce){var ye=ce.gl,oe=new Uint8Array(te*ie*4);ye.readPixels(0,0,te,ie,ye.RGBA,ye.UNSIGNED_BYTE,oe),pe.width=de,pe.height=H,p(ye,oe,0,0,te,ie)})}var y=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:p,resizeWebGLCanvasWithoutClearing:v});function b(pe,de,H,te,ie,ce){ce===void 0&&(ce=1);var ye=new Uint8Array(pe*de),oe=te[2]-te[0],le=te[3]-te[1],Se=[];a(H,function(Oe,Me,Je,K){Se.push({x1:Oe,y1:Me,x2:Je,y2:K,minX:Math.min(Oe,Je),minY:Math.min(Me,K),maxX:Math.max(Oe,Je),maxY:Math.max(Me,K)})}),Se.sort(function(Oe,Me){return Oe.maxX-Me.maxX});for(var he=0;he<pe;he++)for(var De=0;De<de;De++){var Fe=ct(te[0]+oe*(he+.5)/pe,te[1]+le*(De+.5)/de),ve=Math.pow(1-Math.abs(Fe)/ie,ce)/2;Fe<0&&(ve=1-ve),ve=Math.max(0,Math.min(255,Math.round(ve*255))),ye[De*pe+he]=ve}return ye;function ct(Oe,Me){for(var Je=1/0,K=1/0,at=Se.length;at--;){var je=Se[at];if(je.maxX+K<=Oe)break;if(Oe+K>je.minX&&Me-K<je.maxY&&Me+K>je.minY){var Re=A(Oe,Me,je.x1,je.y1,je.x2,je.y2);Re<Je&&(Je=Re,K=Math.sqrt(Je))}}return Ee(Oe,Me)&&(K=-K),K}function Ee(Oe,Me){for(var Je=0,K=Se.length;K--;){var at=Se[K];if(at.maxX<=Oe)break;var je=at.y1>Me!=at.y2>Me&&Oe<(at.x2-at.x1)*(Me-at.y1)/(at.y2-at.y1)+at.x1;je&&(Je+=at.y1<at.y2?1:-1)}return Je!==0}}function T(pe,de,H,te,ie,ce,ye,oe,le,Se){ce===void 0&&(ce=1),oe===void 0&&(oe=0),le===void 0&&(le=0),Se===void 0&&(Se=0),S(pe,de,H,te,ie,ce,ye,null,oe,le,Se)}function S(pe,de,H,te,ie,ce,ye,oe,le,Se,he){ce===void 0&&(ce=1),le===void 0&&(le=0),Se===void 0&&(Se=0),he===void 0&&(he=0);for(var De=b(pe,de,H,te,ie,ce),Fe=new Uint8Array(De.length*4),ve=0;ve<De.length;ve++)Fe[ve*4+he]=De[ve];p(ye,Fe,le,Se,pe,de,1<<3-he,oe)}function A(pe,de,H,te,ie,ce){var ye=ie-H,oe=ce-te,le=ye*ye+oe*oe,Se=le?Math.max(0,Math.min(1,((pe-H)*ye+(de-te)*oe)/le)):0,he=pe-(H+Se*ye),De=de-(te+Se*oe);return he*he+De*De}var R=Object.freeze({__proto__:null,generate:b,generateIntoCanvas:T,generateIntoFramebuffer:S}),I="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",N="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",D="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",O=new Float32Array([0,0,2,0,0,2]),F=null,z=!1,U={},B=new WeakMap;function j(pe){if(!z&&!ae(pe))throw new Error("WebGL generation not supported")}function W(pe,de,H,te,ie,ce,ye){if(ce===void 0&&(ce=1),ye===void 0&&(ye=null),!ye&&(ye=F,!ye)){var oe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!oe)throw new Error("OffscreenCanvas or DOM canvas not supported");ye=F=oe.getContext("webgl",{depth:!1})}j(ye);var le=new Uint8Array(pe*de*4);d(ye,function(Fe){var ve=Fe.gl,ct=Fe.withTexture,Ee=Fe.withTextureFramebuffer;ct("readable",function(Oe,Me){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,pe,de,0,ve.RGBA,ve.UNSIGNED_BYTE,null),Ee(Oe,Me,function(Je){Q(pe,de,H,te,ie,ce,ve,Je,0,0,0),ve.readPixels(0,0,pe,de,ve.RGBA,ve.UNSIGNED_BYTE,le)})})});for(var Se=new Uint8Array(pe*de),he=0,De=0;he<le.length;he+=4)Se[De++]=le[he];return Se}function Y(pe,de,H,te,ie,ce,ye,oe,le,Se){ce===void 0&&(ce=1),oe===void 0&&(oe=0),le===void 0&&(le=0),Se===void 0&&(Se=0),Q(pe,de,H,te,ie,ce,ye,null,oe,le,Se)}function Q(pe,de,H,te,ie,ce,ye,oe,le,Se,he){ce===void 0&&(ce=1),le===void 0&&(le=0),Se===void 0&&(Se=0),he===void 0&&(he=0),j(ye);var De=[];a(H,function(Fe,ve,ct,Ee){De.push(Fe,ve,ct,Ee)}),De=new Float32Array(De),d(ye,function(Fe){var ve=Fe.gl,ct=Fe.isWebGL2,Ee=Fe.getExtension,Oe=Fe.withProgram,Me=Fe.withTexture,Je=Fe.withTextureFramebuffer,K=Fe.handleContextLoss;if(Me("rawDistances",function(at,je){(pe!==at._lastWidth||de!==at._lastHeight)&&ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,at._lastWidth=pe,at._lastHeight=de,0,ve.RGBA,ve.UNSIGNED_BYTE,null),Oe("main",I,N,function(Re){var Ve=Re.setAttribute,$=Re.setUniform,q=!ct&&Ee("ANGLE_instanced_arrays"),fe=!ct&&Ee("EXT_blend_minmax");Ve("aUV",2,ve.STATIC_DRAW,0,O),Ve("aLineSegment",4,ve.DYNAMIC_DRAW,1,De),$.apply(void 0,["4f","uGlyphBounds"].concat(te)),$("1f","uMaxDistance",ie),$("1f","uExponent",ce),Je(at,je,function(Le){ve.enable(ve.BLEND),ve.colorMask(!0,!0,!0,!0),ve.viewport(0,0,pe,de),ve.scissor(0,0,pe,de),ve.blendFunc(ve.ONE,ve.ONE),ve.blendEquationSeparate(ve.FUNC_ADD,ct?ve.MAX:fe.MAX_EXT),ve.clear(ve.COLOR_BUFFER_BIT),ct?ve.drawArraysInstanced(ve.TRIANGLES,0,3,De.length/4):q.drawArraysInstancedANGLE(ve.TRIANGLES,0,3,De.length/4)})}),Oe("post",o,D,function(Re){Re.setAttribute("aUV",2,ve.STATIC_DRAW,0,O),Re.setUniform("1i","tex",je),ve.bindFramebuffer(ve.FRAMEBUFFER,oe),ve.disable(ve.BLEND),ve.colorMask(he===0,he===1,he===2,he===3),ve.viewport(le,Se,pe,de),ve.scissor(le,Se,pe,de),ve.drawArrays(ve.TRIANGLES,0,3)})}),ve.isContextLost())throw K(),new Error("webgl context lost")})}function ae(pe){var de=!pe||pe===F?U:pe.canvas||pe,H=B.get(de);if(H===void 0){z=!0;var te=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ce=W(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,pe);H=ce&&ie.length===ce.length&&ce.every(function(ye,oe){return ye===ie[oe]}),H||(te="bad trial run results",console.info(ie,ce))}catch(ye){H=!1,te=ye.message}te&&console.warn("WebGL SDF generation not supported:",te),z=!1,B.set(de,H)}return H}var X=Object.freeze({__proto__:null,generate:W,generateIntoCanvas:Y,generateIntoFramebuffer:Q,isSupported:ae});function ne(pe,de,H,te,ie,ce){ie===void 0&&(ie=Math.max(te[2]-te[0],te[3]-te[1])/2),ce===void 0&&(ce=1);try{return W.apply(X,arguments)}catch(ye){return console.info("WebGL SDF generation failed, falling back to JS",ye),b.apply(R,arguments)}}function ge(pe,de,H,te,ie,ce,ye,oe,le,Se){ie===void 0&&(ie=Math.max(te[2]-te[0],te[3]-te[1])/2),ce===void 0&&(ce=1),oe===void 0&&(oe=0),le===void 0&&(le=0),Se===void 0&&(Se=0);try{return Y.apply(X,arguments)}catch(he){return console.info("WebGL SDF generation failed, falling back to JS",he),T.apply(R,arguments)}}return e.forEachPathCommand=r,e.generate=ne,e.generateIntoCanvas=ge,e.javascript=R,e.pathToLineSegments=a,e.webgl=X,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}function xwe(){var t=(function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(n).forEach(function(K,at){i[K]=1<<at+1,r[i[K]]=K}),Object.freeze(i);var a=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,s=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,u=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|a|i.PDI|u,d=null;function p(){if(!d){d=new Map;var K=function(je){if(n.hasOwnProperty(je)){var Re=0;n[je].split(",").forEach(function(Ve){var $=Ve.split("+"),q=$[0],fe=$[1];q=parseInt(q,36),fe=fe?parseInt(fe,36):0,d.set(Re+=q,i[je]);for(var Le=0;Le<fe;Le++)d.set(++Re,i[je])})}};for(var at in n)K(at)}}function v(K){return p(),d.get(K.codePointAt(0))||i.L}function y(K){return r[v(K)]}var b={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function T(K,at){var je=36,Re=0,Ve=new Map,$=at&&new Map,q;return K.split(",").forEach(function fe(Le){if(Le.indexOf("+")!==-1)for(var Ce=+Le;Ce--;)fe(q);else{q=Le;var Te=Le.split(">"),ot=Te[0],it=Te[1];ot=String.fromCodePoint(Re+=parseInt(ot,je)),it=String.fromCodePoint(Re+=parseInt(it,je)),Ve.set(ot,it),at&&$.set(it,ot)}}),{map:Ve,reverseMap:$}}var S,A,R;function I(){if(!S){var K=T(b.pairs,!0),at=K.map,je=K.reverseMap;S=at,A=je,R=T(b.canonical,!1).map}}function N(K){return I(),S.get(K)||null}function D(K){return I(),A.get(K)||null}function O(K){return I(),R.get(K)||null}var F=i.L,z=i.R,U=i.EN,B=i.ES,j=i.ET,W=i.AN,Y=i.CS,Q=i.B,ae=i.S,X=i.ON,ne=i.BN,ge=i.NSM,pe=i.AL,de=i.LRO,H=i.RLO,te=i.LRE,ie=i.RLE,ce=i.PDF,ye=i.LRI,oe=i.RLI,le=i.FSI,Se=i.PDI;function he(K,at){for(var je=125,Re=new Uint32Array(K.length),Ve=0;Ve<K.length;Ve++)Re[Ve]=v(K[Ve]);var $=new Map;function q(kr,eo){var na=Re[kr];Re[kr]=eo,$.set(na,$.get(na)-1),na&s&&$.set(s,$.get(s)-1),$.set(eo,($.get(eo)||0)+1),eo&s&&$.set(s,($.get(s)||0)+1)}for(var fe=new Uint8Array(K.length),Le=new Map,Ce=[],Te=null,ot=0;ot<K.length;ot++)Te||Ce.push(Te={start:ot,end:K.length-1,level:at==="rtl"?1:at==="ltr"?0:gf(ot,!1)}),Re[ot]&Q&&(Te.end=ot,Te=null);for(var it=ie|te|H|de|a|Se|ce|Q,mt=function(kr){return kr+(kr&1?1:2)},xt=function(kr){return kr+(kr&1?2:1)},We=0;We<Ce.length;We++){Te=Ce[We];var Ke=[{_level:Te.level,_override:0,_isolate:0}],et=void 0,ue=0,we=0,ht=0;$.clear();for(var me=Te.start;me<=Te.end;me++){var Ye=Re[me];if(et=Ke[Ke.length-1],$.set(Ye,($.get(Ye)||0)+1),Ye&s&&$.set(s,($.get(s)||0)+1),Ye&it)if(Ye&(ie|te)){fe[me]=et._level;var tt=(Ye===ie?xt:mt)(et._level);tt<=je&&!ue&&!we?Ke.push({_level:tt,_override:0,_isolate:0}):ue||we++}else if(Ye&(H|de)){fe[me]=et._level;var vt=(Ye===H?xt:mt)(et._level);vt<=je&&!ue&&!we?Ke.push({_level:vt,_override:Ye&H?z:F,_isolate:0}):ue||we++}else if(Ye&a){Ye&le&&(Ye=gf(me+1,!0)===1?oe:ye),fe[me]=et._level,et._override&&q(me,et._override);var nt=(Ye===oe?xt:mt)(et._level);nt<=je&&ue===0&&we===0?(ht++,Ke.push({_level:nt,_override:0,_isolate:1,_isolInitIndex:me})):ue++}else if(Ye&Se){if(ue>0)ue--;else if(ht>0){for(we=0;!Ke[Ke.length-1]._isolate;)Ke.pop();var Be=Ke[Ke.length-1]._isolInitIndex;Be!=null&&(Le.set(Be,me),Le.set(me,Be)),Ke.pop(),ht--}et=Ke[Ke.length-1],fe[me]=et._level,et._override&&q(me,et._override)}else Ye&ce?(ue===0&&(we>0?we--:!et._isolate&&Ke.length>1&&(Ke.pop(),et=Ke[Ke.length-1])),fe[me]=et._level):Ye&Q&&(fe[me]=Te.level);else fe[me]=et._level,et._override&&Ye!==ne&&q(me,et._override)}for(var lt=[],Et=null,St=Te.start;St<=Te.end;St++){var Lt=Re[St];if(!(Lt&u)){var vn=fe[St],wn=Lt&a,Qn=Lt===Se;Et&&vn===Et._level?(Et._end=St,Et._endsWithIsolInit=wn):lt.push(Et={_start:St,_end:St,_level:vn,_startsWithPDI:Qn,_endsWithIsolInit:wn})}}for(var nr=[],Jr=0;Jr<lt.length;Jr++){var xr=lt[Jr];if(!xr._startsWithPDI||xr._startsWithPDI&&!Le.has(xr._start)){for(var Sr=[Et=xr],pa=void 0;Et&&Et._endsWithIsolInit&&(pa=Le.get(Et._end))!=null;)for(var ai=Jr+1;ai<lt.length;ai++)if(lt[ai]._start===pa){Sr.push(Et=lt[ai]);break}for(var $n=[],zn=0;zn<Sr.length;zn++)for(var Di=Sr[zn],Fr=Di._start;Fr<=Di._end;Fr++)$n.push(Fr);for(var ma=fe[$n[0]],Zr=Te.level,$a=$n[0]-1;$a>=0;$a--)if(!(Re[$a]&u)){Zr=fe[$a];break}var es=$n[$n.length-1],Ka=fe[es],So=Te.level;if(!(Re[es]&a)){for(var Ra=es+1;Ra<=Te.end;Ra++)if(!(Re[Ra]&u)){So=fe[Ra];break}}nr.push({_seqIndices:$n,_sosType:Math.max(Zr,ma)%2?z:F,_eosType:Math.max(So,Ka)%2?z:F})}}for(var Ja=0;Ja<nr.length;Ja++){var Eo=nr[Ja],Ot=Eo._seqIndices,Z=Eo._sosType,Ae=Eo._eosType,He=fe[Ot[0]]&1?z:F;if($.get(ge))for(var Ue=0;Ue<Ot.length;Ue++){var Ie=Ot[Ue];if(Re[Ie]&ge){for(var yt=Z,At=Ue-1;At>=0;At--)if(!(Re[Ot[At]]&u)){yt=Re[Ot[At]];break}q(Ie,yt&(a|Se)?X:yt)}}if($.get(U))for(var pt=0;pt<Ot.length;pt++){var Pt=Ot[pt];if(Re[Pt]&U)for(var Nt=pt-1;Nt>=-1;Nt--){var Vt=Nt===-1?Z:Re[Ot[Nt]];if(Vt&o){Vt===pe&&q(Pt,W);break}}}if($.get(pe))for(var Dt=0;Dt<Ot.length;Dt++){var qt=Ot[Dt];Re[qt]&pe&&q(qt,z)}if($.get(B)||$.get(Y))for(var yn=1;yn<Ot.length-1;yn++){var qn=Ot[yn];if(Re[qn]&(B|Y)){for(var Pn=0,Jt=0,Tt=yn-1;Tt>=0&&(Pn=Re[Ot[Tt]],!!(Pn&u));Tt--);for(var xn=yn+1;xn<Ot.length&&(Jt=Re[Ot[xn]],!!(Jt&u));xn++);Pn===Jt&&(Re[qn]===B?Pn===U:Pn&(U|W))&&q(qn,Pn)}}if($.get(U))for(var Bt=0;Bt<Ot.length;Bt++){var Oi=Ot[Bt];if(Re[Oi]&U){for(var Qr=Bt-1;Qr>=0&&Re[Ot[Qr]]&(j|u);Qr--)q(Ot[Qr],U);for(Bt++;Bt<Ot.length&&Re[Ot[Bt]]&(j|u|U);Bt++)Re[Ot[Bt]]!==U&&q(Ot[Bt],U)}}if($.get(j)||$.get(B)||$.get(Y))for(var Gn=0;Gn<Ot.length;Gn++){var Er=Ot[Gn];if(Re[Er]&(j|B|Y)){q(Er,X);for(var Cn=Gn-1;Cn>=0&&Re[Ot[Cn]]&u;Cn--)q(Ot[Cn],X);for(var gi=Gn+1;gi<Ot.length&&Re[Ot[gi]]&u;gi++)q(Ot[gi],X)}}if($.get(U))for(var vi=0,Vi=Z;vi<Ot.length;vi++){var Hi=Ot[vi],ts=Re[Hi];ts&U?Vi===F&&q(Hi,F):ts&o&&(Vi=ts)}if($.get(s)){var Tr=z|U|W,Ld=Tr|F,eu=[];{for(var To=[],ea=0;ea<Ot.length;ea++)if(Re[Ot[ea]]&s){var Ts=K[Ot[ea]],Ju=void 0;if(N(Ts)!==null)if(To.length<63)To.push({char:Ts,seqIndex:ea});else break;else if((Ju=D(Ts))!==null)for(var Za=To.length-1;Za>=0;Za--){var Ao=To[Za].char;if(Ao===Ju||Ao===D(O(Ts))||N(O(Ao))===Ts){eu.push([To[Za].seqIndex,ea]),To.length=Za;break}}}eu.sort(function(kr,eo){return kr[0]-eo[0]})}for(var Zu=0;Zu<eu.length;Zu++){for(var Qu=eu[Zu],tu=Qu[0],As=Qu[1],Qa=!1,ga=0,Ms=tu+1;Ms<As;Ms++){var ta=Ot[Ms];if(Re[ta]&Ld){Qa=!0;var ec=Re[ta]&Tr?z:F;if(ec===He){ga=ec;break}}}if(Qa&&!ga){ga=Z;for(var ns=tu-1;ns>=0;ns--){var nu=Ot[ns];if(Re[nu]&Ld){var iu=Re[nu]&Tr?z:F;iu!==He?ga=iu:ga=He;break}}}if(ga){if(Re[Ot[tu]]=Re[Ot[As]]=ga,ga!==He){for(var Mo=tu+1;Mo<Ot.length;Mo++)if(!(Re[Ot[Mo]]&u)){v(K[Ot[Mo]])&ge&&(Re[Ot[Mo]]=ga);break}}if(ga!==He){for(var ru=As+1;ru<Ot.length;ru++)if(!(Re[Ot[ru]]&u)){v(K[Ot[ru]])&ge&&(Re[Ot[ru]]=ga);break}}}}for(var yi=0;yi<Ot.length;yi++)if(Re[Ot[yi]]&s){for(var is=yi,ml=yi,ws=Z,au=yi-1;au>=0;au--)if(Re[Ot[au]]&u)is=au;else{ws=Re[Ot[au]]&Tr?z:F;break}for(var ou=Ae,Cs=yi+1;Cs<Ot.length;Cs++)if(Re[Ot[Cs]]&(s|u))ml=Cs;else{ou=Re[Ot[Cs]]&Tr?z:F;break}for(var Rs=is;Rs<=ml;Rs++)Re[Ot[Rs]]=ws===ou?ws:He;yi=ml}}}for(var ir=Te.start;ir<=Te.end;ir++){var Ud=fe[ir],tc=Re[ir];if(Ud&1?tc&(F|U|W)&&fe[ir]++:tc&z?fe[ir]++:tc&(W|U)&&(fe[ir]+=2),tc&u&&(fe[ir]=ir===0?Te.level:fe[ir-1]),ir===Te.end||v(K[ir])&(ae|Q))for(var nc=ir;nc>=0&&v(K[nc])&c;nc--)fe[nc]=Te.level}}return{levels:fe,paragraphs:Ce};function gf(kr,eo){for(var na=kr;na<K.length;na++){var rs=Re[na];if(rs&(z|pe))return 1;if(rs&(Q|F)||eo&&rs===Se)return 0;if(rs&a){var su=vf(na);na=su===-1?K.length:su}}return 0}function vf(kr){for(var eo=1,na=kr+1;na<K.length;na++){var rs=Re[na];if(rs&Q)break;if(rs&Se){if(--eo===0)return na}else rs&a&&eo++}return-1}}var De="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Fe;function ve(){if(!Fe){var K=T(De,!0),at=K.map,je=K.reverseMap;je.forEach(function(Re,Ve){at.set(Ve,Re)}),Fe=at}}function ct(K){return ve(),Fe.get(K)||null}function Ee(K,at,je,Re){var Ve=K.length;je=Math.max(0,je==null?0:+je),Re=Math.min(Ve-1,Re==null?Ve-1:+Re);for(var $=new Map,q=je;q<=Re;q++)if(at[q]&1){var fe=ct(K[q]);fe!==null&&$.set(q,fe)}return $}function Oe(K,at,je,Re){var Ve=K.length;je=Math.max(0,je==null?0:+je),Re=Math.min(Ve-1,Re==null?Ve-1:+Re);var $=[];return at.paragraphs.forEach(function(q){var fe=Math.max(je,q.start),Le=Math.min(Re,q.end);if(fe<Le){for(var Ce=at.levels.slice(fe,Le+1),Te=Le;Te>=fe&&v(K[Te])&c;Te--)Ce[Te]=q.level;for(var ot=q.level,it=1/0,mt=0;mt<Ce.length;mt++){var xt=Ce[mt];xt>ot&&(ot=xt),xt<it&&(it=xt|1)}for(var We=ot;We>=it;We--)for(var Ke=0;Ke<Ce.length;Ke++)if(Ce[Ke]>=We){for(var et=Ke;Ke+1<Ce.length&&Ce[Ke+1]>=We;)Ke++;Ke>et&&$.push([et+fe,Ke+fe])}}}),$}function Me(K,at,je,Re){var Ve=Je(K,at,je,Re),$=[].concat(K);return Ve.forEach(function(q,fe){$[fe]=(at.levels[q]&1?ct(K[q]):null)||K[q]}),$.join("")}function Je(K,at,je,Re){for(var Ve=Oe(K,at,je,Re),$=[],q=0;q<K.length;q++)$[q]=q;return Ve.forEach(function(fe){for(var Le=fe[0],Ce=fe[1],Te=$.slice(Le,Ce+1),ot=Te.length;ot--;)$[Ce-ot]=Te[ot]}),$}return e.closingToOpeningBracket=D,e.getBidiCharType=v,e.getBidiCharTypeName=y,e.getCanonicalBracket=O,e.getEmbeddingLevels=he,e.getMirroredCharacter=ct,e.getMirroredCharactersMap=Ee,e.getReorderSegments=Oe,e.getReorderedIndices=Je,e.getReorderedString=Me,e.openingToClosingBracket=N,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return t}const q7=/\bvoid\s+main\s*\(\s*\)\s*{/g;function bI(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(i,r){let a=mn[r];return a?bI(a):i}return t.replace(e,n)}const Ma=[];for(let t=0;t<256;t++)Ma[t]=(t<16?"0":"")+t.toString(16);function Swe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ma[t&255]+Ma[t>>8&255]+Ma[t>>16&255]+Ma[t>>24&255]+"-"+Ma[e&255]+Ma[e>>8&255]+"-"+Ma[e>>16&15|64]+Ma[e>>24&255]+"-"+Ma[n&63|128]+Ma[n>>8&255]+"-"+Ma[n>>16&255]+Ma[n>>24&255]+Ma[i&255]+Ma[i>>8&255]+Ma[i>>16&255]+Ma[i>>24&255]).toUpperCase()}const Ih=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ewe=Date.now(),MB=new WeakMap,wB=new Map;let Twe=1e10;function xI(t,e){const n=Cwe(e);let i=MB.get(t);if(i||MB.set(t,i=Object.create(null)),i[n])return new i[n];const r=`_onBeforeCompile${n}`,a=function(c,d){t.onBeforeCompile.call(this,c,d);const p=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let v=wB[p];if(!v){const y=Awe(this,c,e,n);v=wB[p]=y}c.vertexShader=v.vertexShader,c.fragmentShader=v.fragmentShader,Ih(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Ewe}}),this[r]&&this[r](c)},o=function(){return s(e.chained?t:t.clone())},s=function(c){const d=Object.create(c,u);return Object.defineProperty(d,"baseMaterial",{value:t}),Object.defineProperty(d,"id",{value:Twe++}),d.uuid=Swe(),d.uniforms=Ih({},c.uniforms,e.uniforms),d.defines=Ih({},c.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",d.extensions=Ih({},c.extensions,e.extensions),d._listeners=void 0,d},u={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const d=this.baseMaterial;return c===d||d.isDerivedMaterial&&d.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Ih(this.extensions,c.extensions),Ih(this.defines,c.defines),Ih(this.uniforms,GN.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=xI(t.isDerivedMaterial?t.getDepthMaterial():new iA({depthPacking:s9}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=xI(t.isDerivedMaterial?t.getDistanceMaterial():new rA,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:d}=this;c&&c.dispose(),d&&d.dispose(),t.dispose.call(this)}}};return i[n]=o,new o}function Awe(t,{vertexShader:e,fragmentShader:n},i,r){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:u,fragmentDefs:c,fragmentMainIntro:d,fragmentMainOutro:p,fragmentColorTransform:v,customRewriter:y,timeUniform:b}=i;if(a=a||"",o=o||"",s=s||"",c=c||"",d=d||"",p=p||"",(u||y)&&(e=bI(e)),(v||y)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=bI(n)),y){let T=y({vertexShader:e,fragmentShader:n});e=T.vertexShader,n=T.fragmentShader}if(v){let T=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,S=>(T.push(S),"")),p=`${v}
${T.join(`
`)}
${p}`}if(b){const T=`
uniform float ${b};
`;a=T+a,c=T+c}return u&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,a=`${a}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(T,S,A,R)=>/\battribute\s+vec[23]\s+$/.test(R.substr(0,A))?S:`troika_${S}_${r}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=CB(e,r,a,o,s),n=CB(n,r,c,d,p),{vertexShader:e,fragmentShader:n}}function CB(t,e,n,i,r){return(i||r||n)&&(t=t.replace(q7,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),t}function Mwe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let wwe=0;const RB=new Map;function Cwe(t){const e=JSON.stringify(t,Mwe);let n=RB.get(e);return n==null&&RB.set(e,n=++wwe),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Rwe(){return typeof window>"u"&&(self.window=self),(function(t){var e={parse:function(r){var a=e._bin,o=new Uint8Array(r);if(a.readASCII(o,0,4)=="ttcf"){var s=4;a.readUshort(o,s),s+=2,a.readUshort(o,s),s+=2;var u=a.readUint(o,s);s+=4;for(var c=[],d=0;d<u;d++){var p=a.readUint(o,s);s+=4,c.push(e._readFont(o,p))}return c}return[e._readFont(o,0)]},_readFont:function(r,a){var o=e._bin,s=a;o.readFixed(r,a),a+=4;var u=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:r,_offset:s},p={},v=0;v<u;v++){var y=o.readASCII(r,a,4);a+=4,o.readUint(r,a),a+=4;var b=o.readUint(r,a);a+=4;var T=o.readUint(r,a);a+=4,p[y]={offset:b,length:T}}for(v=0;v<c.length;v++){var S=c[v];p[S]&&(d[S.trim()]=e[S.trim()].parse(r,p[S].offset,p[S].length,d))}return d},_tabOffset:function(r,a,o){for(var s=e._bin,u=s.readUshort(r,o+4),c=o+12,d=0;d<u;d++){var p=s.readASCII(r,c,4);c+=4,s.readUint(r,c),c+=4;var v=s.readUint(r,c);if(c+=4,s.readUint(r,c),c+=4,p==a)return v}return 0}};e._bin={readFixed:function(r,a){return(r[a]<<8|r[a+1])+(r[a+2]<<8|r[a+3])/65540},readF2dot14:function(r,a){return e._bin.readShort(r,a)/16384},readInt:function(r,a){return e._bin._view(r).getInt32(a)},readInt8:function(r,a){return e._bin._view(r).getInt8(a)},readShort:function(r,a){return e._bin._view(r).getInt16(a)},readUshort:function(r,a){return e._bin._view(r).getUint16(a)},readUshorts:function(r,a,o){for(var s=[],u=0;u<o;u++)s.push(e._bin.readUshort(r,a+2*u));return s},readUint:function(r,a){return e._bin._view(r).getUint32(a)},readUint64:function(r,a){return 4294967296*e._bin.readUint(r,a)+e._bin.readUint(r,a+4)},readASCII:function(r,a,o){for(var s="",u=0;u<o;u++)s+=String.fromCharCode(r[a+u]);return s},readUnicode:function(r,a,o){for(var s="",u=0;u<o;u++){var c=r[a++]<<8|r[a++];s+=String.fromCharCode(c)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,a,o){var s=e._bin._tdec;return s&&a==0&&o==r.length?s.decode(r):e._bin.readASCII(r,a,o)},readBytes:function(r,a,o){for(var s=[],u=0;u<o;u++)s.push(r[a+u]);return s},readASCIIArray:function(r,a,o){for(var s=[],u=0;u<o;u++)s.push(String.fromCharCode(r[a+u]));return s},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,a,o,s,u){var c=e._bin,d={},p=a;c.readFixed(r,a),a+=4;var v=c.readUshort(r,a);a+=2;var y=c.readUshort(r,a);a+=2;var b=c.readUshort(r,a);return a+=2,d.scriptList=e._lctf.readScriptList(r,p+v),d.featureList=e._lctf.readFeatureList(r,p+y),d.lookupList=e._lctf.readLookupList(r,p+b,u),d},e._lctf.readLookupList=function(r,a,o){var s=e._bin,u=a,c=[],d=s.readUshort(r,a);a+=2;for(var p=0;p<d;p++){var v=s.readUshort(r,a);a+=2;var y=e._lctf.readLookupTable(r,u+v,o);c.push(y)}return c},e._lctf.readLookupTable=function(r,a,o){var s=e._bin,u=a,c={tabs:[]};c.ltype=s.readUshort(r,a),a+=2,c.flag=s.readUshort(r,a),a+=2;var d=s.readUshort(r,a);a+=2;for(var p=c.ltype,v=0;v<d;v++){var y=s.readUshort(r,a);a+=2;var b=o(r,p,u+y,c);c.tabs.push(b)}return c},e._lctf.numOfOnes=function(r){for(var a=0,o=0;o<32;o++)(r>>>o&1)!=0&&a++;return a},e._lctf.readClassDef=function(r,a){var o=e._bin,s=[],u=o.readUshort(r,a);if(a+=2,u==1){var c=o.readUshort(r,a);a+=2;var d=o.readUshort(r,a);a+=2;for(var p=0;p<d;p++)s.push(c+p),s.push(c+p),s.push(o.readUshort(r,a)),a+=2}if(u==2){var v=o.readUshort(r,a);for(a+=2,p=0;p<v;p++)s.push(o.readUshort(r,a)),a+=2,s.push(o.readUshort(r,a)),a+=2,s.push(o.readUshort(r,a)),a+=2}return s},e._lctf.getInterval=function(r,a){for(var o=0;o<r.length;o+=3){var s=r[o],u=r[o+1];if(r[o+2],s<=a&&a<=u)return o}return-1},e._lctf.readCoverage=function(r,a){var o=e._bin,s={};s.fmt=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);return a+=2,s.fmt==1&&(s.tab=o.readUshorts(r,a,u)),s.fmt==2&&(s.tab=o.readUshorts(r,a,3*u)),s},e._lctf.coverageIndex=function(r,a){var o=r.tab;if(r.fmt==1)return o.indexOf(a);if(r.fmt==2){var s=e._lctf.getInterval(o,a);if(s!=-1)return o[s+2]+(a-o[s])}return-1},e._lctf.readFeatureList=function(r,a){var o=e._bin,s=a,u=[],c=o.readUshort(r,a);a+=2;for(var d=0;d<c;d++){var p=o.readASCII(r,a,4);a+=4;var v=o.readUshort(r,a);a+=2;var y=e._lctf.readFeatureTable(r,s+v);y.tag=p.trim(),u.push(y)}return u},e._lctf.readFeatureTable=function(r,a){var o=e._bin,s=a,u={},c=o.readUshort(r,a);a+=2,c>0&&(u.featureParams=s+c);var d=o.readUshort(r,a);a+=2,u.tab=[];for(var p=0;p<d;p++)u.tab.push(o.readUshort(r,a+2*p));return u},e._lctf.readScriptList=function(r,a){var o=e._bin,s=a,u={},c=o.readUshort(r,a);a+=2;for(var d=0;d<c;d++){var p=o.readASCII(r,a,4);a+=4;var v=o.readUshort(r,a);a+=2,u[p.trim()]=e._lctf.readScriptTable(r,s+v)}return u},e._lctf.readScriptTable=function(r,a){var o=e._bin,s=a,u={},c=o.readUshort(r,a);a+=2,c>0&&(u.default=e._lctf.readLangSysTable(r,s+c));var d=o.readUshort(r,a);a+=2;for(var p=0;p<d;p++){var v=o.readASCII(r,a,4);a+=4;var y=o.readUshort(r,a);a+=2,u[v.trim()]=e._lctf.readLangSysTable(r,s+y)}return u},e._lctf.readLangSysTable=function(r,a){var o=e._bin,s={};o.readUshort(r,a),a+=2,s.reqFeature=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);return a+=2,s.features=o.readUshorts(r,a,u),s},e.CFF={},e.CFF.parse=function(r,a,o){var s=e._bin;(r=new Uint8Array(r.buffer,a,o))[a=0],r[++a],r[++a],r[++a],a++;var u=[];a=e.CFF.readIndex(r,a,u);for(var c=[],d=0;d<u.length-1;d++)c.push(s.readASCII(r,a+u[d],u[d+1]-u[d]));a+=u[u.length-1];var p=[];a=e.CFF.readIndex(r,a,p);var v=[];for(d=0;d<p.length-1;d++)v.push(e.CFF.readDict(r,a+p[d],a+p[d+1]));a+=p[p.length-1];var y=v[0],b=[];a=e.CFF.readIndex(r,a,b);var T=[];for(d=0;d<b.length-1;d++)T.push(s.readASCII(r,a+b[d],b[d+1]-b[d]));if(a+=b[b.length-1],e.CFF.readSubrs(r,a,y),y.CharStrings){a=y.CharStrings,b=[],a=e.CFF.readIndex(r,a,b);var S=[];for(d=0;d<b.length-1;d++)S.push(s.readBytes(r,a+b[d],b[d+1]-b[d]));y.CharStrings=S}if(y.ROS){a=y.FDArray;var A=[];for(a=e.CFF.readIndex(r,a,A),y.FDArray=[],d=0;d<A.length-1;d++){var R=e.CFF.readDict(r,a+A[d],a+A[d+1]);e.CFF._readFDict(r,R,T),y.FDArray.push(R)}a+=A[A.length-1],a=y.FDSelect,y.FDSelect=[];var I=r[a];if(a++,I!=3)throw I;var N=s.readUshort(r,a);for(a+=2,d=0;d<N+1;d++)y.FDSelect.push(s.readUshort(r,a),r[a+2]),a+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(r,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(r,y.charset,y.CharStrings.length)),e.CFF._readFDict(r,y,T),y},e.CFF._readFDict=function(r,a,o){var s;for(var u in a.Private&&(s=a.Private[1],a.Private=e.CFF.readDict(r,s,s+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(r,s+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(a[u]=o[a[u]-426+35])},e.CFF.readSubrs=function(r,a,o){var s=e._bin,u=[];a=e.CFF.readIndex(r,a,u);var c,d=u.length;c=d<1240?107:d<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var p=0;p<u.length-1;p++)o.Subrs.push(s.readBytes(r,a+u[p],u[p+1]-u[p]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,a){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(r,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[a])},e.CFF.readEncoding=function(r,a,o){e._bin;var s=[".notdef"],u=r[a];if(a++,u!=0)throw"error: unknown encoding format: "+u;var c=r[a];a++;for(var d=0;d<c;d++)s.push(r[a+d]);return s},e.CFF.readCharset=function(r,a,o){var s=e._bin,u=[".notdef"],c=r[a];if(a++,c==0)for(var d=0;d<o;d++){var p=s.readUshort(r,a);a+=2,u.push(p)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;u.length<o;){p=s.readUshort(r,a),a+=2;var v=0;for(c==1?(v=r[a],a++):(v=s.readUshort(r,a),a+=2),d=0;d<=v;d++)u.push(p),p++}}return u},e.CFF.readIndex=function(r,a,o){var s=e._bin,u=s.readUshort(r,a)+1,c=r[a+=2];if(a++,c==1)for(var d=0;d<u;d++)o.push(r[a+d]);else if(c==2)for(d=0;d<u;d++)o.push(s.readUshort(r,a+2*d));else if(c==3)for(d=0;d<u;d++)o.push(16777215&s.readUint(r,a+3*d-1));else if(u!=1)throw"unsupported offset size: "+c+", count: "+u;return(a+=u*c)-1},e.CFF.getCharString=function(r,a,o){var s=e._bin,u=r[a],c=r[a+1];r[a+2],r[a+3],r[a+4];var d=1,p=null,v=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+c,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(v=s.readShort(r,a+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(v=u-139,d=1),247<=u&&u<=250&&(v=256*(u-247)+c+108,d=2),251<=u&&u<=254&&(v=256*-(u-251)-c-108,d=2),u==255&&(v=s.readInt(r,a+1)/65535,d=5),o.val=v??"o"+p,o.size=d},e.CFF.readCharString=function(r,a,o){for(var s=a+o,u=e._bin,c=[];a<s;){var d=r[a],p=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,y=null,b=null;d<=20&&(y=d,v=1),d==12&&(y=100*d+p,v=2),d!=19&&d!=20||(y=d,v=2),21<=d&&d<=27&&(y=d,v=1),d==28&&(b=u.readShort(r,a+1),v=3),29<=d&&d<=31&&(y=d,v=1),32<=d&&d<=246&&(b=d-139,v=1),247<=d&&d<=250&&(b=256*(d-247)+p+108,v=2),251<=d&&d<=254&&(b=256*-(d-251)-p-108,v=2),d==255&&(b=u.readInt(r,a+1)/65535,v=5),c.push(b??"o"+y),a+=v}return c},e.CFF.readDict=function(r,a,o){for(var s=e._bin,u={},c=[];a<o;){var d=r[a],p=r[a+1];r[a+2],r[a+3],r[a+4];var v=1,y=null,b=null;if(d==28&&(b=s.readShort(r,a+1),v=3),d==29&&(b=s.readInt(r,a+1),v=5),32<=d&&d<=246&&(b=d-139,v=1),247<=d&&d<=250&&(b=256*(d-247)+p+108,v=2),251<=d&&d<=254&&(b=256*-(d-251)-p-108,v=2),d==255)throw b=s.readInt(r,a+1)/65535,v=5,"unknown number";if(d==30){var T=[];for(v=1;;){var S=r[a+v];v++;var A=S>>4,R=15&S;if(A!=15&&T.push(A),R!=15&&T.push(R),R==15)break}for(var I="",N=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],D=0;D<T.length;D++)I+=N[T[D]];b=parseFloat(I)}d<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],v=1,d==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][p],v=2)),y!=null?(u[y]=c.length==1?c[0]:c,c=[]):c.push(b),a+=v}return u},e.cmap={},e.cmap.parse=function(r,a,o){r=new Uint8Array(r.buffer,a,o),a=0;var s=e._bin,u={};s.readUshort(r,a),a+=2;var c=s.readUshort(r,a);a+=2;var d=[];u.tables=[];for(var p=0;p<c;p++){var v=s.readUshort(r,a);a+=2;var y=s.readUshort(r,a);a+=2;var b=s.readUint(r,a);a+=4;var T="p"+v+"e"+y,S=d.indexOf(b);if(S==-1){var A;S=u.tables.length,d.push(b);var R=s.readUshort(r,b);R==0?A=e.cmap.parse0(r,b):R==4?A=e.cmap.parse4(r,b):R==6?A=e.cmap.parse6(r,b):R==12?A=e.cmap.parse12(r,b):console.debug("unknown format: "+R,v,y,b),u.tables.push(A)}if(u[T]!=null)throw"multiple tables for one platform+encoding";u[T]=S}return u},e.cmap.parse0=function(r,a){var o=e._bin,s={};s.format=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2,s.map=[];for(var c=0;c<u-6;c++)s.map.push(r[a+c]);return s},e.cmap.parse4=function(r,a){var o=e._bin,s=a,u={};u.format=o.readUshort(r,a),a+=2;var c=o.readUshort(r,a);a+=2,o.readUshort(r,a),a+=2;var d=o.readUshort(r,a);a+=2;var p=d/2;u.searchRange=o.readUshort(r,a),a+=2,u.entrySelector=o.readUshort(r,a),a+=2,u.rangeShift=o.readUshort(r,a),a+=2,u.endCount=o.readUshorts(r,a,p),a+=2*p,a+=2,u.startCount=o.readUshorts(r,a,p),a+=2*p,u.idDelta=[];for(var v=0;v<p;v++)u.idDelta.push(o.readShort(r,a)),a+=2;for(u.idRangeOffset=o.readUshorts(r,a,p),a+=2*p,u.glyphIdArray=[];a<s+c;)u.glyphIdArray.push(o.readUshort(r,a)),a+=2;return u},e.cmap.parse6=function(r,a){var o=e._bin,s={};s.format=o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,o.readUshort(r,a),a+=2,s.firstCode=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2,s.glyphIdArray=[];for(var c=0;c<u;c++)s.glyphIdArray.push(o.readUshort(r,a)),a+=2;return s},e.cmap.parse12=function(r,a){var o=e._bin,s={};s.format=o.readUshort(r,a),a+=2,a+=2,o.readUint(r,a),a+=4,o.readUint(r,a),a+=4;var u=o.readUint(r,a);a+=4,s.groups=[];for(var c=0;c<u;c++){var d=a+12*c,p=o.readUint(r,d+0),v=o.readUint(r,d+4),y=o.readUint(r,d+8);s.groups.push([p,v,y])}return s},e.glyf={},e.glyf.parse=function(r,a,o,s){for(var u=[],c=0;c<s.maxp.numGlyphs;c++)u.push(null);return u},e.glyf._parseGlyf=function(r,a){var o=e._bin,s=r._data,u=e._tabOffset(s,"glyf",r._offset)+r.loca[a];if(r.loca[a]==r.loca[a+1])return null;var c={};if(c.noc=o.readShort(s,u),u+=2,c.xMin=o.readShort(s,u),u+=2,c.yMin=o.readShort(s,u),u+=2,c.xMax=o.readShort(s,u),u+=2,c.yMax=o.readShort(s,u),u+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var d=0;d<c.noc;d++)c.endPts.push(o.readUshort(s,u)),u+=2;var p=o.readUshort(s,u);if(u+=2,s.length-u<p)return null;c.instructions=o.readBytes(s,u,p),u+=p;var v=c.endPts[c.noc-1]+1;for(c.flags=[],d=0;d<v;d++){var y=s[u];if(u++,c.flags.push(y),(8&y)!=0){var b=s[u];u++;for(var T=0;T<b;T++)c.flags.push(y),d++}}for(c.xs=[],d=0;d<v;d++){var S=(2&c.flags[d])!=0,A=(16&c.flags[d])!=0;S?(c.xs.push(A?s[u]:-s[u]),u++):A?c.xs.push(0):(c.xs.push(o.readShort(s,u)),u+=2)}for(c.ys=[],d=0;d<v;d++)S=(4&c.flags[d])!=0,A=(32&c.flags[d])!=0,S?(c.ys.push(A?s[u]:-s[u]),u++):A?c.ys.push(0):(c.ys.push(o.readShort(s,u)),u+=2);var R=0,I=0;for(d=0;d<v;d++)R+=c.xs[d],I+=c.ys[d],c.xs[d]=R,c.ys[d]=I}else{var N;c.parts=[];do{N=o.readUshort(s,u),u+=2;var D={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(D),D.glyphIndex=o.readUshort(s,u),u+=2,1&N){var O=o.readShort(s,u);u+=2;var F=o.readShort(s,u);u+=2}else O=o.readInt8(s,u),u++,F=o.readInt8(s,u),u++;2&N?(D.m.tx=O,D.m.ty=F):(D.p1=O,D.p2=F),8&N?(D.m.a=D.m.d=o.readF2dot14(s,u),u+=2):64&N?(D.m.a=o.readF2dot14(s,u),u+=2,D.m.d=o.readF2dot14(s,u),u+=2):128&N&&(D.m.a=o.readF2dot14(s,u),u+=2,D.m.b=o.readF2dot14(s,u),u+=2,D.m.c=o.readF2dot14(s,u),u+=2,D.m.d=o.readF2dot14(s,u),u+=2)}while(32&N);if(256&N){var z=o.readUshort(s,u);for(u+=2,c.instr=[],d=0;d<z;d++)c.instr.push(s[u]),u++}}return c},e.GDEF={},e.GDEF.parse=function(r,a,o,s){var u=a;a+=4;var c=e._bin.readUshort(r,a);return{glyphClassDef:c===0?null:e._lctf.readClassDef(r,u+c)}},e.GPOS={},e.GPOS.parse=function(r,a,o,s){return e._lctf.parse(r,a,o,s,e.GPOS.subt)},e.GPOS.subt=function(r,a,o,s){var u=e._bin,c=o,d={};if(d.fmt=u.readUshort(r,o),o+=2,a==1||a==2||a==3||a==7||a==8&&d.fmt<=2){var p=u.readUshort(r,o);o+=2,d.coverage=e._lctf.readCoverage(r,p+c)}if(a==1&&d.fmt==1){var v=u.readUshort(r,o);o+=2,v!=0&&(d.pos=e.GPOS.readValueRecord(r,o,v))}else if(a==2&&d.fmt>=1&&d.fmt<=2){v=u.readUshort(r,o),o+=2;var y=u.readUshort(r,o);o+=2;var b=e._lctf.numOfOnes(v),T=e._lctf.numOfOnes(y);if(d.fmt==1){d.pairsets=[];var S=u.readUshort(r,o);o+=2;for(var A=0;A<S;A++){var R=c+u.readUshort(r,o);o+=2;var I=u.readUshort(r,R);R+=2;for(var N=[],D=0;D<I;D++){var O=u.readUshort(r,R);R+=2,v!=0&&(W=e.GPOS.readValueRecord(r,R,v),R+=2*b),y!=0&&(Y=e.GPOS.readValueRecord(r,R,y),R+=2*T),N.push({gid2:O,val1:W,val2:Y})}d.pairsets.push(N)}}if(d.fmt==2){var F=u.readUshort(r,o);o+=2;var z=u.readUshort(r,o);o+=2;var U=u.readUshort(r,o);o+=2;var B=u.readUshort(r,o);for(o+=2,d.classDef1=e._lctf.readClassDef(r,c+F),d.classDef2=e._lctf.readClassDef(r,c+z),d.matrix=[],A=0;A<U;A++){var j=[];for(D=0;D<B;D++){var W=null,Y=null;v!=0&&(W=e.GPOS.readValueRecord(r,o,v),o+=2*b),y!=0&&(Y=e.GPOS.readValueRecord(r,o,y),o+=2*T),j.push({val1:W,val2:Y})}d.matrix.push(j)}}}else if(a==4&&d.fmt==1)d.markCoverage=e._lctf.readCoverage(r,u.readUshort(r,o)+c),d.baseCoverage=e._lctf.readCoverage(r,u.readUshort(r,o+2)+c),d.markClassCount=u.readUshort(r,o+4),d.markArray=e.GPOS.readMarkArray(r,u.readUshort(r,o+6)+c),d.baseArray=e.GPOS.readBaseArray(r,u.readUshort(r,o+8)+c,d.markClassCount);else if(a==6&&d.fmt==1)d.mark1Coverage=e._lctf.readCoverage(r,u.readUshort(r,o)+c),d.mark2Coverage=e._lctf.readCoverage(r,u.readUshort(r,o+2)+c),d.markClassCount=u.readUshort(r,o+4),d.mark1Array=e.GPOS.readMarkArray(r,u.readUshort(r,o+6)+c),d.mark2Array=e.GPOS.readBaseArray(r,u.readUshort(r,o+8)+c,d.markClassCount);else{if(a==9&&d.fmt==1){var Q=u.readUshort(r,o);o+=2;var ae=u.readUint(r,o);if(o+=4,s.ltype==9)s.ltype=Q;else if(s.ltype!=Q)throw"invalid extension substitution";return e.GPOS.subt(r,s.ltype,c+ae)}console.debug("unsupported GPOS table LookupType",a,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(r,a,o){var s=e._bin,u=[];return u.push(1&o?s.readShort(r,a):0),a+=1&o?2:0,u.push(2&o?s.readShort(r,a):0),a+=2&o?2:0,u.push(4&o?s.readShort(r,a):0),a+=4&o?2:0,u.push(8&o?s.readShort(r,a):0),a+=8&o?2:0,u},e.GPOS.readBaseArray=function(r,a,o){var s=e._bin,u=[],c=a,d=s.readUshort(r,a);a+=2;for(var p=0;p<d;p++){for(var v=[],y=0;y<o;y++)v.push(e.GPOS.readAnchorRecord(r,c+s.readUshort(r,a))),a+=2;u.push(v)}return u},e.GPOS.readMarkArray=function(r,a){var o=e._bin,s=[],u=a,c=o.readUshort(r,a);a+=2;for(var d=0;d<c;d++){var p=e.GPOS.readAnchorRecord(r,o.readUshort(r,a+2)+u);p.markClass=o.readUshort(r,a),s.push(p),a+=4}return s},e.GPOS.readAnchorRecord=function(r,a){var o=e._bin,s={};return s.fmt=o.readUshort(r,a),s.x=o.readShort(r,a+2),s.y=o.readShort(r,a+4),s},e.GSUB={},e.GSUB.parse=function(r,a,o,s){return e._lctf.parse(r,a,o,s,e.GSUB.subt)},e.GSUB.subt=function(r,a,o,s){var u=e._bin,c=o,d={};if(d.fmt=u.readUshort(r,o),o+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&d.fmt<=2||a==6&&d.fmt<=2){var p=u.readUshort(r,o);o+=2,d.coverage=e._lctf.readCoverage(r,c+p)}if(a==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=u.readShort(r,o),o+=2;else if(d.fmt==2){var v=u.readUshort(r,o);o+=2,d.newg=u.readUshorts(r,o,v),o+=2*d.newg.length}}else if(a==2&&d.fmt==1){v=u.readUshort(r,o),o+=2,d.seqs=[];for(var y=0;y<v;y++){var b=u.readUshort(r,o)+c;o+=2;var T=u.readUshort(r,b);d.seqs.push(u.readUshorts(r,b+2,T))}}else if(a==4)for(d.vals=[],v=u.readUshort(r,o),o+=2,y=0;y<v;y++){var S=u.readUshort(r,o);o+=2,d.vals.push(e.GSUB.readLigatureSet(r,c+S))}else if(a==5&&d.fmt==2){if(d.fmt==2){var A=u.readUshort(r,o);o+=2,d.cDef=e._lctf.readClassDef(r,c+A),d.scset=[];var R=u.readUshort(r,o);for(o+=2,y=0;y<R;y++){var I=u.readUshort(r,o);o+=2,d.scset.push(I==0?null:e.GSUB.readSubClassSet(r,c+I))}}}else if(a==6&&d.fmt==3){if(d.fmt==3){for(y=0;y<3;y++){v=u.readUshort(r,o),o+=2;for(var N=[],D=0;D<v;D++)N.push(e._lctf.readCoverage(r,c+u.readUshort(r,o+2*D)));o+=2*v,y==0&&(d.backCvg=N),y==1&&(d.inptCvg=N),y==2&&(d.ahedCvg=N)}v=u.readUshort(r,o),o+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(r,o,v)}}else{if(a==7&&d.fmt==1){var O=u.readUshort(r,o);o+=2;var F=u.readUint(r,o);if(o+=4,s.ltype==9)s.ltype=O;else if(s.ltype!=O)throw"invalid extension substitution";return e.GSUB.subt(r,s.ltype,c+F)}console.debug("unsupported GSUB table LookupType",a,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(r,a){var o=e._bin.readUshort,s=a,u=[],c=o(r,a);a+=2;for(var d=0;d<c;d++){var p=o(r,a);a+=2,u.push(e.GSUB.readSubClassRule(r,s+p))}return u},e.GSUB.readSubClassRule=function(r,a){var o=e._bin.readUshort,s={},u=o(r,a),c=o(r,a+=2);a+=2,s.input=[];for(var d=0;d<u-1;d++)s.input.push(o(r,a)),a+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(r,a,c),s},e.GSUB.readSubstLookupRecords=function(r,a,o){for(var s=e._bin.readUshort,u=[],c=0;c<o;c++)u.push(s(r,a),s(r,a+2)),a+=4;return u},e.GSUB.readChainSubClassSet=function(r,a){var o=e._bin,s=a,u=[],c=o.readUshort(r,a);a+=2;for(var d=0;d<c;d++){var p=o.readUshort(r,a);a+=2,u.push(e.GSUB.readChainSubClassRule(r,s+p))}return u},e.GSUB.readChainSubClassRule=function(r,a){for(var o=e._bin,s={},u=["backtrack","input","lookahead"],c=0;c<u.length;c++){var d=o.readUshort(r,a);a+=2,c==1&&d--,s[u[c]]=o.readUshorts(r,a,d),a+=2*s[u[c]].length}return d=o.readUshort(r,a),a+=2,s.subst=o.readUshorts(r,a,2*d),a+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(r,a){var o=e._bin,s=a,u=[],c=o.readUshort(r,a);a+=2;for(var d=0;d<c;d++){var p=o.readUshort(r,a);a+=2,u.push(e.GSUB.readLigature(r,s+p))}return u},e.GSUB.readLigature=function(r,a){var o=e._bin,s={chain:[]};s.nglyph=o.readUshort(r,a),a+=2;var u=o.readUshort(r,a);a+=2;for(var c=0;c<u-1;c++)s.chain.push(o.readUshort(r,a)),a+=2;return s},e.head={},e.head.parse=function(r,a,o){var s=e._bin,u={};return s.readFixed(r,a),a+=4,u.fontRevision=s.readFixed(r,a),a+=4,s.readUint(r,a),a+=4,s.readUint(r,a),a+=4,u.flags=s.readUshort(r,a),a+=2,u.unitsPerEm=s.readUshort(r,a),a+=2,u.created=s.readUint64(r,a),a+=8,u.modified=s.readUint64(r,a),a+=8,u.xMin=s.readShort(r,a),a+=2,u.yMin=s.readShort(r,a),a+=2,u.xMax=s.readShort(r,a),a+=2,u.yMax=s.readShort(r,a),a+=2,u.macStyle=s.readUshort(r,a),a+=2,u.lowestRecPPEM=s.readUshort(r,a),a+=2,u.fontDirectionHint=s.readShort(r,a),a+=2,u.indexToLocFormat=s.readShort(r,a),a+=2,u.glyphDataFormat=s.readShort(r,a),a+=2,u},e.hhea={},e.hhea.parse=function(r,a,o){var s=e._bin,u={};return s.readFixed(r,a),a+=4,u.ascender=s.readShort(r,a),a+=2,u.descender=s.readShort(r,a),a+=2,u.lineGap=s.readShort(r,a),a+=2,u.advanceWidthMax=s.readUshort(r,a),a+=2,u.minLeftSideBearing=s.readShort(r,a),a+=2,u.minRightSideBearing=s.readShort(r,a),a+=2,u.xMaxExtent=s.readShort(r,a),a+=2,u.caretSlopeRise=s.readShort(r,a),a+=2,u.caretSlopeRun=s.readShort(r,a),a+=2,u.caretOffset=s.readShort(r,a),a+=2,a+=8,u.metricDataFormat=s.readShort(r,a),a+=2,u.numberOfHMetrics=s.readUshort(r,a),a+=2,u},e.hmtx={},e.hmtx.parse=function(r,a,o,s){for(var u=e._bin,c={aWidth:[],lsBearing:[]},d=0,p=0,v=0;v<s.maxp.numGlyphs;v++)v<s.hhea.numberOfHMetrics&&(d=u.readUshort(r,a),a+=2,p=u.readShort(r,a),a+=2),c.aWidth.push(d),c.lsBearing.push(p);return c},e.kern={},e.kern.parse=function(r,a,o,s){var u=e._bin,c=u.readUshort(r,a);if(a+=2,c==1)return e.kern.parseV1(r,a-2,o,s);var d=u.readUshort(r,a);a+=2;for(var p={glyph1:[],rval:[]},v=0;v<d;v++){a+=2,o=u.readUshort(r,a),a+=2;var y=u.readUshort(r,a);a+=2;var b=y>>>8;if((b&=15)!=0)throw"unknown kern table format: "+b;a=e.kern.readFormat0(r,a,p)}return p},e.kern.parseV1=function(r,a,o,s){var u=e._bin;u.readFixed(r,a),a+=4;var c=u.readUint(r,a);a+=4;for(var d={glyph1:[],rval:[]},p=0;p<c;p++){u.readUint(r,a),a+=4;var v=u.readUshort(r,a);a+=2,u.readUshort(r,a),a+=2;var y=v>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;a=e.kern.readFormat0(r,a,d)}return d},e.kern.readFormat0=function(r,a,o){var s=e._bin,u=-1,c=s.readUshort(r,a);a+=2,s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2,s.readUshort(r,a),a+=2;for(var d=0;d<c;d++){var p=s.readUshort(r,a);a+=2;var v=s.readUshort(r,a);a+=2;var y=s.readShort(r,a);a+=2,p!=u&&(o.glyph1.push(p),o.rval.push({glyph2:[],vals:[]}));var b=o.rval[o.rval.length-1];b.glyph2.push(v),b.vals.push(y),u=p}return a},e.loca={},e.loca.parse=function(r,a,o,s){var u=e._bin,c=[],d=s.head.indexToLocFormat,p=s.maxp.numGlyphs+1;if(d==0)for(var v=0;v<p;v++)c.push(u.readUshort(r,a+(v<<1))<<1);if(d==1)for(v=0;v<p;v++)c.push(u.readUint(r,a+(v<<2)));return c},e.maxp={},e.maxp.parse=function(r,a,o){var s=e._bin,u={},c=s.readUint(r,a);return a+=4,u.numGlyphs=s.readUshort(r,a),a+=2,c==65536&&(u.maxPoints=s.readUshort(r,a),a+=2,u.maxContours=s.readUshort(r,a),a+=2,u.maxCompositePoints=s.readUshort(r,a),a+=2,u.maxCompositeContours=s.readUshort(r,a),a+=2,u.maxZones=s.readUshort(r,a),a+=2,u.maxTwilightPoints=s.readUshort(r,a),a+=2,u.maxStorage=s.readUshort(r,a),a+=2,u.maxFunctionDefs=s.readUshort(r,a),a+=2,u.maxInstructionDefs=s.readUshort(r,a),a+=2,u.maxStackElements=s.readUshort(r,a),a+=2,u.maxSizeOfInstructions=s.readUshort(r,a),a+=2,u.maxComponentElements=s.readUshort(r,a),a+=2,u.maxComponentDepth=s.readUshort(r,a),a+=2),u},e.name={},e.name.parse=function(r,a,o){var s=e._bin,u={};s.readUshort(r,a),a+=2;var c=s.readUshort(r,a);a+=2,s.readUshort(r,a);for(var d,p=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],v=a+=2,y=0;y<c;y++){var b=s.readUshort(r,a);a+=2;var T=s.readUshort(r,a);a+=2;var S=s.readUshort(r,a);a+=2;var A=s.readUshort(r,a);a+=2;var R=s.readUshort(r,a);a+=2;var I=s.readUshort(r,a);a+=2;var N,D=p[A],O=v+12*c+I;if(b==0)N=s.readUnicode(r,O,R/2);else if(b==3&&T==0)N=s.readUnicode(r,O,R/2);else if(T==0)N=s.readASCII(r,O,R);else if(T==1)N=s.readUnicode(r,O,R/2);else if(T==3)N=s.readUnicode(r,O,R/2);else{if(b!=1)throw"unknown encoding "+T+", platformID: "+b;N=s.readASCII(r,O,R),console.debug("reading unknown MAC encoding "+T+" as ASCII")}var F="p"+b+","+S.toString(16);u[F]==null&&(u[F]={}),u[F][D!==void 0?D:A]=N,u[F]._lang=S}for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==1033)return u[z];for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==0)return u[z];for(var z in u)if(u[z].postScriptName!=null&&u[z]._lang==3084)return u[z];for(var z in u)if(u[z].postScriptName!=null)return u[z];for(var z in u){d=z;break}return console.debug("returning name table with languageID "+u[d]._lang),u[d]},e["OS/2"]={},e["OS/2"].parse=function(r,a,o){var s=e._bin.readUshort(r,a);a+=2;var u={};if(s==0)e["OS/2"].version0(r,a,u);else if(s==1)e["OS/2"].version1(r,a,u);else if(s==2||s==3||s==4)e["OS/2"].version2(r,a,u);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(r,a,u)}return u},e["OS/2"].version0=function(r,a,o){var s=e._bin;return o.xAvgCharWidth=s.readShort(r,a),a+=2,o.usWeightClass=s.readUshort(r,a),a+=2,o.usWidthClass=s.readUshort(r,a),a+=2,o.fsType=s.readUshort(r,a),a+=2,o.ySubscriptXSize=s.readShort(r,a),a+=2,o.ySubscriptYSize=s.readShort(r,a),a+=2,o.ySubscriptXOffset=s.readShort(r,a),a+=2,o.ySubscriptYOffset=s.readShort(r,a),a+=2,o.ySuperscriptXSize=s.readShort(r,a),a+=2,o.ySuperscriptYSize=s.readShort(r,a),a+=2,o.ySuperscriptXOffset=s.readShort(r,a),a+=2,o.ySuperscriptYOffset=s.readShort(r,a),a+=2,o.yStrikeoutSize=s.readShort(r,a),a+=2,o.yStrikeoutPosition=s.readShort(r,a),a+=2,o.sFamilyClass=s.readShort(r,a),a+=2,o.panose=s.readBytes(r,a,10),a+=10,o.ulUnicodeRange1=s.readUint(r,a),a+=4,o.ulUnicodeRange2=s.readUint(r,a),a+=4,o.ulUnicodeRange3=s.readUint(r,a),a+=4,o.ulUnicodeRange4=s.readUint(r,a),a+=4,o.achVendID=[s.readInt8(r,a),s.readInt8(r,a+1),s.readInt8(r,a+2),s.readInt8(r,a+3)],a+=4,o.fsSelection=s.readUshort(r,a),a+=2,o.usFirstCharIndex=s.readUshort(r,a),a+=2,o.usLastCharIndex=s.readUshort(r,a),a+=2,o.sTypoAscender=s.readShort(r,a),a+=2,o.sTypoDescender=s.readShort(r,a),a+=2,o.sTypoLineGap=s.readShort(r,a),a+=2,o.usWinAscent=s.readUshort(r,a),a+=2,o.usWinDescent=s.readUshort(r,a),a+=2},e["OS/2"].version1=function(r,a,o){var s=e._bin;return a=e["OS/2"].version0(r,a,o),o.ulCodePageRange1=s.readUint(r,a),a+=4,o.ulCodePageRange2=s.readUint(r,a),a+=4},e["OS/2"].version2=function(r,a,o){var s=e._bin;return a=e["OS/2"].version1(r,a,o),o.sxHeight=s.readShort(r,a),a+=2,o.sCapHeight=s.readShort(r,a),a+=2,o.usDefault=s.readUshort(r,a),a+=2,o.usBreak=s.readUshort(r,a),a+=2,o.usMaxContext=s.readUshort(r,a),a+=2},e["OS/2"].version5=function(r,a,o){var s=e._bin;return a=e["OS/2"].version2(r,a,o),o.usLowerOpticalPointSize=s.readUshort(r,a),a+=2,o.usUpperOpticalPointSize=s.readUshort(r,a),a+=2},e.post={},e.post.parse=function(r,a,o){var s=e._bin,u={};return u.version=s.readFixed(r,a),a+=4,u.italicAngle=s.readFixed(r,a),a+=4,u.underlinePosition=s.readShort(r,a),a+=2,u.underlineThickness=s.readShort(r,a),a+=2,u},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,a){var o=r.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var u=o.tables[s];if(u.format==0)return a>=u.map.length?0:u.map[a];if(u.format==4){for(var c=-1,d=0;d<u.endCount.length;d++)if(a<=u.endCount[d]){c=d;break}return c==-1||u.startCount[c]>a?0:65535&(u.idRangeOffset[c]!=0?u.glyphIdArray[a-u.startCount[c]+(u.idRangeOffset[c]>>1)-(u.idRangeOffset.length-c)]:a+u.idDelta[c])}if(u.format==12){if(a>u.groups[u.groups.length-1][1])return 0;for(d=0;d<u.groups.length;d++){var p=u.groups[d];if(p[0]<=a&&a<=p[1])return p[2]+(a-p[0])}return 0}throw"unknown cmap table format "+u.format},e.U.glyphToPath=function(r,a){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[a]){var s=r.SVG.entries[a];return s==null?o:(typeof s=="string"&&(s=e.SVG.toPath(s),r.SVG.entries[a]=s),s)}if(r.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,d=r.CFF.Private;if(c.ROS){for(var p=0;c.FDSelect[p+2]<=a;)p+=2;d=c.FDArray[c.FDSelect[p+1]].Private}e.U._drawCFF(r.CFF.CharStrings[a],u,c,d,o)}else r.glyf&&e.U._drawGlyf(a,r,o);return o},e.U._drawGlyf=function(r,a,o){var s=a.glyf[r];s==null&&(s=a.glyf[r]=e.glyf._parseGlyf(a,r)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,o):e.U._compoGlyph(s,a,o))},e.U._simpleGlyph=function(r,a){for(var o=0;o<r.noc;o++){for(var s=o==0?0:r.endPts[o-1]+1,u=r.endPts[o],c=s;c<=u;c++){var d=c==s?u:c-1,p=c==u?s:c+1,v=1&r.flags[c],y=1&r.flags[d],b=1&r.flags[p],T=r.xs[c],S=r.ys[c];if(c==s)if(v){if(!y){e.U.P.moveTo(a,T,S);continue}e.U.P.moveTo(a,r.xs[d],r.ys[d])}else y?e.U.P.moveTo(a,r.xs[d],r.ys[d]):e.U.P.moveTo(a,(r.xs[d]+T)/2,(r.ys[d]+S)/2);v?y&&e.U.P.lineTo(a,T,S):b?e.U.P.qcurveTo(a,T,S,r.xs[p],r.ys[p]):e.U.P.qcurveTo(a,T,S,(T+r.xs[p])/2,(S+r.ys[p])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(r,a,o){for(var s=0;s<r.parts.length;s++){var u={cmds:[],crds:[]},c=r.parts[s];e.U._drawGlyf(c.glyphIndex,a,u);for(var d=c.m,p=0;p<u.crds.length;p+=2){var v=u.crds[p],y=u.crds[p+1];o.crds.push(v*d.a+y*d.b+d.tx),o.crds.push(v*d.c+y*d.d+d.ty)}for(p=0;p<u.cmds.length;p++)o.cmds.push(u.cmds[p])}},e.U._getGlyphClass=function(r,a){var o=e._lctf.getInterval(a,r);return o==-1?0:a[o+2]},e.U._applySubs=function(r,a,o,s){for(var u=r.length-a-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var d,p=o.tabs[c];if(!p.coverage||(d=e._lctf.coverageIndex(p.coverage,r[a]))!=-1){if(o.ltype==1)r[a],p.fmt==1?r[a]=r[a]+p.delta:r[a]=p.newg[d];else if(o.ltype==4)for(var v=p.vals[d],y=0;y<v.length;y++){var b=v[y],T=b.chain.length;if(!(T>u)){for(var S=!0,A=0,R=0;R<T;R++){for(;r[a+A+(1+R)]==-1;)A++;b.chain[R]!=r[a+A+(1+R)]&&(S=!1)}if(S){for(r[a]=b.nglyph,R=0;R<T+A;R++)r[a+R+1]=-1;break}}}else if(o.ltype==5&&p.fmt==2)for(var I=e._lctf.getInterval(p.cDef,r[a]),N=p.cDef[I+2],D=p.scset[N],O=0;O<D.length;O++){var F=D[O],z=F.input;if(!(z.length>u)){for(S=!0,R=0;R<z.length;R++){var U=e._lctf.getInterval(p.cDef,r[a+1+R]);if(I==-1&&p.cDef[U+2]!=z[R]){S=!1;break}}if(S){var B=F.substLookupRecords;for(y=0;y<B.length;y+=2)B[y],B[y+1]}}}else if(o.ltype==6&&p.fmt==3){if(!e.U._glsCovered(r,p.backCvg,a-p.backCvg.length)||!e.U._glsCovered(r,p.inptCvg,a)||!e.U._glsCovered(r,p.ahedCvg,a+p.inptCvg.length))continue;var j=p.lookupRec;for(O=0;O<j.length;O+=2){I=j[O];var W=s[j[O+1]];e.U._applySubs(r,a+I,W,s)}}}}},e.U._glsCovered=function(r,a,o){for(var s=0;s<a.length;s++)if(e._lctf.coverageIndex(a[s],r[o+s])==-1)return!1;return!0},e.U.glyphsToPath=function(r,a,o){for(var s={cmds:[],crds:[]},u=0,c=0;c<a.length;c++){var d=a[c];if(d!=-1){for(var p=c<a.length-1&&a[c+1]!=-1?a[c+1]:0,v=e.U.glyphToPath(r,d),y=0;y<v.crds.length;y+=2)s.crds.push(v.crds[y]+u),s.crds.push(v.crds[y+1]);for(o&&s.cmds.push(o),y=0;y<v.cmds.length;y++)s.cmds.push(v.cmds[y]);o&&s.cmds.push("X"),u+=r.hmtx.aWidth[d],c<a.length-1&&(u+=e.U.getPairAdjustment(r,d,p))}}return s},e.U.P={},e.U.P.moveTo=function(r,a,o){r.cmds.push("M"),r.crds.push(a,o)},e.U.P.lineTo=function(r,a,o){r.cmds.push("L"),r.crds.push(a,o)},e.U.P.curveTo=function(r,a,o,s,u,c,d){r.cmds.push("C"),r.crds.push(a,o,s,u,c,d)},e.U.P.qcurveTo=function(r,a,o,s,u){r.cmds.push("Q"),r.crds.push(a,o,s,u)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,a,o,s,u){for(var c=a.stack,d=a.nStems,p=a.haveWidth,v=a.width,y=a.open,b=0,T=a.x,S=a.y,A=0,R=0,I=0,N=0,D=0,O=0,F=0,z=0,U=0,B=0,j={val:0,size:0};b<r.length;){e.CFF.getCharString(r,b,j);var W=j.val;if(b+=j.size,W=="o1"||W=="o18")c.length%2!=0&&!p&&(v=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,p=!0;else if(W=="o3"||W=="o23")c.length%2!=0&&!p&&(v=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,p=!0;else if(W=="o4")c.length>1&&!p&&(v=c.shift()+s.nominalWidthX,p=!0),y&&e.U.P.closePath(u),S+=c.pop(),e.U.P.moveTo(u,T,S),y=!0;else if(W=="o5")for(;c.length>0;)T+=c.shift(),S+=c.shift(),e.U.P.lineTo(u,T,S);else if(W=="o6"||W=="o7")for(var Y=c.length,Q=W=="o6",ae=0;ae<Y;ae++){var X=c.shift();Q?T+=X:S+=X,Q=!Q,e.U.P.lineTo(u,T,S)}else if(W=="o8"||W=="o24"){Y=c.length;for(var ne=0;ne+6<=Y;)A=T+c.shift(),R=S+c.shift(),I=A+c.shift(),N=R+c.shift(),T=I+c.shift(),S=N+c.shift(),e.U.P.curveTo(u,A,R,I,N,T,S),ne+=6;W=="o24"&&(T+=c.shift(),S+=c.shift(),e.U.P.lineTo(u,T,S))}else{if(W=="o11")break;if(W=="o1234"||W=="o1235"||W=="o1236"||W=="o1237")W=="o1234"&&(R=S,I=(A=T+c.shift())+c.shift(),B=N=R+c.shift(),O=N,z=S,T=(F=(D=(U=I+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(u,A,R,I,N,U,B),e.U.P.curveTo(u,D,O,F,z,T,S)),W=="o1235"&&(A=T+c.shift(),R=S+c.shift(),I=A+c.shift(),N=R+c.shift(),U=I+c.shift(),B=N+c.shift(),D=U+c.shift(),O=B+c.shift(),F=D+c.shift(),z=O+c.shift(),T=F+c.shift(),S=z+c.shift(),c.shift(),e.U.P.curveTo(u,A,R,I,N,U,B),e.U.P.curveTo(u,D,O,F,z,T,S)),W=="o1236"&&(A=T+c.shift(),R=S+c.shift(),I=A+c.shift(),B=N=R+c.shift(),O=N,F=(D=(U=I+c.shift())+c.shift())+c.shift(),z=O+c.shift(),T=F+c.shift(),e.U.P.curveTo(u,A,R,I,N,U,B),e.U.P.curveTo(u,D,O,F,z,T,S)),W=="o1237"&&(A=T+c.shift(),R=S+c.shift(),I=A+c.shift(),N=R+c.shift(),U=I+c.shift(),B=N+c.shift(),D=U+c.shift(),O=B+c.shift(),F=D+c.shift(),z=O+c.shift(),Math.abs(F-T)>Math.abs(z-S)?T=F+c.shift():S=z+c.shift(),e.U.P.curveTo(u,A,R,I,N,U,B),e.U.P.curveTo(u,D,O,F,z,T,S));else if(W=="o14"){if(c.length>0&&!p&&(v=c.shift()+o.nominalWidthX,p=!0),c.length==4){var ge=c.shift(),pe=c.shift(),de=c.shift(),H=c.shift(),te=e.CFF.glyphBySE(o,de),ie=e.CFF.glyphBySE(o,H);e.U._drawCFF(o.CharStrings[te],a,o,s,u),a.x=ge,a.y=pe,e.U._drawCFF(o.CharStrings[ie],a,o,s,u)}y&&(e.U.P.closePath(u),y=!1)}else if(W=="o19"||W=="o20")c.length%2!=0&&!p&&(v=c.shift()+s.nominalWidthX),d+=c.length>>1,c.length=0,p=!0,b+=d+7>>3;else if(W=="o21")c.length>2&&!p&&(v=c.shift()+s.nominalWidthX,p=!0),S+=c.pop(),T+=c.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,T,S),y=!0;else if(W=="o22")c.length>1&&!p&&(v=c.shift()+s.nominalWidthX,p=!0),T+=c.pop(),y&&e.U.P.closePath(u),e.U.P.moveTo(u,T,S),y=!0;else if(W=="o25"){for(;c.length>6;)T+=c.shift(),S+=c.shift(),e.U.P.lineTo(u,T,S);A=T+c.shift(),R=S+c.shift(),I=A+c.shift(),N=R+c.shift(),T=I+c.shift(),S=N+c.shift(),e.U.P.curveTo(u,A,R,I,N,T,S)}else if(W=="o26")for(c.length%2&&(T+=c.shift());c.length>0;)A=T,R=S+c.shift(),T=I=A+c.shift(),S=(N=R+c.shift())+c.shift(),e.U.P.curveTo(u,A,R,I,N,T,S);else if(W=="o27")for(c.length%2&&(S+=c.shift());c.length>0;)R=S,I=(A=T+c.shift())+c.shift(),N=R+c.shift(),T=I+c.shift(),S=N,e.U.P.curveTo(u,A,R,I,N,T,S);else if(W=="o10"||W=="o29"){var ce=W=="o10"?s:o;if(c.length==0)console.debug("error: empty stack");else{var ye=c.pop(),oe=ce.Subrs[ye+ce.Bias];a.x=T,a.y=S,a.nStems=d,a.haveWidth=p,a.width=v,a.open=y,e.U._drawCFF(oe,a,o,s,u),T=a.x,S=a.y,d=a.nStems,p=a.haveWidth,v=a.width,y=a.open}}else if(W=="o30"||W=="o31"){var le=c.length,Se=(ne=0,W=="o31");for(ne+=le-(Y=-3&le);ne<Y;)Se?(R=S,I=(A=T+c.shift())+c.shift(),S=(N=R+c.shift())+c.shift(),Y-ne==5?(T=I+c.shift(),ne++):T=I,Se=!1):(A=T,R=S+c.shift(),I=A+c.shift(),N=R+c.shift(),T=I+c.shift(),Y-ne==5?(S=N+c.shift(),ne++):S=N,Se=!0),e.U.P.curveTo(u,A,R,I,N,T,S),ne+=4}else{if((W+"").charAt(0)=="o")throw console.debug("Unknown operation: "+W,r),W;c.push(W)}}}a.x=T,a.y=S,a.nStems=d,a.haveWidth=p,a.width=v,a.open=y};var n=e,i={Typr:n};return t.Typr=n,t.default=i,Object.defineProperty(t,"__esModule",{value:!0}),t})({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Iwe(){return(function(t){var e=Uint8Array,n=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(W,Y){for(var Q=new n(31),ae=0;ae<31;++ae)Q[ae]=Y+=1<<W[ae-1];var X=new i(Q[30]);for(ae=1;ae<30;++ae)for(var ne=Q[ae];ne<Q[ae+1];++ne)X[ne]=ne-Q[ae]<<5|ae;return[Q,X]},u=s(r,2),c=u[0],d=u[1];c[28]=258,d[258]=28;for(var p=s(a,0)[0],v=new n(32768),y=0;y<32768;++y){var b=(43690&y)>>>1|(21845&y)<<1;b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4,v[y]=((65280&b)>>>8|(255&b)<<8)>>>1}var T=function(W,Y,Q){for(var ae=W.length,X=0,ne=new n(Y);X<ae;++X)++ne[W[X]-1];var ge,pe=new n(Y);for(X=0;X<Y;++X)pe[X]=pe[X-1]+ne[X-1]<<1;{ge=new n(1<<Y);var de=15-Y;for(X=0;X<ae;++X)if(W[X])for(var H=X<<4|W[X],te=Y-W[X],ie=pe[W[X]-1]++<<te,ce=ie|(1<<te)-1;ie<=ce;++ie)ge[v[ie]>>>de]=H}return ge},S=new e(288);for(y=0;y<144;++y)S[y]=8;for(y=144;y<256;++y)S[y]=9;for(y=256;y<280;++y)S[y]=7;for(y=280;y<288;++y)S[y]=8;var A=new e(32);for(y=0;y<32;++y)A[y]=5;var R=T(S,9),I=T(A,5),N=function(W){for(var Y=W[0],Q=1;Q<W.length;++Q)W[Q]>Y&&(Y=W[Q]);return Y},D=function(W,Y,Q){var ae=Y/8|0;return(W[ae]|W[ae+1]<<8)>>(7&Y)&Q},O=function(W,Y){var Q=Y/8|0;return(W[Q]|W[Q+1]<<8|W[Q+2]<<16)>>(7&Y)},F=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(W,Y,Q){var ae=new Error(Y||F[W]);if(ae.code=W,Error.captureStackTrace&&Error.captureStackTrace(ae,z),!Q)throw ae;return ae},U=function(W,Y,Q){var ae=W.length;if(!ae||Q&&!Q.l&&ae<5)return Y||new e(0);var X=!Y||Q,ne=!Q||Q.i;Q||(Q={}),Y||(Y=new e(3*ae));var ge,pe=function(et){var ue=Y.length;if(et>ue){var we=new e(Math.max(2*ue,et));we.set(Y),Y=we}},de=Q.f||0,H=Q.p||0,te=Q.b||0,ie=Q.l,ce=Q.d,ye=Q.m,oe=Q.n,le=8*ae;do{if(!ie){Q.f=de=D(W,H,1);var Se=D(W,H+1,3);if(H+=3,!Se){var he=W[(je=((ge=H)/8|0)+(7&ge&&1)+4)-4]|W[je-3]<<8,De=je+he;if(De>ae){ne&&z(0);break}X&&pe(te+he),Y.set(W.subarray(je,De),te),Q.b=te+=he,Q.p=H=8*De;continue}if(Se==1)ie=R,ce=I,ye=9,oe=5;else if(Se==2){var Fe=D(W,H,31)+257,ve=D(W,H+10,15)+4,ct=Fe+D(W,H+5,31)+1;H+=14;for(var Ee=new e(ct),Oe=new e(19),Me=0;Me<ve;++Me)Oe[o[Me]]=D(W,H+3*Me,7);H+=3*ve;var Je=N(Oe),K=(1<<Je)-1,at=T(Oe,Je);for(Me=0;Me<ct;){var je,Re=at[D(W,H,K)];if(H+=15&Re,(je=Re>>>4)<16)Ee[Me++]=je;else{var Ve=0,$=0;for(je==16?($=3+D(W,H,3),H+=2,Ve=Ee[Me-1]):je==17?($=3+D(W,H,7),H+=3):je==18&&($=11+D(W,H,127),H+=7);$--;)Ee[Me++]=Ve}}var q=Ee.subarray(0,Fe),fe=Ee.subarray(Fe);ye=N(q),oe=N(fe),ie=T(q,ye),ce=T(fe,oe)}else z(1);if(H>le){ne&&z(0);break}}X&&pe(te+131072);for(var Le=(1<<ye)-1,Ce=(1<<oe)-1,Te=H;;Te=H){var ot=(Ve=ie[O(W,H)&Le])>>>4;if((H+=15&Ve)>le){ne&&z(0);break}if(Ve||z(2),ot<256)Y[te++]=ot;else{if(ot==256){Te=H,ie=null;break}var it=ot-254;if(ot>264){var mt=r[Me=ot-257];it=D(W,H,(1<<mt)-1)+c[Me],H+=mt}var xt=ce[O(W,H)&Ce],We=xt>>>4;if(xt||z(3),H+=15&xt,fe=p[We],We>3&&(mt=a[We],fe+=O(W,H)&(1<<mt)-1,H+=mt),H>le){ne&&z(0);break}X&&pe(te+131072);for(var Ke=te+it;te<Ke;te+=4)Y[te]=Y[te-fe],Y[te+1]=Y[te+1-fe],Y[te+2]=Y[te+2-fe],Y[te+3]=Y[te+3-fe];te=Ke}}Q.l=ie,Q.p=Te,Q.b=te,ie&&(de=1,Q.m=ye,Q.d=ce,Q.n=oe)}while(!de);return te==Y.length?Y:(function(et,ue,we){(we==null||we>et.length)&&(we=et.length);var ht=new(et instanceof n?n:et instanceof i?i:e)(we-ue);return ht.set(et.subarray(ue,we)),ht})(Y,0,te)},B=new e(0),j=typeof TextDecoder<"u"&&new TextDecoder;try{j.decode(B,{stream:!0})}catch{}return t.convert_streams=function(W){var Y=new DataView(W),Q=0;function ae(){var Fe=Y.getUint16(Q);return Q+=2,Fe}function X(){var Fe=Y.getUint32(Q);return Q+=4,Fe}function ne(Fe){he.setUint16(De,Fe),De+=2}function ge(Fe){he.setUint32(De,Fe),De+=4}for(var pe={signature:X(),flavor:X(),length:X(),numTables:ae(),reserved:ae(),totalSfntSize:X(),majorVersion:ae(),minorVersion:ae(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},de=0;Math.pow(2,de)<=pe.numTables;)de++;de--;for(var H=16*Math.pow(2,de),te=16*pe.numTables-H,ie=12,ce=[],ye=0;ye<pe.numTables;ye++)ce.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),ie+=16;var oe,le=new Uint8Array(12+16*ce.length+ce.reduce((function(Fe,ve){return Fe+ve.origLength+4}),0)),Se=le.buffer,he=new DataView(Se),De=0;return ge(pe.flavor),ne(pe.numTables),ne(H),ne(de),ne(te),ce.forEach((function(Fe){ge(Fe.tag),ge(Fe.origChecksum),ge(ie),ge(Fe.origLength),Fe.outOffset=ie,(ie+=Fe.origLength)%4!=0&&(ie+=4-ie%4)})),ce.forEach((function(Fe){var ve,ct=W.slice(Fe.offset,Fe.offset+Fe.compLength);if(Fe.compLength!=Fe.origLength){var Ee=new Uint8Array(Fe.origLength);ve=new Uint8Array(ct,2),U(ve,Ee)}else Ee=new Uint8Array(ct);le.set(Ee,Fe.outOffset);var Oe=0;(ie=Fe.outOffset+Fe.origLength)%4!=0&&(Oe=4-ie%4),le.set(new Uint8Array(Oe).buffer,Fe.outOffset+Fe.origLength),oe=ie+Oe})),Se.slice(0,oe)},Object.defineProperty(t,"__esModule",{value:!0}),t})({}).convert_streams}function Pwe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,a=2,o=4,s=8,u=16,c=32;let d;function p(F){if(!d){const z={R:a,L:r,D:o,C:u,U:c,T:s};d=new Map;for(let U in i){let B=0;i[U].split(",").forEach(j=>{let[W,Y]=j.split("+");W=parseInt(W,36),Y=Y?parseInt(Y,36):0,d.set(B+=W,z[U]);for(let Q=Y;Q--;)d.set(++B,z[U])})}}return d.get(F)||c}const v=1,y=2,b=3,T=4,S=[null,"isol","init","fina","medi"];function A(F){const z=new Uint8Array(F.length);let U=c,B=v,j=-1;for(let W=0;W<F.length;W++){const Y=F.codePointAt(W);let Q=p(Y)|0,ae=v;Q&s||(U&(r|o|u)?Q&(a|o|u)?(ae=b,(B===v||B===b)&&z[j]++):Q&(r|c)&&(B===y||B===T)&&z[j]--:U&(a|c)&&(B===y||B===T)&&z[j]--,B=z[W]=ae,U=Q,j=W,Y>65535&&W++)}return z}function R(F,z){const U=[];for(let j=0;j<z.length;j++){const W=z.codePointAt(j);W>65535&&j++,U.push(t.U.codeToGlyph(F,W))}const B=F.GSUB;if(B){const{lookupList:j,featureList:W}=B;let Y;const Q=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ae=[];W.forEach(X=>{if(Q.test(X.tag))for(let ne=0;ne<X.tab.length;ne++){if(ae[X.tab[ne]])continue;ae[X.tab[ne]]=!0;const ge=j[X.tab[ne]],pe=/^(isol|init|fina|medi)$/.test(X.tag);pe&&!Y&&(Y=A(z));for(let de=0;de<U.length;de++)(!Y||!pe||S[Y[de]]===X.tag)&&t.U._applySubs(U,de,ge,j)}})}return U}function I(F,z){const U=new Int16Array(z.length*3);let B=0;for(;B<z.length;B++){const Q=z[B];if(Q===-1)continue;U[B*3+2]=F.hmtx.aWidth[Q];const ae=F.GPOS;if(ae){const X=ae.lookupList;for(let ne=0;ne<X.length;ne++){const ge=X[ne];for(let pe=0;pe<ge.tabs.length;pe++){const de=ge.tabs[pe];if(ge.ltype===1){if(t._lctf.coverageIndex(de.coverage,Q)!==-1&&de.pos){Y(de.pos,B);break}}else if(ge.ltype===2){let H=null,te=j();if(te!==-1){const ie=t._lctf.coverageIndex(de.coverage,z[te]);if(ie!==-1){if(de.fmt===1){const ce=de.pairsets[ie];for(let ye=0;ye<ce.length;ye++)ce[ye].gid2===Q&&(H=ce[ye])}else if(de.fmt===2){const ce=t.U._getGlyphClass(z[te],de.classDef1),ye=t.U._getGlyphClass(Q,de.classDef2);H=de.matrix[ce][ye]}if(H){H.val1&&Y(H.val1,te),H.val2&&Y(H.val2,B);break}}}}else if(ge.ltype===4){const H=t._lctf.coverageIndex(de.markCoverage,Q);if(H!==-1){const te=j(W),ie=te===-1?-1:t._lctf.coverageIndex(de.baseCoverage,z[te]);if(ie!==-1){const ce=de.markArray[H],ye=de.baseArray[ie][ce.markClass];U[B*3]=ye.x-ce.x+U[te*3]-U[te*3+2],U[B*3+1]=ye.y-ce.y+U[te*3+1];break}}}else if(ge.ltype===6){const H=t._lctf.coverageIndex(de.mark1Coverage,Q);if(H!==-1){const te=j();if(te!==-1){const ie=z[te];if(N(F,ie)===3){const ce=t._lctf.coverageIndex(de.mark2Coverage,ie);if(ce!==-1){const ye=de.mark1Array[H],oe=de.mark2Array[ce][ye.markClass];U[B*3]=oe.x-ye.x+U[te*3]-U[te*3+2],U[B*3+1]=oe.y-ye.y+U[te*3+1];break}}}}}}}}else if(F.kern&&!F.cff){const X=j();if(X!==-1){const ne=F.kern.glyph1.indexOf(z[X]);if(ne!==-1){const ge=F.kern.rval[ne].glyph2.indexOf(Q);ge!==-1&&(U[X*3+2]+=F.kern.rval[ne].vals[ge])}}}}return U;function j(Q){for(let ae=B-1;ae>=0;ae--)if(z[ae]!==-1&&(!Q||Q(z[ae])))return ae;return-1}function W(Q){return N(F,Q)===1}function Y(Q,ae){for(let X=0;X<3;X++)U[ae*3+X]+=Q[X]||0}}function N(F,z){const U=F.GDEF&&F.GDEF.glyphClassDef;return U?t.U._getGlyphClass(z,U):0}function D(...F){for(let z=0;z<F.length;z++)if(typeof F[z]=="number")return F[z]}function O(F){const z=Object.create(null),U=F["OS/2"],B=F.hhea,j=F.head.unitsPerEm,W=D(U&&U.sTypoAscender,B&&B.ascender,j),Y={unitsPerEm:j,ascender:W,descender:D(U&&U.sTypoDescender,B&&B.descender,0),capHeight:D(U&&U.sCapHeight,W),xHeight:D(U&&U.sxHeight,W),lineGap:D(U&&U.sTypoLineGap,B&&B.lineGap),supportsCodePoint(Q){return t.U.codeToGlyph(F,Q)>0},forEachGlyph(Q,ae,X,ne){let ge=0;const pe=1/Y.unitsPerEm*ae,de=R(F,Q);let H=0;const te=I(F,de);return de.forEach((ie,ce)=>{if(ie!==-1){let ye=z[ie];if(!ye){const{cmds:oe,crds:le}=t.U.glyphToPath(F,ie);let Se="",he=0;for(let Ee=0,Oe=oe.length;Ee<Oe;Ee++){const Me=n[oe[Ee]];Se+=oe[Ee];for(let Je=1;Je<=Me;Je++)Se+=(Je>1?",":"")+le[he++]}let De,Fe,ve,ct;if(le.length){De=Fe=1/0,ve=ct=-1/0;for(let Ee=0,Oe=le.length;Ee<Oe;Ee+=2){let Me=le[Ee],Je=le[Ee+1];Me<De&&(De=Me),Je<Fe&&(Fe=Je),Me>ve&&(ve=Me),Je>ct&&(ct=Je)}}else De=ve=Fe=ct=0;ye=z[ie]={index:ie,advanceWidth:F.hmtx.aWidth[ie],xMin:De,yMin:Fe,xMax:ve,yMax:ct,path:Se}}ne.call(null,ye,ge+te[ce*3]*pe,te[ce*3+1]*pe,H),ge+=te[ce*3+2]*pe,X&&(ge+=X*ae)}H+=Q.codePointAt(H)>65535?2:1}),ge}};return Y}return function(z){const U=new Uint8Array(z,0,4),B=t._bin.readASCII(U,0,4);if(B==="wOFF")z=e(z);else if(B==="wOF2")throw new Error("woff2 fonts not supported");return O(t.parse(z)[0])}}const Nwe=Wg({name:"Typr Font Parser",dependencies:[Rwe,Iwe,Pwe],init(t,e,n){const i=t(),r=e();return n(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Dwe(){return(function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(I){var N=I>>5;this.buckets.set(N,(this.buckets.get(N)||0)|1<<(31&I))},e.prototype.has=function(I){var N=this.buckets.get(I>>5);return N!==void 0&&(N&1<<(31&I))!=0},e.prototype.serialize=function(){var I=[];return this.buckets.forEach((function(N,D){I.push((+D).toString(36)+":"+N.toString(36))})),I.join(",")},e.prototype.deserialize=function(I){var N=this;this.buckets.clear(),I.split(",").forEach((function(D){var O=D.split(":");N.buckets.set(parseInt(O[0],36),parseInt(O[1],36))}))};var n=Math.pow(2,8),i=n-1,r=~i;function a(I){var N=(function(O){return O&r})(I).toString(16),D=(function(O){return(O&r)+n-1})(I).toString(16);return"codepoint-index/plane"+(I>>16)+"/"+N+"-"+D+".json"}function o(I,N){var D=I&i,O=N.codePointAt(D/6|0);return((O=(O||48)-48)&1<<D%6)!=0}function s(I,N){var D;(D=I,D.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(O){return O.split("-").map((function(F){return parseInt(F.trim(),16)}))}))).forEach((function(O){var F=O[0],z=O[1];z===void 0&&(z=F),N(F,z)}))}function u(I,N){s(I,(function(D,O){for(var F=D;F<=O;F++)N(F)}))}var c={},d={},p=new WeakMap,v="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(I){var N=p.get(I);return N||(N=new e,u(I.ranges,(function(D){return N.add(D)})),p.set(I,N)),N}var b,T=new Map;function S(I,N,D){return I[N]?N:I[D]?D:(function(O){for(var F in O)return F})(I)}function A(I,N){var D=N;if(!I.includes(D)){D=1/0;for(var O=0;O<I.length;O++)Math.abs(I[O]-N)<Math.abs(D-N)&&(D=I[O])}return D}function R(I){return b||(b=new Set,u("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(N){b.add(N)}))),b.has(I)}return t.CodePointSet=e,t.clearCache=function(){c={},d={}},t.getFontsForString=function(I,N){N===void 0&&(N={});var D,O=N.lang;O===void 0&&(O=new RegExp("\\p{Script=Hangul}","u").test(D=I)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(D)?"ja":"en");var F=N.category;F===void 0&&(F="sans-serif");var z=N.style;z===void 0&&(z="normal");var U=N.weight;U===void 0&&(U=400);var B=(N.dataUrl||v).replace(/\/$/g,""),j=new Map,W=new Uint8Array(I.length),Y={},Q={},ae=new Array(I.length),X=new Map,ne=!1;function ge(H){var te=T.get(H);return te||(te=fetch(B+"/"+H).then((function(ie){if(!ie.ok)throw new Error(ie.statusText);return ie.json().then((function(ce){if(!Array.isArray(ce)||ce[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ce[0]);return ce[1]}))})).catch((function(ie){if(B!==v)return ne||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+B+'", trying default CDN. '+ie.message),ne=!0),B=v,T.delete(H),ge(H);throw ie})),T.set(H,te)),te}for(var pe=function(H){var te=I.codePointAt(H),ie=a(te);ae[H]=ie,c[ie]||X.has(ie)||X.set(ie,ge(ie).then((function(ce){c[ie]=ce}))),te>65535&&(H++,de=H)},de=0;de<I.length;de++)pe(de);return Promise.all(X.values()).then((function(){X.clear();for(var H=function(ie){var ce=I.codePointAt(ie),ye=null,oe=c[ae[ie]],le=void 0;for(var Se in oe){var he=Q[Se];if(he===void 0&&(he=Q[Se]=new RegExp(Se).test(O||"en")),he){for(var De in le=Se,oe[Se])if(o(ce,oe[Se][De])){ye=De;break}break}}if(!ye){e:for(var Fe in oe)if(Fe!==le){for(var ve in oe[Fe])if(o(ce,oe[Fe][ve])){ye=ve;break e}}}ye||(console.debug("No font coverage for U+"+ce.toString(16)),ye="latin"),ae[ie]=ye,d[ye]||X.has(ye)||X.set(ye,ge("font-meta/"+ye+".json").then((function(ct){d[ye]=ct}))),ce>65535&&(ie++,te=ie)},te=0;te<I.length;te++)H(te);return Promise.all(X.values())})).then((function(){for(var H,te=null,ie=0;ie<I.length;ie++){var ce=I.codePointAt(ie);if(te&&(R(ce)||y(te).has(ce)))W[ie]=W[ie-1];else{te=d[ae[ie]];var ye=Y[te.id];if(!ye){var oe=te.typeforms,le=S(oe,F,"sans-serif"),Se=S(oe[le],z,"normal"),he=A((H=oe[le])===null||H===void 0?void 0:H[Se],U);ye=Y[te.id]=B+"/font-files/"+te.id+"/"+le+"."+Se+"."+he+".woff"}var De=j.get(ye);De==null&&(De=j.size,j.set(ye,De)),W[ie]=De}ce>65535&&(ie++,W[ie]=W[ie-1])}return{fontUrls:Array.from(j.keys()),chars:W}}))},Object.defineProperty(t,"__esModule",{value:!0}),t})({})}function Owe(t,e){const n=Object.create(null),i=Object.create(null);function r(o,s){const u=c=>{console.error(`Failure loading font ${o}`,c)};try{const c=new XMLHttpRequest;c.open("get",o,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)u(new Error(c.statusText));else if(c.status>0)try{const d=t(c.response);d.src=o,s(d)}catch(d){u(d)}},c.onerror=u,c.send()}catch(c){u(c)}}function a(o,s){let u=n[o];u?s(u):i[o]?i[o].push(s):(i[o]=[s],r(o,c=>{c.src=o,n[o]=c,i[o].forEach(d=>d(c)),delete i[o]}))}return function(o,s,{lang:u,fonts:c=[],style:d="normal",weight:p="normal",unicodeFontsURL:v}={}){const y=new Uint8Array(o.length),b=[];o.length||R();const T=new Map,S=[];if(d!=="italic"&&(d="normal"),typeof p!="number"&&(p=p==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(N=>!N.lang||N.lang.test(u)).reverse(),c.length){let F=0;(function z(U=0){for(let B=U,j=o.length;B<j;B++){const W=o.codePointAt(B);if(F===1&&b[y[B-1]].supportsCodePoint(W)||B>0&&/\s/.test(o[B]))y[B]=y[B-1],F===2&&(S[S.length-1][1]=B);else for(let Y=y[B],Q=c.length;Y<=Q;Y++)if(Y===Q){const ae=F===2?S[S.length-1]:S[S.length]=[B,B];ae[1]=B,F=2}else{y[B]=Y;const{src:ae,unicodeRange:X}=c[Y];if(!X||I(W,X)){const ne=n[ae];if(!ne){a(ae,()=>{z(B)});return}if(ne.supportsCodePoint(W)){let ge=T.get(ne);typeof ge!="number"&&(ge=b.length,b.push(ne),T.set(ne,ge)),y[B]=ge,F=1;break}}}W>65535&&B+1<j&&(y[B+1]=y[B],B++,F===2&&(S[S.length-1][1]=B))}A()})()}else S.push([0,o.length-1]),A();function A(){if(S.length){const N=S.map(D=>o.substring(D[0],D[1]+1)).join(`
`);e.getFontsForString(N,{lang:u||void 0,style:d,weight:p,dataUrl:v}).then(({fontUrls:D,chars:O})=>{const F=b.length;let z=0;S.forEach(B=>{for(let j=0,W=B[1]-B[0];j<=W;j++)y[B[0]+j]=O[z++]+F;z++});let U=0;D.forEach((B,j)=>{a(B,W=>{b[j+F]=W,++U===D.length&&R()})})})}else R()}function R(){s({chars:y,fonts:b})}function I(N,D){for(let O=0;O<D.length;O++){const[F,z=F]=D[O];if(F<=N&&N<=z)return!0}return!1}}}const Lwe=Wg({name:"FontResolver",dependencies:[Owe,Nwe,Dwe],init(t,e,n){return t(e,n())}});function Uwe(t,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",a=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:b,lang:T,fonts:S,style:A,weight:R,preResolvedFonts:I,unicodeFontsURL:N},D){const O=({chars:F,fonts:z})=>{let U,B;const j=[];for(let W=0;W<F.length;W++)F[W]!==B?(B=F[W],j.push(U={start:W,end:W,fontObj:z[F[W]]})):U.end=W;D(j)};I?O(I):t(b,O,{lang:T,fonts:S,style:A,weight:R,unicodeFontsURL:N})}function s({text:b="",font:T,lang:S,sdfGlyphSize:A=64,fontSize:R=400,fontWeight:I=1,fontStyle:N="normal",letterSpacing:D=0,lineHeight:O="normal",maxWidth:F=1/0,direction:z,textAlign:U="left",textIndent:B=0,whiteSpace:j="normal",overflowWrap:W="normal",anchorX:Y=0,anchorY:Q=0,metricsOnly:ae=!1,unicodeFontsURL:X,preResolvedFonts:ne=null,includeCaretPositions:ge=!1,chunkedBoundsSize:pe=8192,colorRanges:de=null},H){const te=p(),ie={fontLoad:0,typesetting:0};b.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),b=b.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),R=+R,D=+D,F=+F,O=O||"normal",B=+B,o({text:b,lang:S,style:N,weight:I,fonts:typeof T=="string"?[{src:T}]:T,unicodeFontsURL:X,preResolvedFonts:ne},ce=>{ie.fontLoad=p()-te;const ye=isFinite(F);let oe=null,le=null,Se=null,he=null,De=null,Fe=null,ve=null,ct=null,Ee=0,Oe=0,Me=j!=="nowrap";const Je=new Map,K=p();let at=B,je=0,Re=new v;const Ve=[Re];ce.forEach(Ce=>{const{fontObj:Te}=Ce,{ascender:ot,descender:it,unitsPerEm:mt,lineGap:xt,capHeight:We,xHeight:Ke}=Te;let et=Je.get(Te);if(!et){const Ye=R/mt,tt=O==="normal"?(ot-it+xt)*Ye:O*R,vt=(tt-(ot-it)*Ye)/2,nt=Math.min(tt,(ot-it)*Ye),Be=(ot+it)/2*Ye+nt/2;et={index:Je.size,src:Te.src,fontObj:Te,fontSizeMult:Ye,unitsPerEm:mt,ascender:ot*Ye,descender:it*Ye,capHeight:We*Ye,xHeight:Ke*Ye,lineHeight:tt,baseline:-vt-ot*Ye,caretTop:Be,caretBottom:Be-nt},Je.set(Te,et)}const{fontSizeMult:ue}=et,we=b.slice(Ce.start,Ce.end+1);let ht,me;Te.forEachGlyph(we,R,D,(Ye,tt,vt,nt)=>{tt+=je,nt+=Ce.start,ht=tt,me=Ye;const Be=b.charAt(nt),lt=Ye.advanceWidth*ue,Et=Re.count;let St;if("isEmpty"in Ye||(Ye.isWhitespace=!!Be&&new RegExp(r).test(Be),Ye.canBreakAfter=!!Be&&a.test(Be),Ye.isEmpty=Ye.xMin===Ye.xMax||Ye.yMin===Ye.yMax||i.test(Be)),!Ye.isWhitespace&&!Ye.isEmpty&&Oe++,Me&&ye&&!Ye.isWhitespace&&tt+lt+at>F&&Et){if(Re.glyphAt(Et-1).glyphObj.canBreakAfter)St=new v,at=-tt;else for(let vn=Et;vn--;)if(vn===0&&W==="break-word"){St=new v,at=-tt;break}else if(Re.glyphAt(vn).glyphObj.canBreakAfter){St=Re.splitAt(vn+1);const wn=St.glyphAt(0).x;at-=wn;for(let Qn=St.count;Qn--;)St.glyphAt(Qn).x-=wn;break}St&&(Re.isSoftWrapped=!0,Re=St,Ve.push(Re),Ee=F)}let Lt=Re.glyphAt(Re.count);Lt.glyphObj=Ye,Lt.x=tt+at,Lt.y=vt,Lt.width=lt,Lt.charIndex=nt,Lt.fontData=et,Be===`
`&&(Re=new v,Ve.push(Re),at=-(tt+lt+D*R)+B)}),je=ht+me.advanceWidth*ue+D*R});let $=0;Ve.forEach(Ce=>{let Te=!0;for(let ot=Ce.count;ot--;){const it=Ce.glyphAt(ot);Te&&!it.glyphObj.isWhitespace&&(Ce.width=it.x+it.width,Ce.width>Ee&&(Ee=Ce.width),Te=!1);let{lineHeight:mt,capHeight:xt,xHeight:We,baseline:Ke}=it.fontData;mt>Ce.lineHeight&&(Ce.lineHeight=mt);const et=Ke-Ce.baseline;et<0&&(Ce.baseline+=et,Ce.cap+=et,Ce.ex+=et),Ce.cap=Math.max(Ce.cap,Ce.baseline+xt),Ce.ex=Math.max(Ce.ex,Ce.baseline+We)}Ce.baseline-=$,Ce.cap-=$,Ce.ex-=$,$+=Ce.lineHeight});let q=0,fe=0;if(Y&&(typeof Y=="number"?q=-Y:typeof Y=="string"&&(q=-Ee*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:c(Y)))),Q&&(typeof Q=="number"?fe=-Q:typeof Q=="string"&&(fe=Q==="top"?0:Q==="top-baseline"?-Ve[0].baseline:Q==="top-cap"?-Ve[0].cap:Q==="top-ex"?-Ve[0].ex:Q==="middle"?$/2:Q==="bottom"?$:Q==="bottom-baseline"?-Ve[Ve.length-1].baseline:c(Q)*$)),!ae){const Ce=e.getEmbeddingLevels(b,z);oe=new Uint16Array(Oe),le=new Uint8Array(Oe),Se=new Float32Array(Oe*2),he={},ve=[1/0,1/0,-1/0,-1/0],ct=[],ge&&(Fe=new Float32Array(b.length*4)),de&&(De=new Uint8Array(Oe*3));let Te=0,ot=-1,it=-1,mt,xt;if(Ve.forEach((We,Ke)=>{let{count:et,width:ue}=We;if(et>0){let we=0;for(let nt=et;nt--&&We.glyphAt(nt).glyphObj.isWhitespace;)we++;let ht=0,me=0;if(U==="center")ht=(Ee-ue)/2;else if(U==="right")ht=Ee-ue;else if(U==="justify"&&We.isSoftWrapped){let nt=0;for(let Be=et-we;Be--;)We.glyphAt(Be).glyphObj.isWhitespace&&nt++;me=(Ee-ue)/nt}if(me||ht){let nt=0;for(let Be=0;Be<et;Be++){let lt=We.glyphAt(Be);const Et=lt.glyphObj;lt.x+=ht+nt,me!==0&&Et.isWhitespace&&Be<et-we&&(nt+=me,lt.width+=me)}}const Ye=e.getReorderSegments(b,Ce,We.glyphAt(0).charIndex,We.glyphAt(We.count-1).charIndex);for(let nt=0;nt<Ye.length;nt++){const[Be,lt]=Ye[nt];let Et=1/0,St=-1/0;for(let Lt=0;Lt<et;Lt++)if(We.glyphAt(Lt).charIndex>=Be){let vn=Lt,wn=Lt;for(;wn<et;wn++){let Qn=We.glyphAt(wn);if(Qn.charIndex>lt)break;wn<et-we&&(Et=Math.min(Et,Qn.x),St=Math.max(St,Qn.x+Qn.width))}for(let Qn=vn;Qn<wn;Qn++){const nr=We.glyphAt(Qn);nr.x=St-(nr.x+nr.width-Et)}break}}let tt;const vt=nt=>tt=nt;for(let nt=0;nt<et;nt++){const Be=We.glyphAt(nt);tt=Be.glyphObj;const lt=tt.index,Et=Ce.levels[Be.charIndex]&1;if(Et){const St=e.getMirroredCharacter(b[Be.charIndex]);St&&Be.fontData.fontObj.forEachGlyph(St,0,0,vt)}if(ge){const{charIndex:St,fontData:Lt}=Be,vn=Be.x+q,wn=Be.x+Be.width+q;Fe[St*4]=Et?wn:vn,Fe[St*4+1]=Et?vn:wn,Fe[St*4+2]=We.baseline+Lt.caretBottom+fe,Fe[St*4+3]=We.baseline+Lt.caretTop+fe;const Qn=St-ot;Qn>1&&d(Fe,ot,Qn),ot=St}if(de){const{charIndex:St}=Be;for(;St>it;)it++,de.hasOwnProperty(it)&&(xt=de[it])}if(!tt.isWhitespace&&!tt.isEmpty){const St=Te++,{fontSizeMult:Lt,src:vn,index:wn}=Be.fontData,Qn=he[vn]||(he[vn]={});Qn[lt]||(Qn[lt]={path:tt.path,pathBounds:[tt.xMin,tt.yMin,tt.xMax,tt.yMax]});const nr=Be.x+q,Jr=Be.y+We.baseline+fe;Se[St*2]=nr,Se[St*2+1]=Jr;const xr=nr+tt.xMin*Lt,Sr=Jr+tt.yMin*Lt,pa=nr+tt.xMax*Lt,ai=Jr+tt.yMax*Lt;xr<ve[0]&&(ve[0]=xr),Sr<ve[1]&&(ve[1]=Sr),pa>ve[2]&&(ve[2]=pa),ai>ve[3]&&(ve[3]=ai),St%pe===0&&(mt={start:St,end:St,rect:[1/0,1/0,-1/0,-1/0]},ct.push(mt)),mt.end++;const $n=mt.rect;if(xr<$n[0]&&($n[0]=xr),Sr<$n[1]&&($n[1]=Sr),pa>$n[2]&&($n[2]=pa),ai>$n[3]&&($n[3]=ai),oe[St]=lt,le[St]=wn,de){const zn=St*3;De[zn]=xt>>16&255,De[zn+1]=xt>>8&255,De[zn+2]=xt&255}}}}}),Fe){const We=b.length-ot;We>1&&d(Fe,ot,We)}}const Le=[];Je.forEach(({index:Ce,src:Te,unitsPerEm:ot,ascender:it,descender:mt,lineHeight:xt,capHeight:We,xHeight:Ke})=>{Le[Ce]={src:Te,unitsPerEm:ot,ascender:it,descender:mt,lineHeight:xt,capHeight:We,xHeight:Ke}}),ie.typesetting=p()-K,H({glyphIds:oe,glyphFontIndices:le,glyphPositions:Se,glyphData:he,fontData:Le,caretPositions:Fe,glyphColors:De,chunkedBounds:ct,fontSize:R,topBaseline:fe+Ve[0].baseline,blockBounds:[q,fe-$,q+Ee,fe],visibleBounds:ve,timings:ie})})}function u(b,T){s({...b,metricsOnly:!0},S=>{const[A,R,I,N]=S.blockBounds;T({width:I-A,height:N-R})})}function c(b){let T=b.match(/^([\d.]+)%$/),S=T?parseFloat(T[1]):NaN;return isNaN(S)?0:S/100}function d(b,T,S){const A=b[T*4],R=b[T*4+1],I=b[T*4+2],N=b[T*4+3],D=(R-A)/S;for(let O=0;O<S;O++){const F=(T+O)*4;b[F]=A+D*O,b[F+1]=A+D*(O+1),b[F+2]=I,b[F+3]=N}}function p(){return(self.performance||Date).now()}function v(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return v.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(b){let T=v.flyweight;return T.data=this.data,T.index=b,T},splitAt(b){let T=new v;return T.data=this.data.splice(b*y.length),T}},v.flyweight=y.reduce((b,T,S,A)=>(Object.defineProperty(b,T,{get(){return this.data[this.index*y.length+S]},set(R){this.data[this.index*y.length+S]=R}}),b),{data:null,index:0}),{typeset:s,measure:u}}const Zh=()=>(self.performance||Date).now(),cA=H7();let IB;function Fwe(t,e,n,i,r,a,o,s,u,c,d=!0){return d?Bwe(t,e,n,i,r,a,o,s,u,c).then(null,p=>(IB||(console.warn("WebGL SDF generation failed, falling back to JS",p),IB=!0),NB(t,e,n,i,r,a,o,s,u,c))):NB(t,e,n,i,r,a,o,s,u,c)}const IS=[],kwe=5;let SI=0;function W7(){const t=Zh();for(;IS.length&&Zh()-t<kwe;)IS.shift()();SI=IS.length?setTimeout(W7,0):0}const Bwe=(...t)=>new Promise((e,n)=>{IS.push(()=>{const i=Zh();try{cA.webgl.generateIntoCanvas(...t),e({timing:Zh()-i})}catch(r){n(r)}}),SI||(SI=setTimeout(W7,0))}),zwe=4,Gwe=2e3,PB={};let Vwe=0;function NB(t,e,n,i,r,a,o,s,u,c){const d="TroikaTextSDFGenerator_JS_"+Vwe++%zwe;let p=PB[d];return p||(p=PB[d]={workerModule:Wg({name:d,workerId:d,dependencies:[H7,Zh],init(v,y){const b=v().javascript.generate;return function(...T){const S=y();return{textureData:b(...T),timing:y()-S}}},getTransferables(v){return[v.textureData.buffer]}}),requests:0,idleTimer:null}),p.requests++,clearTimeout(p.idleTimer),p.workerModule(t,e,n,i,r,a).then(({textureData:v,timing:y})=>{const b=Zh(),T=new Uint8Array(v.length*4);for(let S=0;S<v.length;S++)T[S*4+c]=v[S];return cA.webglUtils.renderImageData(o,T,s,u,t,e,1<<3-c),y+=Zh()-b,--p.requests===0&&(p.idleTimer=setTimeout(()=>{_we(d)},Gwe)),{timing:y}})}function Hwe(t){t._warm||(cA.webgl.isSupported(t),t._warm=!0)}const qwe=cA.webglUtils.resizeWebGLCanvasWithoutClearing,W0={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Wwe=new Ct;function jm(){return(self.performance||Date).now()}const DB=Object.create(null);function j7(t,e){t=Ywe({},t);const n=jm(),i=[];if(t.font&&i.push({label:"user",src:$we(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||W0.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||W0.unicodeFontsURL,t.colorRanges!=null){let v={};for(let y in t.colorRanges)if(t.colorRanges.hasOwnProperty(y)){let b=t.colorRanges[y];typeof b!="number"&&(b=Wwe.set(b).getHex()),v[y]=b}t.colorRanges=v}Object.freeze(t);const{textureWidth:r,sdfExponent:a}=W0,{sdfGlyphSize:o}=t,s=r/o*4;let u=DB[o];if(!u){const v=document.createElement("canvas");v.width=r,v.height=o*256/s,u=DB[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:v,sdfTexture:new Qi(v,void 0,void 0,void 0,mi,mi),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,jwe(u)}const{sdfTexture:c,sdfCanvas:d}=u;$7(t).then(v=>{const{glyphIds:y,glyphFontIndices:b,fontData:T,glyphPositions:S,fontSize:A,timings:R}=v,I=[],N=new Float32Array(y.length*4);let D=0,O=0;const F=jm(),z=T.map(Y=>{let Q=u.glyphsByFont.get(Y.src);return Q||u.glyphsByFont.set(Y.src,Q=new Map),Q});y.forEach((Y,Q)=>{const ae=b[Q],{src:X,unitsPerEm:ne}=T[ae];let ge=z[ae].get(Y);if(!ge){const{path:ie,pathBounds:ce}=v.glyphData[X][Y],ye=Math.max(ce[2]-ce[0],ce[3]-ce[1])/o*(W0.sdfMargin*o+.5),oe=u.glyphCount++,le=[ce[0]-ye,ce[1]-ye,ce[2]+ye,ce[3]+ye];z[ae].set(Y,ge={path:ie,atlasIndex:oe,sdfViewBox:le}),I.push(ge)}const{sdfViewBox:pe}=ge,de=S[O++],H=S[O++],te=A/ne;N[D++]=de+pe[0]*te,N[D++]=H+pe[1]*te,N[D++]=de+pe[2]*te,N[D++]=H+pe[3]*te,y[Q]=ge.atlasIndex}),R.quads=(R.quads||0)+(jm()-F);const U=jm();R.sdf={};const B=d.height,j=Math.ceil(u.glyphCount/s),W=Math.pow(2,Math.ceil(Math.log2(j*o)));W>B&&(console.info(`Increasing SDF texture size ${B}->${W}`),qwe(d,r,W),c.dispose()),Promise.all(I.map(Y=>X7(Y,u,t.gpuAccelerateSDF).then(({timing:Q})=>{R.sdf[Y.atlasIndex]=Q}))).then(()=>{I.length&&!u.contextLost&&(Y7(u),c.needsUpdate=!0),R.sdfTotal=jm()-U,R.total=jm()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:o,sdfExponent:a,glyphBounds:N,glyphAtlasIndices:y,glyphColors:v.glyphColors,caretPositions:v.caretPositions,chunkedBounds:v.chunkedBounds,ascender:v.ascender,descender:v.descender,lineHeight:v.lineHeight,capHeight:v.capHeight,xHeight:v.xHeight,topBaseline:v.topBaseline,blockBounds:v.blockBounds,visibleBounds:v.visibleBounds,timings:v.timings}))})}),Promise.resolve().then(()=>{u.contextLost||Hwe(d)})}function X7({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:i,sdfCanvas:r,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:u}=W0,c=Math.max(n[2]-n[0],n[3]-n[1]),d=Math.floor(e/4),p=d%(s/i)*i,v=Math.floor(d/(s/i))*i,y=e%4;return Fwe(i,i,t,n,c,u,r,p,v,y,o)}function jwe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const i=[];t.glyphsByFont.forEach(r=>{r.forEach(a=>{i.push(X7(a,t,!0))})}),Promise.all(i).then(()=>{Y7(t),t.sdfTexture.needsUpdate=!0})})}function Xwe({font:t,characters:e,sdfGlyphSize:n},i){let r=Array.isArray(e)?e.join(`
`):""+e;j7({font:t,sdfGlyphSize:n,text:r},i)}function Ywe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let dS;function $we(t){return dS||(dS=typeof document>"u"?{}:document.createElement("a")),dS.href=t,dS.href}function Y7(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:i,height:r}=e,a=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),n.image={width:i,height:r,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,i,r,a.RGBA,a.UNSIGNED_BYTE,o)}}const Kwe=Wg({name:"Typesetter",dependencies:[Uwe,Lwe,xwe],init(t,e,n){return t(e,n())}}),$7=Wg({name:"Typesetter",dependencies:[Kwe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});$7.onMainThread;const OB={};function Jwe(t){let e=OB[t];return e||(e=OB[t]=new mf(1,1,t,t).translate(.5,.5,0)),e}const Zwe="aTroikaGlyphBounds",LB="aTroikaGlyphIndex",Qwe="aTroikaGlyphColor";class eCe extends lD{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ca,this.boundingBox=new ua}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Jwe(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=n.attributes[i].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,i,r,a){this.updateAttributeData(Zwe,e,4),this.updateAttributeData(LB,n,1),this.updateAttributeData(Qwe,a,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:i}=this;if(n){const{PI:r,floor:a,min:o,max:s,sin:u,cos:c}=Math,d=r/2,p=r*2,v=Math.abs(n),y=e[0]/v,b=e[2]/v,T=a((y+d)/p)!==a((b+d)/p)?-v:o(u(y)*v,u(b)*v),S=a((y-d)/p)!==a((b-d)/p)?v:s(u(y)*v,u(b)*v),A=a((y+r)/p)!==a((b+r)/p)?v*2:s(v-c(y)*v,v-c(b)*v);i.min.set(T,e[1],n<0?-A:0),i.max.set(S,e[3],n<0?0:A)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(LB).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){n=i[r].end;let a=i[r].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,i){const r=this.getAttribute(e);n?r&&r.array.length===n.length?(r.array.set(n),r.needsUpdate=!0):(this.setAttribute(e,new lp(n,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const tCe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,nCe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,iCe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,rCe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function aCe(t){const e=xI(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new st},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ri(0,0,0,0)},uTroikaClipRect:{value:new ri(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new st},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Ct},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new un},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:tCe,vertexTransform:nCe,fragmentDefs:iCe,fragmentColorTransform:rCe,customRewriter({vertexShader:n,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(n)||(n=n.replace(q7,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const yD=new pf({color:16777215,side:Vl,transparent:!0}),UB=8421504,FB=new en,hS=new se,OC=new se,U0=[],oCe=new se,LC="+x+y";function kB(t){return Array.isArray(t)?t[0]:t}let K7=()=>{const t=new er(new mf(1,1),yD);return K7=()=>t,t},J7=()=>{const t=new er(new mf(1,1,32,1),yD);return J7=()=>t,t};const sCe={type:"syncstart"},lCe={type:"synccomplete"},Z7=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],uCe=Z7.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Q7=class extends er{constructor(){const e=new eCe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=UB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=LC,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(sCe),j7({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(lCe),e&&e()})))}onBeforeRender(e,n,i,r,a,o){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return aCe(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=yD.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function i(){n.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return kB(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return kB(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:s,blockBounds:u}=r;i.uTroikaSDFTexture.value=s,i.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(u),i.uTroikaUseGlyphColors.value=!n&&!!r.glyphColors;let c=0,d=0,p=0,v,y,b,T=0,S=0;if(n){let{outlineWidth:R,outlineOffsetX:I,outlineOffsetY:N,outlineBlur:D,outlineOpacity:O}=this;c=this._parsePercent(R)||0,d=Math.max(0,this._parsePercent(D)||0),v=O,T=this._parsePercent(I)||0,S=this._parsePercent(N)||0}else p=Math.max(0,this._parsePercent(this.strokeWidth)||0),p&&(b=this.strokeColor,i.uTroikaStrokeColor.value.set(b??UB),y=this.strokeOpacity,y==null&&(y=1)),v=this.fillOpacity;i.uTroikaEdgeOffset.value=c,i.uTroikaPositionOffset.value.set(T,S),i.uTroikaBlurRadius.value=d,i.uTroikaStrokeWidth.value=p,i.uTroikaStrokeOpacity.value=y,i.uTroikaFillOpacity.value=v??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)i.uTroikaClipRect.value.fromArray(A);else{const R=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(u[0]-R,u[1]-R,u[2]+R,u[3]+R)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new Ct;(a!==s._input||typeof a=="object")&&s.set(s._input=a)}let o=this.orientation||LC;if(o!==e._orientation){let s=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let u=o!==LC&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,c,d,p,v]=u;hS.set(0,0,0)[d]=c==="-"?1:-1,OC.set(0,0,0)[v]=p==="-"?-1:1,FB.lookAt(oCe,hS.cross(OC),OC),s.setFromMatrix4(FB)}else s.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),i=n?parseFloat(n[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new st){n.copy(e);const i=this.curveRadius;return i&&(n.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),n}worldPositionToTextCoords(e,n=new st){return hS.copy(e),this.localPositionToTextCoords(this.worldToLocal(hS),n)}raycast(e,n){const{textRenderInfo:i,curveRadius:r}=this;if(i){const a=i.blockBounds,o=r?J7():K7(),s=o.geometry,{position:u,uv:c}=s.attributes;for(let d=0;d<c.count;d++){let p=a[0]+c.getX(d)*(a[2]-a[0]);const v=a[1]+c.getY(d)*(a[3]-a[1]);let y=0;r&&(y=r-Math.cos(p/r)*r,p=Math.sin(p/r)*r),u.setXYZ(d,p,v,y)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,U0.length=0,o.raycast(e,U0);for(let d=0;d<U0.length;d++)U0[d].object=this,n.push(U0[d])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,uCe.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};Z7.forEach(t=>{const e="_private_"+t;Object.defineProperty(Q7.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new ua;new Ct;const cCe=G.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:i,fontSize:r=1,children:a,characters:o,onSync:s,...u},c)=>{const d=Uc(({invalidate:b})=>b),[p]=G.useState(()=>new Q7),[v,y]=G.useMemo(()=>{const b=[];let T="";return G.Children.forEach(a,S=>{typeof S=="string"||typeof S=="number"?T+=S:b.push(S)}),[b,T]},[a]);return aMe(()=>new Promise(b=>Xwe({font:i,characters:o},b)),["troika-text",i,o]),G.useLayoutEffect(()=>void p.sync(()=>{d(),s&&s(p)})),G.useEffect(()=>()=>p.dispose(),[p]),G.createElement("primitive",AE({object:p,ref:c,font:i,text:y,anchorX:e,anchorY:n,fontSize:r,sdfGlyphSize:t},u),v)}),fCe=()=>parseInt(u_.replace(/\D+/g,"")),dCe=fCe(),hCe=G.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:u,...c},d)=>{const p=Uc(O=>O.invalidate),v=Uc(O=>O.camera),y=Uc(O=>O.gl),b=Uc(O=>O.events),T=Uc(O=>O.setEvents),S=Uc(O=>O.set),A=Uc(O=>O.get),R=Uc(O=>O.performance),I=e||v,N=i||b.connected||y.domElement,D=G.useMemo(()=>new pwe(I),[I]);return lA(()=>{D.enabled&&D.update()},-1),G.useEffect(()=>(a&&D.connect(a===!0?N:a),D.connect(N),()=>void D.dispose()),[a,N,n,D,p]),G.useEffect(()=>{const O=U=>{p(),n&&R.regress(),o&&o(U)},F=U=>{s&&s(U)},z=U=>{u&&u(U)};return D.addEventListener("change",O),D.addEventListener("start",F),D.addEventListener("end",z),()=>{D.removeEventListener("start",F),D.removeEventListener("end",z),D.removeEventListener("change",O)}},[o,s,u,D,p,T]),G.useEffect(()=>{if(t){const O=A().controls;return S({controls:D}),()=>S({controls:O})}},[t,D]),G.createElement("primitive",AE({ref:d,object:D,enableDamping:r},c))}),pCe=G.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:a=[-.1,.1],autoInvalidate:o=!1,...s},u)=>{const c=G.useRef(null);G.useImperativeHandle(u,()=>c.current,[]);const d=G.useRef(Math.random()*1e4);return lA(p=>{var v,y;if(!e||n===0)return;o&&p.invalidate();const b=d.current+p.clock.elapsedTime;c.current.rotation.x=Math.cos(b/4*n)/8*i,c.current.rotation.y=Math.sin(b/4*n)/8*i,c.current.rotation.z=Math.sin(b/4*n)/20*i;let T=Math.sin(b/4*n)/10;T=y9.mapLinear(T,-.1,.1,(v=a==null?void 0:a[0])!==null&&v!==void 0?v:-.1,(y=a==null?void 0:a[1])!==null&&y!==void 0?y:.1),c.current.position.y=T*r,c.current.updateMatrix()}),G.createElement("group",s,G.createElement("group",{ref:c,matrixAutoUpdate:!1},t))});class mCe extends Es{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${dCe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const gCe=t=>new se().setFromSpherical(new bE(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),vCe=G.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:i=0,factor:r=4,fade:a=!1,speed:o=1},s)=>{const u=G.useRef(null),[c,d,p]=G.useMemo(()=>{const y=[],b=[],T=Array.from({length:n},()=>(.5+.5*Math.random())*r),S=new Ct;let A=t+e;const R=e/n;for(let I=0;I<n;I++)A-=R*Math.random(),y.push(...gCe(A).toArray()),S.setHSL(I/n,i,.9),b.push(S.r,S.g,S.b);return[new Float32Array(y),new Float32Array(b),new Float32Array(T)]},[n,e,r,t,i]);lA(y=>u.current&&(u.current.uniforms.time.value=y.clock.elapsedTime*o));const[v]=G.useState(()=>new mCe);return G.createElement("points",{ref:s},G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),G.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3]}),G.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]})),G.createElement("primitive",{ref:u,object:v,attach:"material",blending:w1,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),yCe=({text:t,position:e,onClick:n})=>{const[i,r]=G.useState(!1);return lA(a=>{}),re.jsx(pCe,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:re.jsx(cCe,{position:e,fontSize:i?.8:.5,color:i?"#60a5fa":"#94a3b8",anchorX:"center",anchorY:"middle",onPointerOver:()=>{document.body.style.cursor="pointer",r(!0)},onPointerOut:()=>{document.body.style.cursor="auto",r(!1)},onClick:()=>n(t),children:t})})},_Ce=({tags:t,onTagClick:e})=>{const n=G.useMemo(()=>{const i=[],r=Math.PI*(3-Math.sqrt(5));for(let a=0;a<t.length;a++){const o=1-a/(t.length-1)*2,s=Math.sqrt(1-o*o),u=r*a,c=Math.cos(u)*s,d=Math.sin(u)*s,p=8;i.push({position:[c*p,o*p,d*p],text:t[a]})}return i},[t]);return re.jsx("group",{children:n.map((i,r)=>re.jsx(yCe,{text:i.text,position:i.position,onClick:e},r))})},bCe=({history:t})=>{const e=wg(),n=G.useMemo(()=>{const r=new Set;return t.forEach(a=>{a.audit.banderas_rojas&&a.audit.banderas_rojas.forEach(u=>{u&&u.length>2&&u.length<40&&u!==a.title&&r.add(u)});const o=a.audit.tipologia;o&&o.length>2&&o.length<40&&o!==a.title&&r.add(o);const s=a.audit.comunidad_autonoma;s&&s.length>2&&s.length<40&&r.add(s)}),Array.from(r)},[t]),i=r=>{e(`/history?tag=${encodeURIComponent(r)}`)};return n.length===0?re.jsx("div",{className:"h-[600px] flex items-center justify-center text-slate-500",children:"No hay suficientes datos para generar la nube de etiquetas 3D."}):re.jsxs("div",{className:"h-[80vh] w-full bg-slate-900/20 rounded-3xl border border-slate-800 overflow-hidden relative",children:[re.jsxs("div",{className:"absolute top-4 left-4 z-10 bg-slate-900/80 p-4 rounded-xl backdrop-blur-md border border-slate-700",children:[re.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Universo de Opacidad"}),re.jsx("p",{className:"text-xs text-slate-400",children:"Navega por los conceptos detectados en el BOE"}),re.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"Arrastra para rotar  Rueda para zoom"})]}),re.jsxs(owe,{dpr:[1,2],camera:{position:[0,0,15],fov:60},children:[re.jsx("fog",{attach:"fog",args:["#020617",0,40]}),re.jsx("ambientLight",{intensity:.5}),re.jsx("pointLight",{position:[10,10,10]}),re.jsx(vCe,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),re.jsx(_Ce,{tags:n,onTagClick:i}),re.jsx(hCe,{autoRotate:!0,autoRotateSpeed:.5,enablePan:!1})]})]})},xCe=()=>{const[t,e]=G.useState(()=>localStorage.getItem("boe_pref_lang")||"es"),[n,i]=G.useState(()=>localStorage.getItem("boe_agent_session")==="active"),[r,a]=G.useState(!1),[o,s]=G.useState(""),[u,c]=G.useState(!1),[d,p]=G.useState(""),[v,y]=G.useState([]),[b,T]=G.useState(!1),[S,A]=G.useState([]),[R,I]=G.useState(!1),N=wg(),D=sf(),[O,F]=G.useState({loading:!1,error:null,result:null,scrapingResults:void 0,isScraping:!1}),z=Pg[t],U="test1234X";G.useEffect(()=>{localStorage.setItem("boe_pref_lang",t)},[t]),G.useEffect(()=>{j(),B()},[]);const B=async()=>{I(!0);const ie=new Date().toISOString().slice(0,10).replace(/-/g,""),ce=new Date(Date.now()-864e5).toISOString().slice(0,10).replace(/-/g,""),ye=[`https://www.boe.es/datosabiertos/api/boe/sumario/${ie}`,`https://www.boe.es/datosabiertos/api/boe/sumario/${ce}`,"https://www.boe.es/diario_boe/xml.php"];let oe=[];for(const le of ye){if(oe.length>0)break;try{console.log(` Try fetching BOE from: ${le}`);const Se=await fetch(le,{headers:{Accept:"application/xml","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AuditoriaCvica/1.0"}});if(!Se.ok)continue;const he=await Se.text(),ve=new DOMParser().parseFromString(he,"text/xml").querySelectorAll("item");if(ve.length===0)continue;oe=Array.from(ve).map(ct=>{var je,Re,Ve,$;const Ee=ct.getAttribute("id")||((je=ct.querySelector("identificador"))==null?void 0:je.textContent)||"",Oe=((Re=ct.querySelector("titulo"))==null?void 0:Re.textContent)||"Sin ttulo",Me=ct.closest("departamento"),Je=(Me==null?void 0:Me.getAttribute("nombre"))||((Ve=Me==null?void 0:Me.querySelector("nombre"))==null?void 0:Ve.textContent)||"Varios",K=ct.closest("seccion"),at=(K==null?void 0:K.getAttribute("nombre"))||(($=K==null?void 0:K.querySelector("nombre"))==null?void 0:$.textContent)||"I";return{id:Ee,titulo:Oe,departamento:Je,seccion:at}})}catch(Se){console.warn(`Failed to fetch from ${le}:`,Se)}}oe.length>0?A(oe):(console.warn("Using sources as fallback"),A(OY.map(le=>({id:le.id,titulo:le.title,departamento:le.category,seccion:"I"})))),I(!1)},j=async()=>{const ie=await uie();y(ie),T(!0)},W=()=>{window.confirm(z.confirmClear)&&(cie(),y([]))},Y=()=>e(ie=>ie==="es"?"en":"es"),Q=()=>{o===U?(i(!0),localStorage.setItem("boe_agent_session","active"),c(!1),a(!1)):(c(!0),setTimeout(()=>c(!1),3e3))},ae=()=>{i(!1),localStorage.removeItem("boe_agent_session"),pe()},X=ie=>{N(`/audit/${ie}`)},ne=async(ie,ce)=>{const ye=v.find(oe=>oe.boeId===ie);if(ye){p(ie),F(oe=>({...oe,loading:!1,error:null,result:ye.audit}));return}if(!n){a(!0);return}p(ie),F(oe=>({...oe,loading:!0,error:null,result:null,scrapingResults:void 0}));try{let oe="",le=ce||(t==="es"?"Documento BOE":"Gazette Document");try{const he=await fetch(`https://www.boe.es/diario_boe/xml.php?id=${ie}`);if(!he.ok)throw new Error("CORS Blocked");oe=await he.text();const ve=new DOMParser().parseFromString(oe,"text/xml").querySelector("titulo");ve&&(le=ve.textContent||le)}catch{oe=`<boe><diario id="BOE-S-2024"><titulo>BOE</titulo><item id="${ie}"><titulo>${le}</titulo><texto>Contenido simulado para auditora...</texto></item></diario></boe>`}const Se=await $te(oe,t);await B0(ie,le,Se),await j(),F(he=>({...he,loading:!1,error:null,result:Se}))}catch(oe){F(le=>({...le,loading:!1,error:oe.message||"Error during analysis"}))}},ge=async ie=>{try{if(Array.isArray(ie))for(const ce of ie)ce.boeId&&ce.title&&ce.audit&&await B0(ce.boeId,ce.title,ce.audit);else if(ie.boe_id&&ie.report)await B0(ie.boe_id,ie.title||ie.boe_id,ie.report);else if(ie.boeId&&ie.audit)await B0(ie.boeId,ie.title||ie.boeId,ie.audit);else throw new Error("Invalid Format");await j(),alert(z.importSuccess)}catch(ce){console.error("Import failed",ce),alert(z.importError)}},pe=()=>{F({loading:!1,error:null,result:null,scrapingResults:void 0,isScraping:!1}),p("")},de=()=>D.pathname==="/"?"home":D.pathname==="/history"?"history":D.pathname==="/tags"?"tags":D.pathname.startsWith("/audit/")?"audit":"home",H=ie=>v.some(ce=>ce.boeId===ie),te=()=>re.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-300",children:re.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-[2.5rem] shadow-2xl text-center space-y-8 relative animate-in zoom-in duration-300",children:[re.jsx("button",{onClick:()=>a(!1),className:"absolute top-6 right-6 text-slate-500 hover:text-white transition-colors",children:re.jsx(lz,{size:24})}),re.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-600/10 rounded-3xl border border-blue-600/20 text-blue-500 mb-2 rotate-3",children:re.jsx(lY,{size:40})}),re.jsxs("div",{className:"space-y-3",children:[re.jsx("h2",{className:"text-3xl font-black text-white",children:z.loginTitle}),re.jsx("p",{className:"text-slate-400 text-sm",children:z.loginSubtitle})]}),re.jsxs("div",{className:"space-y-4",children:[re.jsxs("div",{className:"relative group",children:[re.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors",children:re.jsx(aY,{size:18})}),re.jsx("input",{type:"password",placeholder:z.passwordPlaceholder,value:o,onChange:ie=>s(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&Q(),className:`w-full bg-slate-950/50 border ${u?"border-red-500 animate-shake":"border-slate-800 group-hover:border-slate-700 focus:border-blue-500"} rounded-2xl py-4 pl-12 pr-4 outline-none text-white transition-all font-mono`,autoFocus:!0}),u&&re.jsx("p",{className:"text-[10px] text-red-400 mt-2 text-left font-medium",children:z.invalidPassword})]}),re.jsxs("button",{onClick:Q,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-bold text-lg shadow-xl shadow-blue-900/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2 group",children:[re.jsx(gS,{size:20,className:"group-hover:scale-110 transition-transform"}),z.loginBtn]})]})]})});return re.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 selection:bg-blue-500/30",children:[re.jsx(hie,{}),re.jsx(die,{currentView:de(),resetState:pe,lang:t,toggleLang:Y,isLoggedIn:n,handleLogout:ae,setShowLogin:a,t:z}),re.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-4 pb-16 md:pt-4 md:pb-24 mt-20 md:mt-24",children:[D.pathname==="/"&&re.jsxs("header",{className:"mb-12 text-center relative",children:[re.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-900/30 px-4 py-2 rounded-full border border-blue-500/30 text-blue-400 mb-6",children:[re.jsx(IY,{size:16}),re.jsxs("span",{className:"text-sm font-bold tracking-widest uppercase",children:["Agent #0412  ",z.badge]})]}),re.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-4 bg-gradient-to-r from-white via-slate-400 to-slate-600 bg-clip-text text-transparent",children:z.title}),re.jsx("p",{className:"text-slate-400 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed",children:z.subtitle})]}),re.jsxs(Wj,{children:[re.jsx(F0,{path:"/",element:re.jsxs("div",{className:"space-y-16 animate-in fade-in duration-500",children:[re.jsx(TS,{title:z.title+" - "+z.subtitle,description:"Plataforma de auditora ciudadana del BOE utilizando inteligencia artificial para detectar opacidad y red flags.",keywords:["BOE","Auditora","Transparencia","IA","Civic Tech","Espaa","Leyes"]}),re.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[re.jsxs("section",{className:"space-y-6",children:[re.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800 pb-4",children:[re.jsxs("div",{children:[re.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-white",children:[re.jsx(T3,{className:"text-red-500 animate-pulse",size:24}),z.latestRadarTitle]}),re.jsx("p",{className:"text-slate-500 text-xs font-medium uppercase tracking-widest",children:z.latestRadarSubtitle})]}),re.jsxs("div",{className:"flex items-center gap-2",children:[re.jsxs("button",{onClick:()=>B(),disabled:R,className:"p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-300 transition-all flex items-center gap-2 text-xs font-bold border border-slate-700 disabled:opacity-50",title:z.refreshBtn,children:[re.jsx(T3,{size:14,className:R?"animate-pulse":""}),z.refreshBtn]}),R&&re.jsx(fz,{className:"animate-spin text-slate-500",size:20})]})]}),re.jsx("div",{className:"space-y-3 max-h-[700px] overflow-y-auto pr-2 custom-scrollbar",children:S.map(ie=>{const ce=H(ie.id);return re.jsxs("div",{className:`bg-slate-900/40 border p-4 rounded-2xl transition-all flex flex-col justify-between group relative overflow-hidden ${ce?"border-emerald-500/20":"border-slate-800 hover:border-blue-500/30"}`,children:[ce&&re.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 bg-emerald-900/40 text-emerald-400 px-2 py-0.5 rounded text-[9px] font-bold border border-emerald-500/30",children:[re.jsx(OX,{size:10}),z.alreadyAudited]}),re.jsxs("div",{children:[re.jsx("span",{className:"text-[10px] font-mono text-slate-500 block mb-1",children:ie.departamento}),re.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-2 leading-snug group-hover:text-white",children:ie.titulo})]}),re.jsxs("div",{className:"flex items-center justify-between mt-4",children:[re.jsxs("a",{href:`https://www.boe.es/buscar/doc.php?id=${ie.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-600 font-mono hover:text-blue-400 transition-colors flex items-center gap-1",children:[ie.id," ",re.jsx(CI,{size:10})]}),(n||ce)&&re.jsxs(CE,{to:`/audit/${ie.id}`,className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${ce?"bg-emerald-600/10 text-emerald-400 border border-emerald-600/20 hover:bg-emerald-600 hover:text-white":"bg-blue-600/10 text-blue-400 border border-blue-600/20 hover:bg-blue-600 hover:text-white"}`,children:[re.jsx(GC,{size:10}),ce?z.goToAudit:z.auditWithGemini]})]})]},ie.id)})})]}),re.jsx("section",{className:"space-y-8 flex flex-col",children:re.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 p-8 rounded-3xl shadow-2xl flex-1 flex flex-col justify-center gap-8",children:[re.jsxs("div",{className:"text-center space-y-4",children:[re.jsx("div",{className:"w-16 h-16 bg-blue-600/10 rounded-2xl border border-blue-600/20 flex items-center justify-center mx-auto text-blue-500 shadow-xl shadow-blue-900/10",children:re.jsx(hz,{size:32})}),re.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"Bsqueda Inteligente"}),re.jsx("p",{className:"text-slate-500 text-sm max-w-xs mx-auto",children:"Introduce el identificador del BOE para realizar una auditora instantnea."})]}),re.jsxs("div",{className:"flex flex-col gap-3",children:[re.jsx("input",{type:"text",placeholder:z.searchPlaceholder,className:"w-full bg-slate-950 border border-slate-800 rounded-2xl py-5 px-6 outline-none text-white text-lg focus:border-blue-500 transition-all font-mono placeholder:text-slate-700",value:d,onChange:ie=>p(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&d&&X(d)}),re.jsx("button",{onClick:()=>X(d),disabled:!d,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:bg-slate-800 disabled:text-slate-600 text-white py-5 rounded-2xl font-black text-xl transition-all transform active:scale-[0.98] shadow-2xl shadow-blue-900/20",children:z.analyzeBtn})]})]})})]})]})}),re.jsx(F0,{path:"/history",element:re.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[re.jsx(TS,{title:`${z.historyTitle} - ${z.title}`,description:"Historial de auditoras y anlisis de transparencia de documentos del Boletn Oficial del Estado (BOE).",keywords:["BOE","Historial","Auditoras","Transparencia","Archivo"]}),re.jsxs("div",{className:"border-b border-slate-800 pb-6 flex items-center justify-between",children:[re.jsxs("div",{children:[re.jsxs("h2",{className:"text-3xl font-black flex items-center gap-3 text-white",children:[re.jsx(BC,{className:"text-purple-500",size:32}),z.historyTitle]}),re.jsx("p",{className:"text-slate-500 text-sm font-medium uppercase tracking-widest mt-1",children:z.historySubtitle})]}),v.length>0&&re.jsxs("span",{className:"bg-purple-950/40 text-purple-400 px-4 py-1.5 rounded-full text-xs font-bold border border-purple-900/50",children:[v.length," Auditoras"]})]}),re.jsx("div",{className:"bg-slate-900/20 border border-slate-800 rounded-3xl min-h-[500px]",children:v.length===0?re.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-slate-600 opacity-40 italic text-sm",children:[re.jsx(YX,{size:64,className:"mb-6"}),"No hay auditoras procesadas an"]}):re.jsx(fie,{history:v,onClear:W,onImport:ge,lang:t,isLoggedIn:n})})]})}),re.jsx(F0,{path:"/tags",element:re.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[re.jsx(TS,{title:`${z.tagsTitle||"Universo 3D"} - ${z.title}`,description:"Visualizacin 3D interactiva de los conceptos y banderas rojas detectados en el BOE.",keywords:["BOE","3D","Visualizacin","Datos","React Three Fiber"]}),re.jsx(bCe,{history:v})]})}),re.jsx(F0,{path:"/audit/:boeId",element:re.jsx(mye,{performAudit:ne,state:O,t:z,isLoggedIn:n,searchId:d,lang:t,resetState:pe,history:v,isHistoryLoaded:b})})]}),re.jsx("footer",{className:"mt-24 pt-12 border-t border-slate-800 text-center text-slate-500 text-sm",children:re.jsxs("p",{children:[" 2024 Civic Intelligence Auditor. ",z.footerDesc]})}),r&&re.jsx(te,{})]})]})},eW=document.getElementById("root");if(!eW)throw new Error("Could not find root element to mount to");const SCe=XW.createRoot(eW);SCe.render(re.jsx(Ul.StrictMode,{children:re.jsx(gX,{basename:"/",children:re.jsx(xCe,{})})}));
